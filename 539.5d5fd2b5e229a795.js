"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[539],{5539:function(bn,j,d){d.r(j),d.d(j,{SlormReaperModule:function(){return vn}});var L=d(3144),k=d(5671),F=d(9808),re=d(2271),D=d(1083),V=d(7685),ae=d(136),ie=d(7777),C=d(3075),oe=d(6446),ce=d(2763),ue=d(2424),M=d(2107),se=d(5351),le=d(3790),fe=d(7757),h=d.n(fe),B=function(e,n,t,i){return new(t||(t=Promise))(function(o,a){function u(l){try{c(i.next(l))}catch(p){a(p)}}function f(l){try{c(i.throw(l))}catch(p){a(p)}}function c(l){l.done?o(l.value):function r(o){return o instanceof t?o:new t(function(a){a(o)})}(l.value).then(u,f)}c((i=i.apply(e,n||[])).next())})},W="application/font-woff",J="image/jpeg",he={woff:W,woff2:W,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:J,jpeg:J,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"};function R(e){var n=function pe(e){var n=/\.([^./]*?)$/g.exec(e);return n?n[1]:""}(e).toLowerCase();return he[n]||""}function A(e){return-1!==e.search(/^(data:)/)}function x(e,n){return"data:".concat(n,";base64,").concat(e)}function me(e){return e.split(/,/)[1]}var n,ge=(n=0,function(){return n+=1,"u".concat("0000".concat((Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)).concat(n)});function P(e){for(var n=[],t=0,i=e.length;t<i;t+=1)n.push(e[t]);return n}function T(e,n){var t=window.getComputedStyle(e).getPropertyValue(n);return parseFloat(t.replace("px",""))}function ve(e){var n=T(e,"border-left-width"),t=T(e,"border-right-width");return e.clientWidth+n+t}function Ce(e){var n=T(e,"border-top-width"),t=T(e,"border-bottom-width");return e.clientHeight+n+t}function we(){var e,n;try{n=process}catch(i){}var t=n&&n.env?n.env.devicePixelRatio:null;return t&&(e=parseInt(t,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}function Pe(e){return new Promise(e.toBlob?function(n){return e.toBlob(n)}:function(n){for(var t=window.atob(e.toDataURL().split(",")[1]),i=t.length,r=new Uint8Array(i),o=0;o<i;o+=1)r[o]=t.charCodeAt(o);n(new Blob([r],{type:"image/png"}))})}function I(e){return new Promise(function(n,t){var i=new Image;i.onload=function(){return n(i)},i.onerror=t,i.crossOrigin="anonymous",i.decoding="sync",i.src=e})}function be(e){return B(this,void 0,void 0,h().mark(function n(){return h().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.resolve().then(function(){return(new XMLSerializer).serializeToString(e)}).then(encodeURIComponent).then(function(r){return"data:image/svg+xml;charset=utf-8,".concat(r)}));case 1:case"end":return i.stop()}},n)}))}function Me(e,n,t){return B(this,void 0,void 0,h().mark(function i(){var r,o,a;return h().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject"),o.setAttribute("width","".concat(n)),o.setAttribute("height","".concat(t)),o.setAttribute("viewBox","0 0 ".concat(n," ").concat(t)),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),o.appendChild(a),a.appendChild(e),f.abrupt("return",be(o));case 14:case"end":return f.stop()}},i)}))}var Z={};function $(e,n){var t=function Oe(e){var n=e.replace(/\?.*/,"");return/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),n}(e);if(null!=Z[t])return Z[t];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());var r=window.fetch(e).then(function(o){return o.blob().then(function(a){return{blob:a,contentType:o.headers.get("Content-Type")||""}})}).then(function(o){var a=o.blob,u=o.contentType;return new Promise(function(f,c){var l=new FileReader;l.onloadend=function(){return f({contentType:u,blob:l.result})},l.onerror=c,l.readAsDataURL(a)})}).then(function(o){return{contentType:o.contentType,blob:me(o.blob)}}).catch(function(a){var u="";if(n.imagePlaceholder){var f=n.imagePlaceholder.split(/,/);f&&f[1]&&(u=f[1])}var c="Failed to fetch resource: ".concat(e);return a&&(c="string"==typeof a?a:a.message),c&&console.error(c),{blob:u,contentType:""}});return Z[t]=r,r}function z(e,n,t){var i=window.getComputedStyle(e,t),r=i.getPropertyValue("content");if(""!==r&&"none"!==r){var o=ge();try{n.className="".concat(n.className," ").concat(o)}catch(u){return}var a=document.createElement("style");a.appendChild(function Re(e,n,t){var i=".".concat(e,":").concat(n),r=t.cssText?function ye(e){var n=e.getPropertyValue("content");return"".concat(e.cssText," content: '").concat(n.replace(/'|"/g,""),"';")}(t):function Se(e){return P(e).map(function(n){var t=e.getPropertyValue(n),i=e.getPropertyPriority(n);return"".concat(n,": ").concat(t).concat(i?" !important":"",";")}).join(" ")}(t);return document.createTextNode("".concat(i,"{").concat(r,"}"))}(o,t,i)),n.appendChild(a)}}function xe(e,n){z(e,n,":before"),z(e,n,":after")}var O=function(e,n,t,i){return new(t||(t=Promise))(function(o,a){function u(l){try{c(i.next(l))}catch(p){a(p)}}function f(l){try{c(i.throw(l))}catch(p){a(p)}}function c(l){l.done?o(l.value):function r(o){return o instanceof t?o:new t(function(a){a(o)})}(l.value).then(u,f)}c((i=i.apply(e,n||[])).next())})};function Te(e){return O(this,void 0,void 0,h().mark(function n(){var t;return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("data:,"!==(t=e.toDataURL())){r.next=3;break}return r.abrupt("return",Promise.resolve(e.cloneNode(!1)));case 3:return r.abrupt("return",I(t));case 4:case"end":return r.stop()}},n)}))}function Ee(e,n){return O(this,void 0,void 0,h().mark(function t(){return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve(e.poster).then(function(o){return $(o,n)}).then(function(o){return x(o.blob,R(e.poster)||o.contentType)}).then(function(o){return I(o)}));case 1:case"end":return r.stop()}},t)}))}function _e(e,n){return O(this,void 0,void 0,h().mark(function t(){return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e instanceof HTMLCanvasElement)){r.next=2;break}return r.abrupt("return",Te(e));case 2:if(!(e instanceof HTMLVideoElement&&e.poster)){r.next=4;break}return r.abrupt("return",Ee(e,n));case 4:return r.abrupt("return",Promise.resolve(e.cloneNode(!1)));case 5:case"end":return r.stop()}},t)}))}var Le=function(n){return null!=n.tagName&&"SLOT"===n.tagName.toUpperCase()};function ke(e,n,t){var i;return O(this,void 0,void 0,h().mark(function r(){var o;return h().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(0===(o=Le(e)&&e.assignedNodes?P(e.assignedNodes()):P((null!==(i=e.shadowRoot)&&void 0!==i?i:e).childNodes)).length||e instanceof HTMLVideoElement)){u.next=3;break}return u.abrupt("return",Promise.resolve(n));case 3:return u.abrupt("return",o.reduce(function(f,c){return f.then(function(){return Y(c,t)}).then(function(l){l&&n.appendChild(l)})},Promise.resolve()).then(function(){return n}));case 4:case"end":return u.stop()}},r)}))}function Fe(e,n){var t=window.getComputedStyle(e),i=n.style;!i||(t.cssText?i.cssText=t.cssText:P(t).forEach(function(r){i.setProperty(r,t.getPropertyValue(r),t.getPropertyPriority(r))}))}function Ae(e,n){e instanceof HTMLTextAreaElement&&(n.innerHTML=e.value),e instanceof HTMLInputElement&&n.setAttribute("value",e.value)}function Ie(e,n){return O(this,void 0,void 0,h().mark(function t(){return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n instanceof Element){r.next=2;break}return r.abrupt("return",Promise.resolve(n));case 2:return r.abrupt("return",Promise.resolve().then(function(){return Fe(e,n)}).then(function(){return xe(e,n)}).then(function(){return Ae(e,n)}).then(function(){return n}));case 3:case"end":return r.stop()}},t)}))}function Y(e,n,t){return O(this,void 0,void 0,h().mark(function i(){return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(t||!n.filter||n.filter(e)){o.next=2;break}return o.abrupt("return",Promise.resolve(null));case 2:return o.abrupt("return",Promise.resolve(e).then(function(a){return _e(a,n)}).then(function(a){return ke(e,a,n)}).then(function(a){return Ie(e,a)}));case 3:case"end":return o.stop()}},i)}))}var G=/url\((['"]?)([^'"]+?)\1\)/g,$e=/url\([^)]+\)\s*format\((["'])([^"']+)\1\)/g,Ue=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function je(e){var n=[];return e.replace(G,function(t,i,r){return n.push(r),t}),n.filter(function(t){return!A(t)})}function De(e,n,t,i,r){var o=t?function de(e,n){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;var t=document.implementation.createHTMLDocument(),i=t.createElement("base"),r=t.createElement("a");return t.head.appendChild(i),t.body.appendChild(r),n&&(i.href=n),r.href=e,r.href}(n,t):n;return Promise.resolve(o).then(function(a){return r?r(a):$(a,i)}).then(function(a){return"string"==typeof a?x(a,R(n)):x(a.blob,R(n)||a.contentType)}).then(function(a){return e.replace(function He(e){var n=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp("(url\\(['\"]?)(".concat(n,")(['\"]?\\))"),"g")}(n),"$1".concat(a,"$3"))}).then(function(a){return a},function(){return o})}function Ve(e,n){var t=n.preferredFontFormat;return t?e.replace(Ue,function(i){for(;;){var r=$e.exec(i)||[],o=(0,V.Z)(r,3),u=o[2];if(!u)return"";if(u===t)return"src: ".concat(o[0],";")}}):e}function X(e){return-1!==e.search(G)}function Q(e,n,t){return function(e,n,t,i){return new(t||(t=Promise))(function(o,a){function u(l){try{c(i.next(l))}catch(p){a(p)}}function f(l){try{c(i.throw(l))}catch(p){a(p)}}function c(l){l.done?o(l.value):function r(o){return o instanceof t?o:new t(function(a){a(o)})}(l.value).then(u,f)}c((i=i.apply(e,n||[])).next())})}(this,void 0,void 0,h().mark(function i(){var r;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(X(e)){a.next=2;break}return a.abrupt("return",Promise.resolve(e));case 2:return r=Ve(e,t),a.abrupt("return",Promise.resolve(r).then(je).then(function(u){return u.reduce(function(f,c){return f.then(function(l){return De(l,c,n,t)})},Promise.resolve(r))}));case 4:case"end":return a.stop()}},i)}))}var E=function(e,n,t,i){return new(t||(t=Promise))(function(o,a){function u(l){try{c(i.next(l))}catch(p){a(p)}}function f(l){try{c(i.throw(l))}catch(p){a(p)}}function c(l){l.done?o(l.value):function r(o){return o instanceof t?o:new t(function(a){a(o)})}(l.value).then(u,f)}c((i=i.apply(e,n||[])).next())})};function Be(e,n){var t;return E(this,void 0,void 0,h().mark(function i(){var r;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=null===(t=e.style)||void 0===t?void 0:t.getPropertyValue("background")){a.next=3;break}return a.abrupt("return",Promise.resolve(e));case 3:return a.abrupt("return",Promise.resolve(r).then(function(u){return Q(u,null,n)}).then(function(u){return e.style.setProperty("background",u,e.style.getPropertyPriority("background")),e}));case 4:case"end":return a.stop()}},i)}))}function We(e,n){return E(this,void 0,void 0,h().mark(function t(){var i;return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(e instanceof HTMLImageElement&&!A(e.src)||e instanceof SVGImageElement&&!A(e.href.baseVal)){o.next=2;break}return o.abrupt("return",Promise.resolve(e));case 2:return i=e instanceof HTMLImageElement?e.src:e.href.baseVal,o.abrupt("return",Promise.resolve(i).then(function(a){return $(a,n)}).then(function(a){return x(a.blob,R(i)||a.contentType)}).then(function(a){return new Promise(function(u,f){e.onload=u,e.onerror=f,e instanceof HTMLImageElement?(e.srcset="",e.src=a):e.href.baseVal=a})}).then(function(){return e},function(){return e}));case 4:case"end":return o.stop()}},t)}))}function Je(e,n){return E(this,void 0,void 0,h().mark(function t(){var i,r;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=P(e.childNodes),r=i.map(function(u){return K(u,n)}),a.abrupt("return",Promise.all(r).then(function(){return e}));case 3:case"end":return a.stop()}},t)}))}function K(e,n){return E(this,void 0,void 0,h().mark(function t(){return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e instanceof Element){r.next=2;break}return r.abrupt("return",Promise.resolve(e));case 2:return r.abrupt("return",Promise.resolve(e).then(function(o){return Be(o,n)}).then(function(o){return We(o,n)}).then(function(o){return Je(o,n)}));case 3:case"end":return r.stop()}},t)}))}function ze(e,n){var t=e.style;n.backgroundColor&&(t.backgroundColor=n.backgroundColor),n.width&&(t.width="".concat(n.width,"px")),n.height&&(t.height="".concat(n.height,"px"));var i=n.style;return null!=i&&Object.keys(i).forEach(function(r){t[r]=i[r]}),e}var y=function(e,n,t,i){return new(t||(t=Promise))(function(o,a){function u(l){try{c(i.next(l))}catch(p){a(p)}}function f(l){try{c(i.throw(l))}catch(p){a(p)}}function c(l){l.done?o(l.value):function r(o){return o instanceof t?o:new t(function(a){a(o)})}(l.value).then(u,f)}c((i=i.apply(e,n||[])).next())})},N={};function q(e){var n=N[e];if(null!=n)return n;var t=window.fetch(e).then(function(i){return{url:e,cssText:i.text()}});return N[e]=t,t}function ee(e){return y(this,void 0,void 0,h().mark(function n(){return h().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",e.cssText.then(function(r){var o=r,a=/url\(["']?([^"')]+)["']?\)/g,f=(o.match(/url\([^)]+\)/g)||[]).map(function(c){var l=c.replace(a,"$1");return l.startsWith("https://")||(l=new URL(l,e.url).href),window.fetch(l).then(function(p){return p.blob()}).then(function(p){return new Promise(function(w,m){var v=new FileReader;v.onloadend=function(){o=o.replace(c,"url(".concat(v.result,")")),w([c,v.result])},v.onerror=m,v.readAsDataURL(p)})})});return Promise.all(f).then(function(){return o})}));case 1:case"end":return i.stop()}},n)}))}function ne(e){if(null==e)return[];for(var n=[],i=e.replace(/(\/\*[\s\S]*?\*\/)/gi,""),r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");;){var o=r.exec(i);if(null===o)break;n.push(o[0])}i=i.replace(r,"");for(var a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,f=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");;){var c=a.exec(i);if(null===c){if(null===(c=f.exec(i)))break;a.lastIndex=f.lastIndex}else f.lastIndex=a.lastIndex;n.push(c[0])}return n}function Ye(e){return y(this,void 0,void 0,h().mark(function n(){var t,i;return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=[],i=[],e.forEach(function(a){if("cssRules"in a)try{P(a.cssRules).forEach(function(f,c){if(f.type===CSSRule.IMPORT_RULE){var l=c+1,w=q(f.href).then(function(m){return m?ee(m):""}).then(function(m){return ne(m).forEach(function(v){try{a.insertRule(v,v.startsWith("@import")?l+=1:a.cssRules.length)}catch(S){console.error("Error inserting rule from remote css",{rule:v,error:S})}})}).catch(function(m){console.error("Error loading remote css",m.toString())});i.push(w)}})}catch(f){var u=e.find(function(c){return null==c.href})||document.styleSheets[0];null!=a.href&&i.push(q(a.href).then(function(c){return c?ee(c):""}).then(function(c){return ne(c).forEach(function(l){u.insertRule(l,a.cssRules.length)})}).catch(function(c){console.error("Error loading remote stylesheet",c.toString())})),console.error("Error inlining remote css file",f.toString())}}),o.abrupt("return",Promise.all(i).then(function(){return e.forEach(function(a){if("cssRules"in a)try{P(a.cssRules).forEach(function(u){t.push(u)})}catch(u){console.error("Error while reading CSS rules from ".concat(a.href),u.toString())}}),t}));case 4:case"end":return o.stop()}},n)}))}function Ge(e){return e.filter(function(n){return n.type===CSSRule.FONT_FACE_RULE}).filter(function(n){return X(n.style.getPropertyValue("src"))})}function Xe(e){return y(this,void 0,void 0,h().mark(function n(){return h().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",new Promise(function(r,o){null==e.ownerDocument&&o(new Error("Provided element is not within a Document")),r(P(e.ownerDocument.styleSheets))}).then(function(r){return Ye(r)}).then(Ge));case 1:case"end":return i.stop()}},n)}))}function Qe(e,n){return y(this,void 0,void 0,h().mark(function t(){return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Xe(e).then(function(o){return Promise.all(o.map(function(a){return Q(a.cssText,a.parentStyleSheet?a.parentStyleSheet.href:null,n)}))}).then(function(o){return o.join("\n")}));case 1:case"end":return r.stop()}},t)}))}function Ke(e,n){return y(this,void 0,void 0,h().mark(function t(){return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(null!=n.fontEmbedCSS?Promise.resolve(n.fontEmbedCSS):Qe(e,n)).then(function(o){var a=document.createElement("style"),u=document.createTextNode(o);return a.appendChild(u),e.firstChild?e.insertBefore(a,e.firstChild):e.appendChild(a),e}));case 1:case"end":return r.stop()}},t)}))}var b=function(e,n,t,i){return new(t||(t=Promise))(function(o,a){function u(l){try{c(i.next(l))}catch(p){a(p)}}function f(l){try{c(i.throw(l))}catch(p){a(p)}}function c(l){l.done?o(l.value):function r(o){return o instanceof t?o:new t(function(a){a(o)})}(l.value).then(u,f)}c((i=i.apply(e,n||[])).next())})};function U(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.width||ve(e),i=n.height||Ce(e);return{width:t,height:i}}function Ne(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b(this,void 0,void 0,h().mark(function t(){var i,r,o;return h().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return i=U(e,n),r=i.width,o=i.height,u.abrupt("return",Promise.resolve(e).then(function(f){return Y(f,n,!0)}).then(function(f){return Ke(f,n)}).then(function(f){return K(f,n)}).then(function(f){return ze(f,n)}).then(function(f){return Me(f,r,o)}));case 2:case"end":return u.stop()}},t)}))}var g=16384;function qe(e){(e.width>g||e.height>g)&&(e.width>g&&e.height>g?e.width>e.height?(e.height*=g/e.width,e.width=g):(e.width*=g/e.height,e.height=g):e.width>g?(e.height*=g/e.width,e.width=g):(e.width*=g/e.height,e.height=g))}function _(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b(this,void 0,void 0,h().mark(function t(){return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Ne(e,n).then(I).then(function(o){var a=document.createElement("canvas"),u=a.getContext("2d"),f=n.pixelRatio||we(),c=U(e,n),w=n.canvasWidth||c.width,m=n.canvasHeight||c.height;return a.width=w*f,a.height=m*f,n.skipAutoScale||qe(a),a.style.width="".concat(w),a.style.height="".concat(m),n.backgroundColor&&(u.fillStyle=n.backgroundColor,u.fillRect(0,0,a.width,a.height)),u.drawImage(o,0,0,a.width,a.height),a}));case 1:case"end":return r.stop()}},t)}))}var nn=d(9841),tn=d(2722),s=d(5542),rn=d(8223),te=d(9224),an=d(7446),H=d(7322),on=d(7531),cn=d(5245),un=d(7238),sn=d(9762);function ln(e,n){if(1&e){var t=s.EpF();s.TgZ(0,"div",15),s.NdJ("click",function(){var u=s.CHM(t).$implicit;return s.oxw().selectClass(u)}),s._UZ(1,"img",16),s.qZA()}if(2&e){var i=n.$implicit,r=s.oxw();s.ekj("selected",r.isSelectedClass(i)),s.xp6(1),s.MGl("src","assets/img/character/icon/",i,"/head.png",s.LSH)}}function fn(e,n){if(1&e){var t=s.EpF();s.TgZ(0,"mat-icon",17),s.NdJ("click",function(){return s.CHM(t),s.oxw().removeSearch()}),s._uU(1,"close"),s.qZA()}}function hn(e,n){1&e&&(s.TgZ(0,"mat-icon",26),s._uU(1,"warning"),s.qZA())}function pn(e,n){if(1&e){var t=s.EpF();s.TgZ(0,"div",18)(1,"div",19)(2,"div",20),s.YNc(3,hn,2,0,"mat-icon",21),s.TgZ(4,"mat-icon",22),s.NdJ("click",function(){s.CHM(t);var a=s.MAs(7);return s.oxw().convert(a)}),s._uU(5,"photo"),s.qZA()(),s.TgZ(6,"div",23,24),s._UZ(8,"app-reaper-view",25),s.qZA()()()}if(2&e){var i=n.$implicit,r=s.oxw();s.xp6(3),s.Q6J("ngIf",r.isNotAvailable(i)),s.xp6(5),s.Q6J("reaper",i)}}var dn=function(){var e=function(n){(0,ae.Z)(i,n);var t=(0,ie.Z)(i);function i(r,o,a,u,f){var c;(0,k.Z)(this,i),(c=t.call(this)).slormancerDataService=r,c.searchService=o,c.slormancerReaperService=a,c.messageService=u,c.clipboardService=f,c.HERO_CLASSES=[M.i.Warrior,M.i.Huntress,M.i.Mage],c.allReapers=[],c.filteredReapers=[],c.heroClass=M.i.Huntress,c.primordial=!1,c.form=new C.cw({search:new C.NI(""),heroClass:new C.NI(M.i.Huntress),primordial:new C.NI(!1),maxLevel:new C.NI(!1)});var l=c.form.get("search");null!==l&&l.valueChanges.subscribe(function(v){return c.searchService.setSearch(v)});var p=c.form.get("heroClass"),w=c.form.get("primordial"),m=c.form.get("maxLevel");return null!==p&&null!==w&&null!==m&&(0,nn.a)([p.valueChanges,w.valueChanges,m.valueChanges]).subscribe(function(v){var S=(0,V.Z)(v,3);return c.buildReaperList(S[0],S[1],S[2])}),c.searchService.searchChanged.pipe((0,tn.R)(c.unsubscribe)).subscribe(function(){return c.filterReaperList()}),c}return(0,L.Z)(i,[{key:"ngOnInit",value:function(){this.form.patchValue({search:"",heroClass:M.i.Huntress,primordial:!1,maxLevel:!1})}},{key:"buildReaperList",value:function(o,a,u){var f=this;this.allReapers=this.slormancerDataService.getGameDataAvailableReaper().map(function(c){return f.slormancerReaperService.getReaper(c,o,a,u?c.MAX_LVL:1,u?c.MAX_LVL:1,0,0,u?55:0)}),this.filterReaperList()}},{key:"filterReaperList",value:function(){var o=this;this.filteredReapers=this.allReapers.filter(function(a){return o.searchService.reaperMatchSearch(a)})}},{key:"hasSearch",value:function(){return this.searchService.hasSearch()}},{key:"removeSearch",value:function(){this.form.patchValue({search:""})}},{key:"selectClass",value:function(o){this.form.patchValue({heroClass:o})}},{key:"isSelectedClass",value:function(o){var a=this.form.get("heroClass");return null!==a&&a.value===o}},{key:"convert",value:function(o){var a=this;(function en(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b(this,void 0,void 0,h().mark(function t(){return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",_(e,n).then(Pe));case 1:case"end":return r.stop()}},t)}))})(o).then(function(u){null!==u&&a.clipboardService.copyImageToClipboard(u)?a.messageService.message("Reaper image copied to clipboard"):a.messageService.error("Failed to copy reaper image to clipboard")},function(){return a.messageService.error("Failed to copy reaper image to clipboard")})}},{key:"isNotAvailable",value:function(o){return 53===o.id}}]),i}(oe.B);return e.\u0275fac=function(t){return new(t||e)(s.Y36(se.o),s.Y36(ue.o),s.Y36(le.I),s.Y36(rn.e),s.Y36(ce.Y))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-list"]],features:[s.qOj],decls:21,vars:4,consts:[[1,"content"],[1,"header"],[3,"formGroup"],[1,"options"],[1,"classes"],["class","head",3,"selected","click",4,"ngFor","ngForOf"],[1,"flags"],["color","primary","formControlName","primordial"],["color","primary","formControlName","maxLevel"],[1,"search"],["appearance","outline","color","primary",1,"no-error-padding"],["matInput","","type","text","formControlName","search","autocomplete","off"],["matSuffix","",3,"click",4,"ngIf"],[1,"reapers"],["class","reaper",4,"ngFor","ngForOf"],[1,"head",3,"click"],[3,"src"],["matSuffix","",3,"click"],[1,"reaper"],[1,"reaper-container"],[1,"actions"],["class","warn","matTooltip","This reaper is not available in game yet",4,"ngIf"],["matTooltip","Copy reaper as image to clipboard",1,"button",3,"click"],[1,"reaper-window"],["reaperDom",""],[3,"reaper"],["matTooltip","This reaper is not available in game yet",1,"warn"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-content")(3,"form",2)(4,"div",3)(5,"div",4),s.YNc(6,ln,2,3,"div",5),s.qZA(),s.TgZ(7,"div",6)(8,"mat-checkbox",7),s._uU(9,"Primordial"),s.qZA(),s.TgZ(10,"mat-checkbox",8),s._uU(11,"Max. level"),s.qZA()()(),s.TgZ(12,"div",9)(13,"mat-form-field",10)(14,"mat-label"),s._uU(15,"Search"),s.qZA(),s._UZ(16,"input",11),s.YNc(17,fn,2,0,"mat-icon",12),s.qZA()()()()(),s.TgZ(18,"mat-card",13)(19,"mat-card-content"),s.YNc(20,pn,9,2,"div",14),s.qZA()()()),2&t&&(s.xp6(3),s.Q6J("formGroup",i.form),s.xp6(3),s.Q6J("ngForOf",i.HERO_CLASSES),s.xp6(11),s.Q6J("ngIf",i.hasSearch()),s.xp6(3),s.Q6J("ngForOf",i.filteredReapers))},directives:[te.a8,te.dn,C._Y,C.JL,C.sg,F.sg,an.oG,C.JJ,C.u,H.KE,H.hX,on.Nt,C.Fj,F.O5,cn.Hw,H.R9,un.gM,sn.b],styles:["[_nghost-%COMP%]{display:block;height:100%}.content[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column;align-items:stretch;justify-content:stretch;gap:20px;height:100%}@media (max-width: 374px){.content[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-top:4px;padding-bottom:4px}.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:4px}@media (max-width: 374px){.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:space-between;gap:12px}@media (max-width: 768px){.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{flex-direction:column}}.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:flex-start;gap:12px}@media (max-width: 374px){.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{flex-direction:column}}.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .flags[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:12px}.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:250px}.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}@media (max-width: 374px){.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:100%}}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:grid;grid-gap:10px;grid-auto-rows:minmax(auto,auto);grid-template-columns:repeat(auto-fill,minmax(360px,1fr))}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .reaper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .reaper[_ngcontent-%COMP%]   .reaper-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:8px}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .reaper[_ngcontent-%COMP%]   .reaper-container[_ngcontent-%COMP%]:not(:hover)   .actions[_ngcontent-%COMP%]{opacity:0}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .reaper[_ngcontent-%COMP%]   .reaper-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;gap:8px}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .reaper[_ngcontent-%COMP%]   .reaper-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .reaper[_ngcontent-%COMP%]   .reaper-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transition:opacity .2s ease-in-out}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .reaper[_ngcontent-%COMP%]   .reaper-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{opacity:.3}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .reaper[_ngcontent-%COMP%]   .reaper-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{opacity:.8}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .reaper[_ngcontent-%COMP%]   .reaper-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   mat-icon.warn[_ngcontent-%COMP%]{color:#f44336}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .reaper[_ngcontent-%COMP%]   .reaper-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   mat-icon.button[_ngcontent-%COMP%]{cursor:pointer}.classes[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-around;gap:4px}.classes[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{position:relative;border:4px solid black;width:40px;height:40px;cursor:pointer}.classes[_ngcontent-%COMP%]   .head.selected[_ngcontent-%COMP%]{border-color:#b7b7b7}.classes[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;image-rendering:pixelated;transition:opacity .5s}.classes[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{position:absolute;bottom:-20px;width:16px;height:16px;line-height:14px;text-align:center;border:2px solid black;padding:4px;border-radius:20% 20% 50% 50%;background-color:#353535;transition:opacity .5s;left:50%;transform:translate(-50%)}"]}),e}(),mn=[{path:"list",component:dn},{path:"**",pathMatch:"full",redirectTo:"list"}],gn=function(){var e=(0,L.Z)(function n(){(0,k.Z)(this,n)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[D.Bz.forChild(mn)],D.Bz]}),e}(),vn=function(){var e=(0,L.Z)(function n(){(0,k.Z)(this,n)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[F.ez,re.m,gn]]}),e}()}}]);