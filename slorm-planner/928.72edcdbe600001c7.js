"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[928],{6446:function(se,te,a){a.d(te,{B:function(){return e}});var H=a(5671),Q=a(3144),t=a(7579),u=a(5542),e=function(){var g=function(){function D(){(0,H.Z)(this,D),this.unsubscribe=new t.x}return(0,Q.Z)(D,[{key:"ngOnDestroy",value:function(){this.unsubscribe.next(),this.unsubscribe.complete()}}]),D}();return g.\u0275fac=function(Y){return new(Y||g)},g.\u0275cmp=u.Xpm({type:g,selectors:[["ng-component"]],decls:0,vars:0,template:function(Y,x){},encapsulation:2}),g}()},3662:function(se,te,a){a.d(te,{Z:function(){return M}});var H=a(4902),Q=a(5671),t=a(3144),u=a(136),e=a(7777),g=a(5542),D=a(2525),Y=a(5581),x=a(311),w=a(7469),v=a(6446),l=a(9776),c=a(9808),m=a(9065),_=a(8003);function C(E,I){if(1&E&&g._UZ(0,"app-ancestral-legacy-view",11),2&E){var S=g.oxw(3);g.Q6J("ancestralLegacy",S.activable)("hideNextRank",!0)}}function k(E,I){if(1&E&&g._UZ(0,"app-activable-view",12),2&E){var S=g.oxw(3);g.Q6J("activable",S.activable)}}function y(E,I){if(1&E&&(g.YNc(0,C,1,2,"app-ancestral-legacy-view",9),g.YNc(1,k,1,1,"app-activable-view",10)),2&E){var S=g.oxw(2);g.Q6J("ngIf",S.isAncestralLegacy(S.activable)),g.xp6(1),g.Q6J("ngIf",S.isActivable(S.activable))}}function s(E,I){if(1&E&&(g.ynx(0),g._UZ(1,"img",7),g.YNc(2,y,2,2,"ng-template",8),g.BQk()),2&E){var S=g.oxw(),W=g.MAs(1);g.xp6(1),g.Q6J("src",S.activable.icon,g.LSH),g.xp6(1),g.Q6J("cdkConnectedOverlayOpen",S.showOverlay)("cdkConnectedOverlayOrigin",W)}}function U(E,I){if(1&E){var S=g.EpF();g.TgZ(0,"button",13),g.NdJ("click",function(){var ue=g.CHM(S).$implicit;return g.oxw(2).updateActivable(ue)}),g.TgZ(1,"div",14),g._UZ(2,"img",19),g.TgZ(3,"div",16),g.TgZ(4,"div",20),g._uU(5),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&E){var W=I.$implicit,V=g.oxw(2);g.xp6(1),g.ekj("selected",V.isSelectedActivable(W)),g.xp6(1),g.Q6J("src",W.icon,g.LSH),g.xp6(3),g.Oqu(W.name)}}function h(E,I){if(1&E){var S=g.EpF();g.TgZ(0,"button",13),g.NdJ("click",function(){return g.CHM(S),g.oxw().updateActivable(null)}),g.TgZ(1,"div",14),g._UZ(2,"div",15),g.TgZ(3,"div",16),g.TgZ(4,"div",17),g._uU(5,"Remove activable"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(6,U,6,4,"button",18)}if(2&E){var W=g.oxw();g.xp6(6),g.Q6J("ngForOf",W.getAvailableActivables())}}var M=function(){var E=function(I){(0,u.Z)(W,I);var S=(0,e.Z)(W);function W(V,ie){var G;return(0,Q.Z)(this,W),(G=S.call(this)).buildStorageService=V,G.itemMoveService=ie,G.activable=null,G.readonly=!1,G.changed=new g.vpe,G.menu=null,G.showOverlay=!1,G}return(0,t.Z)(W,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"onMouseContextMenu",value:function(){return this.itemMoveService.releaseHoldItem(),null!==this.menu&&!this.readonly&&this.menu.openMenu(),!1}},{key:"onMouseClick",value:function(){return this.itemMoveService.releaseHoldItem(),null!==this.menu&&!this.readonly&&this.menu.openMenu(),!1}},{key:"ngOnInit",value:function(){}},{key:"isAncestralLegacy",value:function(ie){return void 0!==ie.element}},{key:"isActivable",value:function(ie){return void 0===ie.element}},{key:"getAvailableActivables",value:function(){var ie=[],G=this.buildStorageService.getLayer();if(null!==G){var ue=[G.character.gear.amulet,G.character.gear.belt,G.character.gear.body,G.character.gear.boot,G.character.gear.bracer,G.character.gear.cape,G.character.gear.glove,G.character.gear.helm,G.character.gear.ring_l,G.character.gear.ring_r,G.character.gear.shoulder].map(function(le){return null!==le&&null!==le.legendaryEffect?le.legendaryEffect.activable:null}).filter(Y.BX).sort(function(le,fe){return-(0,Y.qu)(le.level,fe.level)}).filter(function(le,fe,q){return(0,Y.mr)(le,fe,q,function(X,b){return X.id===b.id})}),ge=null===G.character.reaper?[]:G.character.reaper.activables,de=G.character.ancestralLegacies.activeAncestralLegacies.map(function(le){return G.character.ancestralLegacies.ancestralLegacies[le]}).filter(Y.BX).filter(function(le){return le.isActivable});ie=[].concat((0,H.Z)(ue),(0,H.Z)(ge),(0,H.Z)(de))}return ie}},{key:"isSelectedActivable",value:function(ie){var G=this.buildStorageService.getLayer();return null!==G&&(G.character.activable1===ie||G.character.activable2===ie||G.character.activable3===ie||G.character.activable4===ie)}},{key:"updateActivable",value:function(ie){this.activable!==ie&&this.changed.emit(ie)}}]),W}(v.B);return E.\u0275fac=function(S){return new(S||E)(g.Y36(x.x),g.Y36(w.v))},E.\u0275cmp=g.Xpm({type:E,selectors:[["app-activable-slot"]],viewQuery:function(S,W){var V;1&S&&g.Gf(D.p6,7),2&S&&g.iGM(V=g.CRH())&&(W.menu=V.first)},hostBindings:function(S,W){1&S&&g.NdJ("mouseenter",function(){return W.onOver()})("mouseleave",function(){return W.onLeave()})("contextmenu",function(){return W.onMouseContextMenu()})("click",function(){return W.onMouseClick()})},inputs:{activable:"activable",readonly:"readonly"},outputs:{changed:"changed"},features:[g.qOj],decls:7,vars:2,consts:[["cdkOverlayOrigin","",1,"skill"],["trigger","cdkOverlayOrigin"],[4,"ngIf"],[3,"matMenuTriggerFor"],["yPosition","above"],["menu","matMenu"],["matMenuContent",""],[3,"src"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"ancestralLegacy","hideNextRank",4,"ngIf"],[3,"activable",4,"ngIf"],[3,"ancestralLegacy","hideNextRank"],[3,"activable"],["mat-menu-item","",3,"click"],[1,"skill-menu-entry"],[1,"skill"],[1,"description"],[1,"subtitle"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"skill",3,"src"],[1,"name"]],template:function(S,W){if(1&S&&(g.TgZ(0,"div",0,1),g.YNc(2,s,3,3,"ng-container",2),g._UZ(3,"div",3),g.TgZ(4,"mat-menu",4,5),g.YNc(6,h,7,1,"ng-template",6),g.qZA(),g.qZA()),2&S){var V=g.MAs(5);g.xp6(2),g.Q6J("ngIf",null!==W.activable),g.xp6(1),g.Q6J("matMenuTriggerFor",V)}},directives:[l.xu,c.O5,D.p6,D.VK,D.KA,l.pI,m.q,_.K,D.OP,c.sg],styles:["[_nghost-%COMP%]{min-width:42px;height:42px;min-height:42px;display:block;overflow:hidden}.skill[_ngcontent-%COMP%]{width:42px;min-width:42px;height:42px;min-height:42px;border:4px solid black;position:relative;background-color:#131313}.skill.support[_ngcontent-%COMP%]{width:84px;min-width:84px}.skill[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.skill-menu-entry[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:8px;gap:8px}.skill-menu-entry[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]{border:4px solid #353535}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{line-height:normal;font-weight:700;text-transform:uppercase}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{line-height:normal}.skill-menu-entry.selected[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]{border-color:#edd371;line-height:0}.skill-menu-entry.selected[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#edd371}app-item-view[_ngcontent-%COMP%]{width:350px}"]}),E}()},8003:function(se,te,a){a.d(te,{K:function(){return x}});var H=a(3144),Q=a(5671),t=a(5542),u=a(9808);function e(w,v){if(1&w&&t._UZ(0,"div",11),2&w){var l=t.oxw(2);t.Q6J("innerHTML",l.activable.genresLabel,t.oJD)}}function g(w,v){if(1&w&&t._UZ(0,"div",12),2&w){var l=t.oxw(2);t.Q6J("innerHTML",l.activable.cooldownLabel,t.oJD)}}function D(w,v){if(1&w&&t._UZ(0,"div",13),2&w){var l=t.oxw(2);t.Q6J("innerHTML",l.activable.costLabel,t.oJD)}}function Y(w,v){if(1&w&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t._UZ(3,"img",4),t.qZA(),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t._uU(6),t.qZA(),t.YNc(7,e,1,1,"div",7),t.YNc(8,g,1,1,"div",8),t.YNc(9,D,1,1,"div",9),t.qZA(),t.qZA(),t._UZ(10,"div",10),t.qZA()),2&w){var l=t.oxw();t.xp6(3),t.Q6J("src",l.activable.icon,t.LSH),t.xp6(3),t.Oqu(l.activable.name),t.xp6(1),t.Q6J("ngIf",null!==l.activable.genresLabel),t.xp6(1),t.Q6J("ngIf",null!==l.activable.cooldownLabel),t.xp6(1),t.Q6J("ngIf",null!==!l.activable.costLabel),t.xp6(1),t.Q6J("innerHTML",l.activable.description,t.oJD)}}var x=function(){var w=(0,H.Z)(function v(){(0,Q.Z)(this,v),this.activable=null,this.reinforcment=0});return w.\u0275fac=function(l){return new(l||w)},w.\u0275cmp=t.Xpm({type:w,selectors:[["app-activable-view"]],inputs:{activable:"activable",reinforcment:"reinforcment"},decls:1,vars:1,consts:[["class","activable",4,"ngIf"],[1,"activable"],[1,"activable-head"],[1,"icon"],[3,"src"],[1,"info"],[1,"name"],["class","genre",3,"innerHTML",4,"ngIf"],["class","cooldown",3,"innerHTML",4,"ngIf"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"description",3,"innerHTML"],[1,"genre",3,"innerHTML"],[1,"cooldown",3,"innerHTML"],[1,"cost",3,"innerHTML"]],template:function(l,c){1&l&&t.YNc(0,Y,11,6,"div",0),2&l&&t.Q6J("ngIf",null!==c.activable)},directives:[u.O5],styles:[".activable[_ngcontent-%COMP%]{background-color:#151412;border:3px solid black;color:#fff;padding:5px;display:flex;flex-direction:column;grid-gap:5px;gap:5px}.activable[_ngcontent-%COMP%]  .value{color:#ce4607}.activable[_ngcontent-%COMP%]  .range, .activable[_ngcontent-%COMP%]  .range .value, .activable[_ngcontent-%COMP%]  .details, .activable[_ngcontent-%COMP%]  .details .value, .activable[_ngcontent-%COMP%]  .formula, .activable[_ngcontent-%COMP%]  .formula .value{color:#686868}.activable[_ngcontent-%COMP%]  .affixes .range, .activable[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.activable[_ngcontent-%COMP%]  .life{color:#257539}.activable[_ngcontent-%COMP%]  .mana{color:#3397dd}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:5px;gap:5px}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;align-items:center;border:4px solid #be871f;min-width:44px;min-height:44px;width:44px;height:44px}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid black;min-width:36px;min-height:36px;width:36px;height:36px}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:19px;color:#ce4607}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.activable[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}"]}),w}()},9713:function(se,te,a){a.d(te,{y:function(){return k}});var H=a(5671),Q=a(3144),t=a(136),u=a(7777),e=a(5542),g=a(2722),D=a(9184),Y=a(311),x=a(2424),w=a(6446),v=a(9808),l=a(9776),c=a(9065);function m(y,s){if(1&y&&e._UZ(0,"app-ancestral-legacy-view",8),2&y){var U=e.oxw(3);e.Q6J("ancestralLegacy",U.ancestralLegacy)}}function _(y,s){if(1&y&&e.YNc(0,m,1,1,"ng-template",7),2&y){e.oxw();var U=e.MAs(1),h=e.oxw();e.Q6J("cdkConnectedOverlayOpen",h.showOverlay)("cdkConnectedOverlayOrigin",U)}}function C(y,s){if(1&y){var U=e.EpF();e.TgZ(0,"div",1,2),e.NdJ("click",function(){return e.CHM(U),e.oxw().increasesRank()})("contextmenu",function(){return e.CHM(U),e.oxw().decreasesRank()}),e.TgZ(2,"div",3),e._UZ(3,"img",4),e.qZA(),e.TgZ(4,"div",5),e._uU(5),e.qZA(),e.YNc(6,_,1,2,void 0,6),e.qZA()}if(2&y){var h=e.oxw();e.ekj("ranked",h.ancestralLegacy.baseRank>0)("equipped",h.equipped)("selected",h.selected)("readonly",h.readonly)("hidden-search",h.hiddenBySearch),e.xp6(3),e.Q6J("src",h.ancestralLegacy.icon,e.LSH),e.xp6(1),e.ekj("max",h.ancestralLegacy.rank===h.ancestralLegacy.maxRank),e.xp6(1),e.Oqu(h.ancestralLegacy.rank===h.ancestralLegacy.maxRank?"Max":h.ancestralLegacy.rank),e.xp6(1),e.Q6J("ngIf",h.showOverlay&&h.overlay)}}var k=function(){var y=function(s){(0,t.Z)(h,s);var U=(0,u.Z)(h);function h(M,E,I){var S;return(0,H.Z)(this,h),(S=U.call(this)).searchService=M,S.slormancerAncestralLegacyService=E,S.buildStorageService=I,S.ancestralLegacy=null,S.equipped=!1,S.selected=!1,S.readonly=!1,S.overlay=!1,S.changed=new e.vpe,S.showOverlay=!1,S.hiddenBySearch=!1,S}return(0,Q.Z)(h,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"ngOnInit",value:function(){var E=this;this.searchService.searchChanged.pipe((0,g.R)(this.unsubscribe)).subscribe(function(I){return E.hiddenBySearch=null!==I&&null!==E.ancestralLegacy&&!E.searchService.ancestralLegacyMatchSearch(E.ancestralLegacy)})}},{key:"setRank",value:function(E,I){E.baseRank!==I&&this.selected&&(this.slormancerAncestralLegacyService.updateAncestralLegacyModel(E,I),this.slormancerAncestralLegacyService.updateAncestralLegacyView(E),this.buildStorageService.saveLayer())}},{key:"increasesRank",value:function(){return null!==this.ancestralLegacy&&(this.setRank(this.ancestralLegacy,Math.max(0,this.ancestralLegacy.baseRank+1)),this.changed.emit(this.ancestralLegacy)),!1}},{key:"decreasesRank",value:function(){return null!==this.ancestralLegacy&&(this.setRank(this.ancestralLegacy,Math.max(0,this.ancestralLegacy.baseRank-1)),this.changed.emit(this.ancestralLegacy)),!1}}]),h}(w.B);return y.\u0275fac=function(U){return new(U||y)(e.Y36(x.o),e.Y36(D.O),e.Y36(Y.x))},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-ancestral-legacy-slot"]],hostBindings:function(U,h){1&U&&e.NdJ("mouseenter",function(){return h.onOver()})("mouseleave",function(){return h.onLeave()})},inputs:{ancestralLegacy:"ancestralLegacy",equipped:"equipped",selected:"selected",readonly:"readonly",overlay:"overlay"},outputs:{changed:"changed"},features:[e.qOj],decls:1,vars:1,consts:[["class","ancestral-legacy","cdkOverlayOrigin","",3,"ranked","equipped","selected","readonly","hidden-search","click","contextmenu",4,"ngIf"],["cdkOverlayOrigin","",1,"ancestral-legacy",3,"click","contextmenu"],["trigger","cdkOverlayOrigin"],[1,"inner"],[3,"src"],[1,"rank"],[4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"ancestralLegacy"]],template:function(U,h){1&U&&e.YNc(0,C,7,15,"div",0),2&U&&e.Q6J("ngIf",null!==h.ancestralLegacy)},directives:[v.O5,l.xu,l.pI,c.q],styles:[".ancestral-legacy[_ngcontent-%COMP%]{position:relative;z-index:1;border-radius:50%;border:1px solid transparent}.ancestral-legacy[_ngcontent-%COMP%]:not(.readonly){cursor:pointer}.ancestral-legacy.selected[_ngcontent-%COMP%]{border:1px solid #841e06}.ancestral-legacy.hidden-search[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{opacity:.1}.ancestral-legacy.ranked.equipped[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{background-color:#d5ad48}.ancestral-legacy[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{position:absolute;background-color:#202020;padding:0 2px;bottom:0;right:0;font-size:4px;border-radius:4px}.ancestral-legacy[_ngcontent-%COMP%]   .rank.max[_ngcontent-%COMP%]{color:#edd371}.ancestral-legacy[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:#202020;border:1px solid black;border-radius:50%;width:16px;height:16px}.ancestral-legacy[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid black;width:12px;height:12px;border-radius:50%;overflow:hidden}.ancestral-legacy.readonly[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{width:40px;height:40px;border-width:4px}.ancestral-legacy.readonly[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-width:0;width:34px;height:34px}.ancestral-legacy.readonly[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{font-size:10px}"]}),y}()},9065:function(se,te,a){a.d(te,{q:function(){return v}});var H=a(5671),Q=a(3144),t=a(8313),u=a(5542),e=a(9808),g=a(5895);function D(l,c){if(1&l&&u._UZ(0,"div",17),2&l){var m=u.oxw(2);u.Q6J("innerHTML",m.ancestralLegacy.genresLabel,u.oJD)}}function Y(l,c){if(1&l&&u._UZ(0,"div",18),2&l){var m=u.oxw(2);u.Q6J("innerHTML",m.ancestralLegacy.cooldownLabel,u.oJD)}}function x(l,c){if(1&l&&u._UZ(0,"div",19),2&l){var m=u.oxw(2);u.Q6J("innerHTML",m.ancestralLegacy.costLabel,u.oJD)}}function w(l,c){if(1&l&&(u.TgZ(0,"div"),u.TgZ(1,"div",1),u._uU(2),u.qZA(),u.TgZ(3,"div",2),u.TgZ(4,"div",3),u.TgZ(5,"div",4),u.TgZ(6,"div",5),u._UZ(7,"div",6),u._UZ(8,"img",7),u.qZA(),u.qZA(),u.TgZ(9,"div",8),u._UZ(10,"div",9),u.YNc(11,D,1,1,"div",10),u.YNc(12,Y,1,1,"div",11),u._UZ(13,"div",12),u.YNc(14,x,1,1,"div",13),u.qZA(),u.qZA(),u._UZ(15,"div",14),u._UZ(16,"div",15),u._UZ(17,"app-mechanics-view",16),u.qZA(),u.qZA()),2&l){var m=u.oxw();u.Gre("ancestral-legacy ",m.ancestralLegacy.damageTypes.length>0?m.ancestralLegacy.damageTypes[0]:"",""),u.xp6(2),u.Oqu(m.ancestralLegacy.name),u.xp6(6),u.Q6J("src",m.ancestralLegacy.icon,u.LSH),u.xp6(2),u.Q6J("innerHTML",m.ancestralLegacy.typeLabel,u.oJD),u.xp6(1),u.Q6J("ngIf",null!==m.ancestralLegacy.genresLabel),u.xp6(1),u.Q6J("ngIf",null!==m.ancestralLegacy.cooldownLabel),u.xp6(1),u.Q6J("innerHTML",m.ancestralLegacy.rankLabel,u.oJD),u.xp6(1),u.Q6J("ngIf",null!==m.ancestralLegacy.costLabel),u.xp6(2),u.Q6J("innerHTML",m.ancestralLegacy.description,u.oJD),u.xp6(1),u.Q6J("mechanics",m.ancestralLegacy.relatedMechanics)("buffs",m.ancestralLegacy.relatedBuffs)}}var v=function(){var l=function(){function c(m){(0,H.Z)(this,c),this.slormancerTranslateService=m,this.NEXT_RANK_LABEL=this.slormancerTranslateService.translate("tt_next_rank"),this.MAX_RANK_LABEL=this.slormancerTranslateService.translate("tt_max_rank"),this.ancestralLegacy=null,this.hideNextRank=!1}return(0,Q.Z)(c,[{key:"getCostLabel",value:function(_){return this.slormancerTranslateService.translate("tt_"+_)}},{key:"getElementLabel",value:function(_){return this.slormancerTranslateService.translate("element_"+_)}}]),c}();return l.\u0275fac=function(m){return new(m||l)(u.Y36(t.n))},l.\u0275cmp=u.Xpm({type:l,selectors:[["app-ancestral-legacy-view"]],inputs:{ancestralLegacy:"ancestralLegacy",hideNextRank:"hideNextRank"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head"],[1,"content"],[1,"info"],[1,"visual"],[1,"icon"],[1,"icon-border"],[3,"src"],[1,"data"],[1,"type",3,"innerHTML"],["class","genre",3,"innerHTML",4,"ngIf"],["class","cooldown",3,"innerHTML",4,"ngIf"],[1,"rank",3,"innerHTML"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"separator"],[1,"description",3,"innerHTML"],[3,"mechanics","buffs"],[1,"genre",3,"innerHTML"],[1,"cooldown",3,"innerHTML"],[1,"cost",3,"innerHTML"]],template:function(m,_){1&m&&u.YNc(0,w,18,13,"div",0),2&m&&u.Q6J("ngIf",null!==_.ancestralLegacy)},directives:[e.O5,g.A],styles:[".ancestral-legacy[_ngcontent-%COMP%]{background-color:#090909;border:3px solid black;color:#fff;display:flex;flex-direction:column;max-width:400px}.ancestral-legacy[_ngcontent-%COMP%]  .description .value{color:#ce4607}.ancestral-legacy[_ngcontent-%COMP%]  .next-rank .value, .ancestral-legacy[_ngcontent-%COMP%]  .head, .ancestral-legacy[_ngcontent-%COMP%]  .rank .current, .ancestral-legacy[_ngcontent-%COMP%]  .cooldown .value{color:#bb1fe2}.ancestral-legacy[_ngcontent-%COMP%]  .range, .ancestral-legacy[_ngcontent-%COMP%]  .range .value, .ancestral-legacy[_ngcontent-%COMP%]  .details, .ancestral-legacy[_ngcontent-%COMP%]  .details .value, .ancestral-legacy[_ngcontent-%COMP%]  .formula, .ancestral-legacy[_ngcontent-%COMP%]  .formula .value{color:#686868}.ancestral-legacy[_ngcontent-%COMP%]  .affixes .range, .ancestral-legacy[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.ancestral-legacy[_ngcontent-%COMP%]  .life{color:#257539}.ancestral-legacy[_ngcontent-%COMP%]  .mana{color:#3397dd}.ancestral-legacy.mag[_ngcontent-%COMP%]  .value:not(.mana){color:#bb1fe2}.ancestral-legacy[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:3px solid #3c3931}.ancestral-legacy[_ngcontent-%COMP%]   .head.head[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.head[_ngcontent-%COMP%]{text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:20px;gap:20px;padding:10px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:10px;gap:10px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{display:flex;align-items:center}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border:3px solid #be871f;min-width:60px;min-height:60px;width:60px;height:60px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black;image-rendering:pixelated;width:54px;height:54px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-transform:uppercase;height:100%;flex-grow:1;padding:5px 0;grid-gap:5px;gap:5px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#3155bc}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]{display:flex;flex-direction:row}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{min-width:8px;padding-right:8px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;background-color:#ce4607;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}"]}),l}()},3729:function(se,te,a){a.d(te,{g:function(){return fe}});var H=a(5671),Q=a(3144),t=a(2652),u=a(311),e=a(5542),g=a(9808),D=a(9776),Y=a(136),x=a(7777),w=a(2722),v=a(2031),l=a(2424),c=a(6446);function m(q,X){if(1&q&&e._UZ(0,"div",9),2&q){var b=e.oxw(2);e.Q6J("innerHTML",b.trait.cumulativeStats,e.oJD)}}function _(q,X){if(1&q&&e._UZ(0,"div",9),2&q){var b=e.oxw(2);e.Q6J("innerHTML",b.trait.description,e.oJD)}}function C(q,X){if(1&q&&(e.ynx(0),e._UZ(1,"div",10),e._UZ(2,"div",11),e.BQk()),2&q){var b=e.oxw(2);e.xp6(2),e.Q6J("innerHTML",b.trait.unlockLabel,e.oJD)}}function k(q,X){if(1&q&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"span",4),e._uU(6),e.qZA(),e._uU(7," - "),e.TgZ(8,"span",5),e._uU(9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",6),e.YNc(11,m,1,1,"div",7),e.YNc(12,_,1,1,"div",7),e.YNc(13,C,3,1,"ng-container",8),e.qZA(),e.qZA()),2&q){var b=e.oxw();e.Gre("trait attribute-",b.trait.attribute,""),e.xp6(3),e.Oqu(b.trait.attributeName),e.xp6(3),e.Oqu(b.trait.rankLabel),e.xp6(3),e.Oqu(b.trait.traitLevelLabel),e.xp6(2),e.Q6J("ngIf",null!==b.trait.cumulativeStats),e.xp6(1),e.Q6J("ngIf",null!==b.trait.description),e.xp6(1),e.Q6J("ngIf",null!==b.trait.unlockLabel)}}var y=function(){var q=(0,Q.Z)(function X(){(0,H.Z)(this,X),this.trait=null});return q.\u0275fac=function(b){return new(b||q)},q.\u0275cmp=e.Xpm({type:q,selectors:[["app-trait-view"]],inputs:{trait:"trait"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head"],[1,"attribute"],[1,"subtitle"],[1,"rank"],[1,"level"],[1,"content"],["class","description",3,"innerHTML",4,"ngIf"],[4,"ngIf"],[1,"description",3,"innerHTML"],[1,"separator"],[1,"unlock",3,"innerHTML"]],template:function(b,K){1&b&&e.YNc(0,k,14,9,"div",0),2&b&&e.Q6J("ngIf",null!==K.trait)},directives:[g.O5],styles:[".trait[_ngcontent-%COMP%]{background-color:#151412;border:3px solid black;color:#fff;display:flex;flex-direction:column;grid-gap:5px;gap:5px;min-width:250px}.trait.attribute-0[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]     .value{color:#2f5996}.trait.attribute-1[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]     .value{color:#a83007}.trait.attribute-2[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]     .value{color:#79b549}.trait.attribute-3[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]     .value{color:#d0b545}.trait.attribute-4[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]     .value{color:#4bc1b2}.trait.attribute-5[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]     .value{color:#753098}.trait.attribute-6[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]     .value{color:#cd7028}.trait.attribute-7[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]     .value{color:#bf3c59}.trait[_ngcontent-%COMP%]  .range, .trait[_ngcontent-%COMP%]  .range .value, .trait[_ngcontent-%COMP%]  .details, .trait[_ngcontent-%COMP%]  .details .value, .trait[_ngcontent-%COMP%]  .formula, .trait[_ngcontent-%COMP%]  .formula .value{color:#686868}.trait[_ngcontent-%COMP%]  .affixes .range, .trait[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:3px solid #3c3931}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-transform:uppercase;padding:10px;grid-gap:2px;gap:2px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .attribute[_ngcontent-%COMP%]{font-size:19px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px 10px;grid-gap:20px;gap:20px;text-align:center}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}"]}),q}();function s(q,X){1&q&&e._UZ(0,"div",7)}function U(q,X){if(1&q&&e._UZ(0,"app-trait-view",9),2&q){var b=e.oxw(3);e.Q6J("trait",b.trait)}}function h(q,X){if(1&q&&e.YNc(0,U,1,1,"ng-template",8),2&q){e.oxw();var b=e.MAs(1),K=e.oxw();e.Q6J("cdkConnectedOverlayOpen",K.isMouseOver)("cdkConnectedOverlayOrigin",b)}}function M(q,X){if(1&q&&(e.TgZ(0,"div",1,2),e.YNc(2,s,1,0,"div",3),e.TgZ(3,"div",4),e._UZ(4,"div",5),e.qZA(),e.YNc(5,h,1,2,void 0,6),e.qZA()),2&q){var b=e.oxw();e.Gre("trait attribute-",b.trait.attribute,""),e.ekj("first",b.first)("last",b.last)("minor",b.isMinor(b.trait))("major",b.isMajor(b.trait))("greater",b.isGreater(b.trait))("active",b.unlocked)("bonus",b.bonus)("highlight",b.highlight)("hidden-by-search",b.isHiddenBySearch),e.xp6(2),e.Q6J("ngIf",b.trait.additive),e.xp6(3),e.Q6J("ngIf",b.isMouseOver)}}var E=function(){var q=function(X){(0,Y.Z)(K,X);var b=(0,x.Z)(K);function K(T){var B;return(0,H.Z)(this,K),(B=b.call(this)).searchService=T,B.trait=null,B.first=!1,B.last=!1,B.highlight=!1,B.unlocked=!1,B.bonus=!1,B.isMouseOver=!1,B.isHiddenBySearch=!1,B}return(0,Q.Z)(K,[{key:"onMouseEnter",value:function(){this.isMouseOver=!0}},{key:"onMouseLeave",value:function(){this.isMouseOver=!1}},{key:"ngOnInit",value:function(){var B=this;this.searchService.searchChanged.pipe((0,w.R)(this.unsubscribe)).subscribe(function(){return B.isHiddenBySearch=null!==B.trait&&!B.searchService.traitMatchSearch(B.trait)})}},{key:"isMinor",value:function(B){return B.traitLevel===v.y.Minor}},{key:"isMajor",value:function(B){return B.traitLevel===v.y.Major}},{key:"isGreater",value:function(B){return B.traitLevel===v.y.Greater}}]),K}(c.B);return q.\u0275fac=function(b){return new(b||q)(e.Y36(l.o))},q.\u0275cmp=e.Xpm({type:q,selectors:[["app-trait"]],hostBindings:function(b,K){1&b&&e.NdJ("mouseenter",function(){return K.onMouseEnter()})("mouseleave",function(){return K.onMouseLeave()})},inputs:{trait:"trait",first:"first",last:"last",highlight:"highlight",unlocked:"unlocked",bonus:"bonus"},features:[e.qOj],decls:1,vars:1,consts:[["cdkOverlayOrigin","",3,"class","first","last","minor","major","greater","active","bonus","highlight","hidden-by-search",4,"ngIf"],["cdkOverlayOrigin",""],["trigger","cdkOverlayOrigin"],["class","additive",4,"ngIf"],[1,"content"],[1,"node"],[4,"ngIf"],[1,"additive"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"trait"]],template:function(b,K){1&b&&e.YNc(0,M,6,23,"div",0),2&b&&e.Q6J("ngIf",null!==K.trait)},directives:[g.O5,D.xu,D.pI,y],styles:[".trait[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;position:relative;height:54px;width:8px;overflow:hidden;cursor:pointer}.trait.hidden-by-search[_ngcontent-%COMP%]{opacity:.2}.trait[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{position:absolute;width:4px;height:36px;left:4px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;border:4px solid black;background-color:#353535;overflow:hidden;border-left-width:0;border-right-width:0;height:30px;z-index:1}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{border:2px solid black;background-color:#202020;height:14px}.trait.attribute-0.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#2f5996}.trait.attribute-0.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#2f59964d}.trait.attribute-1.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#a83007}.trait.attribute-1.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#a830074d}.trait.attribute-2.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#79b549}.trait.attribute-2.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#79b5494d}.trait.attribute-3.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#d0b545}.trait.attribute-3.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#d0b5454d}.trait.attribute-4.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#4bc1b2}.trait.attribute-4.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#4bc1b24d}.trait.attribute-5.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#753098}.trait.attribute-5.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#7530984d}.trait.attribute-6.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#cd7028}.trait.attribute-6.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#cd70284d}.trait.attribute-7.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#bf3c59}.trait.attribute-7.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#bf3c594d}.trait.bonus[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#61f18f}.trait.bonus.highlight[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#61f18f4d}.trait[_ngcontent-%COMP%]:not(.greater)   .content[_ngcontent-%COMP%]{border-left-width:2px;border-right-width:2px}.trait.minor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .trait.greater[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-left-width:0;border-right-width:0}.trait.minor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.greater[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{width:8px}.trait.minor.first[_ngcontent-%COMP%]{width:10px}.trait.minor.first[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{border-left-width:4px;width:10px}.trait.major[_ngcontent-%COMP%]{width:12px}.trait.major[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-left-width:0;border-right-width:0}.trait.major[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{width:12px}.trait.greater[_ngcontent-%COMP%]{width:16px;position:relative}.trait.greater[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;position:absolute;transform:rotate(45deg);border-width:4px;height:36px;width:36px;left:-10px}.trait.greater[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{border-width:2px;width:14px;height:14px}.trait.greater[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{left:6px;height:54px}.trait.greater.last[_ngcontent-%COMP%]{width:32px}"]}),q}();function I(q,X){if(1&q&&e._UZ(0,"div",7),2&q){var b=e.oxw(2);e.Q6J("innerHTML",b.attributeTraits.summary,e.oJD)}}function S(q,X){if(1&q&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e._uU(8),e.qZA(),e.YNc(9,I,1,1,"div",6),e.qZA(),e.qZA()),2&q){var b=e.oxw();e.Gre("trait attribute-",b.attributeTraits.attribute,""),e.xp6(3),e.Oqu(b.attributeTraits.attributeName),e.xp6(2),e.Oqu(b.attributeTraits.title),e.xp6(3),e.Oqu(b.attributeTraits.recapLabel),e.xp6(1),e.Q6J("ngIf",null!==b.attributeTraits.summary)}}var W=function(){var q=(0,Q.Z)(function X(){(0,H.Z)(this,X),this.attributeTraits=null});return q.\u0275fac=function(b){return new(b||q)},q.\u0275cmp=e.Xpm({type:q,selectors:[["app-attribute-summary-view"]],inputs:{attributeTraits:"attributeTraits"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head"],[1,"attribute"],[1,"subtitle"],[1,"content"],[1,"info"],["class","description",3,"innerHTML",4,"ngIf"],[1,"description",3,"innerHTML"]],template:function(b,K){1&b&&e.YNc(0,S,10,7,"div",0),2&b&&e.Q6J("ngIf",null!==K.attributeTraits)},directives:[g.O5],styles:[".trait[_ngcontent-%COMP%]{background-color:#151412;border:3px solid black;color:#fff;display:flex;flex-direction:column;grid-gap:5px;gap:5px;min-width:250px}.trait.attribute-0[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]     .value{color:#2f5996}.trait.attribute-1[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]     .value{color:#a83007}.trait.attribute-2[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]     .value{color:#79b549}.trait.attribute-3[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]     .value{color:#d0b545}.trait.attribute-4[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]     .value{color:#4bc1b2}.trait.attribute-5[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]     .value{color:#753098}.trait.attribute-6[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]     .value{color:#cd7028}.trait.attribute-7[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]     .value{color:#bf3c59}.trait[_ngcontent-%COMP%]  .locked{color:#686868}.trait[_ngcontent-%COMP%]  .range, .trait[_ngcontent-%COMP%]  .range .value, .trait[_ngcontent-%COMP%]  .details, .trait[_ngcontent-%COMP%]  .details .value, .trait[_ngcontent-%COMP%]  .formula, .trait[_ngcontent-%COMP%]  .formula .value, .trait[_ngcontent-%COMP%]  .max, .trait[_ngcontent-%COMP%]  .max .value{color:#686868}.trait[_ngcontent-%COMP%]  .affixes .range, .trait[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:3px solid #3c3931}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-transform:uppercase;padding:10px;grid-gap:2px;gap:2px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .attribute[_ngcontent-%COMP%]{font-size:19px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px 10px;grid-gap:20px;gap:20px;text-align:center}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}"]}),q}(),V=a(7423),ie=a(3874);function G(q,X){if(1&q){var b=e.EpF();e.TgZ(0,"app-trait",9),e.NdJ("mouseenter",function(){var z=e.CHM(b).index;return e.oxw(2).nodeEnter(z)})("mouseleave",function(){return e.CHM(b),e.oxw(2).nodeLeave()})("click",function(){return e.CHM(b),e.oxw(2).nodeClick()}),e.qZA()}if(2&q){var K=X.$implicit,T=X.index,B=e.oxw(2);e.Q6J("trait",K)("first",0===T)("last",T===B.attribute.traits.length-1)("highlight",B.isHighlight(T))("bonus",B.isBonus(T))("unlocked",B.isUnlocked(T))}}function ue(q,X){if(1&q&&e._UZ(0,"app-attribute-summary-view",10),2&q){var b=e.oxw(2);e.Q6J("attributeTraits",b.attribute)}}function ge(q,X){if(1&q){var b=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(B){return e.CHM(b),e.oxw(2).addPoint(B)}),e.TgZ(1,"mat-icon"),e._uU(2,"add"),e.qZA(),e.qZA()}if(2&q){var K=e.oxw(2);e.Q6J("disabled",0===K.remainingPoints)}}function de(q,X){if(1&q){var b=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(B){return e.CHM(b),e.oxw(2).removePoint(B)}),e.TgZ(1,"mat-icon"),e._uU(2,"remove"),e.qZA(),e.qZA()}if(2&q){var K=e.oxw(2);e.Q6J("disabled",0===K.attribute.rank)}}function le(q,X){if(1&q){var b=e.EpF();e.TgZ(0,"div",1,2),e.TgZ(2,"img",3),e.NdJ("mouseenter",function(){return e.CHM(b),e.oxw().showSummary=!0})("mouseleave",function(){return e.CHM(b),e.oxw().showSummary=!1}),e.qZA(),e.TgZ(3,"div",4),e.NdJ("mouseenter",function(){return e.CHM(b),e.oxw().nodeEnter(-1)})("mouseleave",function(){return e.CHM(b),e.oxw().nodeLeave()})("click",function(){return e.CHM(b),e.oxw().nodeClick()}),e.qZA(),e.YNc(4,G,1,6,"app-trait",5),e.TgZ(5,"div",6),e._uU(6),e.qZA(),e.YNc(7,ue,1,1,"ng-template",7),e.YNc(8,ge,3,1,"button",8),e.YNc(9,de,3,1,"button",8),e.qZA()}if(2&q){var K=e.MAs(1),T=e.oxw();e.Gre("bar attribute-",T.attribute.attribute,""),e.ekj("icon-shift",T.iconShift)("readonly",T.readonly)("short",T.short),e.xp6(2),e.Q6J("src",T.attribute.icon,e.LSH),e.xp6(2),e.Q6J("ngForOf",T.attribute.traits),e.xp6(2),e.AsE(" +",T.attribute.rank+T.attribute.bonusRank," ",T.attribute.attributeName," "),e.xp6(1),e.Q6J("cdkConnectedOverlayOpen",T.showSummary)("cdkConnectedOverlayOrigin",K),e.xp6(1),e.Q6J("ngIf",!T.readonly),e.xp6(1),e.Q6J("ngIf",!T.readonly)}}var fe=function(){var q=function(){function X(b,K){(0,H.Z)(this,X),this.slormancerAttributeService=b,this.buildStorageService=K,this.attribute=null,this.remainingPoints=0,this.iconShift=!1,this.short=!1,this.readonly=!1,this.unlockedRange={min:0,max:0},this.highlightRange={min:0,max:0},this.bonusRange={min:0,max:0},this.cappedCursor=0,this.showSummary=!1}return(0,Q.Z)(X,[{key:"ngOnInit",value:function(){this.updateCursor()}},{key:"updateCursor",value:function(){var K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==this.attribute&&(null===K?(this.cappedCursor=this.attribute.rank,this.highlightRange={min:0,max:0},this.unlockedRange={min:0,max:this.attribute.rank},this.bonusRange={min:this.attribute.rank,max:this.attribute.rank+this.attribute.bonusRank}):(this.cappedCursor=Math.min(this.attribute.rank+this.remainingPoints,K+1),this.bonusRange={min:Math.max(this.cappedCursor,this.attribute.rank),max:this.attribute.rank+this.attribute.bonusRank},this.highlightRange=K<this.attribute.rank?{min:K+1,max:Math.max(this.attribute.rank,K+1)}:{min:this.attribute.rank,max:this.cappedCursor}))}},{key:"nodeEnter",value:function(K){this.updateCursor(K)}},{key:"nodeLeave",value:function(){this.updateCursor()}},{key:"setRank",value:function(K){null!==this.attribute&&this.attribute.rank!==K&&!this.readonly&&(this.attribute.rank=K,this.slormancerAttributeService.updateAttributeTraits(this.attribute),this.buildStorageService.saveLayer(),this.updateCursor())}},{key:"nodeClick",value:function(){null!==this.attribute&&this.setRank(this.cappedCursor)}},{key:"isUnlocked",value:function(K){return K>=this.unlockedRange.min&&K<this.unlockedRange.max}},{key:"isHighlight",value:function(K){return K>=this.highlightRange.min&&K<this.highlightRange.max}},{key:"isBonus",value:function(K){return K>=this.bonusRange.min&&K<this.bonusRange.max}},{key:"addPoint",value:function(K){null!==this.attribute&&this.remainingPoints>0&&this.setRank(this.attribute.rank+Math.min(this.remainingPoints,K.shiftKey?10:1))}},{key:"removePoint",value:function(K){null!==this.attribute&&this.attribute.rank>0&&this.setRank(this.attribute.rank-Math.min(this.attribute.rank,K.shiftKey?10:1))}}]),X}();return q.\u0275fac=function(b){return new(b||q)(e.Y36(t.Q),e.Y36(u.x))},q.\u0275cmp=e.Xpm({type:q,selectors:[["app-attribute-line"]],inputs:{attribute:"attribute",remainingPoints:"remainingPoints",iconShift:"iconShift",short:"short",readonly:"readonly"},decls:1,vars:1,consts:[["cdkOverlayOrigin","",3,"class","icon-shift","readonly","short",4,"ngIf"],["cdkOverlayOrigin",""],["trigger","cdkOverlayOrigin"],[3,"src","mouseenter","mouseleave"],[1,"pre-bar",3,"mouseenter","mouseleave","click"],[3,"trait","first","last","highlight","bonus","unlocked","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],[1,"total"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],["mat-icon-button","","color","primary",3,"disabled","click",4,"ngIf"],[3,"trait","first","last","highlight","bonus","unlocked","mouseenter","mouseleave","click"],[3,"attributeTraits"],["mat-icon-button","","color","primary",3,"disabled","click"]],template:function(b,K){1&b&&e.YNc(0,le,10,17,"div",0),2&b&&e.Q6J("ngIf",null!==K.attribute)},directives:[g.O5,D.xu,g.sg,D.pI,E,W,V.lW,ie.Hw],styles:['.bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:4px 0;position:relative;height:60px}.bar.icon-shift[_ngcontent-%COMP%]{margin-left:16px}.bar[_ngcontent-%COMP%]:before{content:" ";position:absolute;background-color:#353535;border:4px solid black;transform:rotate(45deg);width:38px;height:38px}.bar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:2;padding-left:1px}.bar[_ngcontent-%COMP%]   .pre-bar[_ngcontent-%COMP%]{background-color:#353535;border:4px solid black;margin-left:-6px;border-left:0;border-right:0;min-width:20px;width:20px;height:30px;z-index:1}.bar[_ngcontent-%COMP%]:not(.readonly)   .pre-bar[_ngcontent-%COMP%]{cursor:pointer}.bar[_ngcontent-%COMP%]:not(.icon-shift)   .pre-bar[_ngcontent-%COMP%]{width:36px}.bar[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{display:none;background-color:#353535;border:4px solid black;font-weight:700;border-left:0;width:130px;height:30px}.bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}.bar.short[_ngcontent-%COMP%]   app-trait[_ngcontent-%COMP%]{display:none}.bar.short[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}@media (max-width: 768px){.bar[_ngcontent-%COMP%]   app-trait[_ngcontent-%COMP%]{display:none}.bar[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}}.bar.attribute-0[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#2f5996}.bar.attribute-1[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#a83007}.bar.attribute-2[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#79b549}.bar.attribute-3[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#d0b545}.bar.attribute-4[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#4bc1b2}.bar.attribute-5[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#753098}.bar.attribute-6[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#cd7028}.bar.attribute-7[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#bf3c59}']}),q}()},7614:function(se,te,a){a.d(te,{q:function(){return ze}});var H=a(5671),Q=a(3144),t=a(5542),u=a(4456),e=a(648),g=a(9808),D=a(6538),Y=["animation"],x=function(){var P=function(){function R(){(0,H.Z)(this,R),this.heroClass=null,this.suffix="",this.flipAnimation=!1,this.animation=null}return(0,Q.Z)(R,[{key:"mouseMoved",value:function(r){if(null!==this.animation){var J=this.animation.nativeElement.getBoundingClientRect().left+this.animation.nativeElement.clientWidth/2<r.clientX;this.flipAnimation!==J&&(this.flipAnimation=J)}}},{key:"ngOnInit",value:function(){}}]),R}();return P.\u0275fac=function(d){return new(d||P)},P.\u0275cmp=t.Xpm({type:P,selectors:[["app-character-animation"]],viewQuery:function(d,r){var L;1&d&&t.Gf(Y,5),2&d&&t.iGM(L=t.CRH())&&(r.animation=L.first)},hostBindings:function(d,r){1&d&&t.NdJ("mousemove",function(Z){return r.mouseMoved(Z)},!1,t.Jf7)},inputs:{heroClass:"heroClass",suffix:"suffix"},decls:6,vars:10,consts:[[1,"character-animation"],["animation",""],[1,"idle-1",3,"src"],[1,"idle-2",3,"src"],[1,"idle-3",3,"src"],[1,"idle-4",3,"src"]],template:function(d,r){1&d&&(t.TgZ(0,"div",0,1),t._UZ(2,"img",2),t._UZ(3,"img",3),t._UZ(4,"img",4),t._UZ(5,"img",5),t.qZA()),2&d&&(t.ekj("flip",r.flipAnimation),t.xp6(2),t.hYB("src","assets/img/character/idle/",r.heroClass,"/0",r.suffix?"_"+r.suffix:r.suffix,".png",t.LSH),t.xp6(1),t.hYB("src","assets/img/character/idle/",r.heroClass,"/1",r.suffix?"_"+r.suffix:r.suffix,".png",t.LSH),t.xp6(1),t.hYB("src","assets/img/character/idle/",r.heroClass,"/2",r.suffix?"_"+r.suffix:r.suffix,".png",t.LSH),t.xp6(1),t.hYB("src","assets/img/character/idle/",r.heroClass,"/3",r.suffix?"_"+r.suffix:r.suffix,".png",t.LSH))},styles:[".character-animation[_ngcontent-%COMP%]{position:relative;height:144px;width:88px}.character-animation.flip[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scaleX(-1)}.character-animation[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;image-rendering:pixelated;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear}.character-animation[_ngcontent-%COMP%]   img.idle-1[_ngcontent-%COMP%]{animation-name:idle-1}.character-animation[_ngcontent-%COMP%]   img.idle-2[_ngcontent-%COMP%]{animation-name:idle-2}.character-animation[_ngcontent-%COMP%]   img.idle-3[_ngcontent-%COMP%]{animation-name:idle-3}.character-animation[_ngcontent-%COMP%]   img.idle-4[_ngcontent-%COMP%]{animation-name:idle-4}@keyframes idle-1{0%{opacity:1}25%{opacity:1}26%{opacity:0}99%{opacity:0}to{opacity:1}}@keyframes idle-2{0%{opacity:0}24%{opacity:0}25%{opacity:1}50%{opacity:1}51%{opacity:0}to{opacity:0}}@keyframes idle-3{0%{opacity:0}49%{opacity:0}50%{opacity:1}75%{opacity:1}76%{opacity:0}to{opacity:0}}@keyframes idle-4{0%{opacity:1}1%{opacity:0}74%{opacity:0}75%{opacity:1}to{opacity:1}}"]}),P}(),w=a(7469),v=a(3075),l=a(8966),c=a(4373),m=a(1375),_=a(1682),C=a(3300);function k(P,R){if(1&P&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t._UZ(2,"div",3),t._UZ(3,"div",4),t.qZA(),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t.TgZ(6,"div",7),t.TgZ(7,"div",8),t.TgZ(8,"div",9),t.TgZ(9,"div",10),t._UZ(10,"img",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",12),t.TgZ(12,"div",13),t.TgZ(13,"div",14),t._uU(14),t.qZA(),t._UZ(15,"div",15),t.qZA(),t.TgZ(16,"div",16),t.TgZ(17,"div",14),t._uU(18),t.qZA(),t._UZ(19,"div",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",17),t._UZ(21,"img",11),t.qZA(),t.qZA(),t.qZA()),2&P){var d=t.oxw();t.xp6(2),t.Q6J("innerHTML",d.ultimatum.title,t.oJD),t.xp6(1),t.Q6J("innerHTML",d.ultimatum.levelLabel,t.oJD),t.xp6(7),t.MGl("src","assets/img/icon/",d.ultimatum.icon,".png",t.LSH),t.xp6(4),t.Oqu(d.ultimatum.bonusTitle),t.xp6(1),t.Q6J("innerHTML",d.ultimatum.bonusLabel,t.oJD),t.xp6(3),t.Oqu(d.ultimatum.malusTitle),t.xp6(1),t.Q6J("innerHTML",d.ultimatum.malusLabel,t.oJD),t.xp6(2),t.MGl("src","assets/img/icon/",d.ultimatum.levelIcon,".png",t.LSH)}}var y=function(){var P=(0,Q.Z)(function R(){(0,H.Z)(this,R),this.ultimatum=null});return P.\u0275fac=function(d){return new(d||P)},P.\u0275cmp=t.Xpm({type:P,selectors:[["app-ultimatum-view"]],inputs:{ultimatum:"ultimatum"},decls:1,vars:1,consts:[["class","ultimatum slormancer-tooltip",4,"ngIf"],[1,"ultimatum","slormancer-tooltip"],[1,"head","inner-box"],[1,"title",3,"innerHTML"],[1,"level",3,"innerHTML"],[1,"content","inner-box"],[1,"data"],[1,"visual"],[1,"background"],[1,"inner-background"],[1,"ultimatum"],[3,"src"],[1,"info"],[1,"bonus"],[1,"title"],[3,"innerHTML"],[1,"malus"],[1,"bottom-level"]],template:function(d,r){1&d&&t.YNc(0,k,22,8,"div",0),2&d&&t.Q6J("ngIf",null!==r.ultimatum)},directives:[g.O5],styles:[".ultimatum[_ngcontent-%COMP%]{width:350px}.ultimatum[_ngcontent-%COMP%]  .value, .ultimatum[_ngcontent-%COMP%]  .rank .current{color:#ce4607}.ultimatum[_ngcontent-%COMP%]  .range, .ultimatum[_ngcontent-%COMP%]  .range .value, .ultimatum[_ngcontent-%COMP%]  .details, .ultimatum[_ngcontent-%COMP%]  .details .value, .ultimatum[_ngcontent-%COMP%]  .formula, .ultimatum[_ngcontent-%COMP%]  .formula .value{color:#686868}.ultimatum[_ngcontent-%COMP%]  .affixes .range, .ultimatum[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.ultimatum[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase}.ultimatum[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{font-size:80%}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:16px;gap:16px;padding:20px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:16px;gap:16px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{border:3px solid black;background-color:#3c3c3c;border-radius:10%;padding:3px;width:60px;height:70px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;border:3px solid black;background-color:#471712;border-radius:10%;width:100%;height:100%}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]{width:0;height:0}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:translate(-50%,-50%);width:72px;height:72px;image-rendering:pixelated}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:16px;gap:16px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:105%}"]}),P}(),s=a(7322),U=a(7531),h=a(4102),M=a(7423),E=a(508);function I(P,R){if(1&P&&(t.TgZ(0,"mat-option",15),t._UZ(1,"span",16),t.qZA()),2&P){var d=R.$implicit;t.Q6J("value",d.value),t.xp6(1),t.Q6J("innerHTML",d.label,t.oJD)}}function S(P,R){if(1&P){var d=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){return t.CHM(d),t.oxw().submit()}),t._UZ(1,"input",2),t.TgZ(2,"mat-dialog-content"),t.TgZ(3,"div",3),t._UZ(4,"app-ultimatum-view",4),t.qZA(),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"mat-form-field",7),t.TgZ(8,"mat-label"),t._uU(9,"Ultimatum level"),t.qZA(),t._UZ(10,"input",8),t.TgZ(11,"mat-error"),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",6),t.TgZ(14,"mat-form-field",9),t.TgZ(15,"mat-label"),t._uU(16,"Ultimatum type"),t.qZA(),t.TgZ(17,"mat-select",10),t.YNc(18,I,2,2,"mat-option",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"mat-dialog-actions"),t.TgZ(20,"button",12),t._uU(21,"Cancel"),t.qZA(),t.TgZ(22,"button",13),t.NdJ("click",function(){return t.CHM(d),t.oxw().reset()}),t._uU(23,"Reset"),t.qZA(),t.TgZ(24,"button",14),t._uU(25,"Submit"),t.qZA(),t.qZA(),t.qZA()}if(2&P){var r=t.oxw();t.Q6J("formGroup",r.form),t.xp6(4),t.Q6J("ultimatum",r.ultimatum),t.xp6(8),t.hij("Level must be between 1 and ",r.ULTIMATUM_MAX_LEVEL,""),t.xp6(6),t.Q6J("ngForOf",r.options)}}var W=function(){var P=function(){function R(d,r,L,Z){(0,H.Z)(this,R),this.dialogRef=d,this.slormancerUltimatumService=r,this.formOptionsService=L,this.ULTIMATUM_MAX_LEVEL=c.cK,this.options=[],this.originalUltimatum=null===Z.ultimatum?this.slormancerUltimatumService.getUltimatum(m.R.AdamantAbundance,1):this.slormancerUltimatumService.getUltimatumClone(Z.ultimatum),this.ultimatum=this.originalUltimatum,this.options=this.formOptionsService.getUltimatumOptions(),this.reset()}return(0,Q.Z)(R,[{key:"reset",value:function(){Object.assign(this.ultimatum,this.originalUltimatum),this.form=this.buildForm()}},{key:"submit",value:function(){this.form.valid&&this.dialogRef.close(this.ultimatum)}},{key:"updatePreview",value:function(r){if(r.valid){var L=r.value;this.ultimatum=this.slormancerUltimatumService.getUltimatum(L.type,L.level)}}},{key:"buildForm",value:function(){var r=this,L=new v.cw({level:new v.NI(this.ultimatum.level,[v.kI.required,v.kI.min(1),v.kI.max(c.cK)]),type:new v.NI(this.ultimatum.type,[v.kI.required])});return L.valueChanges.subscribe(function(){r.updatePreview(L)}),this.updatePreview(L),L}}]),R}();return P.\u0275fac=function(d){return new(d||P)(t.Y36(l.so),t.Y36(_.h),t.Y36(C.K),t.Y36(l.WI))},P.\u0275cmp=t.Xpm({type:P,selectors:[["app-ultimatum-edit-modal"]],decls:1,vars:1,consts:[["autocomplete","off",3,"formGroup","submit",4,"ngIf"],["autocomplete","off",3,"formGroup","submit"],["autocomplete","false","name","hidden","type","text",2,"display","none"],[1,"preview"],[3,"ultimatum"],[1,"form"],[1,"stat-line"],["appearance","outline"],["matInput","","type","number","step","1","formControlName","level"],["appearance","outline","color","primary",1,"no-error-padding"],["formControlName","type","color","primary"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","button","color","primary",3,"click"],["mat-flat-button","","type","submit","color","primary"],[3,"value"],[3,"innerHTML"]],template:function(d,r){1&d&&t.YNc(0,S,26,4,"form",0),2&d&&t.Q6J("ngIf",null!==r.form&&null!==r.ultimatum)},directives:[g.O5,v._Y,v.JL,v.sg,l.xY,y,s.KE,s.hX,U.Nt,v.wV,v.Fj,v.JJ,v.u,s.TO,h.gD,g.sg,l.H8,M.lW,l.ZT,E.ey],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:20px;gap:20px;flex-grow:1}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]{flex-direction:column}}mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{max-width:350px}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{display:none;visibility:hidden}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;align-items:stretch;flex-grow:1;width:200px}"]}),P}(),V=a(9776);function ie(P,R){if(1&P&&t._UZ(0,"app-ultimatum-view",8),2&P){var d=t.oxw(3);t.Q6J("ultimatum",d.ultimatum)}}function G(P,R){if(1&P&&t.YNc(0,ie,1,1,"ng-template",7),2&P){t.oxw(2);var d=t.MAs(1);t.Q6J("cdkConnectedOverlayOpen",!0)("cdkConnectedOverlayOrigin",d)}}function ue(P,R){if(1&P&&(t.TgZ(0,"div",4),t._UZ(1,"img",5),t.YNc(2,G,1,2,void 0,6),t.qZA()),2&P){var d=t.oxw();t.xp6(1),t.MGl("src","assets/img/icon/",d.ultimatum.icon,".png",t.LSH),t.xp6(1),t.Q6J("ngIf",d.overlay&&d.showOverlay)}}var ge=function(){var P=function(){function R(d,r){(0,H.Z)(this,R),this.dialog=d,this.itemMoveService=r,this.ultimatum=null,this.overlay=!0,this.readonly=!1,this.changed=new t.vpe,this.showOverlay=!1}return(0,Q.Z)(R,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"onMouseContextMenu",value:function(){return this.readonly||this.itemMoveService.releaseHoldItem(),!1}},{key:"edit",value:function(){var r=this;this.readonly||this.dialog.open(W,{data:{ultimatum:this.ultimatum}}).afterClosed().subscribe(function(Z){Z&&r.changed.emit(Z)})}}]),R}();return P.\u0275fac=function(d){return new(d||P)(t.Y36(l.uw),t.Y36(w.v))},P.\u0275cmp=t.Xpm({type:P,selectors:[["app-ultimatum-slot"]],hostBindings:function(d,r){1&d&&t.NdJ("mouseenter",function(){return r.onOver()})("mouseleave",function(){return r.onLeave()})("contextmenu",function(){return r.onMouseContextMenu()})},inputs:{ultimatum:"ultimatum",overlay:"overlay",readonly:"readonly"},outputs:{changed:"changed"},decls:4,vars:3,consts:[["cdkOverlayOrigin","",1,"background",3,"click"],["trigger","cdkOverlayOrigin"],[1,"inner-background"],["class","ultimatum",4,"ngIf"],[1,"ultimatum"],[3,"src"],[4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"ultimatum"]],template:function(d,r){1&d&&(t.TgZ(0,"div",0,1),t.NdJ("click",function(){return!r.readonly&&r.edit()}),t.TgZ(2,"div",2),t.YNc(3,ue,3,2,"div",3),t.qZA(),t.qZA()),2&d&&(t.ekj("readonly",r.readonly),t.xp6(3),t.Q6J("ngIf",null!==r.ultimatum))},directives:[V.xu,g.O5,V.pI,y],styles:[".background[_ngcontent-%COMP%]{border:3px solid black;background-color:#3c3c3c;border-radius:10%;padding:3px;width:60px;height:70px}.background[_ngcontent-%COMP%]:not(.readonly){cursor:pointer}.background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;border:3px solid black;background-color:#471712;border-radius:10%;width:100%;height:100%}.background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]{width:0;height:0}.background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:translate(-50%,-50%);width:72px;height:72px;image-rendering:pixelated}"]}),P}(),de=a(3874),le=a(7238),fe=a(4902),q=a(136),X=a(7777),b=a(2525),K=a(2722),T=a(7399),B=a(5832),A=a(5581),j=a(311),z=a(6446);function me(P,R){if(1&P){var d=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){return t.CHM(d),t.oxw().submit()}),t.TgZ(1,"h2",2),t._uU(2,"Choose your hero level"),t.qZA(),t.TgZ(3,"mat-dialog-content"),t.TgZ(4,"mat-form-field",3),t.TgZ(5,"mat-label"),t._uU(6,"Hero level"),t.qZA(),t._UZ(7,"input",4),t.TgZ(8,"mat-error"),t._uU(9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"mat-dialog-actions"),t.TgZ(11,"button",5),t._uU(12,"Cancel"),t.qZA(),t.TgZ(13,"button",6),t._uU(14,"Submit"),t.qZA(),t.qZA(),t.qZA()}if(2&P){var r=t.oxw();t.Q6J("formGroup",r.form),t.xp6(9),t.hij("Level must be between 1 and ",r.MAX_HERO_LEVEL,""),t.xp6(2),t.Q6J("mat-dialog-close",null)}}var F=function(){var P=function(){function R(d,r){(0,H.Z)(this,R),this.dialogRef=d,this.MAX_HERO_LEVEL=c.AR,this.form=new v.cw({level:new v.NI(r.level,[v.kI.min(1),v.kI.max(c.AR)])})}return(0,Q.Z)(R,[{key:"submit",value:function(){this.form.markAllAsTouched(),this.form.valid&&this.dialogRef.close(this.form.value.level)}}]),R}();return P.\u0275fac=function(d){return new(d||P)(t.Y36(l.so),t.Y36(l.WI))},P.\u0275cmp=t.Xpm({type:P,selectors:[["app-character-level-edit-modal"]],decls:1,vars:1,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],["mat-dialog-title",""],["appearance","outline"],["matInput","","type","number","step","1","formControlName","level"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary"]],template:function(d,r){1&d&&t.YNc(0,me,15,3,"form",0),2&d&&t.Q6J("ngIf",null!==r.form)},directives:[g.O5,v._Y,v.JL,v.sg,l.uh,l.xY,s.KE,s.hX,U.Nt,v.wV,v.Fj,v.JJ,v.u,s.TO,l.H8,M.lW,l.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:8px;gap:8px}"]}),P}();function ve(P,R){if(1&P){var d=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){return t.CHM(d),t.oxw().submit()}),t.TgZ(1,"h2",2),t._uU(2,"Choose the new item reinforcment"),t.qZA(),t.TgZ(3,"mat-dialog-content"),t.TgZ(4,"mat-form-field",3),t.TgZ(5,"mat-label"),t._uU(6,"Reinforcment"),t.qZA(),t._UZ(7,"input",4),t.TgZ(8,"mat-error"),t._uU(9,"Reinforcment must be positive"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"mat-dialog-actions"),t.TgZ(11,"button",5),t._uU(12,"Cancel"),t.qZA(),t.TgZ(13,"button",6),t._uU(14,"Submit"),t.qZA(),t.qZA(),t.qZA()}if(2&P){var r=t.oxw();t.Q6J("formGroup",r.form),t.xp6(11),t.Q6J("mat-dialog-close",null)}}var Ne=function(){var P=function(){function R(d,r){(0,H.Z)(this,R),this.dialogRef=d,this.MAX_HERO_LEVEL=c.AR,this.form=new v.cw({reinforcment:new v.NI(r.reinforcment,[v.kI.min(0)])})}return(0,Q.Z)(R,[{key:"submit",value:function(){this.form.markAllAsTouched(),this.form.valid&&this.dialogRef.close(this.form.value.reinforcment)}}]),R}();return P.\u0275fac=function(d){return new(d||P)(t.Y36(l.so),t.Y36(l.WI))},P.\u0275cmp=t.Xpm({type:P,selectors:[["app-item-reinforcment-edit-modal"]],decls:1,vars:1,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],["mat-dialog-title",""],["appearance","outline"],["matInput","","type","number","step","1","formControlName","reinforcment"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary"]],template:function(d,r){1&d&&t.YNc(0,ve,15,2,"form",0),2&d&&t.Q6J("ngIf",null!==r.form)},directives:[g.O5,v._Y,v.JL,v.sg,l.uh,l.xY,s.KE,s.hX,U.Nt,v.wV,v.Fj,v.JJ,v.u,s.TO,l.H8,M.lW,l.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),P}(),ke=a(7762),he=a(4942),ce=a(2206),Oe=a(9377),Pe=a(7795);function pe(P,R){if(1&P){var d=t.EpF();t.TgZ(0,"p",7),t.NdJ("click",function(){var ne=t.CHM(d).index;return t.oxw().removeStat(ne)}),t._uU(1),t.qZA()}if(2&P){var r=R.$implicit,L=R.index;t.xp6(1),t.AsE("#",L+1," : ",r.label,"")}}function Be(P,R){if(1&P&&(t.TgZ(0,"mat-option",8),t._uU(1),t.qZA()),2&P){var d=R.$implicit;t.Q6J("value",d),t.xp6(1),t.Oqu(d.label)}}var Le=function(){var P=function(){function R(d,r,L,Z,J,ne){var oe=this;(0,H.Z)(this,R),this.dialogRef=d,this.slormancerItemService=L,this.slormancerDataService=Z,this.slormancerAffixService=J,this.formOptionsService=ne,this.options=this.formOptionsService.getAllStatsoptions(),this.selectedStats=[],this.statControl=new v.NI,this.items=r.items,this.statControl.valueChanges.subscribe(function(_e){null!==_e&&(oe.selectedStats.push(_e),oe.updateOptions(),oe.statControl.setValue(null))})}return(0,Q.Z)(R,[{key:"updateOptions",value:function(){var r=this;this.options=this.formOptionsService.getAllStatsoptions().filter(function(L){return!r.selectedStats.includes(L)})}},{key:"applyStatsToItem",value:function(r){var L,Z,J=this,ne=[ce.u.Normal,ce.u.Magic,ce.u.Rare,ce.u.Epic],oe=((0,he.Z)(L={},ce.u.Normal,this.slormancerDataService.getBaseMaxBasicStat(r.base)),(0,he.Z)(L,ce.u.Magic,1),(0,he.Z)(L,ce.u.Rare,1),(0,he.Z)(L,ce.u.Epic,3),L),_e=((0,he.Z)(Z={},ce.u.Normal,this.formOptionsService.getStatsOptions(r.base,ce.u.Normal)),(0,he.Z)(Z,ce.u.Magic,this.formOptionsService.getStatsOptions(r.base,ce.u.Magic)),(0,he.Z)(Z,ce.u.Rare,this.formOptionsService.getStatsOptions(r.base,ce.u.Rare)),(0,he.Z)(Z,ce.u.Epic,this.formOptionsService.getStatsOptions(r.base,ce.u.Epic)),Z);r.affixes=[];var we,Ee=(0,ke.Z)(this.selectedStats);try{for(Ee.s();!(we=Ee.n()).done;){var Je,Ue=we.value,Ae=(0,ke.Z)(ne);try{var $e=function(){var be=Je.value;if(r.affixes.filter(function(at){return at.rarity===be}).length<oe[be]&&_e[be].includes(Ue)){var He=J.slormancerAffixService.getAffixFromStat(Ue.value,r.level,r.reinforcment,be);if(null!==He)return r.affixes.push(He),"break"}};for(Ae.s();!(Je=Ae.n()).done&&"break"!==$e(););}catch(Ce){Ae.e(Ce)}finally{Ae.f()}}}catch(Ce){Ee.e(Ce)}finally{Ee.f()}for(;r.affixes.filter(function(Ce){return Ce.rarity===ce.u.Normal}).length<oe[ce.u.Normal];){var De=_e[ce.u.Normal].find(function(Ce){return void 0===r.affixes.find(function(be){return be.craftedEffect.effect.stat===Ce.value})});if(void 0!==De){var Re=this.slormancerAffixService.getAffixFromStat(De.value,r.level,r.reinforcment,ce.u.Normal);null!==Re&&r.affixes.push(Re)}}this.slormancerItemService.updateEquipableItemModel(r),this.slormancerItemService.updateEquipableItemView(r)}},{key:"applyStats",value:function(){var L,r=(0,ke.Z)(this.items);try{for(r.s();!(L=r.n()).done;)this.applyStatsToItem(L.value)}catch(J){r.e(J)}finally{r.f()}this.dialogRef.close(!0)}},{key:"removeStat",value:function(r){this.selectedStats.splice(r,1),this.updateOptions()}}]),R}();return P.\u0275fac=function(d){return new(d||P)(t.Y36(l.so),t.Y36(l.WI),t.Y36(B.S),t.Y36(Pe.o),t.Y36(Oe.l),t.Y36(C.K))},P.\u0275cmp=t.Xpm({type:P,selectors:[["app-optimize-items-stats-modal"]],decls:18,vars:7,consts:[["mat-dialog-title",""],["class","stat",3,"click",4,"ngFor","ngForOf"],["appearance","outline","color","primary",1,"no-error-padding"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","button","color","primary",3,"disabled","click"],[1,"stat",3,"click"],[3,"value"]],template:function(d,r){1&d&&(t.TgZ(0,"h2",0),t._uU(1,"Choose the stats you want for your items"),t.qZA(),t.TgZ(2,"mat-dialog-content"),t.TgZ(3,"p"),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6,"Items will loose their affixes before being updated."),t.qZA(),t.YNc(7,pe,2,2,"p",1),t.TgZ(8,"mat-form-field",2),t.TgZ(9,"mat-label"),t._uU(10),t.qZA(),t.TgZ(11,"mat-select",3),t.YNc(12,Be,2,2,"mat-option",4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"mat-dialog-actions"),t.TgZ(14,"button",5),t._uU(15,"Cancel"),t.qZA(),t.TgZ(16,"button",6),t.NdJ("click",function(){return r.applyStats()}),t._uU(17,"Apply"),t.qZA(),t.qZA()),2&d&&(t.xp6(4),t.hij("Each stat below will be applied in order to the ",r.items.length>1?r.items.length+" selected items":"selected item"," (at maximum crafting value) using the first available affix slot."),t.xp6(3),t.Q6J("ngForOf",r.selectedStats),t.xp6(3),t.Oqu(r.selectedStats.length>0?"Add another stat":"Choose a stat"),t.xp6(1),t.Q6J("formControl",r.statControl),t.xp6(1),t.Q6J("ngForOf",r.options),t.xp6(2),t.Q6J("mat-dialog-close",!1),t.xp6(2),t.Q6J("disabled",0===r.selectedStats.length))},directives:[l.uh,l.xY,g.sg,s.KE,s.hX,h.gD,v.JJ,v.oH,l.H8,M.lW,l.ZT,E.ey],styles:[".stat[_ngcontent-%COMP%]{cursor:pointer;padding-left:4px}@media (max-width: 768px){.stat[_ngcontent-%COMP%]{padding-left:0}}.stat[_ngcontent-%COMP%]:hover{opacity:.6}mat-form-field[_ngcontent-%COMP%]{width:200px}@media (max-width: 768px){mat-form-field[_ngcontent-%COMP%]{width:100%}}"]}),P}(),Me=a(8223);function ye(P,R){if(1&P){var d=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(d),t.oxw(2).optimizeReaperEnchantments()}),t._uU(1,"Optimize items for Reaper"),t.qZA()}}function xe(P,R){if(1&P&&(t.TgZ(0,"button",11),t._uU(1,"Optimize items for Attribute"),t.qZA()),2&P){t.oxw(2);var d=t.MAs(6);t.Q6J("matMenuTriggerFor",d)}}function Te(P,R){if(1&P&&(t.TgZ(0,"button",11),t._uU(1,"Optimize items for Skill"),t.qZA()),2&P){t.oxw(2);var d=t.MAs(9);t.Q6J("matMenuTriggerFor",d)}}function qe(P,R){if(1&P){var d=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(d),t.oxw(2).optimizeItemsStats()}),t._uU(1,"Optimise items stats"),t.qZA()}}function Qe(P,R){if(1&P){var d=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(d),t.oxw(2).maximizeItemsLevel()}),t._uU(1,"Maximize items level"),t.qZA()}}function Fe(P,R){if(1&P){var d=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(d),t.oxw(2).changeReinforcmentLevel()}),t._uU(1,"Change items reinforcment level"),t.qZA()}}function Ye(P,R){if(1&P){var d=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(d),t.oxw().editCharacterLevel()}),t._uU(1,"Change hero level"),t.qZA(),t.YNc(2,ye,2,0,"button",9),t.YNc(3,xe,2,1,"button",10),t.YNc(4,Te,2,1,"button",10),t.YNc(5,qe,2,0,"button",9),t.YNc(6,Qe,2,0,"button",9),t.YNc(7,Fe,2,0,"button",9)}if(2&P){var r=t.oxw();t.xp6(2),t.Q6J("ngIf",null!==r.character&&null!==r.character.reaper&&r.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==r.character&&r.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==r.character&&r.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==r.character&&r.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==r.character&&r.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==r.character&&r.hasItems())}}function Ve(P,R){if(1&P){var d=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){var J=t.CHM(d).$implicit;return t.oxw().optimizeAttributeEnchantments(J)}),t._UZ(1,"img",13),t._UZ(2,"div",14),t.qZA()}if(2&P){var r=R.$implicit;t.xp6(1),t.Q6J("src",r.icon,t.LSH),t.xp6(1),t.Q6J("innerHTML",r.attributeName,t.oJD)}}function Ke(P,R){if(1&P){var d=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){var J=t.CHM(d).$implicit;return t.oxw().optimizeSkillEnchantments(J)}),t._UZ(1,"img",15),t._UZ(2,"div",14),t.qZA()}if(2&P){var r=R.$implicit;t.xp6(1),t.Q6J("src","assets/img/icon/"+r.icon+".png",t.LSH),t.xp6(1),t.Q6J("innerHTML",r.name,t.oJD)}}var We=function(){var P=function(R){(0,q.Z)(r,R);var d=(0,X.Z)(r);function r(L,Z,J,ne){var oe;return(0,H.Z)(this,r),(oe=d.call(this)).buildStorageService=L,oe.dialog=Z,oe.messageService=J,oe.slormancerItemService=ne,oe.character=null,oe.menu=null,oe}return(0,Q.Z)(r,[{key:"ngOnInit",value:function(){var Z=this;this.buildStorageService.layerChanged.pipe((0,K.R)(this.unsubscribe)).subscribe(function(J){return Z.character=null===J?null:J.character})}},{key:"openCharacterSettings",value:function(){return null!==this.menu&&this.menu.openMenu(),!1}},{key:"editCharacterLevel",value:function(){var Z=this;null!==this.character&&this.dialog.open(F,{data:{level:this.character.level}}).afterClosed().subscribe(function(J){J&&null!==Z.character&&(Z.character.level=J)})}},{key:"getGearItems",value:function(){var Z=[],J=this.character;return null!==J&&(Z=e.PL.map(function(ne){return J.gear[ne]}).filter(A.BX)),Z}},{key:"hasItems",value:function(){return this.getGearItems().length>0}},{key:"optimizeReaperEnchantments",value:function(){var Z=this;if(null!==this.character){var J=this.slormancerItemService.getReaperEnchantment(this.character.reaper.smith.id,5),ne="";this.getGearItems().forEach(function(oe){oe.reaperEnchantment=Z.slormancerItemService.getReaperEnchantmentClone(J),Z.slormancerItemService.updateEquipableItemModel(oe),Z.slormancerItemService.updateEquipableItemView(oe),ne=oe.reaperEnchantment.icon}),this.buildStorageService.saveLayer(),this.messageService.message('All equipped items optimized for <img src="'+ne+'"> '+this.character.reaper.smith.name)}}},{key:"getTraits",value:function(){var Z=[],J=this.character;return null!==J&&(Z=T.A.map(function(ne){return J.attributes.allocated[ne]})),Z}},{key:"optimizeAttributeEnchantments",value:function(Z){var J=this;if(null!==this.character&&null!==this.character.reaper){var ne=this.slormancerItemService.getAttributeEnchantment(Z.attribute,3),oe="";this.getGearItems().forEach(function(_e){_e.attributeEnchantment=J.slormancerItemService.getAttributeEnchantmentClone(ne),J.slormancerItemService.updateEquipableItemModel(_e),J.slormancerItemService.updateEquipableItemView(_e),oe=_e.attributeEnchantment.icon}),this.buildStorageService.saveLayer(),this.messageService.message('All equipped items optimized for <img src="'+oe+'"> '+Z.attributeName)}}},{key:"getSkills",value:function(){var Z=[],J=this.character;return null!==J&&(Z=J.skills.map(function(ne){return ne.skill})),Z}},{key:"optimizeSkillEnchantments",value:function(Z){var J=this;if(null!==this.character){var ne=this.slormancerItemService.getSkillEnchantment(Z.id,2),oe="";this.getGearItems().forEach(function(_e){_e.skillEnchantment=J.slormancerItemService.getSkillEnchantmentClone(ne),J.slormancerItemService.updateEquipableItemModel(_e),J.slormancerItemService.updateEquipableItemView(_e),oe=_e.skillEnchantment.icon}),this.buildStorageService.saveLayer(),this.messageService.message('All equipped items optimized for <img src="'+oe+'"> '+Z.name)}}},{key:"maximizeItemsLevel",value:function(){var Z=this;if(null!==this.character){var J=this.character.level;this.getGearItems().forEach(function(ne){ne.level=J,Z.slormancerItemService.updateEquipableItemModel(ne),Z.slormancerItemService.updateEquipableItemView(ne)}),this.buildStorageService.saveLayer(),this.messageService.message("All equipped items level raised to "+J)}}},{key:"changeReinforcmentLevel",value:function(){var Z=this;if(null!==this.character){var J=Math.max.apply(Math,(0,fe.Z)(this.getGearItems().map(function(ne){return ne.reinforcment})));this.dialog.open(Ne,{data:{reinforcment:J}}).afterClosed().subscribe(function(ne){"number"==typeof ne&&(Z.getGearItems().forEach(function(oe){oe.reinforcment=ne,Z.slormancerItemService.updateEquipableItemModel(oe),Z.slormancerItemService.updateEquipableItemView(oe)}),Z.buildStorageService.saveLayer(),Z.messageService.message("All equipped items reinforcment raised to "+ne))})}}},{key:"optimizeItemsStats",value:function(){var Z=this;if(null!==this.character){var J={items:this.getGearItems()};this.dialog.open(Le,{data:J}).afterClosed().subscribe(function(ne){ne&&(Z.buildStorageService.saveLayer(),Z.messageService.message("All equipped items have been updated"))})}}}]),r}(z.B);return P.\u0275fac=function(d){return new(d||P)(t.Y36(j.x),t.Y36(l.uw),t.Y36(Me.e),t.Y36(B.S))},P.\u0275cmp=t.Xpm({type:P,selectors:[["app-character-settings-menu"]],viewQuery:function(d,r){var L;1&d&&t.Gf(b.p6,7),2&d&&t.iGM(L=t.CRH())&&(r.menu=L.first)},features:[t.qOj],decls:11,vars:4,consts:[[3,"matMenuTriggerFor","contextmenu"],["color","primary","xPosition","after",3,"overlapTrigger"],["menu","matMenu"],["matMenuContent",""],["color","primary"],["attributes","matMenu"],["mat-menu-item","","color","primary","class","menu-entry",3,"click",4,"ngFor","ngForOf"],["skills","matMenu"],["mat-menu-item","","color","primary",3,"click"],["mat-menu-item","","color","primary",3,"click",4,"ngIf"],["mat-menu-item","","color","primary",3,"matMenuTriggerFor",4,"ngIf"],["mat-menu-item","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","","color","primary",1,"menu-entry",3,"click"],[3,"src"],[3,"innerHTML"],[1,"skill-icon",3,"src"]],template:function(d,r){if(1&d&&(t.TgZ(0,"mat-icon",0),t.NdJ("contextmenu",function(){return r.openCharacterSettings()}),t._uU(1,"settings"),t.qZA(),t.TgZ(2,"mat-menu",1,2),t.YNc(4,Ye,8,6,"ng-template",3),t.TgZ(5,"mat-menu",4,5),t.YNc(7,Ve,3,2,"button",6),t.qZA(),t.TgZ(8,"mat-menu",4,7),t.YNc(10,Ke,3,2,"button",6),t.qZA(),t.qZA()),2&d){var L=t.MAs(3);t.Q6J("matMenuTriggerFor",L),t.xp6(2),t.Q6J("overlapTrigger",!0),t.xp6(5),t.Q6J("ngForOf",r.getTraits()),t.xp6(3),t.Q6J("ngForOf",r.getSkills())}},directives:[de.Hw,b.p6,b.VK,b.KA,g.sg,b.OP,g.O5],styles:["mat-icon[_ngcontent-%COMP%]{cursor:pointer;color:#353535}.menu-entry[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:8px;gap:8px}"]}),P}();function je(P,R){if(1&P&&(t.TgZ(0,"div",25),t._uU(1),t.TgZ(2,"mat-icon",26),t._uU(3,"info_outline"),t.qZA(),t.qZA()),2&P){var d=t.oxw(2);t.xp6(1),t.hij(" ",d.character.importVersion," ")}}function Ge(P,R){1&P&&t._UZ(0,"app-character-settings-menu")}function Xe(P,R){if(1&P){var d=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"app-item-slot",3),t.NdJ("changed",function(Z){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.Helm,Z)}),t.qZA(),t.TgZ(3,"app-item-slot",4),t.NdJ("changed",function(Z){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.Amulet,Z)}),t.qZA(),t.qZA(),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t.TgZ(6,"app-item-slot",7),t.NdJ("changed",function(Z){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.Shoulder,Z)}),t.qZA(),t.TgZ(7,"app-item-slot",8),t.NdJ("changed",function(Z){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.Bracer,Z)}),t.qZA(),t.TgZ(8,"app-item-slot",9),t.NdJ("changed",function(Z){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.Glove,Z)}),t.qZA(),t.qZA(),t.TgZ(9,"div",10),t.TgZ(10,"div",11),t.YNc(11,je,4,1,"div",12),t.YNc(12,Ge,1,0,"app-character-settings-menu",13),t.qZA(),t._UZ(13,"app-character-animation",14),t.qZA(),t.TgZ(14,"div",15),t.TgZ(15,"app-item-slot",16),t.NdJ("changed",function(Z){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.Body,Z)}),t.qZA(),t.TgZ(16,"app-item-slot",17),t.NdJ("changed",function(Z){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.Cape,Z)}),t.qZA(),t.TgZ(17,"app-item-slot",18),t.NdJ("changed",function(Z){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.Belt,Z)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",19),t._UZ(19,"div",20),t.TgZ(20,"app-item-slot",21),t.NdJ("changed",function(Z){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.LeftRing,Z)}),t.qZA(),t.TgZ(21,"app-item-slot",22),t.NdJ("changed",function(Z){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.Boot,Z)}),t.qZA(),t.TgZ(22,"app-item-slot",23),t.NdJ("changed",function(Z){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.RightRing,Z)}),t.qZA(),t.TgZ(23,"app-ultimatum-slot",24),t.NdJ("changed",function(Z){return t.CHM(d),t.oxw().updateUltimatum(Z)}),t.qZA(),t.qZA(),t.qZA()}if(2&P){var r=t.oxw();t.xp6(2),t.Q6J("readonly",r.readonly)("base",r.bases.Helm)("item",r.character.gear[r.gearSlot.Helm])("character",r.character),t.xp6(1),t.Q6J("readonly",r.readonly)("base",r.bases.Amulet)("item",r.character.gear[r.gearSlot.Amulet])("character",r.character),t.xp6(3),t.Q6J("readonly",r.readonly)("base",r.bases.Shoulder)("item",r.character.gear[r.gearSlot.Shoulder])("character",r.character),t.xp6(1),t.Q6J("readonly",r.readonly)("base",r.bases.Bracer)("item",r.character.gear[r.gearSlot.Bracer])("character",r.character),t.xp6(1),t.Q6J("readonly",r.readonly)("base",r.bases.Glove)("item",r.character.gear[r.gearSlot.Glove])("character",r.character),t.xp6(3),t.Q6J("ngIf",null!==r.character.importVersion&&r.character.version!==r.character.importVersion),t.xp6(1),t.Q6J("ngIf",!r.readonly),t.xp6(1),t.Q6J("heroClass",r.character.heroClass),t.xp6(2),t.Q6J("readonly",r.readonly)("base",r.bases.Body)("item",r.character.gear[r.gearSlot.Body])("character",r.character),t.xp6(1),t.Q6J("readonly",r.readonly)("base",r.bases.Cape)("item",r.character.gear[r.gearSlot.Cape])("character",r.character),t.xp6(1),t.Q6J("readonly",r.readonly)("base",r.bases.Belt)("item",r.character.gear[r.gearSlot.Belt])("character",r.character),t.xp6(3),t.Q6J("readonly",r.readonly)("base",r.bases.Ring)("item",r.character.gear[r.gearSlot.LeftRing])("character",r.character),t.xp6(1),t.Q6J("readonly",r.readonly)("base",r.bases.Boot)("item",r.character.gear[r.gearSlot.Boot])("character",r.character),t.xp6(1),t.Q6J("readonly",r.readonly)("base",r.bases.Ring)("item",r.character.gear[r.gearSlot.RightRing])("character",r.character),t.xp6(1),t.Q6J("readonly",r.readonly)("ultimatum",r.character.ultimatum)}}var ze=function(){var P=function(){function R(){(0,H.Z)(this,R),this.gearSlot=e.SH,this.bases=u.J,this.character=null,this.readonly=!1,this.changed=new t.vpe}return(0,Q.Z)(R,[{key:"updateItem",value:function(r,L){null!==this.character&&(this.character.gear[r]=L,this.changed.emit(this.character))}},{key:"updateUltimatum",value:function(r){null!==this.character&&(this.character.ultimatum=r,this.changed.emit(this.character))}}]),R}();return P.\u0275fac=function(d){return new(d||P)},P.\u0275cmp=t.Xpm({type:P,selectors:[["app-character-equipment"]],inputs:{character:"character",readonly:"readonly"},outputs:{changed:"changed"},decls:1,vars:1,consts:[["class","equipment",4,"ngIf"],[1,"equipment"],[1,"top-equipment"],[1,"helm",3,"readonly","base","item","character","changed"],[1,"amulet",3,"readonly","base","item","character","changed"],[1,"center-equipment"],[1,"left-equipment"],[1,"shoulder",3,"readonly","base","item","character","changed"],[1,"bracer",3,"readonly","base","item","character","changed"],[1,"glove",3,"readonly","base","item","character","changed"],[1,"character-preview"],[1,"preview-header"],["class","original-version",4,"ngIf"],[4,"ngIf"],[3,"heroClass"],[1,"right-equipment"],[1,"body",3,"readonly","base","item","character","changed"],[1,"cape",3,"readonly","base","item","character","changed"],[1,"belt",3,"readonly","base","item","character","changed"],[1,"bottom-equipment"],[1,"empty"],[1,"ring_l",3,"readonly","base","item","character","changed"],[1,"boot",3,"readonly","base","item","character","changed"],[1,"ring_r",3,"readonly","base","item","character","changed"],[3,"readonly","ultimatum","changed"],[1,"original-version"],["matTooltip","This build has been made for an older version of the game"]],template:function(d,r){1&d&&t.YNc(0,Xe,24,49,"div",0),2&d&&t.Q6J("ngIf",null!==r.character)},directives:[g.O5,D.y,x,ge,de.Hw,le.gM,We],styles:[".equipment[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:space-between;min-height:380px}.equipment[_ngcontent-%COMP%]   .top-equipment[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;grid-gap:20px;gap:20px;flex-grow:1}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:space-between}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .left-equipment[_ngcontent-%COMP%], .equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .right-equipment[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;grid-gap:8px;gap:8px;flex-grow:1}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .character-preview[_ngcontent-%COMP%]{width:150px;height:200px;border:3px solid #3c3c3c;padding:8px;background-color:#000;display:flex;flex-direction:column;align-items:center;justify-content:space-between}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .character-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:top;justify-content:space-between;width:100%}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .character-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .original-version[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:top;grid-gap:4px;gap:4px;color:#ce4607}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .character-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .original-version[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:14px;width:14px;font-size:14px;line-height:14px}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .character-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   app-character-settings-menu[_ngcontent-%COMP%]{margin-left:auto}.equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;grid-gap:16px;gap:16px;flex-grow:1;overflow:hidden}.equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]   .ring_l[_ngcontent-%COMP%], .equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]   .ring_r[_ngcontent-%COMP%]{margin-bottom:20px}.equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]   .boot[_ngcontent-%COMP%]{margin-top:20px}.equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{width:56px}"]}),P}()},4425:function(se,te,a){a.d(te,{$:function(){return x}});var H=a(5671),Q=a(3144),t=a(5542),u=a(9808),e=a(7238);function g(w,v){if(1&w&&(t.TgZ(0,"div",4),t.TgZ(1,"div",5),t._uU(2),t.qZA(),t.TgZ(3,"div",6),t.TgZ(4,"span",7),t._uU(5),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"div",8),t._uU(8),t.qZA(),t.qZA()),2&w){var l=t.oxw().$implicit,c=t.oxw();t.ekj("increase",l.difference>0)("decrease",l.difference<0),t.xp6(1),t.Q6J("matTooltip",c.valueToString(l.left,!0)),t.xp6(1),t.Oqu(c.valueToString(l.left)),t.xp6(3),t.Oqu(c.changeToString(l.difference)),t.xp6(1),t.hij(" ",l.name,""),t.xp6(1),t.Q6J("matTooltip",c.valueToString(l.right,!0)),t.xp6(1),t.Oqu(c.valueToString(l.right))}}function D(w,v){if(1&w&&(t.ynx(0),t.YNc(1,g,9,10,"div",3),t.BQk()),2&w){var l=v.$implicit;t.xp6(1),t.Q6J("ngIf",0!==l.difference)}}function Y(w,v){1&w&&(t.TgZ(0,"div",9),t._uU(1,"No differences"),t.qZA())}var x=function(){var w=function(){function v(){(0,H.Z)(this,v),this.differences=[]}return(0,Q.Z)(v,[{key:"valueToString",value:function(c){var m=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_="";return _+("number"==typeof c?c>1e4&&!m?Math.floor(c/1e3)+"k":c:c.min>1e4&&c.max>1e4&&!m?Math.floor(c.min/1e3)+"k - "+Math.floor(c.max/1e3)+"k":c.min+" - "+c.max)}},{key:"changeToString",value:function(c){var m="";return Number.isFinite(c)&&(c>0&&(m="+"),m+=c+"%"),m}}]),v}();return w.\u0275fac=function(l){return new(l||w)},w.\u0275cmp=t.Xpm({type:w,selectors:[["app-compare-view"]],inputs:{differences:"differences"},decls:3,vars:2,consts:[[1,"differences"],[4,"ngFor","ngForOf"],["class","no-differences",4,"ngIf"],["class","difference",3,"increase","decrease",4,"ngIf"],[1,"difference"],[1,"left",3,"matTooltip"],[1,"change"],[1,"value"],[1,"right",3,"matTooltip"],[1,"no-differences"]],template:function(l,c){1&l&&(t.TgZ(0,"div",0),t.YNc(1,D,2,1,"ng-container",1),t.YNc(2,Y,2,0,"div",2),t.qZA()),2&l&&(t.xp6(1),t.Q6J("ngForOf",c.differences),t.xp6(1),t.Q6J("ngIf",0===c.differences.length))},directives:[u.sg,u.O5,e.gM],styles:[".differences[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;grid-gap:8px;gap:8px;min-width:350px}@media (max-width: 374px){.differences[_ngcontent-%COMP%]{min-width:auto}}.differences[_ngcontent-%COMP%]   .no-differences[_ngcontent-%COMP%]{text-align:center}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-gap:8px;gap:8px}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0}@media not all and (min-resolution: .001dpcm){@supports (-webkit-appearance: none){.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex-basis:auto}}}@media (max-width: 374px){.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:none}}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{flex-grow:2;flex-basis:0;text-align:center}@media not all and (min-resolution: .001dpcm){@supports (-webkit-appearance: none){.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{flex-basis:auto}}}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{text-align:left}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.differences[_ngcontent-%COMP%]   .difference.increase[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:green}.differences[_ngcontent-%COMP%]   .difference.decrease[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:red}"]}),w}()},6538:function(se,te,a){a.d(te,{y:function(){return wt}});var H=a(5671),Q=a(3144),t=a(136),u=a(7777),e=a(5542),g=a(2525),D=a(2722),Y=a(648),x=a(2473),w=a(5832),v=a(311),l=a(7469),c=a(2424),m=a(6446),_=a(8966),C=a(9635),k=a(5457),y=a(2206),s=a(9808),U=a(8003);function h(o,f){1&o&&(e.TgZ(0,"div",20),e._uU(1,"Equipped"),e.qZA())}function M(o,f){if(1&o&&(e.TgZ(0,"li"),e.TgZ(1,"div",24),e._UZ(2,"div"),e.qZA(),e._UZ(3,"div",25),e._UZ(4,"div",26),e.qZA()),2&o){var n=f.$implicit;e.ekj("pure",n.isPure),e.xp6(2),e.Tol(n.rarity),e.xp6(1),e.Q6J("innerHTML",n.valueLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",n.statLabel,e.oJD)}}function E(o,f){if(1&o&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e._uU(2,"Base Stats:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,M,5,7,"li",23),e.qZA(),e.qZA()),2&o){var n=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",n.getNormalAffixes())}}function I(o,f){if(1&o&&(e.TgZ(0,"li"),e.TgZ(1,"div",24),e._UZ(2,"div"),e.qZA(),e._UZ(3,"div",25),e._UZ(4,"div",26),e.qZA()),2&o){var n=f.$implicit;e.ekj("pure",n.isPure),e.xp6(2),e.Tol(n.rarity),e.xp6(1),e.Q6J("innerHTML",n.valueLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",n.statLabel,e.oJD)}}function S(o,f){if(1&o&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e._uU(2,"Magic Stats:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,I,5,7,"li",23),e.qZA(),e.qZA()),2&o){var n=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",n.getMagicAffixes())}}function W(o,f){if(1&o&&(e.TgZ(0,"li"),e.TgZ(1,"div",24),e._UZ(2,"div"),e.qZA(),e._UZ(3,"div",25),e._UZ(4,"div",26),e.qZA()),2&o){var n=f.$implicit;e.ekj("pure",n.isPure),e.xp6(2),e.Tol(n.rarity),e.xp6(1),e.Q6J("innerHTML",n.valueLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",n.statLabel,e.oJD)}}function V(o,f){if(1&o&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e._uU(2,"Rare Stats:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,W,5,7,"li",23),e.qZA(),e.qZA()),2&o){var n=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",n.getRareAffixes())}}function ie(o,f){if(1&o&&(e.TgZ(0,"li"),e.TgZ(1,"div",24),e._UZ(2,"div"),e.qZA(),e._UZ(3,"div",25),e._UZ(4,"div",26),e.qZA()),2&o){var n=f.$implicit;e.ekj("pure",n.isPure),e.xp6(2),e.Tol(n.rarity),e.xp6(1),e.Q6J("innerHTML",n.valueLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",n.statLabel,e.oJD)}}function G(o,f){if(1&o&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e._uU(2,"Epic Stats:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,ie,5,7,"li",23),e.qZA(),e.qZA()),2&o){var n=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",n.getEpicAffixes())}}function ue(o,f){if(1&o&&(e.TgZ(0,"span",35),e._uU(1),e.qZA()),2&o){var n=e.oxw(3);e.xp6(1),e.hij(" ",n.item.legendaryEffect.activable.name,"")}}function ge(o,f){if(1&o&&(e.TgZ(0,"div",6),e._UZ(1,"img",8),e.qZA()),2&o){var n=e.oxw(3);e.xp6(1),e.Q6J("src",n.item.legendaryEffect.skillIcon,e.LSH)}}function de(o,f){if(1&o&&(e.TgZ(0,"div",27),e.TgZ(1,"div",28),e.TgZ(2,"div",29),e.TgZ(3,"div",22),e.TgZ(4,"div",24),e._UZ(5,"div",30),e.qZA(),e._uU(6),e.TgZ(7,"div",24),e._UZ(8,"div",30),e.qZA(),e.qZA(),e.TgZ(9,"div",31),e._UZ(10,"span",32),e.YNc(11,ue,2,1,"span",33),e.qZA(),e.YNc(12,ge,2,1,"div",34),e.qZA(),e.qZA(),e.qZA()),2&o){var n=e.oxw(2);e.xp6(6),e.hij(" ",n.item.legendaryEffect.title," "),e.xp6(4),e.Q6J("innerHTML",n.item.legendaryEffect.description,e.oJD),e.xp6(1),e.Q6J("ngIf",null!==n.item.legendaryEffect.activable),e.xp6(1),e.Q6J("ngIf",null!==n.item.legendaryEffect.skillIcon)}}function le(o,f){if(1&o&&e._UZ(0,"app-activable-view",36),2&o){var n=e.oxw(2);e.Q6J("activable",n.item.legendaryEffect.activable)("reinforcment",n.item.reinforcment)}}function fe(o,f){if(1&o&&(e.TgZ(0,"div",37),e._UZ(1,"img",8),e._UZ(2,"div",38),e.qZA()),2&o){var n=e.oxw(2);e.xp6(1),e.Q6J("src",n.item.reaperEnchantment.icon,e.LSH),e.xp6(1),e.Q6J("innerHTML",n.item.reaperEnchantment.label,e.oJD)}}function q(o,f){if(1&o&&(e.TgZ(0,"div",39),e._UZ(1,"img",8),e._UZ(2,"div",38),e.qZA()),2&o){var n=e.oxw(2);e.xp6(1),e.Q6J("src",n.item.skillEnchantment.icon,e.LSH),e.xp6(1),e.Q6J("innerHTML",n.item.skillEnchantment.label,e.oJD)}}function X(o,f){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"img",8),e._UZ(2,"div",38),e.qZA()),2&o){var n=e.oxw(2);e.Gre("buff attribute atr-",n.item.attributeEnchantment.craftedAttribute,""),e.xp6(1),e.Q6J("src",n.item.attributeEnchantment.icon,e.LSH),e.xp6(1),e.Q6J("innerHTML",n.item.attributeEnchantment.label,e.oJD)}}function b(o,f){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"div",1),e.TgZ(2,"div",2),e.YNc(3,h,2,0,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e._UZ(7,"img",7),e._UZ(8,"img",8),e.qZA(),e.TgZ(9,"div",9),e._uU(10),e.qZA(),e.TgZ(11,"div",10),e._uU(12,"-"),e.qZA(),e.TgZ(13,"div",11),e._uU(14),e.qZA(),e.TgZ(15,"div"),e._uU(16),e.qZA(),e.qZA(),e._UZ(17,"div",12),e.TgZ(18,"div",13),e.YNc(19,E,5,1,"div",14),e.YNc(20,S,5,1,"div",14),e.YNc(21,V,5,1,"div",14),e.YNc(22,G,5,1,"div",14),e.qZA(),e.qZA(),e.YNc(23,de,13,4,"div",15),e.YNc(24,le,1,2,"app-activable-view",16),e.YNc(25,fe,3,2,"div",17),e.YNc(26,q,3,2,"div",18),e.YNc(27,X,3,5,"div",19),e.qZA(),e.qZA()),2&o){var n=e.oxw();e.Gre("item ",n.item.rarity,""),e.ekj("nodetails",!n.details),e.xp6(1),e.Q6J("innerHTML",n.item.name,e.oJD),e.xp6(2),e.Q6J("ngIf",n.equipped),e.xp6(4),e.Q6J("src",n.item.itemIconBackground,e.LSH),e.xp6(1),e.Q6J("src",n.item.icon,e.LSH),e.xp6(2),e.Oqu(n.item.rarityLabel),e.xp6(4),e.Oqu(n.item.baseLabel),e.xp6(2),e.Oqu(n.item.levelLabel),e.xp6(3),e.Q6J("ngIf",n.getNormalAffixes().length>0),e.xp6(1),e.Q6J("ngIf",n.getMagicAffixes().length>0),e.xp6(1),e.Q6J("ngIf",n.getRareAffixes().length>0),e.xp6(1),e.Q6J("ngIf",n.getEpicAffixes().length>0),e.xp6(1),e.Q6J("ngIf",null!==n.item.legendaryEffect),e.xp6(1),e.Q6J("ngIf",null!==n.item.legendaryEffect&&null!==n.item.legendaryEffect.activable),e.xp6(1),e.Q6J("ngIf",null!==n.item.reaperEnchantment),e.xp6(1),e.Q6J("ngIf",null!==n.item.skillEnchantment),e.xp6(1),e.Q6J("ngIf",null!==n.item.attributeEnchantment)}}var K=function(){var o=function(){function f(){(0,H.Z)(this,f),this.item=null,this.equipped=!1,this.details=!0}return(0,Q.Z)(f,[{key:"getNormalAffixes",value:function(){return null===this.item?[]:this.item.affixes.filter(function(i){return i.rarity===y.u.Normal})}},{key:"getMagicAffixes",value:function(){return null===this.item?[]:this.item.affixes.filter(function(i){return i.rarity===y.u.Magic})}},{key:"getRareAffixes",value:function(){return null===this.item?[]:this.item.affixes.filter(function(i){return i.rarity===y.u.Rare})}},{key:"getEpicAffixes",value:function(){return null===this.item?[]:this.item.affixes.filter(function(i){return i.rarity===y.u.Epic})}}]),f}();return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-view"]],inputs:{item:"item",equipped:"equipped",details:"details"},decls:1,vars:1,consts:[[3,"class","nodetails",4,"ngIf"],[1,"head",3,"innerHTML"],[1,"content"],["class","equipped",4,"ngIf"],[1,"main"],[1,"info"],[1,"icon"],[1,"background",3,"src"],[3,"src"],[1,"rarity"],[1,"split"],[1,"base"],[1,"separator"],[1,"stats"],["class","affixes",4,"ngIf"],["class","legendary-effect outer-border",4,"ngIf"],[3,"activable","reinforcment",4,"ngIf"],["class","buff reaper",4,"ngIf"],["class","buff skill",4,"ngIf"],[3,"class",4,"ngIf"],[1,"equipped"],[1,"affixes"],[1,"title"],[3,"pure",4,"ngFor","ngForOf"],[1,"bullet"],[1,"value",3,"innerHTML"],[1,"name",3,"innerHTML"],[1,"legendary-effect","outer-border"],[1,"border"],[1,"inner-border","legendary-description"],[1,"legendary"],[1,"description"],[3,"innerHTML"],["class","value",4,"ngIf"],["class","icon",4,"ngIf"],[1,"value"],[3,"activable","reinforcment"],[1,"buff","reaper"],[1,"info",3,"innerHTML"],[1,"buff","skill"]],template:function(n,i){1&n&&e.YNc(0,b,28,21,"div",0),2&n&&e.Q6J("ngIf",null!==i.item)},directives:[s.O5,s.sg,U.K],styles:['.item.normal[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#898989}.item.magic[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#2e8726}.item.rare[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#176ab1}.item.epic[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#c68d20}.item.legendary[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#ce4607}.item.normal[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#59513c}.item.magic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#61462d}.item.rare[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#7791a1}.item.epic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#efc65c}.item.legendary[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#f5b250}.bullet[_ngcontent-%COMP%]{min-width:8px}.bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}.bullet[_ngcontent-%COMP%]   div.normal[_ngcontent-%COMP%]{background-color:#898989}.bullet[_ngcontent-%COMP%]   div.magic[_ngcontent-%COMP%]{background-color:#2e8726}.bullet[_ngcontent-%COMP%]   div.rare[_ngcontent-%COMP%]{background-color:#176ab1}.bullet[_ngcontent-%COMP%]   div.epic[_ngcontent-%COMP%]{background-color:#c68d20}.bullet[_ngcontent-%COMP%]   div.legendary[_ngcontent-%COMP%]{background-color:#ce4607}.item[_ngcontent-%COMP%]{background-color:#151412;color:#fff;border:2px solid black;min-width:350px}.item[_ngcontent-%COMP%]  .legendary-effect .value, .item[_ngcontent-%COMP%]  .buff .value{color:#fff}.item[_ngcontent-%COMP%]  .range, .item[_ngcontent-%COMP%]  .range .value, .item[_ngcontent-%COMP%]  .details, .item[_ngcontent-%COMP%]  .details .value, .item[_ngcontent-%COMP%]  .formula, .item[_ngcontent-%COMP%]  .formula .value, .item[_ngcontent-%COMP%]  .pure-info, .item[_ngcontent-%COMP%]  .pure-info .value{color:#686868}.item[_ngcontent-%COMP%]  .affixes .range, .item[_ngcontent-%COMP%]  .affixes .value, .item[_ngcontent-%COMP%]  .pure-info{word-break:keep-all;white-space:nowrap}.item.nodetails[_ngcontent-%COMP%]     .details, .item.nodetails[_ngcontent-%COMP%]     .formula{display:none}.item[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%], .item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{border:2px solid}.item[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%]{margin-bottom:2px;text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;padding:15px 10px;grid-gap:15px;gap:15px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;text-transform:capitalize}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:10px;gap:10px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{min-width:80px;width:80px;display:flex;flex-direction:column;align-items:center}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{text-transform:capitalize;text-align:center}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{min-width:56px;min-height:56px;width:56px;height:56px;border:4px solid black;margin-bottom:10px;position:relative}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{background-color:#686868;min-width:2px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;grid-gap:10px;gap:10px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#686868}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;list-style:disc inside;padding-left:0}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:flex;flex-direction:row;padding-left:5px;grid-gap:5px;gap:5px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pure[_ngcontent-%COMP%]{color:#46e7b0;background:linear-gradient(90deg,rgba(70,231,176,.3) 0%,rgba(70,231,176,0) 100%)}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pure[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:after{content:" !!"}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex-grow:1}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-effect.outer-border[_ngcontent-%COMP%]{border:3px solid black}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-effect.outer-border[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{border:2px solid #2e2c25}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-effect.outer-border[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]{border:3px solid black}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px 30px;grid-gap:5px;gap:5px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;grid-gap:5px;gap:5px;color:#686868}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:center}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-top:5px;min-width:36px;min-height:36px;width:36px;height:36px;border:3px solid black;padding:2px;background-color:#2e2c25}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff[_ngcontent-%COMP%]{border:3px solid #3b3831;padding:5px 36px;text-align:center;position:relative}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:-6px;top:50%;margin-top:-22px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.reaper[_ngcontent-%COMP%]{color:#148e89}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.skill[_ngcontent-%COMP%]{color:#ce4607}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-0[_ngcontent-%COMP%]{color:#2f5996}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-1[_ngcontent-%COMP%]{color:#a83007}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-2[_ngcontent-%COMP%]{color:#79b549}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-3[_ngcontent-%COMP%]{color:#d0b545}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-4[_ngcontent-%COMP%]{color:#4bc1b2}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-5[_ngcontent-%COMP%]{color:#753098}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-6[_ngcontent-%COMP%]{color:#cd7028}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-7[_ngcontent-%COMP%]{color:#bf3c59}']}),o}(),T=a(4425),B=function(){var o=(0,Q.Z)(function f(n,i,p,O,N){(0,H.Z)(this,f),this.slormancerItemService=i,this.slormancerCharacterBuilderService=p,this.slormancerCharacterUpdaterService=O,this.slormancerCharacterComparatorService=N;var $=this.slormancerCharacterBuilderService.getCharacterClone(n.character),ae=this.slormancerCharacterBuilderService.getCharacterClone(n.character);$.gear[n.slot]=this.slormancerItemService.getEquipableItemClone(n.left),ae.gear[n.slot]=this.slormancerItemService.getEquipableItemClone(n.right),this.slormancerCharacterUpdaterService.updateCharacter($,n.config),this.slormancerCharacterUpdaterService.updateCharacter(ae,n.config),this.left=n.left,this.right=n.right,this.differences=this.slormancerCharacterComparatorService.compareCharacters($,ae)});return o.\u0275fac=function(n){return new(n||o)(e.Y36(_.WI),e.Y36(w.S),e.Y36(x.o),e.Y36(k.P),e.Y36(C.P))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-compare-item-modal"]],decls:8,vars:6,consts:[["mat-dialog-title",""],[1,"item"],[3,"item","equipped"],[3,"differences"],[3,"item"]],template:function(n,i){1&n&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"div",1),e._UZ(4,"app-item-view",2),e.qZA(),e._UZ(5,"app-compare-view",3),e.TgZ(6,"div",1),e._UZ(7,"app-item-view",4),e.qZA(),e.qZA()),2&n&&(e.xp6(1),e.AsE("",i.left.name," - ",i.right.name,""),e.xp6(3),e.Q6J("item",i.left)("equipped",!0),e.xp6(1),e.Q6J("differences",i.differences),e.xp6(2),e.Q6J("item",i.right))},directives:[_.uh,_.xY,K,T.$],styles:["h2[_ngcontent-%COMP%]{display:none;text-align:center}@media (max-width: 992px){h2[_ngcontent-%COMP%]{display:block}}mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:20px;gap:20px}@media (max-width: 992px){mat-dialog-content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:none}mat-dialog-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:block}}@media (max-width: 374px){mat-dialog-content[_ngcontent-%COMP%]   app-compare-view[_ngcontent-%COMP%]{width:100%}}mat-dialog-content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:370px;min-width:380px;overflow-y:auto}"]}),o}(),A=a(4456),j=a(7423);function z(o,f){if(1&o&&(e.TgZ(0,"button",3),e._uU(1),e.qZA()),2&o){var n=f.$implicit;e.Q6J("mat-dialog-close",n),e.xp6(1),e.Oqu(n)}}var me=function(){var o=function(){function f(n){(0,H.Z)(this,f),this.dialogRef=n,this.EQUIPABLE_ITEM_BASE_VALUES=A.l}return(0,Q.Z)(f,[{key:"selectBase",value:function(i){this.dialogRef.close(i)}}]),f}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(_.so))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-base-choice-modal"]],decls:7,vars:2,consts:[["mat-dialog-title",""],["mat-flat-button","","color","primary",3,"mat-dialog-close",4,"ngFor","ngForOf"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","color","primary",3,"mat-dialog-close"]],template:function(n,i){1&n&&(e.TgZ(0,"h2",0),e._uU(1,"Choose a base for your item"),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.YNc(3,z,2,2,"button",1),e.qZA(),e.TgZ(4,"mat-dialog-actions"),e.TgZ(5,"button",2),e._uU(6,"Cancel"),e.qZA(),e.qZA()),2&n&&(e.xp6(3),e.Q6J("ngForOf",i.EQUIPABLE_ITEM_BASE_VALUES),e.xp6(2),e.Q6J("mat-dialog-close",null))},directives:[_.uh,_.xY,s.sg,_.H8,j.lW,_.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:8px;gap:8px}"]}),o}(),F=a(3075),ve=a(4373),Ne=a(1093),ke=a(9377),he=a(7795),ce=a(7189),Oe=a(5581),Pe=a(3300),pe=a(7322),Be=a(7531),Le=a(2107),Me=a(3874),ye=a(4102),xe=a(508),Te=a(8029);function qe(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().addLegendaryEffect()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function Qe(o,f){if(1&o&&(e.TgZ(0,"mat-option",16),e._UZ(1,"span",17),e.qZA()),2&o){var n=f.$implicit;e.Q6J("value",n.value),e.xp6(1),e.Q6J("innerHTML",n.label,e.oJD)}}function Fe(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"mat-slider",18),e.NdJ("input",function(p){return e.CHM(n),e.oxw(2).updateSliderValue(p)}),e.qZA()}2&o&&e.Q6J("min",75)("max",100)("step",1)}function Ye(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"mat-form-field",8),e.TgZ(3,"mat-label"),e._uU(4,"Legendary effect"),e.qZA(),e.TgZ(5,"mat-select",9),e.YNc(6,Qe,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",11),e.YNc(8,Fe,1,3,"mat-slider",12),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"div",14),e._uU(11),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){return e.CHM(n),e.oxw().removeLegendaryEffect()}),e.TgZ(13,"mat-icon"),e._uU(14,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("ngIf",i.hasLegendaryValues()),e.xp6(3),e.hij(" ",i.displayedValue," ")}}var Ve=function(){var o=function(){function f(n){(0,H.Z)(this,f),this.itemFormService=n,this.base=A.J.Amulet,this.heroClass=Le.i.Huntress,this.legendaryEffect=null,this.form=null,this.reinforcment=null,this.options=[],this.displayedValue=""}return(0,Q.Z)(f,[{key:"ngOnChanges",value:function(){this.options=this.itemFormService.getLegendaryOptions(this.base,this.heroClass),null!==this.legendaryEffect&&this.updateLegendaryValueLabel(this.legendaryEffect.value)}},{key:"updateLegendaryValueLabel",value:function(i){this.displayedValue="",null!==this.legendaryEffect&&null!==i&&(this.displayedValue=this.legendaryEffect.effects.filter(function(p){return p.possibleCraftedValues.length>1}).map(function(p){var O=p.effect.percent?"%":"";return(0,Oe.AW)(p,i)+O}).join(" / "))}},{key:"hasLegendaryValues",value:function(){return null!==this.legendaryEffect&&this.legendaryEffect.effects.filter(function(i){return i.possibleCraftedValues.length>1}).length>0}},{key:"updateSliderValue",value:function(i){this.displayedValue="";var p=i.value;null!==this.legendaryEffect&&null!==p&&this.updateLegendaryValueLabel(p)}},{key:"removeLegendaryEffect",value:function(){null!==this.form&&this.form.patchValue({id:null})}},{key:"addLegendaryEffect",value:function(){var i=this.options[0];null!==this.form&&i&&this.form.patchValue({id:i.value,value:100})}}]),f}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(Pe.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-legendary-effect"]],inputs:{base:"base",heroClass:"heroClass",legendaryEffect:"legendaryEffect",form:"form",reinforcment:"reinforcment"},features:[e.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","id"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input",4,"ngIf"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"],["color","primary","formControlName","value",3,"min","max","step","input"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"Legendary effect :"),e.qZA(),e.YNc(3,qe,4,0,"div",2),e.qZA(),e.YNc(4,Ye,15,4,"div",3)),2&n&&(e.xp6(3),e.Q6J("ngIf",null!==i.form&&null===i.legendaryEffect),e.xp6(1),e.Q6J("ngIf",null!==i.form&&null!==i.legendaryEffect))},directives:[s.O5,j.lW,Me.Hw,F.JL,F.sg,pe.KE,pe.hX,ye.gD,F.JJ,F.u,s.sg,xe.ey,Te.pH],styles:[""]}),o}();function Ke(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().addReaperEnchantment()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function We(o,f){if(1&o&&(e.TgZ(0,"mat-option",16),e._UZ(1,"span",17),e.qZA()),2&o){var n=f.$implicit;e.Q6J("value",n.value),e.xp6(1),e.Q6J("innerHTML",n.label,e.oJD)}}function je(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"mat-form-field",8),e.TgZ(3,"mat-label"),e._uU(4,"Reaper Enchantment"),e.qZA(),e.TgZ(5,"mat-select",9),e.YNc(6,We,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",11),e.TgZ(8,"mat-slider",12),e.NdJ("input",function(O){return e.CHM(n),e.oxw().updateSliderValue(O)}),e.qZA(),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"div",14),e._uU(11),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){return e.CHM(n),e.oxw().removeReaperEnchantment()}),e.TgZ(13,"mat-icon"),e._uU(14,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("min",1)("max",5)("step",1),e.xp6(3),e.hij(" ",i.displayedValue," ")}}var Ge=function(){var o=function(){function f(n){(0,H.Z)(this,f),this.itemFormService=n,this.reaperEnchantment=null,this.form=null,this.options=[],this.displayedValue=""}return(0,Q.Z)(f,[{key:"ngOnChanges",value:function(){this.options=this.itemFormService.getReaperBuffOptions(),null!==this.reaperEnchantment&&this.updateReaperEnchantmentValueLabel(this.reaperEnchantment.effect.value)}},{key:"updateReaperEnchantmentValueLabel",value:function(i){this.displayedValue="",null!==this.reaperEnchantment&&null!==i&&(this.displayedValue="+"+(0,Oe.Be)(this.reaperEnchantment.craftableValues[i],0))}},{key:"updateSliderValue",value:function(i){this.displayedValue="";var p=i.value;null!==this.reaperEnchantment&&null!==p&&this.updateReaperEnchantmentValueLabel(p)}},{key:"removeReaperEnchantment",value:function(){null!==this.form&&this.form.patchValue({smith:null})}},{key:"addReaperEnchantment",value:function(){var i=this.options[0];null!==this.form&&i&&this.form.patchValue({smith:i.value,value:5})}}]),f}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(Pe.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-buff-reaper"]],inputs:{reaperEnchantment:"reaperEnchantment",form:"form"},features:[e.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","form-add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"form-add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","smith"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"Reaper Enchantment :"),e.qZA(),e.YNc(3,Ke,4,0,"div",2),e.qZA(),e.YNc(4,je,15,6,"div",3)),2&n&&(e.xp6(3),e.Q6J("ngIf",null!==i.form&&null===i.reaperEnchantment),e.xp6(1),e.Q6J("ngIf",null!==i.form&&null!==i.reaperEnchantment))},directives:[s.O5,j.lW,Me.Hw,F.JL,F.sg,pe.KE,pe.hX,ye.gD,F.JJ,F.u,s.sg,Te.pH,xe.ey],styles:[""]}),o}();function Xe(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().addSkillEnchantment()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function ze(o,f){if(1&o&&(e.TgZ(0,"mat-option",16),e._UZ(1,"span",17),e.qZA()),2&o){var n=f.$implicit;e.Q6J("value",n.value),e.xp6(1),e.Q6J("innerHTML",n.label,e.oJD)}}function P(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"mat-form-field",8),e.TgZ(3,"mat-label"),e._uU(4,"Skill Enchantment"),e.qZA(),e.TgZ(5,"mat-select",9),e.YNc(6,ze,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",11),e.TgZ(8,"mat-slider",12),e.NdJ("input",function(O){return e.CHM(n),e.oxw().updateSliderValue(O)}),e.qZA(),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"div",14),e._uU(11),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){return e.CHM(n),e.oxw().removeSkillEnchantment()}),e.TgZ(13,"mat-icon"),e._uU(14,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("min",1)("max",2)("step",1),e.xp6(3),e.hij(" ",i.displayedValue," ")}}var R=function(){var o=function(){function f(n){(0,H.Z)(this,f),this.itemFormService=n,this.heroClass=Le.i.Huntress,this.skillEnchantment=null,this.form=null,this.options=[],this.displayedValue=""}return(0,Q.Z)(f,[{key:"ngOnChanges",value:function(){this.options=this.itemFormService.getSkillBuffOptions(this.heroClass),null!==this.skillEnchantment&&this.updateSkillEnchantmentValueLabel(this.skillEnchantment.effect.value)}},{key:"updateSkillEnchantmentValueLabel",value:function(i){this.displayedValue="",null!==this.skillEnchantment&&null!==i&&(this.displayedValue="+"+(0,Oe.Be)(this.skillEnchantment.craftableValues[i],0))}},{key:"updateSliderValue",value:function(i){this.displayedValue="";var p=i.value;null!==this.skillEnchantment&&null!==p&&this.updateSkillEnchantmentValueLabel(p)}},{key:"removeSkillEnchantment",value:function(){null!==this.form&&this.form.patchValue({skill:null})}},{key:"addSkillEnchantment",value:function(){var i=this.options[0];null!==this.form&&i&&this.form.patchValue({skill:i.value,value:2})}}]),f}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(Pe.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-buff-skill"]],inputs:{heroClass:"heroClass",skillEnchantment:"skillEnchantment",form:"form"},features:[e.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","skill"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"Skill Enchantment :"),e.qZA(),e.YNc(3,Xe,4,0,"div",2),e.qZA(),e.YNc(4,P,15,6,"div",3)),2&n&&(e.xp6(3),e.Q6J("ngIf",null!==i.form&&null===i.skillEnchantment),e.xp6(1),e.Q6J("ngIf",null!==i.form&&null!==i.skillEnchantment))},directives:[s.O5,j.lW,Me.Hw,F.JL,F.sg,pe.KE,pe.hX,ye.gD,F.JJ,F.u,s.sg,Te.pH,xe.ey],styles:[""]}),o}();function d(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().addAttributeEnchantment()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function r(o,f){if(1&o&&(e.TgZ(0,"mat-option",16),e._UZ(1,"span",17),e.qZA()),2&o){var n=f.$implicit;e.Q6J("value",n.value),e.xp6(1),e.Q6J("innerHTML",n.label,e.oJD)}}function L(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"mat-form-field",8),e.TgZ(3,"mat-label"),e._uU(4,"Attribute Enchantment"),e.qZA(),e.TgZ(5,"mat-select",9),e.YNc(6,r,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",11),e.TgZ(8,"mat-slider",12),e.NdJ("input",function(O){return e.CHM(n),e.oxw().updateSliderValue(O)}),e.qZA(),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"div",14),e._uU(11),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){return e.CHM(n),e.oxw().removeAttributeEnchantment()}),e.TgZ(13,"mat-icon"),e._uU(14,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("min",1)("max",3)("step",1),e.xp6(3),e.hij(" ",i.displayedValue," ")}}var Z=function(){var o=function(){function f(n){(0,H.Z)(this,f),this.itemFormService=n,this.attributeEnchantment=null,this.form=null,this.options=[],this.displayedValue=""}return(0,Q.Z)(f,[{key:"ngOnChanges",value:function(){this.options=this.itemFormService.getAttributeBuffOptions(),null!==this.attributeEnchantment&&this.updateAttributeEnchantmentValueLabel(this.attributeEnchantment.effect.value)}},{key:"updateAttributeEnchantmentValueLabel",value:function(i){this.displayedValue="",null!==this.attributeEnchantment&&null!==i&&(this.displayedValue="+"+(0,Oe.Be)(this.attributeEnchantment.craftableValues[i],0))}},{key:"updateSliderValue",value:function(i){this.displayedValue="";var p=i.value;null!==this.attributeEnchantment&&null!==p&&this.updateAttributeEnchantmentValueLabel(p)}},{key:"removeAttributeEnchantment",value:function(){null!==this.form&&this.form.patchValue({attribute:null})}},{key:"addAttributeEnchantment",value:function(){var i=this.options[0];null!==this.form&&i&&this.form.patchValue({attribute:i.value,value:3})}}]),f}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(Pe.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-buff-attribute"]],inputs:{attributeEnchantment:"attributeEnchantment",form:"form"},features:[e.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","attribute"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"Attribute Enchantment :"),e.qZA(),e.YNc(3,d,4,0,"div",2),e.qZA(),e.YNc(4,L,15,6,"div",3)),2&n&&(e.xp6(3),e.Q6J("ngIf",null!==i.form&&null===i.attributeEnchantment),e.xp6(1),e.Q6J("ngIf",null!==i.form&&null!==i.attributeEnchantment))},directives:[s.O5,j.lW,Me.Hw,F.JL,F.sg,pe.KE,pe.hX,ye.gD,F.JJ,F.u,s.sg,Te.pH,xe.ey],styles:[""]}),o}(),J=a(7446);function ne(o,f){if(1&o&&(e.TgZ(0,"mat-option",13),e._UZ(1,"span",14),e.qZA()),2&o){var n=f.$implicit,i=e.oxw(2);e.Q6J("disabled",i.isOptionDisabled(n.value))("value",n.value),e.xp6(1),e.Q6J("innerHTML",n.label,e.oJD)}}function oe(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"mat-slider",15),e.NdJ("input",function(O){return e.CHM(n),e.oxw(2).updateSliderStat(O)}),e.qZA()}if(2&o){var i=e.oxw(2);e.Q6J("min",i.affix.craftedEffect.minPossibleCraftedValue)("max",i.affix.craftedEffect.maxPossibleCraftedValue)("step",1)}}function _e(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"mat-slider",16),e.NdJ("input",function(p){return e.CHM(n),e.oxw(2).updateSliderPurity(p)}),e.qZA()}2&o&&e.Q6J("min",101)("max",200)("step",1)}function Ee(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"mat-form-field",3),e.TgZ(3,"mat-label"),e._uU(4,"Stat"),e.qZA(),e.TgZ(5,"mat-select",4),e.YNc(6,ne,2,3,"mat-option",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",6),e.YNc(8,oe,1,3,"mat-slider",7),e.YNc(9,_e,1,3,"mat-slider",8),e.qZA(),e.TgZ(10,"div",9),e.TgZ(11,"div",10),e._uU(12),e.qZA(),e.TgZ(13,"mat-checkbox",11),e.NdJ("change",function(O){return e.CHM(n),e.oxw().purityChanged(O)}),e._uU(14,"Pure"),e.qZA(),e.TgZ(15,"button",12),e.NdJ("click",function(){return e.CHM(n),e.oxw().removeStat()}),e.TgZ(16,"mat-icon"),e._uU(17,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("ngIf",!i.affix.isPure),e.xp6(1),e.Q6J("ngIf",i.affix.isPure),e.xp6(2),e.ekj("pure",i.affix.isPure),e.xp6(1),e.hij(" ",i.displayedValue," "),e.xp6(1),e.Q6J("checked",i.affix.isPure),e.xp6(2),e.Q6J("disabled",!i.removable)}}var we=function(){var o=function(){function f(n){(0,H.Z)(this,f),this.itemFormService=n,this.base=A.J.Amulet,this.alreadyUsedStats=[],this.affix=null,this.form=null,this.removable=!1,this.remove=new e.vpe,this.options=[],this.displayedValue=""}return(0,Q.Z)(f,[{key:"ngOnChanges",value:function(){null!==this.affix&&(this.options=this.itemFormService.getStatsOptions(this.base,this.affix.rarity),this.affix.isPure?this.setPuritylabel(this.affix.pure):this.setStatLabel(this.affix.craftedEffect.craftedValue))}},{key:"isOptionDisabled",value:function(i){return-1!==this.alreadyUsedStats.indexOf(i)&&null!==this.affix&&i!==this.affix.craftedEffect.effect.stat}},{key:"purityChanged",value:function(i){null!==this.affix&&null!==this.form&&this.form.patchValue(i.checked?{purity:101}:{purity:100})}},{key:"updateSliderPurity",value:function(i){null!==i.value&&this.setPuritylabel(i.value)}},{key:"updateSliderStat",value:function(i){null!==i.value&&this.setStatLabel(i.value)}},{key:"setPuritylabel",value:function(i){this.displayedValue=Math.round(i-100)+"%"}},{key:"setStatLabel",value:function(i){if(this.displayedValue="",null!==this.affix){var p=this.affix.craftedEffect.effect.percent?"%":"";this.displayedValue=null===this.affix?"":"+"+((0,Oe.AW)(this.affix.craftedEffect,i)+p)}}},{key:"removeStat",value:function(){this.remove.emit()}}]),f}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(Pe.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-stat"]],inputs:{base:"base",alreadyUsedStats:"alreadyUsedStats",affix:"affix",form:"form",removable:"removable"},outputs:{remove:"remove"},features:[e.TTD],decls:1,vars:1,consts:[["class","stat-line",3,"formGroup",4,"ngIf"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline","color","primary",1,"no-error-padding"],["formControlName","stat","color","primary"],[3,"disabled","value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input",4,"ngIf"],["color","accent","formControlName","purity",3,"min","max","step","input",4,"ngIf"],[1,"additional"],[1,"value"],["color","primary",3,"checked","change"],["mat-icon-button","","color","primary","type","button",3,"disabled","click"],[3,"disabled","value"],[3,"innerHTML"],["color","primary","formControlName","value",3,"min","max","step","input"],["color","accent","formControlName","purity",3,"min","max","step","input"]],template:function(n,i){1&n&&e.YNc(0,Ee,18,9,"div",0),2&n&&e.Q6J("ngIf",null!==i.form&&null!==i.affix)},directives:[s.O5,F.JL,F.sg,pe.KE,pe.hX,ye.gD,F.JJ,F.u,s.sg,J.oG,j.lW,Me.Hw,xe.ey,Te.pH],styles:[".pure[_ngcontent-%COMP%]{color:#20d787}"]}),o}();function Ue(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).addBasicAffix()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function Ae(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"app-item-edit-stat",25),e.NdJ("remove",function(){e.CHM(n);var ae=e.oxw().index;return e.oxw(3).removeAffix(ae)}),e.qZA()}if(2&o){var i=e.oxw(),p=i.$implicit,O=i.index,N=e.oxw(3);e.Q6J("form",p)("base",N.item.base)("alreadyUsedStats",N.alreadyUsedStats)("affix",N.getAffix(O))("removable",!1)}}function Je(o,f){if(1&o&&(e.ynx(0),e.YNc(1,Ae,1,5,"app-item-edit-stat",24),e.BQk()),2&o){var n=f.$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",i.isBasicStat(n))}}function $e(o,f){if(1&o&&(e.ynx(0),e.YNc(1,Je,2,1,"ng-container",14),e.BQk()),2&o){var n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.getAffixControls())}}function et(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).addMagicAffix()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function De(o,f){if(1&o&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e._uU(2," Magic Stats : "),e.qZA(),e.YNc(3,et,4,0,"div",11),e.qZA()),2&o){var n=e.oxw(2);e.xp6(3),e.Q6J("ngIf",n.hasBasicStats()&&!n.hasMaximumMagicStats())}}function Re(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"app-item-edit-stat",25),e.NdJ("remove",function(){e.CHM(n);var ae=e.oxw().index;return e.oxw(2).removeAffix(ae)}),e.qZA()}if(2&o){var i=e.oxw(),p=i.$implicit,O=i.index,N=e.oxw(2);e.Q6J("form",p)("base",N.item.base)("alreadyUsedStats",N.alreadyUsedStats)("affix",N.getAffix(O))("removable",!N.hasRareStats()&&!N.hasEpicStats())}}function Ce(o,f){if(1&o&&(e.ynx(0),e.YNc(1,Re,1,5,"app-item-edit-stat",24),e.BQk()),2&o){var n=f.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.isMagicStat(n))}}function be(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).addRareAffix()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function tt(o,f){if(1&o&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e._uU(2," Rare Stats : "),e.qZA(),e.YNc(3,be,4,0,"div",11),e.qZA()),2&o){var n=e.oxw(2);e.xp6(3),e.Q6J("ngIf",n.hasMagicStats()&&!n.hasMaximumRareStats())}}function nt(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"app-item-edit-stat",25),e.NdJ("remove",function(){e.CHM(n);var ae=e.oxw().index;return e.oxw(2).removeAffix(ae)}),e.qZA()}if(2&o){var i=e.oxw(),p=i.$implicit,O=i.index,N=e.oxw(2);e.Q6J("form",p)("base",N.item.base)("alreadyUsedStats",N.alreadyUsedStats)("affix",N.getAffix(O))("removable",!N.hasEpicStats())}}function He(o,f){if(1&o&&(e.ynx(0),e.YNc(1,nt,1,5,"app-item-edit-stat",24),e.BQk()),2&o){var n=f.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.isRareStat(n))}}function at(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).addEpicAffix()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function _t(o,f){if(1&o&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e._uU(2," Epic Stats : "),e.qZA(),e.YNc(3,at,4,0,"div",11),e.qZA()),2&o){var n=e.oxw(2);e.xp6(3),e.Q6J("ngIf",n.hasRareStats()&&!n.hasMaximumEpicStats())}}function dt(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"app-item-edit-stat",25),e.NdJ("remove",function(){e.CHM(n);var ae=e.oxw().index;return e.oxw(2).removeAffix(ae)}),e.qZA()}if(2&o){var i=e.oxw(),p=i.$implicit,O=i.index,N=e.oxw(2);e.Q6J("form",p)("base",N.item.base)("alreadyUsedStats",N.alreadyUsedStats)("affix",N.getAffix(O))("removable",!0)}}function pt(o,f){if(1&o&&(e.ynx(0),e.YNc(1,dt,1,5,"app-item-edit-stat",24),e.BQk()),2&o){var n=f.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.isEpicStat(n))}}function ft(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"form",1),e.NdJ("submit",function(){return e.CHM(n),e.oxw().submit()}),e.TgZ(1,"mat-dialog-content"),e.TgZ(2,"div",2),e._UZ(3,"app-item-view",3),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"mat-form-field",6),e.TgZ(7,"mat-label"),e._uU(8,"Item level"),e.qZA(),e._UZ(9,"input",7),e.TgZ(10,"mat-error"),e._uU(11),e.qZA(),e.qZA(),e.TgZ(12,"mat-form-field",6),e.TgZ(13,"mat-label"),e._uU(14,"Item reinforcment"),e.qZA(),e._UZ(15,"input",8),e.TgZ(16,"mat-error"),e._uU(17,"Reinforcment must be >= 0"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",9),e.TgZ(19,"div",10),e._uU(20," Base Stats : "),e.qZA(),e.YNc(21,Ue,4,0,"div",11),e.qZA(),e.YNc(22,$e,2,1,"ng-container",12),e.YNc(23,De,4,1,"div",13),e.YNc(24,Ce,2,1,"ng-container",14),e.YNc(25,tt,4,1,"div",13),e.YNc(26,He,2,1,"ng-container",14),e.YNc(27,_t,4,1,"div",13),e.YNc(28,pt,2,1,"ng-container",14),e._UZ(29,"app-item-edit-legendary-effect",15),e._UZ(30,"app-item-edit-buff-reaper",16),e._UZ(31,"app-item-edit-buff-skill",17),e._UZ(32,"app-item-edit-buff-attribute",18),e.qZA(),e.qZA(),e.TgZ(33,"mat-dialog-actions"),e.TgZ(34,"button",19),e._uU(35,"Cancel"),e.qZA(),e.TgZ(36,"button",20),e.NdJ("click",function(){return e.CHM(n),e.oxw().reset()}),e._uU(37,"Reset"),e.qZA(),e.TgZ(38,"button",21),e._uU(39,"Submit"),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(3),e.Q6J("item",i.item)("details",!0),e.xp6(8),e.hij("Level must be between 1 and ",i.MAX_ITEM_LEVEL,""),e.xp6(10),e.Q6J("ngIf",!i.hasMaximumBasicStats()),e.xp6(1),e.Q6J("ngIf",i.hasBasicStats()),e.xp6(1),e.Q6J("ngIf",i.hasBasicStats()),e.xp6(1),e.Q6J("ngForOf",i.getAffixControls()),e.xp6(1),e.Q6J("ngIf",i.hasMagicStats()),e.xp6(1),e.Q6J("ngForOf",i.getAffixControls()),e.xp6(1),e.Q6J("ngIf",i.hasRareStats()),e.xp6(1),e.Q6J("ngForOf",i.getAffixControls()),e.xp6(1),e.Q6J("base",i.item.base)("reinforcment",i.item.reinforcment)("heroClass",i.item.heroClass)("legendaryEffect",i.item.legendaryEffect)("form",i.getLegendaryEffectForm()),e.xp6(1),e.Q6J("reaperEnchantment",i.item.reaperEnchantment)("form",i.getReaperEnchantmentForm()),e.xp6(1),e.Q6J("heroClass",i.item.heroClass)("skillEnchantment",i.item.skillEnchantment)("form",i.getSkillEnchantmentForm()),e.xp6(1),e.Q6J("attributeEnchantment",i.item.attributeEnchantment)("form",i.getAttributeEnchantmentForm())}}var vt=function(){var o=function(){function f(n,i,p,O,N,$,ae,re,ee){(0,H.Z)(this,f),this.dialogRef=n,this.slormancerCharacterUpdaterService=i,this.slormancerItemService=p,this.slormancerDataService=O,this.slormancerAffixService=N,this.slormancerLegendaryEffectService=$,this.formOptionsService=ae,this.buildStorageService=re,this.MAX_ITEM_LEVEL=ve.Sb,this.maxBasicStats=0,this.alreadyUsedStats=[],this.originalItem=ee.item,this.maxLevel=ee.maxLevel,this.character=ee.character,this.item=ee.item,this.reset()}return(0,Q.Z)(f,[{key:"reset",value:function(){Object.assign(this.item,this.slormancerItemService.getEquipableItemClone(this.originalItem)),this.form=this.buildForm()}},{key:"submit",value:function(){this.form.valid&&this.dialogRef.close(this.item)}},{key:"updatePreview",value:function(i){var p=this,O=this.item;if(i.valid){var N=i.value;if(O.level=N.level,O.reinforcment=N.reinforcment,O.affixes.forEach(function(Se,mt){var Ie=i.get("affixes."+mt);if(null!==Ie){var Ut=Ie.get("purity").value,ut=Ie.get("value").value,gt=Ie.get("stat").value,Jt=Ie.get("rarity").value;if(Se.craftedEffect.effect.stat!==gt){var ot=p.slormancerAffixService.getAffixFromStat(gt,O.level,O.reinforcment,Jt,ut);null!==ot&&(O.affixes[mt]=ot,Se=ot)}Se.craftedEffect.craftedValue=ut,Se.pure=Ut}}),null!==N.legendaryEffect){var $=N.legendaryEffect.id,ae=N.legendaryEffect.value;null===$?O.legendaryEffect=null:null===O.legendaryEffect||O.legendaryEffect.id!==$?O.legendaryEffect=this.slormancerLegendaryEffectService.getLegendaryEffectById($,ae,O.reinforcment,O.heroClass):O.legendaryEffect.value=ae}if(null!==N.reaper){var re=N.reaper.smith,ee=N.reaper.value;null===re?O.reaperEnchantment=null:null===O.reaperEnchantment||O.reaperEnchantment.craftedReaperSmith!==re?O.reaperEnchantment=this.slormancerItemService.getReaperEnchantment(re,ee):O.reaperEnchantment.craftedValue=ee}if(null!==N.skill){var Ze=N.skill.skill,lt=N.skill.value;null===Ze?O.skillEnchantment=null:null===O.skillEnchantment||O.skillEnchantment.craftedSkill!==Ze?O.skillEnchantment=this.slormancerItemService.getSkillEnchantment(Ze,lt):O.skillEnchantment.craftedValue=lt}if(null!==N.attribute){var it=N.attribute.attribute,ct=N.attribute.value;null===it?O.attributeEnchantment=null:null===O.attributeEnchantment||O.attributeEnchantment.craftedAttribute!==it?O.attributeEnchantment=this.slormancerItemService.getAttributeEnchantment(it,ct):O.attributeEnchantment.craftedValue=ct}this.alreadyUsedStats=O.affixes.map(function(Se){return Se.craftedEffect.effect.stat}),this.slormancerItemService.updateEquipableItemModel(O);var st=this.buildStorageService.getBuild();this.slormancerCharacterUpdaterService.updateCharacter(this.character,null!==st?st.configuration:Ne.g,!1,O),this.slormancerItemService.updateEquipableItemView(O)}}},{key:"affixToForm",value:function(i){return new F.cw({rarity:new F.NI(i.rarity),value:new F.NI(i.craftedEffect.craftedValue),purity:new F.NI(i.pure),stat:new F.NI(i.craftedEffect.effect.stat)})}},{key:"legendaryEffectToForm",value:function(i){return new F.cw({id:new F.NI(null===i?null:i.id),value:new F.NI(null===i?100:i.value)})}},{key:"buildForm",value:function(){var i=this,O=new F.cw({level:new F.NI(this.item.level,[F.kI.required,F.kI.min(1),F.kI.max(this.MAX_ITEM_LEVEL),F.kI.pattern(/^[0-9]+$/)]),reinforcment:new F.NI(this.item.reinforcment,[F.kI.required,F.kI.min(0),F.kI.pattern(/^[0-9]+$/)]),affixes:new F.Oe(this.item.affixes.map(function(N){return i.affixToForm(N)})),legendaryEffect:this.legendaryEffectToForm(this.item.legendaryEffect),reaper:new F.cw({smith:new F.NI(null===this.item.reaperEnchantment?null:this.item.reaperEnchantment.craftedReaperSmith),value:new F.NI(null===this.item.reaperEnchantment?5:this.item.reaperEnchantment.craftedValue)}),skill:new F.cw({skill:new F.NI(null===this.item.skillEnchantment?null:this.item.skillEnchantment.craftedSkill),value:new F.NI(null===this.item.skillEnchantment?2:this.item.skillEnchantment.craftedValue)}),attribute:new F.cw({attribute:new F.NI(null===this.item.attributeEnchantment?null:this.item.attributeEnchantment.craftedAttribute),value:new F.NI(null===this.item.attributeEnchantment?2:this.item.attributeEnchantment.craftedValue)})});return O.valueChanges.subscribe(function(){i.updatePreview(O)}),this.updatePreview(O),this.maxBasicStats=this.slormancerDataService.getBaseMaxBasicStat(this.item.base),O}},{key:"getAffixControls",value:function(){var i=this.form.get("affixes");return null!==i?i.controls:[]}},{key:"isBasicStat",value:function(i){var p=i.get("rarity");return null!==p&&p.value===y.u.Normal}},{key:"hasBasicStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isBasicStat(p)}).length>0}},{key:"hasMaximumBasicStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isBasicStat(p)}).length>=this.maxBasicStats}},{key:"isMagicStat",value:function(i){var p=i.get("rarity");return null!==p&&p.value===y.u.Magic}},{key:"hasMagicStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isMagicStat(p)}).length>0}},{key:"hasMaximumMagicStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isMagicStat(p)}).length>=ve.aH}},{key:"isRareStat",value:function(i){var p=i.get("rarity");return null!==p&&p.value===y.u.Rare}},{key:"hasRareStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isRareStat(p)}).length>0}},{key:"hasMaximumRareStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isRareStat(p)}).length>=ve.bm}},{key:"isEpicStat",value:function(i){var p=i.get("rarity");return null!==p&&p.value===y.u.Epic}},{key:"hasEpicStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isEpicStat(p)}).length>0}},{key:"hasMaximumEpicStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isEpicStat(p)}).length>=ve.hc}},{key:"getAffix",value:function(i){return null===this.item?null:(0,Oe.lA)(this.item.affixes[i])}},{key:"removeAffix",value:function(i){var p=this.form.get("affixes");null!==p&&(p.removeAt(i),this.item.affixes.splice(i,1),this.updatePreview(this.form))}},{key:"addAffix",value:function(i){var p=this,O=this.form.get("affixes"),$=this.formOptionsService.getStatsOptions(this.item.base,i).filter(function(re){return-1===p.alreadyUsedStats.indexOf(re.value)})[0];if($&&null!==O){var ae=this.slormancerAffixService.getAffixFromStat($.value,this.item.level,this.item.reinforcment,i,1e3);null!==ae&&(this.item.affixes.push(ae),O.push(this.affixToForm(ae)),this.updatePreview(this.form))}}},{key:"addBasicAffix",value:function(){this.addAffix(y.u.Normal)}},{key:"addMagicAffix",value:function(){this.addAffix(y.u.Magic)}},{key:"addRareAffix",value:function(){this.addAffix(y.u.Rare)}},{key:"addEpicAffix",value:function(){this.addAffix(y.u.Epic)}},{key:"getLegendaryEffectForm",value:function(){return null===this.form?null:this.form.get("legendaryEffect")}},{key:"getReaperEnchantmentForm",value:function(){return null===this.form?null:this.form.get("reaper")}},{key:"getSkillEnchantmentForm",value:function(){return null===this.form?null:this.form.get("skill")}},{key:"getAttributeEnchantmentForm",value:function(){return null===this.form?null:this.form.get("attribute")}}]),f}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(_.so),e.Y36(k.P),e.Y36(w.S),e.Y36(he.o),e.Y36(ke.l),e.Y36(ce.A),e.Y36(Pe.K),e.Y36(v.x),e.Y36(_.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-modal"]],decls:1,vars:1,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"preview"],[3,"item","details"],[1,"form"],[1,"form-line"],["appearance","outline"],["matInput","","type","number","step","1","formControlName","level"],["matInput","","type","number","step","1","formControlName","reinforcment"],[1,"form-info"],[1,"label"],["class","add",4,"ngIf"],[4,"ngIf"],["class","form-info",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"base","reinforcment","heroClass","legendaryEffect","form"],[3,"reaperEnchantment","form"],[3,"heroClass","skillEnchantment","form"],[3,"attributeEnchantment","form"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","button","color","primary",3,"click"],["mat-flat-button","","type","submit","color","primary"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[3,"form","base","alreadyUsedStats","affix","removable","remove",4,"ngIf"],[3,"form","base","alreadyUsedStats","affix","removable","remove"]],template:function(n,i){1&n&&e.YNc(0,ft,40,24,"form",0),2&n&&e.Q6J("ngIf",null!==i.form&&null!==i.item)},directives:[s.O5,F._Y,F.JL,F.sg,_.xY,K,pe.KE,pe.hX,Be.Nt,F.wV,F.Fj,F.JJ,F.u,pe.TO,s.sg,Ve,Ge,R,Z,_.H8,j.lW,_.ZT,Me.Hw,we],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:20px;gap:20px;flex-grow:1;overflow:auto}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]{flex-direction:column}}mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{max-width:370px}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{display:none;visibility:hidden}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;align-items:stretch;flex-grow:1}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:space-between;grid-gap:16px;gap:16px}@media (max-width: 992px){mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 992px){mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]{align-items:stretch}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0}@media not all and (min-resolution: .001dpcm){@supports (-webkit-appearance: none){mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex-basis:auto}}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;min-height:40px}"]}),o}(),ht=function(){var o=(0,Q.Z)(function f(){(0,H.Z)(this,f)});return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-remove-confirm-modal"]],decls:7,vars:2,consts:[["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary",3,"mat-dialog-close"]],template:function(n,i){1&n&&(e.TgZ(0,"mat-dialog-content"),e._uU(1," Are you sure you want to remove this item ?\n"),e.qZA(),e.TgZ(2,"mat-dialog-actions"),e.TgZ(3,"button",0),e._uU(4,"Cancel"),e.qZA(),e.TgZ(5,"button",1),e._uU(6,"Remove"),e.qZA(),e.qZA()),2&n&&(e.xp6(3),e.Q6J("mat-dialog-close",!1),e.xp6(2),e.Q6J("mat-dialog-close",!0))},directives:[_.xY,_.H8,j.lW,_.ZT],styles:[""]}),o}(),rt=a(9776);function Ct(o,f){if(1&o&&(e.ynx(0),e._UZ(1,"img",4),e._UZ(2,"img",4),e.BQk()),2&o){var n=e.oxw();e.xp6(1),e.Q6J("src",n.item.itemIconBackground,e.LSH),e.xp6(1),e.Q6J("src",n.item.icon,e.LSH)}}function Mt(o,f){if(1&o&&e._UZ(0,"img",4),2&o){var n=e.oxw();e.MGl("src","assets/img/icon/item/",n.base,"/empty.png",e.LSH)}}function Ot(o,f){if(1&o&&e._UZ(0,"app-item-view",10),2&o){var n=e.oxw(2);e.Q6J("item",n.item)("details",!1)}}function Pt(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).equip()}),e.TgZ(1,"mat-icon"),e._uU(2,"arrow_back"),e.qZA(),e._uU(3,"Equip item"),e.qZA()}}function bt(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).unequip()}),e.TgZ(1,"mat-icon"),e._uU(2,"arrow_forward"),e.qZA(),e._uU(3,"Unequip item"),e.qZA()}}function yt(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).edit()}),e.TgZ(1,"mat-icon"),e._uU(2,"add"),e.qZA(),e._uU(3,"Create item"),e.qZA()}}function xt(o,f){1&o&&(e.TgZ(0,"span"),e._uU(1,"(Left slot)"),e.qZA())}function Tt(o,f){1&o&&(e.TgZ(0,"span"),e._uU(1,"(Right slot)"),e.qZA())}function Zt(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){var $=e.CHM(n).$implicit;return e.oxw(3).compareWithSlot($)}),e.TgZ(1,"mat-icon"),e._uU(2,"compare_arrows"),e.qZA(),e._uU(3,"Compare "),e.YNc(4,xt,2,0,"span",2),e.YNc(5,Tt,2,0,"span",2),e.qZA()}if(2&o){var i=f.$implicit,p=e.oxw(3);e.xp6(4),e.Q6J("ngIf",i===p.GearSlot.LeftRing),e.xp6(1),e.Q6J("ngIf",i===p.GearSlot.RightRing)}}function Et(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).edit()}),e.TgZ(1,"mat-icon"),e._uU(2,"edit"),e.qZA(),e._uU(3,"Edit item"),e.qZA()}}function At(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).take()}),e.TgZ(1,"mat-icon"),e._uU(2,"content_cut"),e.qZA(),e._uU(3,"Move item"),e.qZA()}}function St(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).copy()}),e.TgZ(1,"mat-icon"),e._uU(2,"content_copy"),e.qZA(),e._uU(3,"Copy item"),e.qZA()}}function kt(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).remove()}),e.TgZ(1,"mat-icon"),e._uU(2,"delete"),e.qZA(),e._uU(3,"Remove item"),e.qZA()}}function It(o,f){if(1&o&&(e.YNc(0,Pt,4,0,"button",11),e.YNc(1,bt,4,0,"button",11),e.YNc(2,yt,4,0,"button",11),e.YNc(3,Zt,6,2,"button",12),e.YNc(4,Et,4,0,"button",11),e.YNc(5,At,4,0,"button",11),e.YNc(6,St,4,0,"button",11),e.YNc(7,kt,4,0,"button",11)),2&o){var n=e.oxw(2);e.Q6J("ngIf",null!==n.item&&null===n.base),e.xp6(1),e.Q6J("ngIf",null!==n.item&&null!==n.base),e.xp6(1),e.Q6J("ngIf",null===n.item),e.xp6(1),e.Q6J("ngForOf",n.comparableGearSlots),e.xp6(1),e.Q6J("ngIf",null!==n.item),e.xp6(1),e.Q6J("ngIf",null!==n.item),e.xp6(1),e.Q6J("ngIf",null!==n.item),e.xp6(1),e.Q6J("ngIf",null!==n.item)}}function Lt(o,f){if(1&o&&(e.ynx(0),e.YNc(1,Ot,1,2,"ng-template",5),e._UZ(2,"div",6),e.TgZ(3,"mat-menu",7,8),e.YNc(5,It,8,8,"ng-template",9),e.qZA(),e.BQk()),2&o){var n=e.MAs(4),i=e.oxw(),p=e.MAs(1);e.xp6(1),e.Q6J("cdkConnectedOverlayOpen",!i.isDragging&&i.isMouseOver)("cdkConnectedOverlayOrigin",p),e.xp6(1),e.Q6J("matMenuTriggerFor",n),e.xp6(1),e.Q6J("overlapTrigger",!0)}}var wt=function(){var o=function(f){(0,t.Z)(i,f);var n=(0,u.Z)(i);function i(p,O,N,$,ae,re){var ee;return(0,H.Z)(this,i),(ee=n.call(this)).dialog=p,ee.itemMoveService=O,ee.searchService=N,ee.slormancerCharacterBuilderService=$,ee.slormancerItemService=ae,ee.buildStorageService=re,ee.GearSlot=Y.SH,ee.character=null,ee.item=null,ee.base=null,ee.readonly=!1,ee.changed=new e.vpe,ee.menu=null,ee.isDragging=!1,ee.isMouseOver=!1,ee.isItemCompatible=!1,ee.isDraggedItem=!1,ee.hiddenBySearch=!1,ee.comparableGearSlots=[],ee.itemMoveService.draggingItem.pipe((0,D.R)(ee.unsubscribe)).subscribe(function(Ze){ee.isDragging=Ze,ee.isDraggedItem=ee.itemMoveService.isHoldItem(ee.item),ee.isItemCompatible=ee.itemMoveService.isDragItemCompatible(ee.item,ee.base)}),ee.searchService.searchChanged.pipe((0,D.R)(ee.unsubscribe)).subscribe(function(){return ee.updateSearch()}),ee}return(0,Q.Z)(i,[{key:"onMouseOver",value:function(){this.isMouseOver=!0}},{key:"onMouseLeave",value:function(){this.isMouseOver=!1}},{key:"onMouseDown",value:function(O){return 0===O.button&&!this.readonly&&this.take(),!1}},{key:"onMouseUp",value:function(O){var N=this;return 0===O.button&&!this.readonly&&(this.isDragging?this.itemMoveService.swap(this.item,this.base,function($,ae){return N.moveCallback($,ae)}):this.edit()),!1}},{key:"onMouseContextMenu",value:function(){return this.itemMoveService.releaseHoldItem(),this.menu&&!this.readonly&&(this.updateComparableSlots(),this.menu.openMenu()),!1}},{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){this.updateSearch()}},{key:"isMenuOpen",value:function(){return null!=this.menu&&this.menu.menuOpen}},{key:"updateComparableSlots",value:function(){this.comparableGearSlots=[];var O=this.character,N=this.item;null!==O&&null!==N&&null===this.base&&(this.comparableGearSlots=Y.PL.filter(function($){var ae=O.gear[$];return null!==ae&&ae.base===N.base}))}},{key:"updateSearch",value:function(){this.hiddenBySearch=null!==this.item&&this.searchService.hasSearch()&&!this.searchService.itemMatchSearch(this.item)}},{key:"moveCallback",value:function(O,N){O&&this.changed.emit(N),this.isDraggedItem=!1,this.isItemCompatible=!1}},{key:"getItemEditModalData",value:function(O,N){var $=this.slormancerCharacterBuilderService.getCharacterClone(O),ae=Y.PL.find(function(Ze){return O.gear[Ze]===N}),re=ae?$.gear[ae]:null;return{character:$,item:null!==re?re:this.slormancerItemService.getEquipableItemClone(N),maxLevel:$.level}}},{key:"edit",value:function(){var O=this,N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.item,$=this.character;if(null!==$)if(null===N)null!==this.base?this.edit(this.slormancerItemService.getEmptyEquipableItem(this.base,$.heroClass,$.level)):this.dialog.open(me).afterClosed().subscribe(function(re){null!=re&&O.edit(O.slormancerItemService.getEmptyEquipableItem(re,$.heroClass,$.level))});else{var ae=this.getItemEditModalData($,N);this.dialog.open(vt,{data:ae,width:"80vw",maxWidth:"1000px"}).afterClosed().subscribe(function(re){void 0!==re&&O.changed.emit(re)})}}},{key:"take",value:function(){var O=this;null!==this.item&&this.itemMoveService.hold(this.item,this.base,function(N,$){return O.moveCallback(N,$)})}},{key:"copy",value:function(){if(null!==this.item){var O=this.slormancerItemService.getEquipableItemClone(this.item);this.itemMoveService.hold(O,O.base)}}},{key:"remove",value:function(){var O=this;this.dialog.open(ht).afterClosed().subscribe(function(N){!0===N&&O.changed.emit(null)})}},{key:"equip",value:function(){var O=this;null!==this.item&&this.itemMoveService.equip(this.item,function(N,$){return O.moveCallback(N,$)})}},{key:"unequip",value:function(){var O=this;null!==this.item&&this.itemMoveService.moveToStash(this.item,function(N,$){return O.moveCallback(N,$)})}},{key:"compareWithSlot",value:function(O){if(null!==this.item&&null!==this.character){var N=this.character.gear[O],$=this.buildStorageService.getBuild();null!==N&&null!==$&&null!==$.configuration&&this.dialog.open(B,{data:{character:this.character,slot:O,config:$.configuration,left:N,right:this.item}})}}}]),i}(m.B);return o.\u0275fac=function(n){return new(n||o)(e.Y36(_.uw),e.Y36(l.v),e.Y36(c.o),e.Y36(x.o),e.Y36(w.S),e.Y36(v.x))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-slot"]],viewQuery:function(n,i){var p;1&n&&e.Gf(g.p6,5),2&n&&e.iGM(p=e.CRH())&&(i.menu=p.first)},hostBindings:function(n,i){1&n&&e.NdJ("mouseenter",function(){return i.onMouseOver()})("mouseleave",function(){return i.onMouseLeave()})("mousedown",function(O){return i.onMouseDown(O)})("mouseup",function(O){return i.onMouseUp(O)})("contextmenu",function(){return i.onMouseContextMenu()})},inputs:{character:"character",item:"item",base:"base",readonly:"readonly"},outputs:{changed:"changed"},features:[e.qOj,e.TTD],decls:5,vars:15,consts:[["cdkOverlayOrigin","",1,"item"],["trigger","cdkOverlayOrigin"],[4,"ngIf"],[3,"src",4,"ngIf"],[3,"src"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"matMenuTriggerFor"],["xPosition","after",3,"overlapTrigger"],["menu","matMenu"],["matMenuContent",""],[3,"item","details"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0,1),e.YNc(2,Ct,3,2,"ng-container",2),e.YNc(3,Mt,1,1,"img",3),e.YNc(4,Lt,6,4,"ng-container",2),e.qZA()),2&n&&(e.ekj("readonly",i.readonly)("forced-base-compatible",i.isItemCompatible&&null!==i.base)("drop-compatible",!i.isDraggedItem&&i.isMouseOver&&i.isDragging&&i.isItemCompatible)("drop-incompatible",!i.isDraggedItem&&i.isMouseOver&&i.isDragging&&!i.isItemCompatible)("is-being-dragged",i.isDraggedItem&&i.isDragging)("hidden-search",i.hiddenBySearch),e.xp6(2),e.Q6J("ngIf",null!==i.item),e.xp6(1),e.Q6J("ngIf",null===i.item&&null!==i.base),e.xp6(1),e.Q6J("ngIf",i.isMouseOver||i.isMenuOpen()))},directives:[rt.xu,s.O5,rt.pI,g.p6,g.VK,g.KA,K,s.sg,g.OP,Me.Hw],styles:["[_nghost-%COMP%]{width:56px;min-width:56px;height:56px;min-height:56px}.item[_ngcontent-%COMP%]{width:56px;min-width:56px;min-height:56px;border:4px solid black;position:relative;background-color:#131313}.item[_ngcontent-%COMP%]:not(.readonly){cursor:pointer}.item.forced-base-compatible[_ngcontent-%COMP%]{border-color:#b7ffd2b3}.item.drop-compatible[_ngcontent-%COMP%]{border-color:#b7ffd2}.item.drop-incompatible[_ngcontent-%COMP%]{border-color:#f44336}.item.is-being-dragged[_ngcontent-%COMP%]{opacity:.3}.item.hidden-search[_ngcontent-%COMP%]{opacity:.2}.item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;right:0}app-item-view[_ngcontent-%COMP%]{width:350px}"]}),o}()},4440:function(se,te,a){a.d(te,{w:function(){return c}});var H=a(5671),Q=a(3144),t=a(136),u=a(7777),e=a(5542),g=a(8313),D=a(6446),Y=a(9808),x=a(7238);function w(m,_){if(1&m){var C=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){var h=e.CHM(C).$implicit,M=e.oxw(3);return M.select(M.stats,h)}),e.TgZ(1,"div",6),e._uU(2),e.qZA(),e.TgZ(3,"div",7),e._uU(4),e.qZA(),e.qZA()}if(2&m){var k=_.$implicit,y=e.oxw(3);e.ekj("selected",y.isSelected(k)),e.xp6(2),e.Oqu(k.name),e.xp6(1),e.Q6J("matTooltip",y.getTooltip(y.stats,k)),e.xp6(1),e.Oqu(y.getValue(y.stats,k))}}function v(m,_){if(1&m&&(e.ynx(0),e.TgZ(1,"h3",3),e._uU(2),e.qZA(),e.YNc(3,w,5,5,"div",4),e.BQk()),2&m){var C=_.$implicit;e.xp6(2),e.Oqu(C.section),e.xp6(1),e.Q6J("ngForOf",C.stats)}}function l(m,_){if(1&m&&(e.TgZ(0,"div",1),e.YNc(1,v,4,2,"ng-container",2),e.qZA()),2&m){var C=e.oxw();e.xp6(1),e.Q6J("ngForOf",C.SECTIONS)}}var c=function(){var m=function(_){(0,t.Z)(k,_);var C=(0,u.Z)(k);function k(y){var s;return(0,H.Z)(this,k),(s=C.call(this)).slormancerTranslateService=y,s.SECTIONS=[{section:s.slormancerTranslateService.translate("cat_adventure"),stats:[{name:s.slormancerTranslateService.translate("essence_find"),stat:"essence_find",sign:!0},{name:s.slormancerTranslateService.translate("xp_find"),stat:"xp_find",sign:!0},{name:s.slormancerTranslateService.translate("influence_gain"),stat:"influence_gain",sign:!0},{name:s.slormancerTranslateService.translate("mf_find"),stat:"mf_find",sign:!0},{name:s.slormancerTranslateService.translate("mf_qual"),stat:"mf_qual",sign:!0}]},{section:s.slormancerTranslateService.translate("cat_health"),stats:[{name:s.slormancerTranslateService.translate("max_health"),stat:"max_health",sign:!1},{name:s.slormancerTranslateService.translate("health_regeneration"),stat:"health_regeneration",sign:!0},{name:s.slormancerTranslateService.translate("health_leech_percent"),stat:"health_leech_percent",sign:!1},{name:s.slormancerTranslateService.translate("life_on_hit"),stat:"life_on_hit",sign:!0},{name:s.slormancerTranslateService.translate("life_on_kill"),stat:"life_on_kill",sign:!0}]},{section:s.slormancerTranslateService.translate("cat_mana"),stats:[{name:s.slormancerTranslateService.translate("max_mana"),stat:"max_mana",sign:!1},{name:s.slormancerTranslateService.translate("mana_regeneration"),stat:"mana_regeneration",sign:!0},{name:s.slormancerTranslateService.translate("mana_leech_percent"),stat:"mana_leech_percent",sign:!1},{name:s.slormancerTranslateService.translate("mana_on_hit"),stat:"mana_on_hit",sign:!0},{name:s.slormancerTranslateService.translate("mana_on_kill"),stat:"mana_on_kill",sign:!0}]},{section:s.slormancerTranslateService.translate("cat_movement"),stats:[{name:s.slormancerTranslateService.translate("movement_speed"),stat:"movement_speed",sign:!1}]},{section:s.slormancerTranslateService.translate("cat_attack"),stats:[{name:s.slormancerTranslateService.translate("attack_speed"),stat:"attack_speed",sign:!1},{name:s.slormancerTranslateService.translate("basic_damage"),stat:"basic_damage",sign:!1},{name:s.slormancerTranslateService.translate("weapon_damage"),stat:"weapon_damage",sign:!1},{name:s.slormancerTranslateService.translate("physical_damage"),stat:"physical_damage",sign:!1},{name:s.slormancerTranslateService.translate("elemental_damage"),stat:"elemental_damage",sign:!1},{name:s.slormancerTranslateService.translate("critical_chance"),stat:"critical_chance",sign:!1},{name:s.slormancerTranslateService.translate("critical_damage"),stat:"critical_damage",sign:!1},{name:s.slormancerTranslateService.translate("ancestral_chance"),stat:"ancestral_chance",sign:!1},{name:s.slormancerTranslateService.translate("ancestral_damage"),stat:"ancestral_damage",sign:!1},{name:s.slormancerTranslateService.translate("armor_penetration"),stat:"armor_penetration",sign:!1},{name:s.slormancerTranslateService.translate("elemental_penetration"),stat:"elemental_penetration",sign:!1},{name:s.slormancerTranslateService.translate("dot_increased_damage"),stat:"dot_increased_damage",sign:!0},{name:s.slormancerTranslateService.translate("increased_on_elite"),stat:"increased_on_elite",sign:!1}]},{section:s.slormancerTranslateService.translate("cat_defense"),stats:[{name:s.slormancerTranslateService.translate("armor"),stat:"armor",sign:!1},{name:s.slormancerTranslateService.translate("elemental_resist"),stat:"elemental_resist",sign:!1},{name:s.slormancerTranslateService.translate("fire_resistance"),stat:"fire_resistance",sign:!1},{name:s.slormancerTranslateService.translate("ice_resistance"),stat:"ice_resistance",sign:!1},{name:s.slormancerTranslateService.translate("lightning_resistance"),stat:"lightning_resistance",sign:!1},{name:s.slormancerTranslateService.translate("light_resistance"),stat:"light_resistance",sign:!1},{name:s.slormancerTranslateService.translate("shadow_resistance"),stat:"shadow_resistance",sign:!1},{name:s.slormancerTranslateService.translate("dodge"),stat:"dodge",sign:!1},{name:s.slormancerTranslateService.translate("thorns"),stat:"thorns",sign:!1},{name:s.slormancerTranslateService.translate("retaliate"),stat:"retaliate",sign:!1},{name:s.slormancerTranslateService.translate("tenacity"),stat:"tenacity",sign:!1},{name:s.slormancerTranslateService.translate("reduced_on_all"),stat:"reduced_on_all",sign:!1},{name:s.slormancerTranslateService.translate("reduced_by_elite"),stat:"reduced_by_elite",sign:!1},{name:s.slormancerTranslateService.translate("reduced_on_melee"),stat:"reduced_on_melee",sign:!1},{name:s.slormancerTranslateService.translate("reduced_on_projectile"),stat:"reduced_on_projectile",sign:!1},{name:s.slormancerTranslateService.translate("reduced_on_area"),stat:"reduced_on_area",sign:!1}]},{section:s.slormancerTranslateService.translate("cat_secondary_resources"),stats:[{name:s.slormancerTranslateService.translate("gold_find"),stat:"gold_find",sign:!0},{name:s.slormancerTranslateService.translate("scrap_find"),stat:"scrap_find",sign:!0},{name:s.slormancerTranslateService.translate("slormite_find"),stat:"slormite_find",sign:!0},{name:s.slormancerTranslateService.translate("slormeline_find"),stat:"slormeline_find",sign:!0},{name:s.slormancerTranslateService.translate("reaper_find"),stat:"reaper_find",sign:!0},{name:s.slormancerTranslateService.translate("skill_mastery_gain"),stat:"skill_mastery_gain",sign:!0}]},{section:s.slormancerTranslateService.translate("cat_secondary_melee"),stats:[{name:s.slormancerTranslateService.translate("inner_fire_chance"),stat:"inner_fire_chance",sign:!1},{name:s.slormancerTranslateService.translate("inner_fire_max_number"),stat:"inner_fire_max_number",sign:!1},{name:s.slormancerTranslateService.translate("inner_fire_duration"),stat:"inner_fire_duration",sign:!1},{name:s.slormancerTranslateService.translate("inner_fire_damage"),stat:"inner_fire_damage",sign:!1},{name:s.slormancerTranslateService.translate("overdrive_chance"),stat:"overdrive_chance",sign:!1},{name:s.slormancerTranslateService.translate("overdrive_bounce_number"),stat:"overdrive_bounce_number",sign:!1},{name:s.slormancerTranslateService.translate("overdrive_damage"),stat:"overdrive_damage",sign:!1},{name:s.slormancerTranslateService.translate("recast_chance"),stat:"recast_chance",sign:!1},{name:s.slormancerTranslateService.translate("knockback_melee"),stat:"knockback_melee",sign:!1}]},{section:s.slormancerTranslateService.translate("cat_secondary_projectile"),stats:[{name:s.slormancerTranslateService.translate("additional_projectile"),stat:"additional_projectile",sign:!0},{name:s.slormancerTranslateService.translate("chance_to_pierce"),stat:"chance_to_pierce",sign:!1},{name:s.slormancerTranslateService.translate("fork_chance"),stat:"fork_chance",sign:!1},{name:s.slormancerTranslateService.translate("chance_to_rebound"),stat:"chance_to_rebound",sign:!1},{name:s.slormancerTranslateService.translate("projectile_speed"),stat:"projectile_speed",sign:!0},{name:s.slormancerTranslateService.translate("knockback_projectile"),stat:"knockback_projectile",sign:!1}]},{section:s.slormancerTranslateService.translate("cat_secondary_aoe"),stats:[{name:s.slormancerTranslateService.translate("aoe_increased_size"),stat:"aoe_increased_size",sign:!1},{name:s.slormancerTranslateService.translate("aoe_increased_effect"),stat:"aoe_increased_effect",sign:!1}]},{section:s.slormancerTranslateService.translate("cat_secondary_extras"),stats:[{name:s.slormancerTranslateService.translate("totem_increased_effect"),stat:"totem_increased_effect",sign:!0},{name:s.slormancerTranslateService.translate("aura_increased_effect"),stat:"aura_increased_effect",sign:!0},{name:s.slormancerTranslateService.translate("minion_increased_damage"),stat:"minion_increased_damage",sign:!0}]}],s.stats=null,s.selectedMergedStat=null,s.selected=new e.vpe,s}return(0,Q.Z)(k,[{key:"ngOnInit",value:function(){}},{key:"valueToString",value:function(s,U,h){return"number"==typeof s?(s<0?"-":U?"+":"")+s+h:(s.min<0?"-":U?"+":"")+s.min+h+" - "+(s.max<0?"-":U?"+":"")+s.max+h}},{key:"getValue",value:function(s,U){var h=s.find(function(E){return E.stat===U.stat}),M="0";return h&&(M=this.valueToString(h.total,U.sign,h.suffix)),M}},{key:"select",value:function(s,U){var h=s.find(function(M){return M.stat===U.stat});h&&(this.selectedMergedStat=h,this.selected.emit(h))}},{key:"getTooltip",value:function(s,U){var h=this,M=s.find(function(S){return S.stat===U.stat}),E="No details found";if(M){var I="number"!=typeof M.total;E="Flat: "+M.values.flat.map(function(S){return h.valueToString(S.value,!1,M.suffix)}).join(", ")+"\n",I&&(E+="Flat (max): "+M.values.max.map(function(S){return h.valueToString(S.value,!1,M.suffix)}).join(", ")+"\n"),E+="Percent: "+M.values.percent.map(function(S){return h.valueToString(S.value,!1,"%")}).join(", ")+"\n",I&&(E+="Percent (max) : "+M.values.maxPercent.map(function(S){return h.valueToString(S.value,!1,"%")}).join(", ")+"\n"),E+="Multiplier: "+M.values.multiplier.map(function(S){return h.valueToString(S.value,!1,"%")}).join(", ")}return E}},{key:"translate",value:function(s){return this.slormancerTranslateService.translate(s)}},{key:"isSelected",value:function(s){return null!==this.selectedMergedStat&&this.selectedMergedStat.stat===s.stat}}]),k}(D.B);return m.\u0275fac=function(C){return new(C||m)(e.Y36(g.n))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-main-stats"]],inputs:{stats:"stats"},outputs:{selected:"selected"},features:[e.qOj],decls:1,vars:1,consts:[["class","sections",4,"ngIf"],[1,"sections"],[4,"ngFor","ngForOf"],[1,"section"],["class","stat",3,"selected","click",4,"ngFor","ngForOf"],[1,"stat",3,"click"],[1,"label"],[1,"value",3,"matTooltip"]],template:function(C,k){1&C&&e.YNc(0,l,2,1,"div",0),2&C&&e.Q6J("ngIf",null!==k.stats)},directives:[Y.O5,Y.sg,x.gM],styles:[".sections[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;grid-gap:4px;gap:4px}.sections[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding-left:8px;cursor:pointer}.sections[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.sections[_ngcontent-%COMP%]   .stat.selected[_ngcontent-%COMP%]{background-color:#ffffff4d}"]}),m}()},5895:function(se,te,a){a.d(te,{A:function(){return l}});var H=a(5671),Q=a(3144),t=a(5542),u=a(9808),e=a(9776);function g(c,m){if(1&c){var _=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("mouseenter",function(){var s=t.CHM(_).$implicit,U=t.MAs(1);return t.oxw(2).showOverlay(U,s)})("mouseleave",function(){return t.CHM(_),t.oxw(2).hideOverlay()}),t.TgZ(2,"div",6),t._UZ(3,"img",7),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA(),t.qZA()}if(2&c){var C=m.$implicit;t.xp6(3),t.MGl("src","assets/img/icon/",C.icon,".png",t.LSH),t.xp6(2),t.Oqu(C.name)}}function D(c,m){if(1&c){var _=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("mouseenter",function(){var s=t.CHM(_).$implicit,U=t.MAs(1);return t.oxw(2).showOverlay(U,s)})("mouseleave",function(){return t.CHM(_),t.oxw(2).hideOverlay()}),t.TgZ(2,"div",6),t._UZ(3,"img",7),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA(),t.qZA()}if(2&c){var C=m.$implicit;t.xp6(3),t.MGl("src","assets/img/icon/",C.icon,".png",t.LSH),t.xp6(2),t.Oqu(C.name)}}function Y(c,m){if(1&c){var _=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("mouseenter",function(){var s=t.CHM(_).$implicit,U=t.MAs(1);return t.oxw(2).showOverlay(U,s)})("mouseleave",function(){return t.CHM(_),t.oxw(2).hideOverlay()}),t.TgZ(2,"div",6),t._UZ(3,"img",7),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA(),t.qZA()}if(2&c){var C=m.$implicit;t.xp6(3),t.MGl("src","assets/img/icon/",C.icon,".png",t.LSH),t.xp6(2),t.Oqu(C.name)}}function x(c,m){if(1&c&&(t.TgZ(0,"div",10),t.TgZ(1,"div",11),t._UZ(2,"h3",12),t._UZ(3,"p",12),t.qZA(),t.qZA()),2&c){var _=t.oxw(3);t.xp6(2),t.Q6J("innerHTML",_.overlayMechanic.name,t.oJD),t.xp6(1),t.Q6J("innerHTML",_.overlayMechanic.description,t.oJD)}}function w(c,m){if(1&c&&t.YNc(0,x,4,2,"ng-template",9),2&c){var _=t.oxw(2);t.Q6J("cdkConnectedOverlayOpen",!0)("cdkConnectedOverlayOrigin",_.overlayTrigger)}}function v(c,m){if(1&c&&(t.TgZ(0,"div",1),t.YNc(1,g,6,2,"div",2),t.YNc(2,D,6,2,"div",2),t.YNc(3,Y,6,2,"div",2),t.YNc(4,w,1,2,void 0,3),t.qZA()),2&c){var _=t.oxw();t.xp6(1),t.Q6J("ngForOf",_.classMechanics),t.xp6(1),t.Q6J("ngForOf",_.mechanics),t.xp6(1),t.Q6J("ngForOf",_.buffs),t.xp6(1),t.Q6J("ngIf",null!==_.overlayMechanic&&null!==_.overlayTrigger)}}var l=function(){var c=function(){function m(){(0,H.Z)(this,m),this.classMechanics=[],this.mechanics=[],this.buffs=[],this.overlayTrigger=null,this.overlayMechanic=null}return(0,Q.Z)(m,[{key:"showOverlay",value:function(C,k){this.overlayMechanic=k,this.overlayTrigger=C}},{key:"hideOverlay",value:function(){this.overlayTrigger=null,this.overlayMechanic=null}}]),m}();return c.\u0275fac=function(_){return new(_||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-mechanics-view"]],inputs:{classMechanics:"classMechanics",mechanics:"mechanics",buffs:"buffs"},decls:1,vars:1,consts:[["class","mechanics",4,"ngIf"],[1,"mechanics"],["class","mechanic","cdkOverlayOrigin","",3,"mouseenter","mouseleave",4,"ngFor","ngForOf"],[4,"ngIf"],["cdkOverlayOrigin","",1,"mechanic",3,"mouseenter","mouseleave"],["trigger","cdkOverlayOrigin"],[1,"mechanic-icon"],[3,"src"],[1,"mechanic-name"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[1,"slormancer-tooltip"],[1,"inner-box"],[3,"innerHTML"]],template:function(_,C){1&_&&t.YNc(0,v,5,4,"div",0),2&_&&t.Q6J("ngIf",C.classMechanics.length>0||C.mechanics.length>0||C.buffs.length>0)},directives:[u.O5,u.sg,e.xu,e.pI],styles:[".mechanics[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;grid-gap:4px;gap:4px}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;background-color:#000;padding:4px;grid-gap:4px;gap:4px}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]   .mechanic-icon[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]   .mechanic-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:36px;min-height:36px;width:36px;height:36px}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]   .mechanic-name[_ngcontent-%COMP%]{background-color:#141310;padding:8px;display:flex;flex-direction:row;align-items:center;flex-grow:1}.slormancer-tooltip[_ngcontent-%COMP%]{max-width:350px}.slormancer-tooltip[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:8px 0;font-weight:400;color:#ce4607}.slormancer-tooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0}.slormancer-tooltip[_ngcontent-%COMP%]     .value{color:#ce4607}"]}),c}()},916:function(se,te,a){a.d(te,{R:function(){return K}});var H=a(5671),Q=a(3144),t=a(5542),u=a(2473),e=a(7469),g=a(3075),D=a(8966),Y=a(1093),x=a(3790),w=a(5457),v=a(311),l=a(3300),c=a(9808),m=a(8003);function _(T,B){if(1&T&&(t.TgZ(0,"div",26),t.TgZ(1,"div",27),t.TgZ(2,"div",28),t._UZ(3,"div"),t.qZA(),t._uU(4),t.TgZ(5,"div",28),t._UZ(6,"div"),t.qZA(),t.qZA(),t._UZ(7,"div",20),t.qZA()),2&T){var A=t.oxw(2);t.xp6(4),t.Oqu(A.reaper.benedictionTitleLabel),t.xp6(3),t.Q6J("innerHTML",A.reaper.benediction,t.oJD)}}function C(T,B){if(1&T&&(t.TgZ(0,"div",29),t.TgZ(1,"div",27),t.TgZ(2,"div",28),t._UZ(3,"div"),t.qZA(),t._uU(4),t.TgZ(5,"div",28),t._UZ(6,"div"),t.qZA(),t.qZA(),t._UZ(7,"div",20),t.qZA()),2&T){var A=t.oxw(2);t.xp6(4),t.Oqu(A.reaper.maledictionTitleLabel),t.xp6(3),t.Q6J("innerHTML",A.reaper.malediction,t.oJD)}}function k(T,B){1&T&&t._UZ(0,"app-activable-view",30),2&T&&t.Q6J("activable",B.$implicit)}function y(T,B){if(1&T&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t._uU(2),t.qZA(),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._UZ(6,"img",6),t.TgZ(7,"div",7),t._UZ(8,"div",8),t.qZA(),t.qZA(),t.TgZ(9,"div",9),t.TgZ(10,"div",10),t.TgZ(11,"div",11),t._uU(12),t.qZA(),t._UZ(13,"div",12),t.qZA(),t.TgZ(14,"div",13),t.TgZ(15,"div",14),t._uU(16),t.qZA(),t._UZ(17,"div",15),t.TgZ(18,"div",16),t._uU(19),t.qZA(),t.qZA(),t.TgZ(20,"div",17),t._UZ(21,"div",18),t._UZ(22,"div",19),t.qZA(),t.qZA(),t.qZA(),t._UZ(23,"div",20),t.YNc(24,_,8,2,"div",21),t.YNc(25,C,8,2,"div",22),t.YNc(26,k,1,1,"app-activable-view",23),t._UZ(27,"div",24),t._UZ(28,"div",25),t.qZA(),t.qZA()),2&T){var A=t.oxw();t.xp6(2),t.Oqu(A.reaper.name),t.xp6(4),t.ekj("primordial-effect",A.reaper.primordial),t.Q6J("src",A.reaper.icon,t.LSH),t.xp6(6),t.Oqu(A.reaper.type),t.xp6(1),t.Q6J("innerHTML",A.reaper.smithLabel,t.oJD),t.xp6(3),t.AsE("",A.reaper.damages.min,"-",A.reaper.damages.max,""),t.xp6(1),t.Q6J("innerHTML",A.reaper.damageTypeLabel,t.oJD),t.xp6(2),t.lnq("",A.reaper.maxDamagesWithBonuses.min,"-",A.reaper.maxDamagesWithBonuses.max," at level ",A.reaper.maxLevelWithBonuses,""),t.xp6(2),t.Q6J("innerHTML",A.reaper.victimsLabel,t.oJD),t.xp6(1),t.Q6J("innerHTML",A.reaper.levelLabel,t.oJD),t.xp6(1),t.Q6J("innerHTML",A.reaper.description,t.oJD),t.xp6(1),t.Q6J("ngIf",null!==A.reaper.benediction),t.xp6(1),t.Q6J("ngIf",null!==A.reaper.malediction),t.xp6(1),t.Q6J("ngForOf",A.reaper.activables),t.xp6(2),t.Q6J("innerHTML",A.reaper.lore,t.oJD)}}var s=function(){var T=(0,Q.Z)(function B(){(0,H.Z)(this,B),this.reaper=null});return T.\u0275fac=function(A){return new(A||T)},T.\u0275cmp=t.Xpm({type:T,selectors:[["app-reaper-view"]],inputs:{reaper:"reaper"},decls:1,vars:1,consts:[["class","reaper",4,"ngIf"],[1,"reaper"],[1,"head"],[1,"content"],[1,"info"],[1,"icon"],[3,"src"],[1,"background-outer"],[1,"background"],[1,"summary"],[1,"base"],[1,"type"],[1,"builder",3,"innerHTML"],[1,"damages"],[1,"current-damage"],[1,"type",3,"innerHTML"],[1,"max-damage"],[1,"stats"],[1,"victim",3,"innerHTML"],[1,"level",3,"innerHTML"],[1,"description",3,"innerHTML"],["class","benediction",4,"ngIf"],["class","malediction",4,"ngIf"],[3,"activable",4,"ngFor","ngForOf"],[1,"separator"],[1,"lore",3,"innerHTML"],[1,"benediction"],[1,"title"],[1,"bullet"],[1,"malediction"],[3,"activable"]],template:function(A,j){1&A&&t.YNc(0,y,29,19,"div",0),2&A&&t.Q6J("ngIf",null!==j.reaper)},directives:[c.O5,c.sg,m.K],styles:[".reaper[_ngcontent-%COMP%]{background-color:#090909;color:#fff;border:2px solid black;width:350px}.reaper[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%], .reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{border:2px solid #79b7a4}.reaper[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%]{margin-bottom:2px;text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;padding:15px 10px;grid-gap:15px;gap:15px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:10px;gap:10px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:130px;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:stretch}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .background-outer[_ngcontent-%COMP%]{border:3px solid #3b3831;flex-grow:1;display:flex;flex-direction:column}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .background-outer[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{border:3px solid #12100e;background-color:#22201c;flex-grow:1;height:150px;width:85px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;margin-top:-12.5%;margin-left:-12.5%;image-rendering:pixelated;transform:scale(4)}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;flex-grow:1;text-align:left;grid-gap:10px;gap:10px;font-size:16px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{text-transform:uppercase}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .current-damage[_ngcontent-%COMP%]{font-size:30px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{font-size:20px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]     .bonus-level{color:#148f8a}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .max-damage[_ngcontent-%COMP%]{color:#686868}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{min-width:8px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:center}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]     .value{color:#148f8a}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]     .details{color:#686868}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]{color:#148f8a}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#61f7b7}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]{color:#ff4722}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#d13001}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;grid-gap:5px;gap:5px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]     .value, .reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]     .value{color:#fff}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{background-color:#3b3831;margin:0 30px;height:4px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .lore[_ngcontent-%COMP%]{color:#b8b8b8;text-align:center}"]}),T}(),U=a(7322),h=a(7531),M=a(4102),E=a(7446),I=a(7423),S=a(508);function W(T,B){if(1&T&&(t.TgZ(0,"mat-option",19),t._UZ(1,"span",20),t.qZA()),2&T){var A=B.$implicit;t.Q6J("value",A.value),t.xp6(1),t.Q6J("innerHTML",A.label,t.oJD)}}function V(T,B){if(1&T){var A=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){return t.CHM(A),t.oxw().submit()}),t._UZ(1,"input",2),t.TgZ(2,"mat-dialog-content"),t.TgZ(3,"div",3),t._UZ(4,"app-reaper-view",4),t.qZA(),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"mat-form-field",7),t.TgZ(8,"mat-label"),t._uU(9,"Reaper level (base)"),t.qZA(),t._UZ(10,"input",8),t.TgZ(11,"mat-error"),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"mat-form-field",7),t.TgZ(14,"mat-label"),t._uU(15,"Reaper kills (base)"),t.qZA(),t._UZ(16,"input",9),t.TgZ(17,"mat-error"),t._uU(18,"Kills must be >= 0"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",6),t.TgZ(20,"mat-form-field",7),t.TgZ(21,"mat-label"),t._uU(22,"Raper level (primordial)"),t.qZA(),t._UZ(23,"input",10),t.TgZ(24,"mat-error"),t._uU(25),t.qZA(),t.qZA(),t.TgZ(26,"mat-form-field",7),t.TgZ(27,"mat-label"),t._uU(28,"Reaper kills (primordial)"),t.qZA(),t._UZ(29,"input",11),t.TgZ(30,"mat-error"),t._uU(31,"Kills must be >= 0"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",6),t.TgZ(33,"mat-form-field",12),t.TgZ(34,"mat-label"),t._uU(35,"Reaper base"),t.qZA(),t.TgZ(36,"mat-select",13),t.YNc(37,W,2,2,"mat-option",14),t.qZA(),t.qZA(),t.TgZ(38,"mat-checkbox",15),t._uU(39,"Primordial"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"mat-dialog-actions"),t.TgZ(41,"button",16),t._uU(42,"Cancel"),t.qZA(),t.TgZ(43,"button",17),t.NdJ("click",function(){return t.CHM(A),t.oxw().reset()}),t._uU(44,"Reset"),t.qZA(),t.TgZ(45,"button",18),t._uU(46,"Submit"),t.qZA(),t.qZA(),t.qZA()}if(2&T){var j=t.oxw();t.Q6J("formGroup",j.form),t.xp6(4),t.Q6J("reaper",j.reaper),t.xp6(8),t.hij("Level must be between 1 and ",j.reaper.maxLevel,""),t.xp6(13),t.hij("Level must be between 1 and ",j.reaper.maxLevel,""),t.xp6(12),t.Q6J("ngForOf",j.options)}}var ie=function(){var T=function(){function B(A,j,z,me,F,ve){(0,H.Z)(this,B),this.dialogRef=A,this.slormancerReaperService=j,this.slormancerCharacterUpdaterService=z,this.formOptionsService=me,this.buildStorageService=F,this.options=[],this.originalReaper=this.slormancerReaperService.getReaperClone(ve.reaper),this.character=ve.character,this.reaper=ve.reaper,this.reset()}return(0,Q.Z)(B,[{key:"reset",value:function(){Object.assign(this.reaper,this.originalReaper),this.form=this.buildForm()}},{key:"submit",value:function(){this.form.valid&&this.dialogRef.close(this.reaper)}},{key:"updatePreview",value:function(j){if(j.valid){var z=j.value;if(z.reaper===this.reaper.id)this.reaper.id=z.reaper,this.reaper.primordial=z.primordial,this.reaper.baseInfo.level=z.baseLevel,this.reaper.primordialInfo.level=z.primordialLevel,this.reaper.baseInfo.kills=z.baseKills,this.reaper.primordialInfo.kills=z.primordialKills;else{var me=this.slormancerReaperService.getReaperById(z.reaper,this.reaper.weaponClass,z.primordial,z.baseLevel,z.primordialLevel,z.baseKills,z.primordialKills,this.reaper.bonusLevel);null!==me&&Object.assign(this.reaper,me)}var F=this.buildStorageService.getBuild();this.slormancerReaperService.updateReaperModel(this.reaper),this.slormancerCharacterUpdaterService.updateCharacter(this.character,null!==F?F.configuration:Y.g,!1),this.slormancerReaperService.updateReaperView(this.reaper),this.options=this.formOptionsService.getReaperOptions(this.reaper.weaponClass,this.reaper.primordial),z.baseLevel!==this.reaper.baseInfo.level&&j.patchValue({baseLevel:this.reaper.baseInfo.level},{emitEvent:!1}),z.primordialLevel!==this.reaper.primordialInfo.level&&j.patchValue({primordialLevel:this.reaper.primordialInfo.level},{emitEvent:!1})}}},{key:"getReaperMaxLevelValidator",value:function(){var j=this;return function(z){return g.kI.max(j.reaper.maxLevel)(z)}}},{key:"buildForm",value:function(){var j=this,z=new g.cw({baseLevel:new g.NI(this.reaper.baseInfo.level,[g.kI.required,g.kI.min(1),this.getReaperMaxLevelValidator()]),baseKills:new g.NI(this.reaper.baseInfo.kills,[g.kI.required,g.kI.min(0)]),primordialLevel:new g.NI(this.reaper.primordialInfo.level,[g.kI.required,g.kI.min(1),this.getReaperMaxLevelValidator()]),primordialKills:new g.NI(this.reaper.primordialInfo.kills,[g.kI.required,g.kI.min(0)]),primordial:new g.NI(this.reaper.primordial,g.kI.required),reaper:new g.NI(this.reaper.id,g.kI.required)});return z.valueChanges.subscribe(function(){j.updatePreview(z)}),this.updatePreview(z),z}}]),B}();return T.\u0275fac=function(A){return new(A||T)(t.Y36(D.so),t.Y36(x.I),t.Y36(w.P),t.Y36(l.K),t.Y36(v.x),t.Y36(D.WI))},T.\u0275cmp=t.Xpm({type:T,selectors:[["app-reaper-edit-modal"]],decls:1,vars:1,consts:[["autocomplete","off",3,"formGroup","submit",4,"ngIf"],["autocomplete","off",3,"formGroup","submit"],["autocomplete","false","name","hidden","type","text",2,"display","none"],[1,"preview"],[3,"reaper"],[1,"form"],[1,"stat-line"],["appearance","outline"],["matInput","","type","number","step","1","formControlName","baseLevel"],["matInput","","type","number","step","1","formControlName","baseKills"],["matInput","","type","number","step","1","formControlName","primordialLevel"],["matInput","","type","number","step","1","formControlName","primordialKills"],["appearance","outline","color","primary",1,"no-error-padding"],["formControlName","reaper","color","primary"],[3,"value",4,"ngFor","ngForOf"],["color","primary","formControlName","primordial"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","button","color","primary",3,"click"],["mat-flat-button","","type","submit","color","primary"],[3,"value"],[3,"innerHTML"]],template:function(A,j){1&A&&t.YNc(0,V,47,5,"form",0),2&A&&t.Q6J("ngIf",null!==j.form&&null!==j.reaper)},directives:[c.O5,g._Y,g.JL,g.sg,D.xY,s,U.KE,U.hX,h.Nt,g.wV,g.Fj,g.JJ,g.u,U.TO,M.gD,c.sg,E.oG,D.H8,I.lW,D.ZT,S.ey],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:20px;gap:20px;flex-grow:1}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]{flex-direction:column}}mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{max-width:350px}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{display:none;visibility:hidden}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;align-items:stretch;flex-grow:1}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{padding:8px 0}"]}),T}(),G=a(9776),ue=a(2525),ge=a(3874);function de(T,B){if(1&T&&t._UZ(0,"app-reaper-view",11),2&T){var A=t.oxw(2);t.Q6J("reaper",A.character.reaper)}}function le(T,B){if(1&T){var A=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){return t.CHM(A),t.oxw(3).edit()}),t.TgZ(1,"mat-icon"),t._uU(2,"add_circle_outline"),t.qZA(),t._uU(3,"Add reaper"),t.qZA()}}function fe(T,B){if(1&T){var A=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){return t.CHM(A),t.oxw(3).edit()}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA(),t._uU(3,"Edit reaper"),t.qZA()}}function q(T,B){if(1&T&&(t.YNc(0,le,4,0,"button",12),t.YNc(1,fe,4,0,"button",12)),2&T){var A=t.oxw(2);t.Q6J("ngIf",null===A.character.reaper),t.xp6(1),t.Q6J("ngIf",null!==A.character.reaper)}}function X(T,B){if(1&T){var A=t.EpF();t.TgZ(0,"div",2,3),t.NdJ("click",function(){return t.CHM(A),t.oxw().edit()}),t._UZ(2,"div",4),t.ynx(3),t._UZ(4,"img",5),t.YNc(5,de,1,1,"ng-template",6),t.BQk(),t._UZ(6,"div",7),t.TgZ(7,"mat-menu",8,9),t.YNc(9,q,2,2,"ng-template",10),t.qZA(),t.qZA()}if(2&T){var j=t.MAs(1),z=t.MAs(8),me=t.oxw();t.ekj("readonly",me.readonly),t.xp6(4),t.ekj("primordial-effect",me.character.reaper.primordial),t.Q6J("src",me.character.reaper.icon,t.LSH),t.xp6(1),t.Q6J("cdkConnectedOverlayOpen",me.showOverlay)("cdkConnectedOverlayOrigin",j),t.xp6(1),t.Q6J("matMenuTriggerFor",z),t.xp6(1),t.Q6J("overlapTrigger",!0)}}function b(T,B){if(1&T&&t._UZ(0,"div",14),2&T){var A=t.oxw();t.Q6J("innerHTML",A.character.reaper.levelLabel,t.oJD)}}var K=function(){var T=function(){function B(A,j,z){(0,H.Z)(this,B),this.dialog=A,this.slormancerCharacterBuilderService=j,this.itemMoveService=z,this.character=null,this.readonly=!1,this.changed=new t.vpe,this.showOverlay=!1}return(0,Q.Z)(B,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"onMouseContextMenu",value:function(){return this.readonly||this.itemMoveService.releaseHoldItem(),!1}},{key:"ngOnInit",value:function(){}},{key:"edit",value:function(){var j=this;if(null!==this.character&&!this.readonly){var z=this.slormancerCharacterBuilderService.getCharacterClone(this.character);this.dialog.open(ie,{data:{reaper:z.reaper,character:z}}).afterClosed().subscribe(function(F){F&&j.changed.emit(F)})}}}]),B}();return T.\u0275fac=function(A){return new(A||T)(t.Y36(D.uw),t.Y36(u.o),t.Y36(e.v))},T.\u0275cmp=t.Xpm({type:T,selectors:[["app-reaper-slot"]],hostBindings:function(A,j){1&A&&t.NdJ("mouseenter",function(){return j.onOver()})("mouseleave",function(){return j.onLeave()})("contextmenu",function(){return j.onMouseContextMenu()})},inputs:{character:"character",readonly:"readonly"},outputs:{changed:"changed"},decls:2,vars:2,consts:[["class","reaper","cdkOverlayOrigin","",3,"readonly","click",4,"ngIf"],["class","reaper-level",3,"innerHTML",4,"ngIf"],["cdkOverlayOrigin","",1,"reaper",3,"click"],["trigger","cdkOverlayOrigin"],[1,"inner-slot"],[3,"src"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"matMenuTriggerFor"],["xPosition","after",3,"overlapTrigger"],["menu","matMenu"],["matMenuContent",""],[3,"reaper"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"reaper-level",3,"innerHTML"]],template:function(A,j){1&A&&(t.YNc(0,X,10,9,"div",0),t.YNc(1,b,1,1,"div",1)),2&A&&(t.Q6J("ngIf",null!==j.character),t.xp6(1),t.Q6J("ngIf",null!==j.character))},directives:[c.O5,G.xu,G.pI,ue.p6,ue.VK,ue.KA,s,ue.OP,ge.Hw],styles:[".reaper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:124px;min-height:124px;position:relative}.reaper[_ngcontent-%COMP%]:not(.readonly){cursor:pointer}.reaper[_ngcontent-%COMP%]   .inner-slot[_ngcontent-%COMP%]{width:80px;height:80px;background-color:#1e1e1e;border:3px solid #3c3c3c}.reaper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;margin-top:-12.5%;margin-left:-12.5%;image-rendering:pixelated;transform:scale(4)}.reaper-level[_ngcontent-%COMP%]{color:#fff;text-align:center;text-transform:uppercase}app-reaper-view[_ngcontent-%COMP%]{width:350px}"]}),T}()},4591:function(se,te,a){a.d(te,{X:function(){return U}});var H=a(5671),Q=a(3144),t=a(136),u=a(7777),e=a(5542),g=a(2525),D=a(4373),Y=a(7255),x=a(8313),w=a(311),v=a(6446),l=a(9776),c=a(9808),m=a(411);function _(h,M){if(1&h&&e._UZ(0,"app-skill-view",9),2&h){var E=e.oxw(2);e.Q6J("skill",E.skill)}}function C(h,M){if(1&h&&(e.ynx(0),e._UZ(1,"img",7),e.YNc(2,_,1,1,"ng-template",8),e.BQk()),2&h){var E=e.oxw(),I=e.MAs(1);e.xp6(1),e.Q6J("src","assets/img/icon/"+(E.support?E.skill.iconLarge:E.skill.icon)+".png",e.LSH),e.xp6(1),e.Q6J("cdkConnectedOverlayOpen",E.showOverlay)("cdkConnectedOverlayOrigin",I)}}function k(h,M){if(1&h&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&h){var E=e.oxw().$implicit;e.xp6(1),e.Oqu(E.specializationName)}}function y(h,M){if(1&h){var E=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){var ie=e.CHM(E).$implicit;return e.oxw(2).updateSkill(ie)}),e.TgZ(1,"div",12),e._UZ(2,"img",13),e.TgZ(3,"div",14),e.TgZ(4,"div",15),e._uU(5),e.qZA(),e.YNc(6,k,2,1,"div",16),e.TgZ(7,"div",17),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&h){var I=M.$implicit,S=e.oxw(2);e.xp6(1),e.ekj("selected",S.isSelectedSkill(I)),e.xp6(1),e.ekj("support",S.support),e.Q6J("src","assets/img/icon/"+(S.support?I.iconLarge:I.icon)+".png",e.LSH),e.xp6(3),e.Oqu(I.name),e.xp6(1),e.Q6J("ngIf",null!==I.specializationName),e.xp6(2),e.lnq("",S.MASTERY_LABEL,": ",I.level," / ",S.SKILL_MAX_MASTERY,"")}}function s(h,M){if(1&h&&e.YNc(0,y,9,10,"button",10),2&h){var E=e.oxw();e.Q6J("ngForOf",E.getAvailableSkills())}}var U=function(){var h=function(M){(0,t.Z)(I,M);var E=(0,u.Z)(I);function I(S,W){var V;return(0,H.Z)(this,I),(V=E.call(this)).buildStorageService=S,V.slormancerTranslateService=W,V.SKILL_MAX_MASTERY=D.DA,V.MASTERY_LABEL=V.slormancerTranslateService.translate("tt_mastery"),V.skill=null,V.support=!1,V.readonly=!1,V.changed=new e.vpe,V.menu=null,V.showOverlay=!1,V}return(0,Q.Z)(I,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"ngOnInit",value:function(){}},{key:"getAvailableSkills",value:function(){var W=this.buildStorageService.getLayer(),V=[];if(null!==W&&null!==W.character){var ie=this.support?Y.W.Support:Y.W.Active;V=W.character.skills.map(function(G){return G.skill}).filter(function(G){return ie===G.type})}return V}},{key:"isSelectedSkill",value:function(W){var V=this.buildStorageService.getLayer();return null!==V&&null!==V.character&&(V.character.primarySkill===W||V.character.secondarySkill===W||V.character.supportSkill===W)}},{key:"updateSkill",value:function(W){this.skill!==W&&this.changed.emit(W)}},{key:"openMenu",value:function(){return null!==this.menu&&!this.readonly&&this.menu.openMenu(),!1}}]),I}(v.B);return h.\u0275fac=function(E){return new(E||h)(e.Y36(w.x),e.Y36(x.n))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-skill-slot"]],viewQuery:function(E,I){var S;1&E&&e.Gf(g.p6,7),2&E&&e.iGM(S=e.CRH())&&(I.menu=S.first)},hostBindings:function(E,I){1&E&&e.NdJ("mouseenter",function(){return I.onOver()})("mouseleave",function(){return I.onLeave()})},inputs:{skill:"skill",support:"support",readonly:"readonly"},outputs:{changed:"changed"},features:[e.qOj],decls:7,vars:6,consts:[["cdkOverlayOrigin","",1,"skill",3,"contextmenu","click"],["trigger","cdkOverlayOrigin"],[4,"ngIf"],[3,"matMenuTriggerFor"],["yPosition","above",1,"skill-menu"],["menu","matMenu"],["matMenuContent",""],[3,"src"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"skill"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],[1,"skill-menu-entry"],[1,"skill",3,"src"],[1,"description"],[1,"name"],["class","specialization",4,"ngIf"],[1,"mastery"],[1,"specialization"]],template:function(E,I){if(1&E&&(e.TgZ(0,"div",0,1),e.NdJ("contextmenu",function(){return I.openMenu()})("click",function(){return I.openMenu()}),e.YNc(2,C,3,3,"ng-container",2),e._UZ(3,"div",3),e.TgZ(4,"mat-menu",4,5),e.YNc(6,s,1,1,"ng-template",6),e.qZA(),e.qZA()),2&E){var S=e.MAs(5);e.ekj("support",I.support)("readonly",I.readonly),e.xp6(2),e.Q6J("ngIf",null!==I.skill),e.xp6(1),e.Q6J("matMenuTriggerFor",S)}},directives:[l.xu,c.O5,g.p6,g.VK,g.KA,l.pI,m.O,c.sg,g.OP],styles:["[_nghost-%COMP%]{min-width:42px;height:42px;min-height:42px;overflow:hidden}.skill[_ngcontent-%COMP%]{width:42px;min-width:42px;height:42px;min-height:42px;border:4px solid black;position:relative;background-color:#131313}.skill.support[_ngcontent-%COMP%]{width:84px;min-width:84px}.skill[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.skill[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{text-transform:uppercase}.skill[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:-8px;left:0}.skill-menu-entry[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:8px;gap:8px}.skill-menu-entry[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]{border:4px solid #353535}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .specialization[_ngcontent-%COMP%]{line-height:normal;font-weight:700;text-transform:uppercase}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .mastery[_ngcontent-%COMP%]{line-height:normal}.skill-menu-entry.selected[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]{border-color:#edd371}.skill-menu-entry.selected[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .skill-menu-entry.selected[_ngcontent-%COMP%]   .specialization[_ngcontent-%COMP%]{color:#edd371}app-item-view[_ngcontent-%COMP%]{width:350px}"]}),h}()},8849:function(se,te,a){a.d(te,{B:function(){return w}});var H=a(5671),Q=a(3144),t=a(8313),u=a(5542),e=a(9808),g=a(5895);function D(v,l){if(1&v&&u._UZ(0,"div",18),2&v){var c=u.oxw(2);u.Q6J("innerHTML",c.upgrade.genresLabel,u.oJD)}}function Y(v,l){if(1&v&&u._UZ(0,"div",19),2&v){var c=u.oxw(2);u.Q6J("innerHTML",c.upgrade.costLabel,u.oJD)}}function x(v,l){if(1&v&&(u.TgZ(0,"div"),u.TgZ(1,"div",1),u._uU(2),u.qZA(),u.TgZ(3,"div",2),u.TgZ(4,"div",3),u.TgZ(5,"div",4),u.TgZ(6,"div",5),u._UZ(7,"div",6),u._UZ(8,"img",7),u.qZA(),u.qZA(),u.TgZ(9,"div",8),u.TgZ(10,"div",9),u._uU(11),u.qZA(),u.TgZ(12,"div",10),u._uU(13),u.qZA(),u.YNc(14,D,1,1,"div",11),u.TgZ(15,"div",12),u._uU(16),u.TgZ(17,"span",13),u._uU(18),u.qZA(),u._uU(19),u.qZA(),u.YNc(20,Y,1,1,"div",14),u.qZA(),u.qZA(),u._UZ(21,"div",15),u._UZ(22,"div",16),u._UZ(23,"app-mechanics-view",17),u.qZA(),u.qZA()),2&v){var c=u.oxw();u.Gre("skill slormancer-tooltip ",c.upgrade.damageTypes.length>0?c.upgrade.damageTypes[0]:"",""),u.xp6(2),u.AsE("",c.getTypeLabel(c.upgrade.type),": ",c.upgrade.name,""),u.xp6(6),u.Q6J("src",c.upgrade.icon,u.LSH),u.xp6(3),u.AsE("",c.translate(c.MASTERY_LABEL)," ",c.upgrade.masteryRequired,""),u.xp6(2),u.Oqu(c.getTypeLabel(c.upgrade.type)),u.xp6(1),u.Q6J("ngIf",null!==c.upgrade.genresLabel),u.xp6(2),u.hij("",c.translate(c.RANK_LABEL),": "),u.xp6(2),u.Oqu(c.upgrade.rank),u.xp6(1),u.hij("/",c.upgrade.maxRank,""),u.xp6(1),u.Q6J("ngIf",null!==c.upgrade.costLabel),u.xp6(2),u.Q6J("innerHTML",c.upgrade.description,u.oJD),u.xp6(1),u.Q6J("classMechanics",c.upgrade.relatedClassMechanics)("mechanics",c.upgrade.relatedMechanics)("buffs",c.upgrade.relatedBuffs)}}var w=function(){var v=function(){function l(c){(0,H.Z)(this,l),this.slormancerTranslateService=c,this.RANK_LABEL="tt_rank",this.MASTERY_LABEL="tt_mastery",this.NEXT_RANK_LABEL="tt_next_rank",this.MAX_RANK_LABEL="tt_max_rank",this.upgrade=null,this.mouseOverElement=null}return(0,Q.Z)(l,[{key:"getCostLabel",value:function(m){return this.slormancerTranslateService.translate("tt_"+m)}},{key:"getGenresLabel",value:function(m){var _=this;return m.map(function(C){return _.slormancerTranslateService.translate(C)}).join(", ")}},{key:"getTypeLabel",value:function(m){return this.slormancerTranslateService.translate("tt_"+m)}},{key:"translate",value:function(m){return this.slormancerTranslateService.translate(m)}},{key:"showMechanicOverlay",value:function(m){this.mouseOverElement=m}},{key:"hideMechanicOverlay",value:function(){this.mouseOverElement=null}}]),l}();return v.\u0275fac=function(c){return new(c||v)(u.Y36(t.n))},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-skill-upgrade-view"]],inputs:{upgrade:"upgrade"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head","inner-box"],[1,"content","inner-box"],[1,"info"],[1,"visual"],[1,"icon"],[1,"icon-border"],[3,"src"],[1,"data"],[1,"mastery"],[1,"type"],["class","genre",3,"innerHTML",4,"ngIf"],[1,"rank"],[1,"current"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"separator"],[1,"description",3,"innerHTML"],[3,"classMechanics","mechanics","buffs"],[1,"genre",3,"innerHTML"],[1,"cost",3,"innerHTML"]],template:function(c,m){1&c&&u.YNc(0,x,24,18,"div",0),2&c&&u.Q6J("ngIf",null!==m.upgrade)},directives:[e.O5,g.A],styles:[".skill[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;max-width:400px}.skill[_ngcontent-%COMP%]   .inner-box[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]:before{border-color:primary-color(400)}.skill[_ngcontent-%COMP%]  .value, .skill[_ngcontent-%COMP%]  .rank .current, .skill[_ngcontent-%COMP%]  .head{color:#ce4607}.skill[_ngcontent-%COMP%]  .mag .value{color:#bb1fe2}.skill[_ngcontent-%COMP%]  .range, .skill[_ngcontent-%COMP%]  .range .value, .skill[_ngcontent-%COMP%]  .details, .skill[_ngcontent-%COMP%]  .details .value, .skill[_ngcontent-%COMP%]  .formula, .skill[_ngcontent-%COMP%]  .formula .value{color:#686868}.skill[_ngcontent-%COMP%]  .affixes .range, .skill[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.skill[_ngcontent-%COMP%]  .life{color:#257539}.skill[_ngcontent-%COMP%]  .mana{color:#3397dd}.skill.mag[_ngcontent-%COMP%]  .value, .skill.mag[_ngcontent-%COMP%]  .rank .current, .skill.mag[_ngcontent-%COMP%]  .head{color:#bb1fe2}.skill[_ngcontent-%COMP%]   .head.head[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.head[_ngcontent-%COMP%]{text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;grid-gap:20px;gap:20px;padding:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:10px;gap:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{display:flex;align-items:center}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border:3px solid #be871f;min-width:60px;min-height:60px;width:60px;height:60px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black;image-rendering:pixelated;width:54px;height:54px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-transform:uppercase;height:100%;flex-grow:1;padding:5px 0;grid-gap:5px;gap:5px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#3155bc}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]{display:flex;flex-direction:row}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{min-width:8px;padding-right:8px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;background-color:#ce4607;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}"]}),v}()},411:function(se,te,a){a.d(te,{O:function(){return c}});var H=a(3144),Q=a(5671),t=a(5542),u=a(9808),e=a(3874),g=a(7238);function D(m,_){if(1&m&&t._UZ(0,"div",15),2&m){var C=t.oxw(2);t.Q6J("innerHTML",C.skill.genresLabel,t.oJD)}}function Y(m,_){if(1&m&&(t.TgZ(0,"mat-icon",19),t._uU(1,"info_outline"),t.qZA()),2&m){var C=t.oxw(3);t.Q6J("matTooltip",C.skill.cooldownDetailsLabel)}}function x(m,_){if(1&m&&(t.TgZ(0,"div",16),t._UZ(1,"span",17),t.YNc(2,Y,2,1,"mat-icon",18),t.qZA()),2&m){var C=t.oxw(2);t.xp6(1),t.Q6J("innerHTML",C.skill.cooldownLabel,t.oJD),t.xp6(1),t.Q6J("ngIf",null!==C.skill.cooldownDetailsLabel)}}function w(m,_){if(1&m&&t._UZ(0,"div",20),2&m){var C=t.oxw(2);t.Q6J("innerHTML",C.skill.costLabel,t.oJD)}}function v(m,_){if(1&m&&(t.TgZ(0,"span",21),t._uU(1),t.qZA()),2&m){var C=t.oxw(2);t.xp6(1),t.hij(" + ",C.skill.bonusLevel,"")}}function l(m,_){if(1&m&&(t.TgZ(0,"div"),t._UZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._UZ(6,"img",6),t.qZA(),t.qZA(),t.TgZ(7,"div",7),t.YNc(8,D,1,1,"div",8),t.YNc(9,x,3,2,"div",9),t.YNc(10,w,1,1,"div",10),t.qZA(),t.qZA(),t._UZ(11,"div",11),t._UZ(12,"div",12),t.TgZ(13,"div",13),t._UZ(14,"img",6),t.YNc(15,v,2,1,"span",14),t.qZA(),t.qZA(),t.qZA()),2&m){var C=t.oxw();t.Gre("skill slormancer-tooltip ",C.skill.damageTypes.length>0?C.skill.damageTypes[0]:"",""),t.xp6(1),t.Q6J("innerHTML",C.skill.nameLabel,t.oJD),t.xp6(5),t.Q6J("src","assets/img/icon/"+C.skill.icon+".png",t.LSH),t.xp6(2),t.Q6J("ngIf",null!==C.skill.genresLabel),t.xp6(1),t.Q6J("ngIf",null!==C.skill.cooldownLabel),t.xp6(1),t.Q6J("ngIf",null!==C.skill.costLabel),t.xp6(2),t.Q6J("innerHTML",C.skill.description,t.oJD),t.xp6(2),t.MGl("src","assets/img/icon/",C.skill.levelIcon,".png",t.LSH),t.xp6(1),t.Q6J("ngIf",C.skill.bonusLevel>0)}}var c=function(){var m=(0,H.Z)(function _(){(0,Q.Z)(this,_),this.skill=null});return m.\u0275fac=function(C){return new(C||m)},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-skill-view"]],inputs:{skill:"skill"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head","inner-box",3,"innerHTML"],[1,"content","inner-box"],[1,"info"],[1,"visual"],[1,"icon"],[3,"src"],[1,"data"],["class","genre",3,"innerHTML",4,"ngIf"],["class","cooldown",4,"ngIf"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"separator"],[1,"description",3,"innerHTML"],[1,"bottom-level"],["class","bonus",4,"ngIf"],[1,"genre",3,"innerHTML"],[1,"cooldown"],[3,"innerHTML"],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],[1,"cost",3,"innerHTML"],[1,"bonus"]],template:function(C,k){1&C&&t.YNc(0,l,16,11,"div",0),2&C&&t.Q6J("ngIf",null!==k.skill)},directives:[u.O5,e.Hw,g.gM],styles:[".skill[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;max-width:400px}.skill[_ngcontent-%COMP%]   .inner-box[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]:before{border-color:primary-color(400)}.skill[_ngcontent-%COMP%]  .value, .skill[_ngcontent-%COMP%]  .rank .current{color:#ce4607}.skill[_ngcontent-%COMP%]  .range, .skill[_ngcontent-%COMP%]  .range .value, .skill[_ngcontent-%COMP%]  .details, .skill[_ngcontent-%COMP%]  .details .value, .skill[_ngcontent-%COMP%]  .formula, .skill[_ngcontent-%COMP%]  .formula .value{color:#686868}.skill[_ngcontent-%COMP%]  .affixes .range, .skill[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.skill[_ngcontent-%COMP%]  .life{color:#257539}.skill[_ngcontent-%COMP%]  .mana{color:#3397dd}.skill.mag[_ngcontent-%COMP%]  .value, .skill.mag[_ngcontent-%COMP%]  .rank .current{color:#bb1fe2}.skill[_ngcontent-%COMP%]   .head.head[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.head[_ngcontent-%COMP%]{text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;grid-gap:20px;gap:20px;padding:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:10px;gap:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{display:flex;align-items:center}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border:3px solid #be871f;min-width:60px;min-height:60px;width:60px;height:60px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black;image-rendering:pixelated;width:54px;height:54px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;text-transform:uppercase;height:100%;padding:5px 0;grid-gap:5px;gap:5px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:4px;gap:4px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .cooldown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .cooldown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:14px;width:14px;font-size:14px;line-height:14px;display:inline}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}"]}),m}()},9536:function(se,te,a){a.d(te,{A:function(){return C}});var H=a(5671),Q=a(3144),t=a(136),u=a(7777),e=a(2722),g=a(7255),D=a(2424),Y=a(6446),x=a(5542),w=a(9808),v=a(9776),l=a(8849);function c(k,y){if(1&k&&x._UZ(0,"app-skill-upgrade-view",8),2&k){var s=x.oxw(3);x.Q6J("upgrade",s.upgrade)}}function m(k,y){if(1&k&&x.YNc(0,c,1,1,"ng-template",7),2&k){x.oxw();var s=x.MAs(1),U=x.oxw();x.Q6J("cdkConnectedOverlayOpen",U.showOverlay)("cdkConnectedOverlayOrigin",s)}}function _(k,y){if(1&k&&(x.TgZ(0,"div",1,2),x.TgZ(2,"div",3),x._UZ(3,"img",4),x.qZA(),x.TgZ(4,"div",5),x._uU(5),x.qZA(),x.YNc(6,m,1,2,void 0,6),x.qZA()),2&k){var s=x.oxw();x.ekj("hidden-search",s.hiddenBySearch)("passive",s.isPassive(s.upgrade))("readonly",s.readonly),x.xp6(2),x.ekj("equipped",s.equipped),x.xp6(1),x.Q6J("src",s.upgrade.icon,x.LSH),x.xp6(1),x.ekj("max",s.upgrade.rank===s.upgrade.maxRank),x.xp6(1),x.Oqu(s.upgrade.rank===s.upgrade.maxRank?"Max":s.upgrade.rank),x.xp6(1),x.Q6J("ngIf",s.showOverlay&&s.overlay)}}var C=function(){var k=function(y){(0,t.Z)(U,y);var s=(0,u.Z)(U);function U(h){var M;return(0,H.Z)(this,U),(M=s.call(this)).searchService=h,M.upgrade=null,M.selected=!1,M.equipped=!1,M.overlay=!1,M.readonly=!1,M.hiddenBySearch=!1,M.showOverlay=!1,M}return(0,Q.Z)(U,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"ngOnInit",value:function(){var M=this;this.searchService.searchChanged.pipe((0,e.R)(this.unsubscribe)).subscribe(function(E){return M.hiddenBySearch=null!==E&&null!==M.upgrade&&!M.searchService.upgradeMatchSearch(M.upgrade)})}},{key:"isPassive",value:function(M){return M.type===g.W.Passive}}]),U}(Y.B);return k.\u0275fac=function(s){return new(s||k)(x.Y36(D.o))},k.\u0275cmp=x.Xpm({type:k,selectors:[["app-upgrade-slot"]],hostBindings:function(s,U){1&s&&x.NdJ("mouseenter",function(){return U.onOver()})("mouseleave",function(){return U.onLeave()})},inputs:{upgrade:"upgrade",selected:"selected",equipped:"equipped",overlay:"overlay",readonly:"readonly"},features:[x.qOj],decls:1,vars:1,consts:[["class","upgrade","cdkOverlayOrigin","",3,"hidden-search","passive","readonly",4,"ngIf"],["cdkOverlayOrigin","",1,"upgrade"],["trigger","cdkOverlayOrigin"],[1,"equipped-border"],[1,"skill-icon",3,"src"],[1,"rank"],[4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"upgrade"]],template:function(s,U){1&s&&x.YNc(0,_,7,13,"div",0),2&s&&x.Q6J("ngIf",null!==U.upgrade)},directives:[w.O5,v.xu,v.pI,l.B],styles:[".upgrade[_ngcontent-%COMP%]{background-color:#101010;position:relative;z-index:1}.upgrade.hidden-search[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{opacity:.2}.upgrade.passive[_ngcontent-%COMP%], .upgrade.passive[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%], .upgrade.passive[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}.upgrade[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{position:absolute;background-color:#202020;padding:0 2px;bottom:0;right:0;font-size:10px;border-radius:4px}.upgrade[_ngcontent-%COMP%]   .rank.max[_ngcontent-%COMP%]{color:#edd371}.upgrade[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%]{width:46px;height:46px;position:relative;border:3px solid black;padding:2px;background-color:#202020}.upgrade[_ngcontent-%COMP%]   .equipped-border.equipped[_ngcontent-%COMP%]{background-color:#edd371}.upgrade[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black}.upgrade[_ngcontent-%COMP%]:not(.readonly)   .equipped-border[_ngcontent-%COMP%]{cursor:pointer}.upgrade.readonly[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%]{padding:0;border-width:4px;width:44px;height:44px}.upgrade.readonly[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-width:0}"]}),k}()},7355:function(se,te,a){a.d(te,{d:function(){return D}});var H=a(5671),Q=a(3144),t=a(2340),u=a(1093),e=a(2473),g=a(5542),D=function(){var Y=function(){function x(w){(0,H.Z)(this,x),this.slormancerCharacterBuilderService=w}return(0,Q.Z)(x,[{key:"createBuild",value:function(v,l){return{version:t.N.version,name:l,heroClass:v,layers:[],configuration:u.g}}},{key:"createBuildWithCharacter",value:function(v,l,c){var m={version:t.N.version,name:v,heroClass:c.heroClass,layers:[],configuration:u.g},_=this.slormancerCharacterBuilderService.getCharacterClone(c);return _.importVersion=null,this.addLayer(m,l,_),m}},{key:"addLayer",value:function(v,l){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,m={name:l,character:null!==c?c:this.slormancerCharacterBuilderService.getCharacter(v.heroClass)};return v.layers.push(m),m}},{key:"duplicateLayer",value:function(v,l,c){return this.addLayer(v,c,this.slormancerCharacterBuilderService.getCharacterClone(l.character))}},{key:"deleteLayer",value:function(v,l){var c=v.layers.indexOf(l);-1!==c&&v.layers.splice(c,1)}}]),x}();return Y.\u0275fac=function(w){return new(w||Y)(g.LFG(e.o))},Y.\u0275prov=g.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y}()},3300:function(se,te,a){a.d(te,{K:function(){return k}});var H=a(4942),Q=a(7762),t=a(5671),u=a(3144),e=a(7399),g=a(4456),D=a(2107),Y=a(2206),x=function(){return(y=x||(x={}))[y.Astorias=0]="Astorias",y[y.Adrianne=1]="Adrianne",y[y.Beigarth=2]="Beigarth",y[y.CoryIronbender=3]="CoryIronbender",y[y.Smaloron=4]="Smaloron",y[y.Fulgurorn=5]="Fulgurorn",y[y.Hagan=6]="Hagan",y[y.OhmAgad=7]="OhmAgad",x;var y}(),w=[x.Astorias,x.Adrianne,x.Beigarth,x.CoryIronbender,x.Smaloron,x.Fulgurorn,x.Hagan,x.OhmAgad],v=a(1375),l=a(7795),c=a(3790),m=a(8313),_=a(5581),C=a(5542),k=function(){var y=function(){function s(U,h,M){(0,t.Z)(this,s),this.slormancerDataService=U,this.slormancerTranslateService=h,this.slormancerReaperService=M,this.STATS_OPTIONS_CACHE={},this.LEGENDARY_OPTIONS_CACHE={},this.ALL_STATS_OPTIONS_CACHE=[],this.ALL_REAPER_BUFF_OPTIONS_CACHE=[],this.ALL_SKILL_BUFF_OPTIONS_CACHE={0:[],1:[],2:[]},this.ALL_ATTRIBUTE_BUFF_OPTIONS_CACHE=[],this.ALL_REAPER_OPTIONS_CACHE={p:{0:[],1:[],2:[]},b:{0:[],1:[],2:[]}},this.ULTIMATUM_OPTIONS_CACHE=[],this.initStatOptionsCache(),this.initLegendaryOptionsCache(),this.initReaperBuffOptions(),this.initSkillBuffOptions(),this.initAttributeBuffOptions(),this.initReaperOptions(),this.initUltimatumOptions()}return(0,u.Z)(s,[{key:"getReaperOptions",value:function(h,M){return this.ALL_REAPER_OPTIONS_CACHE[M?"p":"b"][h]}},{key:"getAllStatsoptions",value:function(){return this.ALL_STATS_OPTIONS_CACHE}},{key:"getStatsOptions",value:function(h,M){var E=this.ALL_STATS_OPTIONS_CACHE,I=this.STATS_OPTIONS_CACHE[h];return I&&(M===Y.u.Normal?E=(0,_.Be)(I.P,[]):(M===Y.u.Magic||M===Y.u.Rare)&&(E=(0,_.Be)(I.S,[]))),E}},{key:"getLegendaryOptions",value:function(h,M){var E=[],I=this.LEGENDARY_OPTIONS_CACHE[h];return I&&(E=I[M]),E}},{key:"getReaperBuffOptions",value:function(){return this.ALL_REAPER_BUFF_OPTIONS_CACHE}},{key:"getSkillBuffOptions",value:function(h){return this.ALL_SKILL_BUFF_OPTIONS_CACHE[h]}},{key:"getAttributeBuffOptions",value:function(){return this.ALL_ATTRIBUTE_BUFF_OPTIONS_CACHE}},{key:"getUltimatumOptions",value:function(){return this.ULTIMATUM_OPTIONS_CACHE}},{key:"getBaseKey",value:function(h){return h===g.J.Body?"ARMOR":h.toUpperCase()}},{key:"initStatOptionsCache",value:function(){var h=this.slormancerDataService.getGameDataStats().filter(function(T){return"X"!==T.PERCENT});this.STATS_OPTIONS_CACHE={},this.ALL_STATS_OPTIONS_CACHE=[];var E,M=(0,Q.Z)(h);try{for(M.s();!(E=M.n()).done;){var I=E.value,S={label:this.slormancerTranslateService.translate(I.REF)+("%"===I.PERCENT?" (%)":""),value:I.REF};this.ALL_STATS_OPTIONS_CACHE.push(S);var V,W=(0,Q.Z)(g.l);try{for(W.s();!(V=W.n()).done;){var ie=V.value,ue=I[this.getBaseKey(ie)];if(""!==ue){var ge=this.STATS_OPTIONS_CACHE[ie];void 0===ge&&(this.STATS_OPTIONS_CACHE[ie]=ge={P:[],S:[]}),"P"===ue&&ge.P.push(S),("P"===ue||"S"===ue)&&ge.S.push(S)}}}catch(T){W.e(T)}finally{W.f()}}}catch(T){M.e(T)}finally{M.f()}var le,de=(0,Q.Z)(g.l);try{for(de.s();!(le=de.n()).done;){var q=this.getBaseKey(le.value),X=this.STATS_OPTIONS_CACHE[q];if(X){var b=X.P,K=X.S;b&&b.sort(function(T,B){return(0,_.rR)(T.label,B.label)}),K&&K.sort(function(T,B){return(0,_.rR)(T.label,B.label)})}}}catch(T){de.e(T)}finally{de.f()}this.ALL_STATS_OPTIONS_CACHE.sort(function(T,B){return(0,_.rR)(T.label,B.label)})}},{key:"initLegendaryOptionsCache",value:function(){var h=this.slormancerDataService.getGameDataLegendaries().filter(function(V){return V.LOOTABLE});this.LEGENDARY_OPTIONS_CACHE={};var E,M=(0,Q.Z)(h);try{for(M.s();!(E=M.n()).done;){var I=E.value,S={value:I.REF,label:I.EN_NAME},W=this.LEGENDARY_OPTIONS_CACHE[I.ITEM];void 0===W&&(this.LEGENDARY_OPTIONS_CACHE[I.ITEM]=W={0:[],1:[],2:[]}),-1===I.HERO||99===I.HERO?(W[0].push(S),W[1].push(S),W[2].push(S)):W[I.HERO].push(S)}}catch(V){M.e(V)}finally{M.f()}}},{key:"initReaperBuffOptions",value:function(){var h=this;this.ALL_REAPER_BUFF_OPTIONS_CACHE=w.filter(function(M){return M!==x.OhmAgad}).map(function(M){return{value:M,label:h.slormancerTranslateService.translate("weapon_reapersmith_"+M)}})}},{key:"initSkillBuffOptions",value:function(){var h;this.ALL_SKILL_BUFF_OPTIONS_CACHE=((0,H.Z)(h={},D.i.Warrior,this.slormancerDataService.getGameDataActiveSkills(D.i.Warrior).map(function(M){return{value:M.REF,label:M.EN_NAME}})),(0,H.Z)(h,D.i.Huntress,this.slormancerDataService.getGameDataActiveSkills(D.i.Huntress).map(function(M){return{value:M.REF,label:M.EN_NAME}})),(0,H.Z)(h,D.i.Mage,this.slormancerDataService.getGameDataActiveSkills(D.i.Mage).map(function(M){return{value:M.REF,label:M.EN_NAME}})),h)}},{key:"initAttributeBuffOptions",value:function(){var h=this;this.ALL_ATTRIBUTE_BUFF_OPTIONS_CACHE=e.A.map(function(M){return{value:M,label:h.slormancerTranslateService.translate("character_trait_"+M)}})}},{key:"initReaperOptions",value:function(){this.ALL_REAPER_OPTIONS_CACHE={p:{0:[],1:[],2:[]},b:{0:[],1:[],2:[]}};var E,h=this.slormancerDataService.getGameDataAvailableReaper(),M=(0,Q.Z)(h);try{for(M.s();!(E=M.n()).done;){var I=E.value;this.ALL_REAPER_OPTIONS_CACHE.p[D.i.Warrior].push({value:I.REF,label:this.slormancerReaperService.getReaperName(I.EN_NAME,!0,D.i.Warrior)}),this.ALL_REAPER_OPTIONS_CACHE.p[D.i.Huntress].push({value:I.REF,label:this.slormancerReaperService.getReaperName(I.EN_NAME,!0,D.i.Huntress)}),this.ALL_REAPER_OPTIONS_CACHE.p[D.i.Mage].push({value:I.REF,label:this.slormancerReaperService.getReaperName(I.EN_NAME,!0,D.i.Mage)}),this.ALL_REAPER_OPTIONS_CACHE.b[D.i.Warrior].push({value:I.REF,label:this.slormancerReaperService.getReaperName(I.EN_NAME,!1,D.i.Warrior)}),this.ALL_REAPER_OPTIONS_CACHE.b[D.i.Huntress].push({value:I.REF,label:this.slormancerReaperService.getReaperName(I.EN_NAME,!1,D.i.Huntress)}),this.ALL_REAPER_OPTIONS_CACHE.b[D.i.Mage].push({value:I.REF,label:this.slormancerReaperService.getReaperName(I.EN_NAME,!1,D.i.Mage)})}}catch(S){M.e(S)}finally{M.f()}}},{key:"initUltimatumOptions",value:function(){var h=this;this.ULTIMATUM_OPTIONS_CACHE=v.N.map(function(M){return{value:M,label:h.slormancerTranslateService.translate("ultimatum_"+M)}})}}]),s}();return y.\u0275fac=function(U){return new(U||y)(C.LFG(l.o),C.LFG(m.n),C.LFG(c.I))},y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y}()},8271:function(se,te,a){a.d(te,{s:function(){return x}});var H=a(5671),Q=a(3144),t=a(7106),u=a(5458),e=a(2473),g=a(5581),D=a(3390),Y=a(5542),x=function(){var w=function(){function v(l,c,m,_){(0,H.Z)(this,v),this.slormancerCharacterBuilderService=l,this.slormancerSaveParserService=c,this.slormancerShortDataService=m,this.jsonConverterService=_;var C=document.getElementsByTagName("base")[0],k="/";if(void 0!==C){var y=C.getAttribute("href");null!==y&&(k=y)}this.VIEW_BUILD_PATH=window.origin+k+"view/build/"}return(0,Q.Z)(v,[{key:"parseSaveData",value:function(c,m){var _=this.slormancerSaveParserService.parseSaveFile(c);return this.slormancerCharacterBuilderService.getCharacterFromSave(_,m)}},{key:"parseUrlData",value:function(c){var m={character:null,layer:null,planner:null},_=null;try{var k=new URL(c).pathname.split("/");_=(0,g.lA)(k[k.length-1]),console.log("parse url fragment : ",_)}catch(y){}return null!==_&&(m=this.importFromShortData(_),console.log("parsed from url : ",m)),m}},{key:"parseJsonData",value:function(c){var m=JSON.parse(c);return this.jsonConverterService.jsonToSharedData(m)}},{key:"import",value:function(c){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,_={character:null,layer:null,planner:null};if(null!==m)try{return _.character=this.parseSaveData(c,m),_}catch(C){console.error("Error when parsing save file : ",C)}try{return this.parseJsonData(atob(c))}catch(C){}try{return this.parseJsonData(c)}catch(C){}return null===(_=this.importFromShortData(c)).character&&(_=this.parseUrlData(c)),console.log("data parsed : ",_),_}},{key:"exportCharacter",value:function(c){return btoa(JSON.stringify(this.jsonConverterService.characterToJson(c)))}},{key:"exportLayer",value:function(c){return btoa(JSON.stringify(this.jsonConverterService.layerToJson(c)))}},{key:"exportBuild",value:function(c){return btoa(JSON.stringify(this.jsonConverterService.buildToJson(c)))}},{key:"exportCharacterAsLink",value:function(c){var m=this.slormancerShortDataService.characterToShortData(c);return this.VIEW_BUILD_PATH+m}},{key:"importFromShortData",value:function(c){return{character:this.slormancerShortDataService.shortDataToCharacter(c),layer:null,planner:null}}}]),v}();return w.\u0275fac=function(l){return new(l||w)(Y.LFG(e.o),Y.LFG(t.X),Y.LFG(u.q),Y.LFG(D.D))},w.\u0275prov=Y.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w}()},7469:function(se,te,a){a.d(te,{v:function(){return Y}});var H=a(4902),Q=a(5671),t=a(3144),u=a(1135),e=a(4456),g=a(311),D=a(5542),Y=function(){var x=function(){function w(v){(0,Q.Z)(this,w),this.buildStorageService=v,this.draggingItem=new u.X(!1),this.dragCount=0,this.item=null,this.requiredBase=null,this.callback=null}return(0,t.Z)(w,[{key:"hold",value:function(l,c){var m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.dragCount=0,this.item=l,this.requiredBase=c,this.callback=m}},{key:"startDragging",value:function(){this.draggingItem.getValue()||(this.dragCount++,null!==this.item&&this.dragCount>5&&this.draggingItem.next(!0))}},{key:"isDragItemCompatible",value:function(l,c){return!(null!==l&&null!==this.requiredBase&&l.base!==this.requiredBase||null===this.item||null!==c&&this.item.base!==c)}},{key:"isHoldItem",value:function(l){return l===this.item&&null!==l}},{key:"getHoldItem",value:function(){return this.item}},{key:"releaseHoldItem",value:function(){this.item=null,this.requiredBase=null,this.callback=null,this.draggingItem.next(!1)}},{key:"swap",value:function(l,c,m){var _=this.item,C=this.callback,k=this.isDragItemCompatible(l,c);this.releaseHoldItem(),l!==_&&(k?(C&&C(!0,l),m&&m(!0,_)):(C&&C(!1,null),m&&m(!1,null)))}},{key:"moveDraggedItemToItemGroup",value:function(l){var c=this.item,m=this.callback,_=l.indexOf(null),C=l.indexOf(c);if(this.releaseHoldItem(),-1!==_||-1!==C){m&&m(!0,null);var k=Math.min.apply(Math,(0,H.Z)([_,C].filter(function(y){return-1!==y})));l.splice(k,1,c)}else m&&m(!1,null)}},{key:"equip",value:function(l,c){var m=this.buildStorageService.getLayer();if(null!==m&&null!==m.character){var _=l.base;switch(this.hold(l,_,c),_){case e.J.Amulet:this.swap(m.character.gear.amulet,_,function(C,k){return C?m.character.gear.amulet=k:null});break;case e.J.Belt:this.swap(m.character.gear.belt,_,function(C,k){return C?m.character.gear.belt=k:null});break;case e.J.Body:this.swap(m.character.gear.body,_,function(C,k){return C?m.character.gear.body=k:null});break;case e.J.Boot:this.swap(m.character.gear.boot,_,function(C,k){return C?m.character.gear.boot=k:null});break;case e.J.Bracer:this.swap(m.character.gear.bracer,_,function(C,k){return C?m.character.gear.bracer=k:null});break;case e.J.Cape:this.swap(m.character.gear.cape,_,function(C,k){return C?m.character.gear.cape=k:null});break;case e.J.Glove:this.swap(m.character.gear.glove,_,function(C,k){return C?m.character.gear.glove=k:null});break;case e.J.Helm:this.swap(m.character.gear.helm,_,function(C,k){return C?m.character.gear.helm=k:null});break;case e.J.Shoulder:this.swap(m.character.gear.shoulder,_,function(C,k){return C?m.character.gear.shoulder=k:null});break;case e.J.Ring:null===m.character.gear.ring_r?this.swap(m.character.gear.ring_r,_,function(C,k){return C?m.character.gear.ring_r=k:null}):this.swap(m.character.gear.ring_l,_,function(C,k){return C?m.character.gear.ring_l=k:null})}}}},{key:"moveToStash",value:function(l,c){var m=this.buildStorageService.getLayer();if(null!==m&&null!==m.character){var _=[m.character.inventory].concat((0,H.Z)(m.character.sharedInventory)).filter(function(C){return void 0!==C.find(function(k){return null===k})})[0];_&&(this.hold(l,null,c),this.moveDraggedItemToItemGroup(_))}}}]),w}();return x.\u0275fac=function(v){return new(v||x)(D.LFG(g.x))},x.\u0275prov=D.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x}()},2424:function(se,te,a){a.d(te,{o:function(){return Y}});var H=a(4902),Q=a(7762),t=a(5671),u=a(3144),e=a(1135),g=a(5581),D=a(5542),Y=function(){var x=function(){function w(){(0,t.Z)(this,w),this.search=null,this.dom=document.createElement("div"),this.searchChanged=new e.X(null)}return(0,u.Z)(w,[{key:"hasSearch",value:function(){return null!==this.search}},{key:"setSearch",value:function(l){this.search=null!==l&&l.length>0?l:null,this.searchChanged.next(this.search)}},{key:"getCleanSearchValue",value:function(){return null===this.search?null:this.search.toLowerCase().trim()}},{key:"removeHtmlTags",value:function(l){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],m=l;if(null!==m){if(this.dom.innerHTML=m.toLowerCase(),c.length>0){var C,_=(0,Q.Z)(c);try{for(_.s();!(C=_.n()).done;)for(var k=C.value,y=this.dom.getElementsByClassName(k),s=0,U=y.length;s<U;s++){var h=y.item(s);h&&h.remove()}}catch(M){_.e(M)}finally{_.f()}}m=this.dom.textContent}return m}},{key:"stringsMatchSearch",value:function(l){var c=!0,m=this.getCleanSearchValue();return null!==m&&(c=null===this.search||void 0!==l.find(function(_){return(0,g.BX)(_)&&-1!==_.toLowerCase().indexOf(m)})),c}},{key:"itemMatchSearch",value:function(l){var c=this;return this.stringsMatchSearch([l.level.toString(),l.name,l.base,l.rarity].concat((0,H.Z)(l.affixes.map(function(m){return[m.isPure?"pure":null,c.removeHtmlTags(m.valueLabel+" "+m.statLabel,["details"])]}).flat()),[null===l.legendaryEffect?null:this.removeHtmlTags(l.legendaryEffect.description,["details"]),null!==l.reaperEnchantment?this.removeHtmlTags(l.reaperEnchantment.label,["details"]):null,null!==l.skillEnchantment?this.removeHtmlTags(l.skillEnchantment.label,["details"]):null,null!==l.attributeEnchantment?this.removeHtmlTags(l.attributeEnchantment.label,["details"]):null]))}},{key:"upgradeMatchSearch",value:function(l){return this.stringsMatchSearch([l.name,l.type,this.removeHtmlTags(l.description)].concat((0,H.Z)(l.genres),[l.genresLabel,this.removeHtmlTags(l.costLabel),this.removeHtmlTags(l.costType)],(0,H.Z)(l.relatedBuffs.map(function(c){return c.name})),(0,H.Z)(l.relatedClassMechanics.map(function(c){return c.name})),(0,H.Z)(l.relatedMechanics.map(function(c){return c.name}))))}},{key:"ancestralLegacyMatchSearch",value:function(l){return this.stringsMatchSearch([l.name,l.costType].concat((0,H.Z)(l.genres),[l.isActivable?"activable":null,this.removeHtmlTags(l.description)],(0,H.Z)(l.relatedBuffs.map(function(c){return c.name})),(0,H.Z)(l.relatedMechanics.map(function(c){return c.name})),(0,H.Z)(l.types),[l.typeLabel,l.genresLabel,l.costLabel]))}},{key:"traitMatchSearch",value:function(l){return this.stringsMatchSearch([l.rankLabel,this.removeHtmlTags(l.cumulativeStats),this.removeHtmlTags(l.description),l.traitLevelLabel])}}]),w}();return x.\u0275fac=function(v){return new(v||x)},x.\u0275prov=D.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x}()},2271:function(se,te,a){a.d(te,{m:function(){return g}});var H=a(3144),Q=a(5671),t=a(9808),u=a(9881),e=a(5542),g=function(){var D=(0,H.Z)(function Y(){(0,Q.Z)(this,Y)});return D.\u0275fac=function(x){return new(x||D)},D.\u0275mod=e.oAB({type:D}),D.\u0275inj=e.cJS({providers:[],imports:[[t.ez,u.q],u.q]}),D}()}}]);