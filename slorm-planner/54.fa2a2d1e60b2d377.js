"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[54],{6446:function(ue,ae,a){a.d(ae,{B:function(){return e}});var J=a(5671),Q=a(3144),t=a(7579),s=a(5542),e=function(){var m=function(){function D(){(0,J.Z)(this,D),this.unsubscribe=new t.x}return(0,Q.Z)(D,[{key:"ngOnDestroy",value:function(){this.unsubscribe.next(),this.unsubscribe.complete()}}]),D}();return m.\u0275fac=function(V){return new(V||m)},m.\u0275cmp=s.Xpm({type:m,selectors:[["ng-component"]],decls:0,vars:0,template:function(V,b){},encapsulation:2}),m}()},3662:function(ue,ae,a){a.d(ae,{Z:function(){return Y}});var J=a(4902),Q=a(5671),t=a(3144),s=a(136),e=a(7777),m=a(5542),D=a(2525),V=a(2722),b=a(5581),w=a(7469),_=a(4917),l=a(6446),r=a(9776),u=a(9808),f=a(9065),E=a(8003);function A(y,I){if(1&y&&m._UZ(0,"app-ancestral-legacy-view",11),2&y){var N=m.oxw(3);m.Q6J("ancestralLegacy",N.activable)("hideNextRank",!0)}}function P(y,I){if(1&y&&m._UZ(0,"app-activable-view",12),2&y){var N=m.oxw(3);m.Q6J("activable",N.activable)}}function c(y,I){if(1&y&&(m.YNc(0,A,1,2,"app-ancestral-legacy-view",9),m.YNc(1,P,1,1,"app-activable-view",10)),2&y){var N=m.oxw(2);m.Q6J("ngIf",N.isAncestralLegacy(N.activable)),m.xp6(1),m.Q6J("ngIf",N.isActivable(N.activable))}}function S(y,I){if(1&y&&(m.ynx(0),m._UZ(1,"img",7),m.YNc(2,c,2,2,"ng-template",8),m.BQk()),2&y){var N=m.oxw(),W=m.MAs(1);m.xp6(1),m.Q6J("src",N.activable.icon,m.LSH),m.xp6(1),m.Q6J("cdkConnectedOverlayOpen",N.showOverlay)("cdkConnectedOverlayOrigin",W)}}function M(y,I){if(1&y){var N=m.EpF();m.TgZ(0,"button",13),m.NdJ("click",function(){var se=m.CHM(N).$implicit;return m.oxw(2).updateActivable(se)}),m.TgZ(1,"div",14),m._UZ(2,"img",19),m.TgZ(3,"div",16),m.TgZ(4,"div",20),m._uU(5),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&y){var W=I.$implicit,K=m.oxw(2);m.xp6(1),m.ekj("selected",K.isSelectedActivable(W)),m.xp6(1),m.Q6J("src",W.icon,m.LSH),m.xp6(3),m.Oqu(W.name)}}function v(y,I){if(1&y){var N=m.EpF();m.TgZ(0,"button",13),m.NdJ("click",function(){return m.CHM(N),m.oxw().updateActivable(null)}),m.TgZ(1,"div",14),m._UZ(2,"div",15),m.TgZ(3,"div",16),m.TgZ(4,"div",17),m._uU(5,"Remove activable"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.YNc(6,M,6,4,"button",18)}if(2&y){var W=m.oxw();m.xp6(6),m.Q6J("ngForOf",W.getAvailableActivables())}}var Y=function(){var y=function(I){(0,s.Z)(W,I);var N=(0,e.Z)(W);function W(K,oe){var X;return(0,Q.Z)(this,W),(X=N.call(this)).plannerService=K,X.itemMoveService=oe,X.activable=null,X.readonly=!1,X.changed=new m.vpe,X.menu=null,X.character=null,X.showOverlay=!1,X.plannerService.characterChanged.pipe((0,V.R)(X.unsubscribe)).subscribe(function(se){return X.character=se}),X}return(0,t.Z)(W,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"onMouseContextMenu",value:function(){return this.itemMoveService.releaseHoldItem(),null!==this.menu&&!this.readonly&&this.menu.openMenu(),!1}},{key:"onMouseClick",value:function(){return this.itemMoveService.releaseHoldItem(),null!==this.menu&&!this.readonly&&this.menu.openMenu(),!1}},{key:"ngOnInit",value:function(){}},{key:"isAncestralLegacy",value:function(oe){return void 0!==oe.element}},{key:"isActivable",value:function(oe){return void 0===oe.element}},{key:"getAvailableActivables",value:function(){var oe=[],X=this.character;if(null!==X){var se=[X.gear.amulet,X.gear.belt,X.gear.body,X.gear.boot,X.gear.bracer,X.gear.cape,X.gear.glove,X.gear.helm,X.gear.ring_l,X.gear.ring_r,X.gear.shoulder].map(function(me){return null!==me&&null!==me.legendaryEffect?me.legendaryEffect.activable:null}).filter(b.BX).sort(function(me,L){return-(0,b.qu)(me.level,L.level)}).filter(function(me,L,z){return(0,b.mr)(me,L,z,function(O,F){return O.id===F.id})}),ge=null===X.reaper?[]:X.reaper.activables,de=X.ancestralLegacies.activeAncestralLegacies.map(function(me){return X.ancestralLegacies.ancestralLegacies[me]}).filter(b.BX).filter(function(me){return me.isActivable});oe=[].concat((0,J.Z)(se),(0,J.Z)(ge),(0,J.Z)(de))}return oe}},{key:"isSelectedActivable",value:function(oe){return null!==this.character&&(this.character.activable1===oe||this.character.activable2===oe||this.character.activable3===oe||this.character.activable4===oe)}},{key:"updateActivable",value:function(oe){this.activable!==oe&&this.changed.emit(oe)}}]),W}(l.B);return y.\u0275fac=function(N){return new(N||y)(m.Y36(_.q),m.Y36(w.v))},y.\u0275cmp=m.Xpm({type:y,selectors:[["app-activable-slot"]],viewQuery:function(N,W){var K;1&N&&m.Gf(D.p6,7),2&N&&m.iGM(K=m.CRH())&&(W.menu=K.first)},hostBindings:function(N,W){1&N&&m.NdJ("mouseenter",function(){return W.onOver()})("mouseleave",function(){return W.onLeave()})("contextmenu",function(){return W.onMouseContextMenu()})("click",function(){return W.onMouseClick()})},inputs:{activable:"activable",readonly:"readonly"},outputs:{changed:"changed"},features:[m.qOj],decls:7,vars:2,consts:[["cdkOverlayOrigin","",1,"skill"],["trigger","cdkOverlayOrigin"],[4,"ngIf"],[3,"matMenuTriggerFor"],["yPosition","above"],["menu","matMenu"],["matMenuContent",""],[3,"src"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"ancestralLegacy","hideNextRank",4,"ngIf"],[3,"activable",4,"ngIf"],[3,"ancestralLegacy","hideNextRank"],[3,"activable"],["mat-menu-item","",3,"click"],[1,"skill-menu-entry"],[1,"skill"],[1,"description"],[1,"subtitle"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"skill",3,"src"],[1,"name"]],template:function(N,W){if(1&N&&(m.TgZ(0,"div",0,1),m.YNc(2,S,3,3,"ng-container",2),m._UZ(3,"div",3),m.TgZ(4,"mat-menu",4,5),m.YNc(6,v,7,1,"ng-template",6),m.qZA(),m.qZA()),2&N){var K=m.MAs(5);m.xp6(2),m.Q6J("ngIf",null!==W.activable),m.xp6(1),m.Q6J("matMenuTriggerFor",K)}},directives:[r.xu,u.O5,D.p6,D.VK,D.KA,r.pI,f.q,E.K,D.OP,u.sg],styles:["[_nghost-%COMP%]{min-width:42px;height:42px;min-height:42px;display:block;overflow:hidden}.skill[_ngcontent-%COMP%]{width:42px;min-width:42px;height:42px;min-height:42px;border:4px solid black;position:relative;background-color:#131313}.skill.support[_ngcontent-%COMP%]{width:84px;min-width:84px}.skill[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.skill-menu-entry[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:8px;gap:8px}.skill-menu-entry[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]{border:4px solid #353535}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{line-height:normal;font-weight:700;text-transform:uppercase}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{line-height:normal}.skill-menu-entry.selected[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]{border-color:#edd371;line-height:0}.skill-menu-entry.selected[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#edd371}app-item-view[_ngcontent-%COMP%]{width:350px}"]}),y}()},8003:function(ue,ae,a){a.d(ae,{K:function(){return b}});var J=a(3144),Q=a(5671),t=a(5542),s=a(9808);function e(w,_){if(1&w&&t._UZ(0,"div",11),2&w){var l=t.oxw(2);t.Q6J("innerHTML",l.activable.genresLabel,t.oJD)}}function m(w,_){if(1&w&&t._UZ(0,"div",12),2&w){var l=t.oxw(2);t.Q6J("innerHTML",l.activable.cooldownLabel,t.oJD)}}function D(w,_){if(1&w&&t._UZ(0,"div",13),2&w){var l=t.oxw(2);t.Q6J("innerHTML",l.activable.costLabel,t.oJD)}}function V(w,_){if(1&w&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t._UZ(3,"img",4),t.qZA(),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t._uU(6),t.qZA(),t.YNc(7,e,1,1,"div",7),t.YNc(8,m,1,1,"div",8),t.YNc(9,D,1,1,"div",9),t.qZA(),t.qZA(),t._UZ(10,"div",10),t.qZA()),2&w){var l=t.oxw();t.xp6(3),t.Q6J("src",l.activable.icon,t.LSH),t.xp6(3),t.Oqu(l.activable.name),t.xp6(1),t.Q6J("ngIf",null!==l.activable.genresLabel),t.xp6(1),t.Q6J("ngIf",null!==l.activable.cooldownLabel),t.xp6(1),t.Q6J("ngIf",null!==!l.activable.costLabel),t.xp6(1),t.Q6J("innerHTML",l.activable.description,t.oJD)}}var b=function(){var w=(0,J.Z)(function _(){(0,Q.Z)(this,_),this.activable=null,this.reinforcment=0});return w.\u0275fac=function(l){return new(l||w)},w.\u0275cmp=t.Xpm({type:w,selectors:[["app-activable-view"]],inputs:{activable:"activable",reinforcment:"reinforcment"},decls:1,vars:1,consts:[["class","activable",4,"ngIf"],[1,"activable"],[1,"activable-head"],[1,"icon"],[3,"src"],[1,"info"],[1,"name"],["class","genre",3,"innerHTML",4,"ngIf"],["class","cooldown",3,"innerHTML",4,"ngIf"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"description",3,"innerHTML"],[1,"genre",3,"innerHTML"],[1,"cooldown",3,"innerHTML"],[1,"cost",3,"innerHTML"]],template:function(l,r){1&l&&t.YNc(0,V,11,6,"div",0),2&l&&t.Q6J("ngIf",null!==r.activable)},directives:[s.O5],styles:[".activable[_ngcontent-%COMP%]{background-color:#151412;border:3px solid black;color:#fff;padding:5px;display:flex;flex-direction:column;grid-gap:5px;gap:5px}.activable[_ngcontent-%COMP%]  .value{color:#ce4607}.activable[_ngcontent-%COMP%]  .range, .activable[_ngcontent-%COMP%]  .range .value, .activable[_ngcontent-%COMP%]  .details, .activable[_ngcontent-%COMP%]  .details .value, .activable[_ngcontent-%COMP%]  .formula, .activable[_ngcontent-%COMP%]  .formula .value{color:#686868}.activable[_ngcontent-%COMP%]  .affixes .range, .activable[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.activable[_ngcontent-%COMP%]  .life{color:#257539}.activable[_ngcontent-%COMP%]  .mana{color:#3397dd}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:5px;gap:5px}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;align-items:center;border:4px solid #be871f;min-width:44px;min-height:44px;width:44px;height:44px}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid black;min-width:36px;min-height:36px;width:36px;height:36px}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:19px;color:#ce4607}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.activable[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}"]}),w}()},9713:function(ue,ae,a){a.d(ae,{y:function(){return A}});var J=a(5671),Q=a(3144),t=a(136),s=a(7777),e=a(5542),m=a(2722),D=a(9184),V=a(4917),b=a(2424),w=a(6446),_=a(9808),l=a(9776),r=a(9065);function u(P,c){if(1&P&&e._UZ(0,"app-ancestral-legacy-view",8),2&P){var S=e.oxw(3);e.Q6J("ancestralLegacy",S.ancestralLegacy)}}function f(P,c){if(1&P&&e.YNc(0,u,1,1,"ng-template",7),2&P){e.oxw();var S=e.MAs(1),M=e.oxw();e.Q6J("cdkConnectedOverlayOpen",M.showOverlay)("cdkConnectedOverlayOrigin",S)}}function E(P,c){if(1&P){var S=e.EpF();e.TgZ(0,"div",1,2),e.NdJ("click",function(){return e.CHM(S),e.oxw().increasesRank()})("contextmenu",function(){return e.CHM(S),e.oxw().decreasesRank()}),e.TgZ(2,"div",3),e._UZ(3,"img",4),e.qZA(),e.TgZ(4,"div",5),e._uU(5),e.qZA(),e.YNc(6,f,1,2,void 0,6),e.qZA()}if(2&P){var M=e.oxw();e.ekj("ranked",M.ancestralLegacy.baseRank>0)("equipped",M.equipped)("selected",M.selected)("readonly",M.readonly)("hidden-search",M.hiddenBySearch),e.xp6(3),e.Q6J("src",M.ancestralLegacy.icon,e.LSH),e.xp6(1),e.ekj("max",M.ancestralLegacy.rank===M.ancestralLegacy.maxRank),e.xp6(1),e.Oqu(M.ancestralLegacy.rank===M.ancestralLegacy.maxRank?"Max":M.ancestralLegacy.rank),e.xp6(1),e.Q6J("ngIf",M.showOverlay&&M.overlay)}}var A=function(){var P=function(c){(0,t.Z)(M,c);var S=(0,s.Z)(M);function M(v,Y,y){var I;return(0,J.Z)(this,M),(I=S.call(this)).searchService=v,I.slormancerAncestralLegacyService=Y,I.plannerService=y,I.ancestralLegacy=null,I.equipped=!1,I.selected=!1,I.readonly=!1,I.overlay=!1,I.changed=new e.vpe,I.showOverlay=!1,I.hiddenBySearch=!1,I}return(0,Q.Z)(M,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"ngOnInit",value:function(){var Y=this;this.searchService.searchChanged.pipe((0,m.R)(this.unsubscribe)).subscribe(function(y){return Y.hiddenBySearch=null!==y&&null!==Y.ancestralLegacy&&!Y.searchService.ancestralLegacyMatchSearch(Y.ancestralLegacy)})}},{key:"setRank",value:function(Y,y){Y.baseRank!==y&&this.selected&&(this.slormancerAncestralLegacyService.updateAncestralLegacyModel(Y,y),this.slormancerAncestralLegacyService.updateAncestralLegacyView(Y),this.plannerService.updateCurrentCharacter())}},{key:"increasesRank",value:function(){return null!==this.ancestralLegacy&&(this.setRank(this.ancestralLegacy,Math.max(0,this.ancestralLegacy.baseRank+1)),this.changed.emit(this.ancestralLegacy)),!1}},{key:"decreasesRank",value:function(){return null!==this.ancestralLegacy&&(this.setRank(this.ancestralLegacy,Math.max(0,this.ancestralLegacy.baseRank-1)),this.changed.emit(this.ancestralLegacy)),!1}}]),M}(w.B);return P.\u0275fac=function(S){return new(S||P)(e.Y36(b.o),e.Y36(D.O),e.Y36(V.q))},P.\u0275cmp=e.Xpm({type:P,selectors:[["app-ancestral-legacy-slot"]],hostBindings:function(S,M){1&S&&e.NdJ("mouseenter",function(){return M.onOver()})("mouseleave",function(){return M.onLeave()})},inputs:{ancestralLegacy:"ancestralLegacy",equipped:"equipped",selected:"selected",readonly:"readonly",overlay:"overlay"},outputs:{changed:"changed"},features:[e.qOj],decls:1,vars:1,consts:[["class","ancestral-legacy","cdkOverlayOrigin","",3,"ranked","equipped","selected","readonly","hidden-search","click","contextmenu",4,"ngIf"],["cdkOverlayOrigin","",1,"ancestral-legacy",3,"click","contextmenu"],["trigger","cdkOverlayOrigin"],[1,"inner"],[3,"src"],[1,"rank"],[4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"ancestralLegacy"]],template:function(S,M){1&S&&e.YNc(0,E,7,15,"div",0),2&S&&e.Q6J("ngIf",null!==M.ancestralLegacy)},directives:[_.O5,l.xu,l.pI,r.q],styles:[".ancestral-legacy[_ngcontent-%COMP%]{position:relative;z-index:1;border-radius:50%;border:1px solid transparent}.ancestral-legacy[_ngcontent-%COMP%]:not(.readonly){cursor:pointer}.ancestral-legacy.selected[_ngcontent-%COMP%]{border:1px solid #841e06}.ancestral-legacy.hidden-search[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{opacity:.1}.ancestral-legacy.ranked.equipped[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{background-color:#d5ad48}.ancestral-legacy[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{position:absolute;background-color:#202020;padding:0 2px;bottom:0;right:0;font-size:4px;border-radius:4px}.ancestral-legacy[_ngcontent-%COMP%]   .rank.max[_ngcontent-%COMP%]{color:#edd371}.ancestral-legacy[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:#202020;border:1px solid black;border-radius:50%;width:16px;height:16px}.ancestral-legacy[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid black;width:12px;height:12px;border-radius:50%;overflow:hidden}.ancestral-legacy.readonly[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{width:40px;height:40px;border-width:4px}.ancestral-legacy.readonly[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-width:0;width:34px;height:34px}.ancestral-legacy.readonly[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{font-size:10px}"]}),P}()},9065:function(ue,ae,a){a.d(ae,{q:function(){return _}});var J=a(5671),Q=a(3144),t=a(8313),s=a(5542),e=a(9808),m=a(5895);function D(l,r){if(1&l&&s._UZ(0,"div",17),2&l){var u=s.oxw(2);s.Q6J("innerHTML",u.ancestralLegacy.genresLabel,s.oJD)}}function V(l,r){if(1&l&&s._UZ(0,"div",18),2&l){var u=s.oxw(2);s.Q6J("innerHTML",u.ancestralLegacy.cooldownLabel,s.oJD)}}function b(l,r){if(1&l&&s._UZ(0,"div",19),2&l){var u=s.oxw(2);s.Q6J("innerHTML",u.ancestralLegacy.costLabel,s.oJD)}}function w(l,r){if(1&l&&(s.TgZ(0,"div"),s.TgZ(1,"div",1),s._uU(2),s.qZA(),s.TgZ(3,"div",2),s.TgZ(4,"div",3),s.TgZ(5,"div",4),s.TgZ(6,"div",5),s._UZ(7,"div",6),s._UZ(8,"img",7),s.qZA(),s.qZA(),s.TgZ(9,"div",8),s._UZ(10,"div",9),s.YNc(11,D,1,1,"div",10),s.YNc(12,V,1,1,"div",11),s._UZ(13,"div",12),s.YNc(14,b,1,1,"div",13),s.qZA(),s.qZA(),s._UZ(15,"div",14),s._UZ(16,"div",15),s._UZ(17,"app-mechanics-view",16),s.qZA(),s.qZA()),2&l){var u=s.oxw();s.Gre("ancestral-legacy ",u.ancestralLegacy.damageTypes.length>0?u.ancestralLegacy.damageTypes[0]:"",""),s.xp6(2),s.Oqu(u.ancestralLegacy.name),s.xp6(6),s.Q6J("src",u.ancestralLegacy.icon,s.LSH),s.xp6(2),s.Q6J("innerHTML",u.ancestralLegacy.typeLabel,s.oJD),s.xp6(1),s.Q6J("ngIf",null!==u.ancestralLegacy.genresLabel),s.xp6(1),s.Q6J("ngIf",null!==u.ancestralLegacy.cooldownLabel),s.xp6(1),s.Q6J("innerHTML",u.ancestralLegacy.rankLabel,s.oJD),s.xp6(1),s.Q6J("ngIf",null!==u.ancestralLegacy.costLabel),s.xp6(2),s.Q6J("innerHTML",u.ancestralLegacy.description,s.oJD),s.xp6(1),s.Q6J("mechanics",u.ancestralLegacy.relatedMechanics)("buffs",u.ancestralLegacy.relatedBuffs)}}var _=function(){var l=function(){function r(u){(0,J.Z)(this,r),this.slormancerTranslateService=u,this.NEXT_RANK_LABEL=this.slormancerTranslateService.translate("tt_next_rank"),this.MAX_RANK_LABEL=this.slormancerTranslateService.translate("tt_max_rank"),this.ancestralLegacy=null,this.hideNextRank=!1}return(0,Q.Z)(r,[{key:"getCostLabel",value:function(f){return this.slormancerTranslateService.translate("tt_"+f)}},{key:"getElementLabel",value:function(f){return this.slormancerTranslateService.translate("element_"+f)}}]),r}();return l.\u0275fac=function(u){return new(u||l)(s.Y36(t.n))},l.\u0275cmp=s.Xpm({type:l,selectors:[["app-ancestral-legacy-view"]],inputs:{ancestralLegacy:"ancestralLegacy",hideNextRank:"hideNextRank"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head"],[1,"content"],[1,"info"],[1,"visual"],[1,"icon"],[1,"icon-border"],[3,"src"],[1,"data"],[1,"type",3,"innerHTML"],["class","genre",3,"innerHTML",4,"ngIf"],["class","cooldown",3,"innerHTML",4,"ngIf"],[1,"rank",3,"innerHTML"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"separator"],[1,"description",3,"innerHTML"],[3,"mechanics","buffs"],[1,"genre",3,"innerHTML"],[1,"cooldown",3,"innerHTML"],[1,"cost",3,"innerHTML"]],template:function(u,f){1&u&&s.YNc(0,w,18,13,"div",0),2&u&&s.Q6J("ngIf",null!==f.ancestralLegacy)},directives:[e.O5,m.A],styles:[".ancestral-legacy[_ngcontent-%COMP%]{background-color:#090909;border:3px solid black;color:#fff;display:flex;flex-direction:column;max-width:400px}.ancestral-legacy[_ngcontent-%COMP%]  .description .value{color:#ce4607}.ancestral-legacy[_ngcontent-%COMP%]  .next-rank .value, .ancestral-legacy[_ngcontent-%COMP%]  .head, .ancestral-legacy[_ngcontent-%COMP%]  .rank .current, .ancestral-legacy[_ngcontent-%COMP%]  .cooldown .value{color:#bb1fe2}.ancestral-legacy[_ngcontent-%COMP%]  .range, .ancestral-legacy[_ngcontent-%COMP%]  .range .value, .ancestral-legacy[_ngcontent-%COMP%]  .details, .ancestral-legacy[_ngcontent-%COMP%]  .details .value, .ancestral-legacy[_ngcontent-%COMP%]  .formula, .ancestral-legacy[_ngcontent-%COMP%]  .formula .value{color:#686868}.ancestral-legacy[_ngcontent-%COMP%]  .affixes .range, .ancestral-legacy[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.ancestral-legacy[_ngcontent-%COMP%]  .life{color:#257539}.ancestral-legacy[_ngcontent-%COMP%]  .mana{color:#3397dd}.ancestral-legacy.mag[_ngcontent-%COMP%]  .value:not(.mana){color:#bb1fe2}.ancestral-legacy[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:3px solid #3c3931}.ancestral-legacy[_ngcontent-%COMP%]   .head.head[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.head[_ngcontent-%COMP%]{text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:20px;gap:20px;padding:10px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:10px;gap:10px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{display:flex;align-items:center}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border:3px solid #be871f;min-width:60px;min-height:60px;width:60px;height:60px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black;image-rendering:pixelated;width:54px;height:54px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-transform:uppercase;height:100%;flex-grow:1;padding:5px 0;grid-gap:5px;gap:5px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#3155bc}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]{display:flex;flex-direction:row}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{min-width:8px;padding-right:8px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;background-color:#ce4607;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}"]}),l}()},3729:function(ue,ae,a){a.d(ae,{g:function(){return me}});var J=a(5671),Q=a(3144),t=a(2652),s=a(4917),e=a(5542),m=a(9808),D=a(9776),V=a(136),b=a(7777),w=a(2722),_=a(2031),l=a(2424),r=a(6446);function u(L,z){if(1&L&&e._UZ(0,"div",9),2&L){var O=e.oxw(2);e.Q6J("innerHTML",O.trait.cumulativeStats,e.oJD)}}function f(L,z){if(1&L&&e._UZ(0,"div",9),2&L){var O=e.oxw(2);e.Q6J("innerHTML",O.trait.description,e.oJD)}}function E(L,z){if(1&L&&(e.ynx(0),e._UZ(1,"div",10),e._UZ(2,"div",11),e.BQk()),2&L){var O=e.oxw(2);e.xp6(2),e.Q6J("innerHTML",O.trait.unlockLabel,e.oJD)}}function A(L,z){if(1&L&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"span",4),e._uU(6),e.qZA(),e._uU(7," - "),e.TgZ(8,"span",5),e._uU(9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",6),e.YNc(11,u,1,1,"div",7),e.YNc(12,f,1,1,"div",7),e.YNc(13,E,3,1,"ng-container",8),e.qZA(),e.qZA()),2&L){var O=e.oxw();e.Gre("trait attribute-",O.trait.attribute,""),e.xp6(3),e.Oqu(O.trait.attributeName),e.xp6(3),e.Oqu(O.trait.rankLabel),e.xp6(3),e.Oqu(O.trait.traitLevelLabel),e.xp6(2),e.Q6J("ngIf",null!==O.trait.cumulativeStats),e.xp6(1),e.Q6J("ngIf",null!==O.trait.description),e.xp6(1),e.Q6J("ngIf",null!==O.trait.unlockLabel)}}var P=function(){var L=(0,Q.Z)(function z(){(0,J.Z)(this,z),this.trait=null});return L.\u0275fac=function(O){return new(O||L)},L.\u0275cmp=e.Xpm({type:L,selectors:[["app-trait-view"]],inputs:{trait:"trait"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head"],[1,"attribute"],[1,"subtitle"],[1,"rank"],[1,"level"],[1,"content"],["class","description",3,"innerHTML",4,"ngIf"],[4,"ngIf"],[1,"description",3,"innerHTML"],[1,"separator"],[1,"unlock",3,"innerHTML"]],template:function(O,F){1&O&&e.YNc(0,A,14,9,"div",0),2&O&&e.Q6J("ngIf",null!==F.trait)},directives:[m.O5],styles:[".trait[_ngcontent-%COMP%]{background-color:#151412;border:3px solid black;color:#fff;display:flex;flex-direction:column;grid-gap:5px;gap:5px;min-width:250px}.trait.attribute-0[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]     .value{color:#2f5996}.trait.attribute-1[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]     .value{color:#a83007}.trait.attribute-2[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]     .value{color:#79b549}.trait.attribute-3[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]     .value{color:#d0b545}.trait.attribute-4[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]     .value{color:#4bc1b2}.trait.attribute-5[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]     .value{color:#753098}.trait.attribute-6[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]     .value{color:#cd7028}.trait.attribute-7[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]     .value{color:#bf3c59}.trait[_ngcontent-%COMP%]  .range, .trait[_ngcontent-%COMP%]  .range .value, .trait[_ngcontent-%COMP%]  .details, .trait[_ngcontent-%COMP%]  .details .value, .trait[_ngcontent-%COMP%]  .formula, .trait[_ngcontent-%COMP%]  .formula .value{color:#686868}.trait[_ngcontent-%COMP%]  .affixes .range, .trait[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:3px solid #3c3931}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-transform:uppercase;padding:10px;grid-gap:2px;gap:2px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .attribute[_ngcontent-%COMP%]{font-size:19px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px 10px;grid-gap:20px;gap:20px;text-align:center}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}"]}),L}();function c(L,z){1&L&&e._UZ(0,"div",7)}function S(L,z){if(1&L&&e._UZ(0,"app-trait-view",9),2&L){var O=e.oxw(3);e.Q6J("trait",O.trait)}}function M(L,z){if(1&L&&e.YNc(0,S,1,1,"ng-template",8),2&L){e.oxw();var O=e.MAs(1),F=e.oxw();e.Q6J("cdkConnectedOverlayOpen",F.isMouseOver)("cdkConnectedOverlayOrigin",O)}}function v(L,z){if(1&L&&(e.TgZ(0,"div",1,2),e.YNc(2,c,1,0,"div",3),e.TgZ(3,"div",4),e._UZ(4,"div",5),e.qZA(),e.YNc(5,M,1,2,void 0,6),e.qZA()),2&L){var O=e.oxw();e.Gre("trait attribute-",O.trait.attribute,""),e.ekj("first",O.first)("last",O.last)("minor",O.isMinor(O.trait))("major",O.isMajor(O.trait))("greater",O.isGreater(O.trait))("active",O.unlocked)("bonus",O.bonus)("highlight",O.highlight)("hidden-by-search",O.isHiddenBySearch),e.xp6(2),e.Q6J("ngIf",O.trait.additive),e.xp6(3),e.Q6J("ngIf",O.isMouseOver)}}var Y=function(){var L=function(z){(0,V.Z)(F,z);var O=(0,b.Z)(F);function F(G){var T;return(0,J.Z)(this,F),(T=O.call(this)).searchService=G,T.trait=null,T.first=!1,T.last=!1,T.highlight=!1,T.unlocked=!1,T.bonus=!1,T.isMouseOver=!1,T.isHiddenBySearch=!1,T}return(0,Q.Z)(F,[{key:"onMouseEnter",value:function(){this.isMouseOver=!0}},{key:"onMouseLeave",value:function(){this.isMouseOver=!1}},{key:"ngOnInit",value:function(){var T=this;this.searchService.searchChanged.pipe((0,w.R)(this.unsubscribe)).subscribe(function(){return T.isHiddenBySearch=null!==T.trait&&!T.searchService.traitMatchSearch(T.trait)})}},{key:"isMinor",value:function(T){return T.traitLevel===_.y.Minor}},{key:"isMajor",value:function(T){return T.traitLevel===_.y.Major}},{key:"isGreater",value:function(T){return T.traitLevel===_.y.Greater}}]),F}(r.B);return L.\u0275fac=function(O){return new(O||L)(e.Y36(l.o))},L.\u0275cmp=e.Xpm({type:L,selectors:[["app-trait"]],hostBindings:function(O,F){1&O&&e.NdJ("mouseenter",function(){return F.onMouseEnter()})("mouseleave",function(){return F.onMouseLeave()})},inputs:{trait:"trait",first:"first",last:"last",highlight:"highlight",unlocked:"unlocked",bonus:"bonus"},features:[e.qOj],decls:1,vars:1,consts:[["cdkOverlayOrigin","",3,"class","first","last","minor","major","greater","active","bonus","highlight","hidden-by-search",4,"ngIf"],["cdkOverlayOrigin",""],["trigger","cdkOverlayOrigin"],["class","additive",4,"ngIf"],[1,"content"],[1,"node"],[4,"ngIf"],[1,"additive"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"trait"]],template:function(O,F){1&O&&e.YNc(0,v,6,23,"div",0),2&O&&e.Q6J("ngIf",null!==F.trait)},directives:[m.O5,D.xu,D.pI,P],styles:[".trait[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;position:relative;height:54px;width:8px;overflow:hidden;cursor:pointer}.trait.hidden-by-search[_ngcontent-%COMP%]{opacity:.2}.trait[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{position:absolute;width:4px;height:36px;left:4px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;border:4px solid black;background-color:#353535;overflow:hidden;border-left-width:0;border-right-width:0;height:30px;z-index:1}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{border:2px solid black;background-color:#202020;height:14px}.trait.attribute-0.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#2f5996}.trait.attribute-0.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#2f59964d}.trait.attribute-1.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#a83007}.trait.attribute-1.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#a830074d}.trait.attribute-2.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#79b549}.trait.attribute-2.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#79b5494d}.trait.attribute-3.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#d0b545}.trait.attribute-3.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#d0b5454d}.trait.attribute-4.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#4bc1b2}.trait.attribute-4.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#4bc1b24d}.trait.attribute-5.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#753098}.trait.attribute-5.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#7530984d}.trait.attribute-6.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#cd7028}.trait.attribute-6.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#cd70284d}.trait.attribute-7.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#bf3c59}.trait.attribute-7.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#bf3c594d}.trait.bonus[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#61f18f}.trait.bonus.highlight[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#61f18f4d}.trait[_ngcontent-%COMP%]:not(.greater)   .content[_ngcontent-%COMP%]{border-left-width:2px;border-right-width:2px}.trait.minor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .trait.greater[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-left-width:0;border-right-width:0}.trait.minor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.greater[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{width:8px}.trait.minor.first[_ngcontent-%COMP%]{width:10px}.trait.minor.first[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{border-left-width:4px;width:10px}.trait.major[_ngcontent-%COMP%]{width:12px}.trait.major[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-left-width:0;border-right-width:0}.trait.major[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{width:12px}.trait.greater[_ngcontent-%COMP%]{width:16px;position:relative}.trait.greater[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;position:absolute;transform:rotate(45deg);border-width:4px;height:36px;width:36px;left:-10px}.trait.greater[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{border-width:2px;width:14px;height:14px}.trait.greater[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{left:6px;height:54px}.trait.greater.last[_ngcontent-%COMP%]{width:32px}"]}),L}();function y(L,z){if(1&L&&e._UZ(0,"div",7),2&L){var O=e.oxw(2);e.Q6J("innerHTML",O.attributeTraits.summary,e.oJD)}}function I(L,z){if(1&L&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e._uU(8),e.qZA(),e.YNc(9,y,1,1,"div",6),e.qZA(),e.qZA()),2&L){var O=e.oxw();e.Gre("trait attribute-",O.attributeTraits.attribute,""),e.xp6(3),e.Oqu(O.attributeTraits.attributeName),e.xp6(2),e.Oqu(O.attributeTraits.title),e.xp6(3),e.Oqu(O.attributeTraits.recapLabel),e.xp6(1),e.Q6J("ngIf",null!==O.attributeTraits.summary)}}var N=function(){var L=(0,Q.Z)(function z(){(0,J.Z)(this,z),this.attributeTraits=null});return L.\u0275fac=function(O){return new(O||L)},L.\u0275cmp=e.Xpm({type:L,selectors:[["app-attribute-summary-view"]],inputs:{attributeTraits:"attributeTraits"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head"],[1,"attribute"],[1,"subtitle"],[1,"content"],[1,"info"],["class","description",3,"innerHTML",4,"ngIf"],[1,"description",3,"innerHTML"]],template:function(O,F){1&O&&e.YNc(0,I,10,7,"div",0),2&O&&e.Q6J("ngIf",null!==F.attributeTraits)},directives:[m.O5],styles:[".trait[_ngcontent-%COMP%]{background-color:#151412;border:3px solid black;color:#fff;display:flex;flex-direction:column;grid-gap:5px;gap:5px;min-width:250px}.trait.attribute-0[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]     .value{color:#2f5996}.trait.attribute-1[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]     .value{color:#a83007}.trait.attribute-2[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]     .value{color:#79b549}.trait.attribute-3[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]     .value{color:#d0b545}.trait.attribute-4[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]     .value{color:#4bc1b2}.trait.attribute-5[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]     .value{color:#753098}.trait.attribute-6[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]     .value{color:#cd7028}.trait.attribute-7[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]     .value{color:#bf3c59}.trait[_ngcontent-%COMP%]  .locked{color:#686868}.trait[_ngcontent-%COMP%]  .range, .trait[_ngcontent-%COMP%]  .range .value, .trait[_ngcontent-%COMP%]  .details, .trait[_ngcontent-%COMP%]  .details .value, .trait[_ngcontent-%COMP%]  .formula, .trait[_ngcontent-%COMP%]  .formula .value, .trait[_ngcontent-%COMP%]  .max, .trait[_ngcontent-%COMP%]  .max .value{color:#686868}.trait[_ngcontent-%COMP%]  .affixes .range, .trait[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:3px solid #3c3931}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-transform:uppercase;padding:10px;grid-gap:2px;gap:2px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .attribute[_ngcontent-%COMP%]{font-size:19px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px 10px;grid-gap:20px;gap:20px;text-align:center}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}"]}),L}(),W=a(7423),K=a(3874);function oe(L,z){if(1&L){var O=e.EpF();e.TgZ(0,"app-trait",9),e.NdJ("mouseenter",function(){var ee=e.CHM(O).index;return e.oxw(2).nodeEnter(ee)})("mouseleave",function(){return e.CHM(O),e.oxw(2).nodeLeave()})("click",function(){return e.CHM(O),e.oxw(2).nodeClick()}),e.qZA()}if(2&L){var F=z.$implicit,G=z.index,T=e.oxw(2);e.Q6J("trait",F)("first",0===G)("last",G===T.attribute.traits.length-1)("highlight",T.isHighlight(G))("bonus",T.isBonus(G))("unlocked",T.isUnlocked(G))}}function X(L,z){if(1&L&&e._UZ(0,"app-attribute-summary-view",10),2&L){var O=e.oxw(2);e.Q6J("attributeTraits",O.attribute)}}function se(L,z){if(1&L){var O=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(T){return e.CHM(O),e.oxw(2).addPoint(T)}),e.TgZ(1,"mat-icon"),e._uU(2,"add"),e.qZA(),e.qZA()}if(2&L){var F=e.oxw(2);e.Q6J("disabled",0===F.remainingPoints)}}function ge(L,z){if(1&L){var O=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(T){return e.CHM(O),e.oxw(2).removePoint(T)}),e.TgZ(1,"mat-icon"),e._uU(2,"remove"),e.qZA(),e.qZA()}if(2&L){var F=e.oxw(2);e.Q6J("disabled",0===F.attribute.rank)}}function de(L,z){if(1&L){var O=e.EpF();e.TgZ(0,"div",1,2),e.TgZ(2,"img",3),e.NdJ("mouseenter",function(){return e.CHM(O),e.oxw().showSummary=!0})("mouseleave",function(){return e.CHM(O),e.oxw().showSummary=!1}),e.qZA(),e.TgZ(3,"div",4),e.NdJ("mouseenter",function(){return e.CHM(O),e.oxw().nodeEnter(-1)})("mouseleave",function(){return e.CHM(O),e.oxw().nodeLeave()})("click",function(){return e.CHM(O),e.oxw().nodeClick()}),e.qZA(),e.YNc(4,oe,1,6,"app-trait",5),e.TgZ(5,"div",6),e._uU(6),e.qZA(),e.YNc(7,X,1,1,"ng-template",7),e.YNc(8,se,3,1,"button",8),e.YNc(9,ge,3,1,"button",8),e.qZA()}if(2&L){var F=e.MAs(1),G=e.oxw();e.Gre("bar attribute-",G.attribute.attribute,""),e.ekj("icon-shift",G.iconShift)("readonly",G.readonly)("short",G.short),e.xp6(2),e.Q6J("src",G.attribute.icon,e.LSH),e.xp6(2),e.Q6J("ngForOf",G.attribute.traits),e.xp6(2),e.AsE(" +",G.attribute.rank+G.attribute.bonusRank," ",G.attribute.attributeName," "),e.xp6(1),e.Q6J("cdkConnectedOverlayOpen",G.showSummary)("cdkConnectedOverlayOrigin",F),e.xp6(1),e.Q6J("ngIf",!G.readonly),e.xp6(1),e.Q6J("ngIf",!G.readonly)}}var me=function(){var L=function(){function z(O,F){(0,J.Z)(this,z),this.slormancerAttributeService=O,this.plannerService=F,this.attribute=null,this.remainingPoints=0,this.iconShift=!1,this.short=!1,this.readonly=!1,this.unlockedRange={min:0,max:0},this.highlightRange={min:0,max:0},this.bonusRange={min:0,max:0},this.cappedCursor=0,this.showSummary=!1}return(0,Q.Z)(z,[{key:"ngOnInit",value:function(){this.updateCursor()}},{key:"updateCursor",value:function(){var F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==this.attribute&&(null===F?(this.cappedCursor=this.attribute.rank,this.highlightRange={min:0,max:0},this.unlockedRange={min:0,max:this.attribute.rank},this.bonusRange={min:this.attribute.rank,max:this.attribute.rank+this.attribute.bonusRank}):(this.cappedCursor=Math.min(this.attribute.rank+this.remainingPoints,F+1),this.bonusRange={min:Math.max(this.cappedCursor,this.attribute.rank),max:this.attribute.rank+this.attribute.bonusRank},this.highlightRange=F<this.attribute.rank?{min:F+1,max:Math.max(this.attribute.rank,F+1)}:{min:this.attribute.rank,max:this.cappedCursor}))}},{key:"nodeEnter",value:function(F){this.updateCursor(F)}},{key:"nodeLeave",value:function(){this.updateCursor()}},{key:"setRank",value:function(F){null!==this.attribute&&this.attribute.rank!==F&&!this.readonly&&(this.attribute.rank=F,this.slormancerAttributeService.updateAttributeTraits(this.attribute),this.plannerService.updateCurrentCharacter(),this.updateCursor())}},{key:"nodeClick",value:function(){null!==this.attribute&&this.setRank(this.cappedCursor)}},{key:"isUnlocked",value:function(F){return F>=this.unlockedRange.min&&F<this.unlockedRange.max}},{key:"isHighlight",value:function(F){return F>=this.highlightRange.min&&F<this.highlightRange.max}},{key:"isBonus",value:function(F){return F>=this.bonusRange.min&&F<this.bonusRange.max}},{key:"addPoint",value:function(F){null!==this.attribute&&this.remainingPoints>0&&this.setRank(this.attribute.rank+Math.min(this.remainingPoints,F.shiftKey?10:1))}},{key:"removePoint",value:function(F){null!==this.attribute&&this.attribute.rank>0&&this.setRank(this.attribute.rank-Math.min(this.attribute.rank,F.shiftKey?10:1))}}]),z}();return L.\u0275fac=function(O){return new(O||L)(e.Y36(t.Q),e.Y36(s.q))},L.\u0275cmp=e.Xpm({type:L,selectors:[["app-attribute-line"]],inputs:{attribute:"attribute",remainingPoints:"remainingPoints",iconShift:"iconShift",short:"short",readonly:"readonly"},decls:1,vars:1,consts:[["cdkOverlayOrigin","",3,"class","icon-shift","readonly","short",4,"ngIf"],["cdkOverlayOrigin",""],["trigger","cdkOverlayOrigin"],[3,"src","mouseenter","mouseleave"],[1,"pre-bar",3,"mouseenter","mouseleave","click"],[3,"trait","first","last","highlight","bonus","unlocked","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],[1,"total"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],["mat-icon-button","","color","primary",3,"disabled","click",4,"ngIf"],[3,"trait","first","last","highlight","bonus","unlocked","mouseenter","mouseleave","click"],[3,"attributeTraits"],["mat-icon-button","","color","primary",3,"disabled","click"]],template:function(O,F){1&O&&e.YNc(0,de,10,17,"div",0),2&O&&e.Q6J("ngIf",null!==F.attribute)},directives:[m.O5,D.xu,m.sg,D.pI,Y,N,W.lW,K.Hw],styles:['.bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:4px 0;position:relative;height:60px}.bar.icon-shift[_ngcontent-%COMP%]{margin-left:16px}.bar[_ngcontent-%COMP%]:before{content:" ";position:absolute;background-color:#353535;border:4px solid black;transform:rotate(45deg);width:38px;height:38px}.bar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:2;padding-left:1px}.bar[_ngcontent-%COMP%]   .pre-bar[_ngcontent-%COMP%]{background-color:#353535;border:4px solid black;margin-left:-6px;border-left:0;border-right:0;min-width:20px;width:20px;height:30px;z-index:1}.bar[_ngcontent-%COMP%]:not(.readonly)   .pre-bar[_ngcontent-%COMP%]{cursor:pointer}.bar[_ngcontent-%COMP%]:not(.icon-shift)   .pre-bar[_ngcontent-%COMP%]{width:36px}.bar[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{display:none;background-color:#353535;border:4px solid black;font-weight:700;border-left:0;width:130px;height:30px}.bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}.bar.short[_ngcontent-%COMP%]   app-trait[_ngcontent-%COMP%]{display:none}.bar.short[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}@media (max-width: 768px){.bar[_ngcontent-%COMP%]   app-trait[_ngcontent-%COMP%]{display:none}.bar[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}}.bar.attribute-0[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#2f5996}.bar.attribute-1[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#a83007}.bar.attribute-2[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#79b549}.bar.attribute-3[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#d0b545}.bar.attribute-4[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#4bc1b2}.bar.attribute-5[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#753098}.bar.attribute-6[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#cd7028}.bar.attribute-7[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#bf3c59}']}),L}()},4322:function(ue,ae,a){a.d(ae,{q:function(){return be}});var J=a(5671),Q=a(3144),t=a(5542),s=a(4456),e=a(648),m=a(9808),D=a(6538),V=["animation"],b=function(){var x=function(){function q(){(0,J.Z)(this,q),this.heroClass=null,this.suffix="",this.flipAnimation=!1,this.animation=null}return(0,Q.Z)(q,[{key:"mouseMoved",value:function(g){if(null!==this.animation){var H=this.animation.nativeElement.getBoundingClientRect().left+this.animation.nativeElement.clientWidth/2<g.clientX;this.flipAnimation!==H&&(this.flipAnimation=H)}}},{key:"ngOnInit",value:function(){}}]),q}();return x.\u0275fac=function(h){return new(h||x)},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-character-animation"]],viewQuery:function(h,g){var B;1&h&&t.Gf(V,5),2&h&&t.iGM(B=t.CRH())&&(g.animation=B.first)},hostBindings:function(h,g){1&h&&t.NdJ("mousemove",function(k){return g.mouseMoved(k)},!1,t.Jf7)},inputs:{heroClass:"heroClass",suffix:"suffix"},decls:6,vars:10,consts:[[1,"character-animation"],["animation",""],[1,"idle-1",3,"src"],[1,"idle-2",3,"src"],[1,"idle-3",3,"src"],[1,"idle-4",3,"src"]],template:function(h,g){1&h&&(t.TgZ(0,"div",0,1),t._UZ(2,"img",2),t._UZ(3,"img",3),t._UZ(4,"img",4),t._UZ(5,"img",5),t.qZA()),2&h&&(t.ekj("flip",g.flipAnimation),t.xp6(2),t.hYB("src","assets/img/character/idle/",g.heroClass,"/0",g.suffix?"_"+g.suffix:g.suffix,".png",t.LSH),t.xp6(1),t.hYB("src","assets/img/character/idle/",g.heroClass,"/1",g.suffix?"_"+g.suffix:g.suffix,".png",t.LSH),t.xp6(1),t.hYB("src","assets/img/character/idle/",g.heroClass,"/2",g.suffix?"_"+g.suffix:g.suffix,".png",t.LSH),t.xp6(1),t.hYB("src","assets/img/character/idle/",g.heroClass,"/3",g.suffix?"_"+g.suffix:g.suffix,".png",t.LSH))},styles:[".character-animation[_ngcontent-%COMP%]{position:relative;height:144px;width:88px}.character-animation.flip[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scaleX(-1)}.character-animation[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;image-rendering:pixelated;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear}.character-animation[_ngcontent-%COMP%]   img.idle-1[_ngcontent-%COMP%]{animation-name:idle-1}.character-animation[_ngcontent-%COMP%]   img.idle-2[_ngcontent-%COMP%]{animation-name:idle-2}.character-animation[_ngcontent-%COMP%]   img.idle-3[_ngcontent-%COMP%]{animation-name:idle-3}.character-animation[_ngcontent-%COMP%]   img.idle-4[_ngcontent-%COMP%]{animation-name:idle-4}@keyframes idle-1{0%{opacity:1}25%{opacity:1}26%{opacity:0}99%{opacity:0}to{opacity:1}}@keyframes idle-2{0%{opacity:0}24%{opacity:0}25%{opacity:1}50%{opacity:1}51%{opacity:0}to{opacity:0}}@keyframes idle-3{0%{opacity:0}49%{opacity:0}50%{opacity:1}75%{opacity:1}76%{opacity:0}to{opacity:0}}@keyframes idle-4{0%{opacity:1}1%{opacity:0}74%{opacity:0}75%{opacity:1}to{opacity:1}}"]}),x}(),w=a(7469),_=a(3075),l=a(8966),r=a(4373),u=a(1375),f=a(1682),E=a(3300);function A(x,q){if(1&x&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t._UZ(2,"div",3),t._UZ(3,"div",4),t.qZA(),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t.TgZ(6,"div",7),t.TgZ(7,"div",8),t.TgZ(8,"div",9),t.TgZ(9,"div",10),t._UZ(10,"img",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",12),t.TgZ(12,"div",13),t.TgZ(13,"div",14),t._uU(14),t.qZA(),t._UZ(15,"div",15),t.qZA(),t.TgZ(16,"div",16),t.TgZ(17,"div",14),t._uU(18),t.qZA(),t._UZ(19,"div",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",17),t._UZ(21,"img",11),t.qZA(),t.qZA(),t.qZA()),2&x){var h=t.oxw();t.xp6(2),t.Q6J("innerHTML",h.ultimatum.title,t.oJD),t.xp6(1),t.Q6J("innerHTML",h.ultimatum.levelLabel,t.oJD),t.xp6(7),t.MGl("src","assets/img/icon/",h.ultimatum.icon,".png",t.LSH),t.xp6(4),t.Oqu(h.ultimatum.bonusTitle),t.xp6(1),t.Q6J("innerHTML",h.ultimatum.bonusLabel,t.oJD),t.xp6(3),t.Oqu(h.ultimatum.malusTitle),t.xp6(1),t.Q6J("innerHTML",h.ultimatum.malusLabel,t.oJD),t.xp6(2),t.MGl("src","assets/img/icon/",h.ultimatum.levelIcon,".png",t.LSH)}}var P=function(){var x=(0,Q.Z)(function q(){(0,J.Z)(this,q),this.ultimatum=null});return x.\u0275fac=function(h){return new(h||x)},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-ultimatum-view"]],inputs:{ultimatum:"ultimatum"},decls:1,vars:1,consts:[["class","ultimatum slormancer-tooltip",4,"ngIf"],[1,"ultimatum","slormancer-tooltip"],[1,"head","inner-box"],[1,"title",3,"innerHTML"],[1,"level",3,"innerHTML"],[1,"content","inner-box"],[1,"data"],[1,"visual"],[1,"background"],[1,"inner-background"],[1,"ultimatum"],[3,"src"],[1,"info"],[1,"bonus"],[1,"title"],[3,"innerHTML"],[1,"malus"],[1,"bottom-level"]],template:function(h,g){1&h&&t.YNc(0,A,22,8,"div",0),2&h&&t.Q6J("ngIf",null!==g.ultimatum)},directives:[m.O5],styles:[".ultimatum[_ngcontent-%COMP%]{width:350px}.ultimatum[_ngcontent-%COMP%]  .value, .ultimatum[_ngcontent-%COMP%]  .rank .current{color:#ce4607}.ultimatum[_ngcontent-%COMP%]  .range, .ultimatum[_ngcontent-%COMP%]  .range .value, .ultimatum[_ngcontent-%COMP%]  .details, .ultimatum[_ngcontent-%COMP%]  .details .value, .ultimatum[_ngcontent-%COMP%]  .formula, .ultimatum[_ngcontent-%COMP%]  .formula .value{color:#686868}.ultimatum[_ngcontent-%COMP%]  .affixes .range, .ultimatum[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.ultimatum[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase}.ultimatum[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{font-size:80%}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:16px;gap:16px;padding:20px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:16px;gap:16px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{border:3px solid black;background-color:#3c3c3c;border-radius:10%;padding:3px;width:60px;height:70px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;border:3px solid black;background-color:#471712;border-radius:10%;width:100%;height:100%}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]{width:0;height:0}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:translate(-50%,-50%);width:72px;height:72px;image-rendering:pixelated}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:16px;gap:16px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:105%}"]}),x}(),c=a(7322),S=a(7531),M=a(4102),v=a(7423),Y=a(508);function y(x,q){if(1&x&&(t.TgZ(0,"mat-option",15),t._UZ(1,"span",16),t.qZA()),2&x){var h=q.$implicit;t.Q6J("value",h.value),t.xp6(1),t.Q6J("innerHTML",h.label,t.oJD)}}function I(x,q){if(1&x){var h=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){return t.CHM(h),t.oxw().submit()}),t._UZ(1,"input",2),t.TgZ(2,"mat-dialog-content"),t.TgZ(3,"div",3),t._UZ(4,"app-ultimatum-view",4),t.qZA(),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"mat-form-field",7),t.TgZ(8,"mat-label"),t._uU(9,"Ultimatum level"),t.qZA(),t._UZ(10,"input",8),t.TgZ(11,"mat-error"),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",6),t.TgZ(14,"mat-form-field",9),t.TgZ(15,"mat-label"),t._uU(16,"Ultimatum type"),t.qZA(),t.TgZ(17,"mat-select",10),t.YNc(18,y,2,2,"mat-option",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"mat-dialog-actions"),t.TgZ(20,"button",12),t._uU(21,"Cancel"),t.qZA(),t.TgZ(22,"button",13),t.NdJ("click",function(){return t.CHM(h),t.oxw().reset()}),t._uU(23,"Reset"),t.qZA(),t.TgZ(24,"button",14),t._uU(25,"Submit"),t.qZA(),t.qZA(),t.qZA()}if(2&x){var g=t.oxw();t.Q6J("formGroup",g.form),t.xp6(4),t.Q6J("ultimatum",g.ultimatum),t.xp6(6),t.Q6J("max",g.ULTIMATUM_MAX_LEVEL),t.xp6(2),t.hij("Level must be between 1 and ",g.ULTIMATUM_MAX_LEVEL,""),t.xp6(6),t.Q6J("ngForOf",g.options)}}var N=function(){var x=function(){function q(h,g,B,k){(0,J.Z)(this,q),this.dialogRef=h,this.slormancerUltimatumService=g,this.formOptionsService=B,this.ULTIMATUM_MAX_LEVEL=r.cK,this.options=[],this.originalUltimatum=null===k.ultimatum?this.slormancerUltimatumService.getUltimatum(u.R.AdamantAbundance,1):this.slormancerUltimatumService.getUltimatumClone(k.ultimatum),this.ultimatum=this.originalUltimatum,this.options=this.formOptionsService.getUltimatumOptions(),this.reset()}return(0,Q.Z)(q,[{key:"reset",value:function(){Object.assign(this.ultimatum,this.originalUltimatum),this.form=this.buildForm()}},{key:"submit",value:function(){this.form.valid&&this.dialogRef.close(this.ultimatum)}},{key:"updatePreview",value:function(g){if(g.valid){var B=g.value;this.ultimatum=this.slormancerUltimatumService.getUltimatum(B.type,B.level)}}},{key:"buildForm",value:function(){var g=this,B=new _.cw({level:new _.NI(this.ultimatum.level,[_.kI.required,_.kI.min(1),_.kI.max(r.cK)]),type:new _.NI(this.ultimatum.type,[_.kI.required])});return B.valueChanges.subscribe(function(){g.updatePreview(B)}),this.updatePreview(B),B}}]),q}();return x.\u0275fac=function(h){return new(h||x)(t.Y36(l.so),t.Y36(f.h),t.Y36(E.K),t.Y36(l.WI))},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-ultimatum-edit-modal"]],decls:1,vars:1,consts:[["autocomplete","off",3,"formGroup","submit",4,"ngIf"],["autocomplete","off",3,"formGroup","submit"],["autocomplete","false","name","hidden","type","text",2,"display","none"],[1,"preview"],[3,"ultimatum"],[1,"form"],[1,"stat-line"],["appearance","outline"],["matInput","","type","number","min","1","step","1","formControlName","level",3,"max"],["appearance","outline","color","primary",1,"no-error-padding"],["formControlName","type","color","primary"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","button","color","primary",3,"click"],["mat-flat-button","","type","submit","color","primary"],[3,"value"],[3,"innerHTML"]],template:function(h,g){1&h&&t.YNc(0,I,26,5,"form",0),2&h&&t.Q6J("ngIf",null!==g.form&&null!==g.ultimatum)},directives:[m.O5,_._Y,_.JL,_.sg,l.xY,P,c.KE,c.hX,S.Nt,_.qQ,_.wV,_.Fd,_.Fj,_.JJ,_.u,c.TO,M.gD,m.sg,l.H8,v.lW,l.ZT,Y.ey],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:20px;gap:20px;flex-grow:1}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]{flex-direction:column}}mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{max-width:350px}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{display:none;visibility:hidden}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;align-items:stretch;flex-grow:1;width:200px}"]}),x}(),W=a(9776);function K(x,q){if(1&x&&t._UZ(0,"app-ultimatum-view",8),2&x){var h=t.oxw(3);t.Q6J("ultimatum",h.ultimatum)}}function oe(x,q){if(1&x&&t.YNc(0,K,1,1,"ng-template",7),2&x){t.oxw(2);var h=t.MAs(1);t.Q6J("cdkConnectedOverlayOpen",!0)("cdkConnectedOverlayOrigin",h)}}function X(x,q){if(1&x&&(t.TgZ(0,"div",4),t._UZ(1,"img",5),t.YNc(2,oe,1,2,void 0,6),t.qZA()),2&x){var h=t.oxw();t.xp6(1),t.MGl("src","assets/img/icon/",h.ultimatum.icon,".png",t.LSH),t.xp6(1),t.Q6J("ngIf",h.overlay&&h.showOverlay)}}var se=function(){var x=function(){function q(h,g){(0,J.Z)(this,q),this.dialog=h,this.itemMoveService=g,this.ultimatum=null,this.overlay=!0,this.readonly=!1,this.changed=new t.vpe,this.showOverlay=!1}return(0,Q.Z)(q,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"onMouseContextMenu",value:function(){return this.readonly||this.itemMoveService.releaseHoldItem(),!1}},{key:"edit",value:function(){var g=this;this.readonly||this.dialog.open(N,{data:{ultimatum:this.ultimatum}}).afterClosed().subscribe(function(k){k&&g.changed.emit(k)})}}]),q}();return x.\u0275fac=function(h){return new(h||x)(t.Y36(l.uw),t.Y36(w.v))},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-ultimatum-slot"]],hostBindings:function(h,g){1&h&&t.NdJ("mouseenter",function(){return g.onOver()})("mouseleave",function(){return g.onLeave()})("contextmenu",function(){return g.onMouseContextMenu()})},inputs:{ultimatum:"ultimatum",overlay:"overlay",readonly:"readonly"},outputs:{changed:"changed"},decls:4,vars:3,consts:[["cdkOverlayOrigin","",1,"background",3,"click"],["trigger","cdkOverlayOrigin"],[1,"inner-background"],["class","ultimatum",4,"ngIf"],[1,"ultimatum"],[3,"src"],[4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"ultimatum"]],template:function(h,g){1&h&&(t.TgZ(0,"div",0,1),t.NdJ("click",function(){return!g.readonly&&g.edit()}),t.TgZ(2,"div",2),t.YNc(3,X,3,2,"div",3),t.qZA(),t.qZA()),2&h&&(t.ekj("readonly",g.readonly),t.xp6(3),t.Q6J("ngIf",null!==g.ultimatum))},directives:[W.xu,m.O5,W.pI,P],styles:[".background[_ngcontent-%COMP%]{border:3px solid black;background-color:#3c3c3c;border-radius:10%;padding:3px;width:60px;height:70px}.background[_ngcontent-%COMP%]:not(.readonly){cursor:pointer}.background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;border:3px solid black;background-color:#471712;border-radius:10%;width:100%;height:100%}.background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]{width:0;height:0}.background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:translate(-50%,-50%);width:72px;height:72px;image-rendering:pixelated}"]}),x}(),ge=a(4902),de=a(136),me=a(7777),L=a(2525),z=a(2722),O=a(7399),F=a(5832),G=a(5581),T=a(4917),j=a(6446);function Z(x,q){if(1&x){var h=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){return t.CHM(h),t.oxw().submit()}),t.TgZ(1,"h2",2),t._uU(2,"Choose your hero level"),t.qZA(),t.TgZ(3,"mat-dialog-content"),t.TgZ(4,"mat-form-field",3),t.TgZ(5,"mat-label"),t._uU(6,"Hero level"),t.qZA(),t._UZ(7,"input",4),t.TgZ(8,"mat-error"),t._uU(9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"mat-dialog-actions"),t.TgZ(11,"button",5),t._uU(12,"Cancel"),t.qZA(),t.TgZ(13,"button",6),t._uU(14,"Submit"),t.qZA(),t.qZA(),t.qZA()}if(2&x){var g=t.oxw();t.Q6J("formGroup",g.form),t.xp6(7),t.Q6J("max",g.MAX_HERO_LEVEL),t.xp6(2),t.hij("Level must be between 1 and ",g.MAX_HERO_LEVEL,""),t.xp6(2),t.Q6J("mat-dialog-close",null)}}var ee=function(){var x=function(){function q(h,g){(0,J.Z)(this,q),this.dialogRef=h,this.MAX_HERO_LEVEL=r.AR,this.form=new _.cw({level:new _.NI(g.level,[_.kI.min(1),_.kI.max(r.AR)])})}return(0,Q.Z)(q,[{key:"submit",value:function(){this.form.markAllAsTouched(),this.form.valid&&this.dialogRef.close(this.form.value.level)}}]),q}();return x.\u0275fac=function(h){return new(h||x)(t.Y36(l.so),t.Y36(l.WI))},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-character-level-edit-modal"]],decls:1,vars:1,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],["mat-dialog-title",""],["appearance","outline"],["matInput","","type","number","min","1","step","1","formControlName","level",3,"max"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary"]],template:function(h,g){1&h&&t.YNc(0,Z,15,4,"form",0),2&h&&t.Q6J("ngIf",null!==g.form)},directives:[m.O5,_._Y,_.JL,_.sg,l.uh,l.xY,c.KE,c.hX,S.Nt,_.qQ,_.wV,_.Fd,_.Fj,_.JJ,_.u,c.TO,l.H8,v.lW,l.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:8px;gap:8px}"]}),x}();function $(x,q){if(1&x){var h=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){return t.CHM(h),t.oxw().submit()}),t.TgZ(1,"h2",2),t._uU(2,"Choose the new item reinforcment"),t.qZA(),t.TgZ(3,"mat-dialog-content"),t.TgZ(4,"mat-form-field",3),t.TgZ(5,"mat-label"),t._uU(6,"Reinforcment"),t.qZA(),t._UZ(7,"input",4),t.TgZ(8,"mat-error"),t._uU(9,"Reinforcment must be positive"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"mat-dialog-actions"),t.TgZ(11,"button",5),t._uU(12,"Cancel"),t.qZA(),t.TgZ(13,"button",6),t._uU(14,"Submit"),t.qZA(),t.qZA(),t.qZA()}if(2&x){var g=t.oxw();t.Q6J("formGroup",g.form),t.xp6(11),t.Q6J("mat-dialog-close",null)}}var R=function(){var x=function(){function q(h,g){(0,J.Z)(this,q),this.dialogRef=h,this.MAX_HERO_LEVEL=r.AR,this.form=new _.cw({reinforcment:new _.NI(g.reinforcment,[_.kI.min(0)])})}return(0,Q.Z)(q,[{key:"submit",value:function(){this.form.markAllAsTouched(),this.form.valid&&this.dialogRef.close(this.form.value.reinforcment)}}]),q}();return x.\u0275fac=function(h){return new(h||x)(t.Y36(l.so),t.Y36(l.WI))},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-item-reinforcment-edit-modal"]],decls:1,vars:1,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],["mat-dialog-title",""],["appearance","outline"],["matInput","","type","number","min","0","step","1","formControlName","reinforcment"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary"]],template:function(h,g){1&h&&t.YNc(0,$,15,2,"form",0),2&h&&t.Q6J("ngIf",null!==g.form)},directives:[m.O5,_._Y,_.JL,_.sg,l.uh,l.xY,c.KE,c.hX,S.Nt,_.qQ,_.wV,_.Fj,_.JJ,_.u,c.TO,l.H8,v.lW,l.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),x}(),pe=a(8223),ve=a(3874);function Ee(x,q){if(1&x){var h=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(h),t.oxw(2).optimizeReaperEnchantments()}),t._uU(1,"Optimize items for Reaper"),t.qZA()}}function Ae(x,q){if(1&x&&(t.TgZ(0,"button",10),t._uU(1,"Optimize items for Attribute"),t.qZA()),2&x){t.oxw(2);var h=t.MAs(6);t.Q6J("matMenuTriggerFor",h)}}function ke(x,q){if(1&x&&(t.TgZ(0,"button",10),t._uU(1,"Optimize items for Skill"),t.qZA()),2&x){t.oxw(2);var h=t.MAs(9);t.Q6J("matMenuTriggerFor",h)}}function he(x,q){if(1&x){var h=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(h),t.oxw(2).maximizeItemsLevel()}),t._uU(1,"Maximize items level"),t.qZA()}}function Me(x,q){if(1&x){var h=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(h),t.oxw(2).changeReinforcmentLevel()}),t._uU(1,"Change items reinforcment level"),t.qZA()}}function _e(x,q){if(1&x){var h=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(h),t.oxw().editCharacterLevel()}),t._uU(1,"Change hero level"),t.qZA(),t.YNc(2,Ee,2,0,"button",8),t.YNc(3,Ae,2,1,"button",9),t.YNc(4,ke,2,1,"button",9),t.YNc(5,he,2,0,"button",8),t.YNc(6,Me,2,0,"button",8)}if(2&x){var g=t.oxw();t.xp6(2),t.Q6J("ngIf",null!==g.character&&null!==g.character.reaper&&g.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==g.character&&g.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==g.character&&g.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==g.character&&g.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==g.character&&g.hasItems())}}function Se(x,q){if(1&x){var h=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){var H=t.CHM(h).$implicit;return t.oxw().optimizeAttributeEnchantments(H)}),t._UZ(1,"img",12),t._UZ(2,"div",13),t.qZA()}if(2&x){var g=q.$implicit;t.xp6(1),t.Q6J("src",g.icon,t.LSH),t.xp6(1),t.Q6J("innerHTML",g.attributeName,t.oJD)}}function Ze(x,q){if(1&x){var h=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){var H=t.CHM(h).$implicit;return t.oxw().optimizeSkillEnchantments(H)}),t._UZ(1,"img",14),t._UZ(2,"div",13),t.qZA()}if(2&x){var g=q.$implicit;t.xp6(1),t.Q6J("src","assets/img/icon/"+g.icon+".png",t.LSH),t.xp6(1),t.Q6J("innerHTML",g.name,t.oJD)}}var Ce=function(){var x=function(q){(0,de.Z)(g,q);var h=(0,me.Z)(g);function g(B,k,H,re){var ce;return(0,J.Z)(this,g),(ce=h.call(this)).plannerService=B,ce.dialog=k,ce.messageService=H,ce.slormancerItemService=re,ce.character=null,ce.menu=null,ce}return(0,Q.Z)(g,[{key:"ngOnInit",value:function(){var k=this;this.plannerService.characterChanged.pipe((0,z.R)(this.unsubscribe)).subscribe(function(H){return k.character=H})}},{key:"openCharacterSettings",value:function(){return null!==this.menu&&this.menu.openMenu(),!1}},{key:"editCharacterLevel",value:function(){var k=this;null!==this.character&&this.dialog.open(ee,{data:{level:this.character.level}}).afterClosed().subscribe(function(H){H&&null!==k.character&&(k.character.level=H)})}},{key:"getGearItems",value:function(){var k=[],H=this.character;return null!==H&&(k=e.PL.map(function(re){return H.gear[re]}).filter(G.BX)),k}},{key:"hasItems",value:function(){return this.getGearItems().length>0}},{key:"optimizeReaperEnchantments",value:function(){var k=this;if(null!==this.character&&null!==this.character.reaper){var H=this.slormancerItemService.getReaperEnchantment(this.character.reaper.smith.id,5),re="";this.getGearItems().forEach(function(ce){ce.reaperEnchantment=k.slormancerItemService.getReaperEnchantmentClone(H),k.slormancerItemService.updateEquipableItemModel(ce),k.slormancerItemService.updateEquipableItemView(ce),re=ce.reaperEnchantment.icon}),this.plannerService.updateCurrentCharacter(),this.messageService.message('All equipped items optimized for <img src="'+re+'"> '+this.character.reaper.smith.name)}}},{key:"getTraits",value:function(){var k=[],H=this.character;return null!==H&&(k=O.A.map(function(re){return H.attributes.allocated[re]})),k}},{key:"optimizeAttributeEnchantments",value:function(k){var H=this;if(null!==this.character&&null!==this.character.reaper){var re=this.slormancerItemService.getAttributeEnchantment(k.attribute,3),ce="";this.getGearItems().forEach(function(fe){fe.attributeEnchantment=H.slormancerItemService.getAttributeEnchantmentClone(re),H.slormancerItemService.updateEquipableItemModel(fe),H.slormancerItemService.updateEquipableItemView(fe),ce=fe.attributeEnchantment.icon}),this.plannerService.updateCurrentCharacter(),this.messageService.message('All equipped items optimized for <img src="'+ce+'"> '+k.attributeName)}}},{key:"getSkills",value:function(){var k=[],H=this.character;return null!==H&&(k=H.skills.map(function(re){return re.skill})),k}},{key:"optimizeSkillEnchantments",value:function(k){var H=this;if(null!==this.character){var re=this.slormancerItemService.getSkillEnchantment(k.id,2),ce="";this.getGearItems().forEach(function(fe){fe.skillEnchantment=H.slormancerItemService.getSkillEnchantmentClone(re),H.slormancerItemService.updateEquipableItemModel(fe),H.slormancerItemService.updateEquipableItemView(fe),ce=fe.skillEnchantment.icon}),this.plannerService.updateCurrentCharacter(),this.messageService.message('All equipped items optimized for <img src="'+ce+'"> '+k.name)}}},{key:"maximizeItemsLevel",value:function(){var k=this;if(null!==this.character){var H=this.character.level;this.getGearItems().forEach(function(re){re.level=H,k.slormancerItemService.updateEquipableItemModel(re),k.slormancerItemService.updateEquipableItemView(re)}),this.plannerService.updateCurrentCharacter(),this.messageService.message("All equipped items level raised to "+H)}}},{key:"changeReinforcmentLevel",value:function(){var k=this;if(null!==this.character){var H=Math.max.apply(Math,(0,ge.Z)(this.getGearItems().map(function(re){return re.reinforcment})));this.dialog.open(R,{data:{reinforcment:H}}).afterClosed().subscribe(function(re){"number"==typeof re&&(k.getGearItems().forEach(function(ce){ce.reinforcment=re,k.slormancerItemService.updateEquipableItemModel(ce),k.slormancerItemService.updateEquipableItemView(ce)}),k.plannerService.updateCurrentCharacter(),k.messageService.message("All equipped items reinforcment raised to "+re))})}}}]),g}(j.B);return x.\u0275fac=function(h){return new(h||x)(t.Y36(T.q),t.Y36(l.uw),t.Y36(pe.e),t.Y36(F.S))},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-settings-menu"]],viewQuery:function(h,g){var B;1&h&&t.Gf(L.p6,7),2&h&&t.iGM(B=t.CRH())&&(g.menu=B.first)},features:[t.qOj],decls:11,vars:4,consts:[[3,"matMenuTriggerFor","contextmenu"],["xPosition","after",3,"overlapTrigger"],["menu","matMenu"],["matMenuContent",""],["attributes","matMenu"],["mat-menu-item","","class","menu-entry",3,"click",4,"ngFor","ngForOf"],["skills","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"matMenuTriggerFor",4,"ngIf"],["mat-menu-item","",3,"matMenuTriggerFor"],["mat-menu-item","",1,"menu-entry",3,"click"],[3,"src"],[3,"innerHTML"],[1,"skill-icon",3,"src"]],template:function(h,g){if(1&h&&(t.TgZ(0,"mat-icon",0),t.NdJ("contextmenu",function(){return g.openCharacterSettings()}),t._uU(1,"settings"),t.qZA(),t.TgZ(2,"mat-menu",1,2),t.YNc(4,_e,7,5,"ng-template",3),t.TgZ(5,"mat-menu",null,4),t.YNc(7,Se,3,2,"button",5),t.qZA(),t.TgZ(8,"mat-menu",null,6),t.YNc(10,Ze,3,2,"button",5),t.qZA(),t.qZA()),2&h){var B=t.MAs(3);t.Q6J("matMenuTriggerFor",B),t.xp6(2),t.Q6J("overlapTrigger",!0),t.xp6(5),t.Q6J("ngForOf",g.getTraits()),t.xp6(3),t.Q6J("ngForOf",g.getSkills())}},directives:[ve.Hw,L.p6,L.VK,L.KA,m.sg,L.OP,m.O5],styles:["mat-icon[_ngcontent-%COMP%]{cursor:pointer;color:#353535}.menu-entry[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:8px;gap:8px}"]}),x}();function Oe(x,q){1&x&&t._UZ(0,"app-settings-menu")}function Pe(x,q){if(1&x){var h=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"app-item-slot",3),t.NdJ("changed",function(k){t.CHM(h);var H=t.oxw();return H.updateItem(H.gearSlot.Helm,k)}),t.qZA(),t.TgZ(3,"app-item-slot",4),t.NdJ("changed",function(k){t.CHM(h);var H=t.oxw();return H.updateItem(H.gearSlot.Amulet,k)}),t.qZA(),t.qZA(),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t.TgZ(6,"app-item-slot",7),t.NdJ("changed",function(k){t.CHM(h);var H=t.oxw();return H.updateItem(H.gearSlot.Shoulder,k)}),t.qZA(),t.TgZ(7,"app-item-slot",8),t.NdJ("changed",function(k){t.CHM(h);var H=t.oxw();return H.updateItem(H.gearSlot.Bracer,k)}),t.qZA(),t.TgZ(8,"app-item-slot",9),t.NdJ("changed",function(k){t.CHM(h);var H=t.oxw();return H.updateItem(H.gearSlot.Glove,k)}),t.qZA(),t.qZA(),t.TgZ(9,"div",10),t.TgZ(10,"div",11),t.YNc(11,Oe,1,0,"app-settings-menu",12),t.qZA(),t._UZ(12,"app-character-animation",13),t.qZA(),t.TgZ(13,"div",14),t.TgZ(14,"app-item-slot",15),t.NdJ("changed",function(k){t.CHM(h);var H=t.oxw();return H.updateItem(H.gearSlot.Body,k)}),t.qZA(),t.TgZ(15,"app-item-slot",16),t.NdJ("changed",function(k){t.CHM(h);var H=t.oxw();return H.updateItem(H.gearSlot.Cape,k)}),t.qZA(),t.TgZ(16,"app-item-slot",17),t.NdJ("changed",function(k){t.CHM(h);var H=t.oxw();return H.updateItem(H.gearSlot.Belt,k)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",18),t._UZ(18,"div",19),t.TgZ(19,"app-item-slot",20),t.NdJ("changed",function(k){t.CHM(h);var H=t.oxw();return H.updateItem(H.gearSlot.LeftRing,k)}),t.qZA(),t.TgZ(20,"app-item-slot",21),t.NdJ("changed",function(k){t.CHM(h);var H=t.oxw();return H.updateItem(H.gearSlot.Boot,k)}),t.qZA(),t.TgZ(21,"app-item-slot",22),t.NdJ("changed",function(k){t.CHM(h);var H=t.oxw();return H.updateItem(H.gearSlot.RightRing,k)}),t.qZA(),t.TgZ(22,"app-ultimatum-slot",23),t.NdJ("changed",function(k){return t.CHM(h),t.oxw().updateUltimatum(k)}),t.qZA(),t.qZA(),t.qZA()}if(2&x){var g=t.oxw();t.xp6(2),t.Q6J("readonly",g.readonly)("base",g.bases.Helm)("item",g.character.gear[g.gearSlot.Helm])("character",g.character),t.xp6(1),t.Q6J("readonly",g.readonly)("base",g.bases.Amulet)("item",g.character.gear[g.gearSlot.Amulet])("character",g.character),t.xp6(3),t.Q6J("readonly",g.readonly)("base",g.bases.Shoulder)("item",g.character.gear[g.gearSlot.Shoulder])("character",g.character),t.xp6(1),t.Q6J("readonly",g.readonly)("base",g.bases.Bracer)("item",g.character.gear[g.gearSlot.Bracer])("character",g.character),t.xp6(1),t.Q6J("readonly",g.readonly)("base",g.bases.Glove)("item",g.character.gear[g.gearSlot.Glove])("character",g.character),t.xp6(3),t.Q6J("ngIf",!g.readonly),t.xp6(1),t.Q6J("heroClass",g.character.heroClass),t.xp6(2),t.Q6J("readonly",g.readonly)("base",g.bases.Body)("item",g.character.gear[g.gearSlot.Body])("character",g.character),t.xp6(1),t.Q6J("readonly",g.readonly)("base",g.bases.Cape)("item",g.character.gear[g.gearSlot.Cape])("character",g.character),t.xp6(1),t.Q6J("readonly",g.readonly)("base",g.bases.Belt)("item",g.character.gear[g.gearSlot.Belt])("character",g.character),t.xp6(3),t.Q6J("readonly",g.readonly)("base",g.bases.Ring)("item",g.character.gear[g.gearSlot.LeftRing])("character",g.character),t.xp6(1),t.Q6J("readonly",g.readonly)("base",g.bases.Boot)("item",g.character.gear[g.gearSlot.Boot])("character",g.character),t.xp6(1),t.Q6J("readonly",g.readonly)("base",g.bases.Ring)("item",g.character.gear[g.gearSlot.RightRing])("character",g.character),t.xp6(1),t.Q6J("readonly",g.readonly)("ultimatum",g.character.ultimatum)}}var be=function(){var x=function(){function q(){(0,J.Z)(this,q),this.gearSlot=e.SH,this.bases=s.J,this.character=null,this.readonly=!1,this.changed=new t.vpe}return(0,Q.Z)(q,[{key:"updateItem",value:function(g,B){null!==this.character&&(this.character.gear[g]=B,this.changed.emit(this.character))}},{key:"updateUltimatum",value:function(g){null!==this.character&&(this.character.ultimatum=g,this.changed.emit(this.character))}}]),q}();return x.\u0275fac=function(h){return new(h||x)},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-character-equipment"]],inputs:{character:"character",readonly:"readonly"},outputs:{changed:"changed"},decls:1,vars:1,consts:[["class","equipment",4,"ngIf"],[1,"equipment"],[1,"top-equipment"],[1,"helm",3,"readonly","base","item","character","changed"],[1,"amulet",3,"readonly","base","item","character","changed"],[1,"center-equipment"],[1,"left-equipment"],[1,"shoulder",3,"readonly","base","item","character","changed"],[1,"bracer",3,"readonly","base","item","character","changed"],[1,"glove",3,"readonly","base","item","character","changed"],[1,"character-preview"],[1,"actions"],[4,"ngIf"],[3,"heroClass"],[1,"right-equipment"],[1,"body",3,"readonly","base","item","character","changed"],[1,"cape",3,"readonly","base","item","character","changed"],[1,"belt",3,"readonly","base","item","character","changed"],[1,"bottom-equipment"],[1,"empty"],[1,"ring_l",3,"readonly","base","item","character","changed"],[1,"boot",3,"readonly","base","item","character","changed"],[1,"ring_r",3,"readonly","base","item","character","changed"],[3,"readonly","ultimatum","changed"]],template:function(h,g){1&h&&t.YNc(0,Pe,23,48,"div",0),2&h&&t.Q6J("ngIf",null!==g.character)},directives:[m.O5,D.y,b,se,Ce],styles:[".equipment[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:space-between;min-height:380px}.equipment[_ngcontent-%COMP%]   .top-equipment[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;grid-gap:20px;gap:20px;flex-grow:1}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:space-between}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .left-equipment[_ngcontent-%COMP%], .equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .right-equipment[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;grid-gap:8px;gap:8px;flex-grow:1}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .character-preview[_ngcontent-%COMP%]{width:150px;height:200px;border:3px solid #3c3c3c;padding:8px;background-color:#000;display:flex;flex-direction:column;align-items:center;justify-content:space-between}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .character-preview[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;width:100%}.equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;grid-gap:16px;gap:16px;flex-grow:1;overflow:hidden}.equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]   .ring_l[_ngcontent-%COMP%], .equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]   .ring_r[_ngcontent-%COMP%]{margin-bottom:20px}.equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]   .boot[_ngcontent-%COMP%]{margin-top:20px}.equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{width:56px}"]}),x}()},4425:function(ue,ae,a){a.d(ae,{$:function(){return b}});var J=a(5671),Q=a(3144),t=a(5542),s=a(9808),e=a(7238);function m(w,_){if(1&w&&(t.TgZ(0,"div",4),t.TgZ(1,"div",5),t._uU(2),t.qZA(),t.TgZ(3,"div",6),t.TgZ(4,"span",7),t._uU(5),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"div",8),t._uU(8),t.qZA(),t.qZA()),2&w){var l=t.oxw().$implicit,r=t.oxw();t.ekj("increase",l.difference>0)("decrease",l.difference<0),t.xp6(1),t.Q6J("matTooltip",r.valueToString(l.left,!0)),t.xp6(1),t.Oqu(r.valueToString(l.left)),t.xp6(3),t.Oqu(r.changeToString(l.difference)),t.xp6(1),t.hij(" ",l.name,""),t.xp6(1),t.Q6J("matTooltip",r.valueToString(l.right,!0)),t.xp6(1),t.Oqu(r.valueToString(l.right))}}function D(w,_){if(1&w&&(t.ynx(0),t.YNc(1,m,9,10,"div",3),t.BQk()),2&w){var l=_.$implicit;t.xp6(1),t.Q6J("ngIf",0!==l.difference)}}function V(w,_){1&w&&(t.TgZ(0,"div",9),t._uU(1,"No differences"),t.qZA())}var b=function(){var w=function(){function _(){(0,J.Z)(this,_),this.differences=[]}return(0,Q.Z)(_,[{key:"valueToString",value:function(r){var u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],f="";return f+("number"==typeof r?r>1e4&&!u?Math.floor(r/1e3)+"k":r:r.min>1e4&&r.max>1e4&&!u?Math.floor(r.min/1e3)+"k - "+Math.floor(r.max/1e3)+"k":r.min+" - "+r.max)}},{key:"changeToString",value:function(r){var u="";return Number.isFinite(r)&&(r>0&&(u="+"),u+=r+"%"),u}}]),_}();return w.\u0275fac=function(l){return new(l||w)},w.\u0275cmp=t.Xpm({type:w,selectors:[["app-compare-view"]],inputs:{differences:"differences"},decls:3,vars:2,consts:[[1,"differences"],[4,"ngFor","ngForOf"],["class","no-differences",4,"ngIf"],["class","difference",3,"increase","decrease",4,"ngIf"],[1,"difference"],[1,"left",3,"matTooltip"],[1,"change"],[1,"value"],[1,"right",3,"matTooltip"],[1,"no-differences"]],template:function(l,r){1&l&&(t.TgZ(0,"div",0),t.YNc(1,D,2,1,"ng-container",1),t.YNc(2,V,2,0,"div",2),t.qZA()),2&l&&(t.xp6(1),t.Q6J("ngForOf",r.differences),t.xp6(1),t.Q6J("ngIf",0===r.differences.length))},directives:[s.sg,s.O5,e.gM],styles:[".differences[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;grid-gap:8px;gap:8px;min-width:350px}@media (max-width: 374px){.differences[_ngcontent-%COMP%]{min-width:auto}}.differences[_ngcontent-%COMP%]   .no-differences[_ngcontent-%COMP%]{text-align:center}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-gap:8px;gap:8px}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0}@media not all and (min-resolution: .001dpcm){@supports (-webkit-appearance: none){.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex-basis:auto}}}@media (max-width: 374px){.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:none}}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{flex-grow:2;flex-basis:0;text-align:center}@media not all and (min-resolution: .001dpcm){@supports (-webkit-appearance: none){.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{flex-basis:auto}}}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{text-align:left}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.differences[_ngcontent-%COMP%]   .difference.increase[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:green}.differences[_ngcontent-%COMP%]   .difference.decrease[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:red}"]}),w}()},6538:function(ue,ae,a){a.d(ae,{y:function(){return Lt}});var J=a(5671),Q=a(3144),t=a(136),s=a(7777),e=a(5542),m=a(2525),D=a(2722),V=a(648),b=a(2473),w=a(5832),_=a(7469),l=a(4917),r=a(2424),u=a(6446),f=a(8966),E=a(9635),A=a(5457),P=a(2206),c=a(9808),S=a(8003);function M(o,p){1&o&&(e.TgZ(0,"div",20),e._uU(1,"Equipped"),e.qZA())}function v(o,p){if(1&o&&(e.TgZ(0,"li"),e.TgZ(1,"div",24),e._UZ(2,"div"),e.qZA(),e._UZ(3,"div",25),e._UZ(4,"div",26),e.qZA()),2&o){var n=p.$implicit;e.ekj("pure",n.isPure),e.xp6(2),e.Tol(n.rarity),e.xp6(1),e.Q6J("innerHTML",n.valueLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",n.statLabel,e.oJD)}}function Y(o,p){if(1&o&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e._uU(2,"Base Stats:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,v,5,7,"li",23),e.qZA(),e.qZA()),2&o){var n=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",n.getNormalAffixes())}}function y(o,p){if(1&o&&(e.TgZ(0,"li"),e.TgZ(1,"div",24),e._UZ(2,"div"),e.qZA(),e._UZ(3,"div",25),e._UZ(4,"div",26),e.qZA()),2&o){var n=p.$implicit;e.ekj("pure",n.isPure),e.xp6(2),e.Tol(n.rarity),e.xp6(1),e.Q6J("innerHTML",n.valueLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",n.statLabel,e.oJD)}}function I(o,p){if(1&o&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e._uU(2,"Magic Stats:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,y,5,7,"li",23),e.qZA(),e.qZA()),2&o){var n=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",n.getMagicAffixes())}}function N(o,p){if(1&o&&(e.TgZ(0,"li"),e.TgZ(1,"div",24),e._UZ(2,"div"),e.qZA(),e._UZ(3,"div",25),e._UZ(4,"div",26),e.qZA()),2&o){var n=p.$implicit;e.ekj("pure",n.isPure),e.xp6(2),e.Tol(n.rarity),e.xp6(1),e.Q6J("innerHTML",n.valueLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",n.statLabel,e.oJD)}}function W(o,p){if(1&o&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e._uU(2,"Rare Stats:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,N,5,7,"li",23),e.qZA(),e.qZA()),2&o){var n=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",n.getRareAffixes())}}function K(o,p){if(1&o&&(e.TgZ(0,"li"),e.TgZ(1,"div",24),e._UZ(2,"div"),e.qZA(),e._UZ(3,"div",25),e._UZ(4,"div",26),e.qZA()),2&o){var n=p.$implicit;e.ekj("pure",n.isPure),e.xp6(2),e.Tol(n.rarity),e.xp6(1),e.Q6J("innerHTML",n.valueLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",n.statLabel,e.oJD)}}function oe(o,p){if(1&o&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e._uU(2,"Epic Stats:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,K,5,7,"li",23),e.qZA(),e.qZA()),2&o){var n=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",n.getEpicAffixes())}}function X(o,p){if(1&o&&(e.TgZ(0,"span",35),e._uU(1),e.qZA()),2&o){var n=e.oxw(3);e.xp6(1),e.hij(" ",n.item.legendaryEffect.activable.name,"")}}function se(o,p){if(1&o&&(e.TgZ(0,"div",6),e._UZ(1,"img",8),e.qZA()),2&o){var n=e.oxw(3);e.xp6(1),e.Q6J("src",n.item.legendaryEffect.skillIcon,e.LSH)}}function ge(o,p){if(1&o&&(e.TgZ(0,"div",27),e.TgZ(1,"div",28),e.TgZ(2,"div",29),e.TgZ(3,"div",22),e.TgZ(4,"div",24),e._UZ(5,"div",30),e.qZA(),e._uU(6),e.TgZ(7,"div",24),e._UZ(8,"div",30),e.qZA(),e.qZA(),e.TgZ(9,"div",31),e._UZ(10,"span",32),e.YNc(11,X,2,1,"span",33),e.qZA(),e.YNc(12,se,2,1,"div",34),e.qZA(),e.qZA(),e.qZA()),2&o){var n=e.oxw(2);e.xp6(6),e.hij(" ",n.item.legendaryEffect.title," "),e.xp6(4),e.Q6J("innerHTML",n.item.legendaryEffect.description,e.oJD),e.xp6(1),e.Q6J("ngIf",null!==n.item.legendaryEffect.activable),e.xp6(1),e.Q6J("ngIf",null!==n.item.legendaryEffect.skillIcon)}}function de(o,p){if(1&o&&e._UZ(0,"app-activable-view",36),2&o){var n=e.oxw(2);e.Q6J("activable",n.item.legendaryEffect.activable)("reinforcment",n.item.reinforcment)}}function me(o,p){if(1&o&&(e.TgZ(0,"div",37),e._UZ(1,"img",8),e._UZ(2,"div",38),e.qZA()),2&o){var n=e.oxw(2);e.xp6(1),e.Q6J("src",n.item.reaperEnchantment.icon,e.LSH),e.xp6(1),e.Q6J("innerHTML",n.item.reaperEnchantment.label,e.oJD)}}function L(o,p){if(1&o&&(e.TgZ(0,"div",39),e._UZ(1,"img",8),e._UZ(2,"div",38),e.qZA()),2&o){var n=e.oxw(2);e.xp6(1),e.Q6J("src",n.item.skillEnchantment.icon,e.LSH),e.xp6(1),e.Q6J("innerHTML",n.item.skillEnchantment.label,e.oJD)}}function z(o,p){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"img",8),e._UZ(2,"div",38),e.qZA()),2&o){var n=e.oxw(2);e.Gre("buff attribute atr-",n.item.attributeEnchantment.craftedAttribute,""),e.xp6(1),e.Q6J("src",n.item.attributeEnchantment.icon,e.LSH),e.xp6(1),e.Q6J("innerHTML",n.item.attributeEnchantment.label,e.oJD)}}function O(o,p){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"div",1),e.TgZ(2,"div",2),e.YNc(3,M,2,0,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e._UZ(7,"img",7),e._UZ(8,"img",8),e.qZA(),e.TgZ(9,"div",9),e._uU(10),e.qZA(),e.TgZ(11,"div",10),e._uU(12,"-"),e.qZA(),e.TgZ(13,"div",11),e._uU(14),e.qZA(),e.TgZ(15,"div"),e._uU(16),e.qZA(),e.qZA(),e._UZ(17,"div",12),e.TgZ(18,"div",13),e.YNc(19,Y,5,1,"div",14),e.YNc(20,I,5,1,"div",14),e.YNc(21,W,5,1,"div",14),e.YNc(22,oe,5,1,"div",14),e.qZA(),e.qZA(),e.YNc(23,ge,13,4,"div",15),e.YNc(24,de,1,2,"app-activable-view",16),e.YNc(25,me,3,2,"div",17),e.YNc(26,L,3,2,"div",18),e.YNc(27,z,3,5,"div",19),e.qZA(),e.qZA()),2&o){var n=e.oxw();e.Gre("item ",n.item.rarity,""),e.ekj("nodetails",!n.details),e.xp6(1),e.Q6J("innerHTML",n.item.name,e.oJD),e.xp6(2),e.Q6J("ngIf",n.equipped),e.xp6(4),e.Q6J("src",n.item.itemIconBackground,e.LSH),e.xp6(1),e.Q6J("src",n.item.icon,e.LSH),e.xp6(2),e.Oqu(n.item.rarityLabel),e.xp6(4),e.Oqu(n.item.baseLabel),e.xp6(2),e.Oqu(n.item.levelLabel),e.xp6(3),e.Q6J("ngIf",n.getNormalAffixes().length>0),e.xp6(1),e.Q6J("ngIf",n.getMagicAffixes().length>0),e.xp6(1),e.Q6J("ngIf",n.getRareAffixes().length>0),e.xp6(1),e.Q6J("ngIf",n.getEpicAffixes().length>0),e.xp6(1),e.Q6J("ngIf",null!==n.item.legendaryEffect),e.xp6(1),e.Q6J("ngIf",null!==n.item.legendaryEffect&&null!==n.item.legendaryEffect.activable),e.xp6(1),e.Q6J("ngIf",null!==n.item.reaperEnchantment),e.xp6(1),e.Q6J("ngIf",null!==n.item.skillEnchantment),e.xp6(1),e.Q6J("ngIf",null!==n.item.attributeEnchantment)}}var F=function(){var o=function(){function p(){(0,J.Z)(this,p),this.item=null,this.equipped=!1,this.details=!0}return(0,Q.Z)(p,[{key:"getNormalAffixes",value:function(){return null===this.item?[]:this.item.affixes.filter(function(i){return i.rarity===P.u.Normal})}},{key:"getMagicAffixes",value:function(){return null===this.item?[]:this.item.affixes.filter(function(i){return i.rarity===P.u.Magic})}},{key:"getRareAffixes",value:function(){return null===this.item?[]:this.item.affixes.filter(function(i){return i.rarity===P.u.Rare})}},{key:"getEpicAffixes",value:function(){return null===this.item?[]:this.item.affixes.filter(function(i){return i.rarity===P.u.Epic})}}]),p}();return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-view"]],inputs:{item:"item",equipped:"equipped",details:"details"},decls:1,vars:1,consts:[[3,"class","nodetails",4,"ngIf"],[1,"head",3,"innerHTML"],[1,"content"],["class","equipped",4,"ngIf"],[1,"main"],[1,"info"],[1,"icon"],[1,"background",3,"src"],[3,"src"],[1,"rarity"],[1,"split"],[1,"base"],[1,"separator"],[1,"stats"],["class","affixes",4,"ngIf"],["class","legendary-effect outer-border",4,"ngIf"],[3,"activable","reinforcment",4,"ngIf"],["class","buff reaper",4,"ngIf"],["class","buff skill",4,"ngIf"],[3,"class",4,"ngIf"],[1,"equipped"],[1,"affixes"],[1,"title"],[3,"pure",4,"ngFor","ngForOf"],[1,"bullet"],[1,"value",3,"innerHTML"],[1,"name",3,"innerHTML"],[1,"legendary-effect","outer-border"],[1,"border"],[1,"inner-border","legendary-description"],[1,"legendary"],[1,"description"],[3,"innerHTML"],["class","value",4,"ngIf"],["class","icon",4,"ngIf"],[1,"value"],[3,"activable","reinforcment"],[1,"buff","reaper"],[1,"info",3,"innerHTML"],[1,"buff","skill"]],template:function(n,i){1&n&&e.YNc(0,O,28,21,"div",0),2&n&&e.Q6J("ngIf",null!==i.item)},directives:[c.O5,c.sg,S.K],styles:['.item.normal[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#898989}.item.magic[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#2e8726}.item.rare[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#176ab1}.item.epic[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#c68d20}.item.legendary[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#ce4607}.item.normal[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#59513c}.item.magic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#61462d}.item.rare[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#7791a1}.item.epic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#efc65c}.item.legendary[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#f5b250}.bullet[_ngcontent-%COMP%]{min-width:8px}.bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}.bullet[_ngcontent-%COMP%]   div.normal[_ngcontent-%COMP%]{background-color:#898989}.bullet[_ngcontent-%COMP%]   div.magic[_ngcontent-%COMP%]{background-color:#2e8726}.bullet[_ngcontent-%COMP%]   div.rare[_ngcontent-%COMP%]{background-color:#176ab1}.bullet[_ngcontent-%COMP%]   div.epic[_ngcontent-%COMP%]{background-color:#c68d20}.bullet[_ngcontent-%COMP%]   div.legendary[_ngcontent-%COMP%]{background-color:#ce4607}.item[_ngcontent-%COMP%]{background-color:#151412;color:#fff;border:2px solid black;min-width:350px}.item[_ngcontent-%COMP%]  .legendary-effect .value, .item[_ngcontent-%COMP%]  .buff .value{color:#fff}.item[_ngcontent-%COMP%]  .range, .item[_ngcontent-%COMP%]  .range .value, .item[_ngcontent-%COMP%]  .details, .item[_ngcontent-%COMP%]  .details .value, .item[_ngcontent-%COMP%]  .formula, .item[_ngcontent-%COMP%]  .formula .value, .item[_ngcontent-%COMP%]  .pure-info, .item[_ngcontent-%COMP%]  .pure-info .value{color:#686868}.item[_ngcontent-%COMP%]  .affixes .range, .item[_ngcontent-%COMP%]  .affixes .value, .item[_ngcontent-%COMP%]  .pure-info{word-break:keep-all;white-space:nowrap}.item.nodetails[_ngcontent-%COMP%]     .details, .item.nodetails[_ngcontent-%COMP%]     .formula{display:none}.item[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%], .item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{border:2px solid}.item[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%]{margin-bottom:2px;text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;padding:15px 10px;grid-gap:15px;gap:15px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;text-transform:capitalize}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:10px;gap:10px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{min-width:80px;width:80px;display:flex;flex-direction:column;align-items:center}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{text-transform:capitalize;text-align:center}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{min-width:56px;min-height:56px;width:56px;height:56px;border:4px solid black;margin-bottom:10px;position:relative}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{background-color:#686868;min-width:2px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;grid-gap:10px;gap:10px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#686868}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;list-style:disc inside;padding-left:0}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:flex;flex-direction:row;padding-left:5px;grid-gap:5px;gap:5px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pure[_ngcontent-%COMP%]{color:#46e7b0;background:linear-gradient(90deg,rgba(70,231,176,.3) 0%,rgba(70,231,176,0) 100%)}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pure[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:after{content:" !!"}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex-grow:1}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-effect.outer-border[_ngcontent-%COMP%]{border:3px solid black}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-effect.outer-border[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{border:2px solid #2e2c25}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-effect.outer-border[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]{border:3px solid black}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px 30px;grid-gap:5px;gap:5px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;grid-gap:5px;gap:5px;color:#686868}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:center}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-top:5px;min-width:36px;min-height:36px;width:36px;height:36px;border:3px solid black;padding:2px;background-color:#2e2c25}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff[_ngcontent-%COMP%]{border:3px solid #3b3831;padding:5px 36px;text-align:center;position:relative}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:-6px;top:50%;margin-top:-22px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.reaper[_ngcontent-%COMP%]{color:#148e89}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.skill[_ngcontent-%COMP%]{color:#ce4607}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-0[_ngcontent-%COMP%]{color:#2f5996}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-1[_ngcontent-%COMP%]{color:#a83007}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-2[_ngcontent-%COMP%]{color:#79b549}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-3[_ngcontent-%COMP%]{color:#d0b545}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-4[_ngcontent-%COMP%]{color:#4bc1b2}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-5[_ngcontent-%COMP%]{color:#753098}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-6[_ngcontent-%COMP%]{color:#cd7028}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-7[_ngcontent-%COMP%]{color:#bf3c59}']}),o}(),G=a(4425),T=function(){var o=(0,Q.Z)(function p(n,i,d,C,U){(0,J.Z)(this,p),this.slormancerItemService=i,this.slormancerCharacterBuilderService=d,this.slormancerCharacterUpdaterService=C,this.slormancerCharacterComparatorService=U;var te=this.slormancerCharacterBuilderService.getCharacterClone(n.character),ie=this.slormancerCharacterBuilderService.getCharacterClone(n.character);te.gear[n.slot]=this.slormancerItemService.getEquipableItemClone(n.left),ie.gear[n.slot]=this.slormancerItemService.getEquipableItemClone(n.right),this.slormancerCharacterUpdaterService.updateCharacter(te,n.config),this.slormancerCharacterUpdaterService.updateCharacter(ie,n.config),this.left=n.left,this.right=n.right,this.differences=this.slormancerCharacterComparatorService.compareCharacters(te,ie)});return o.\u0275fac=function(n){return new(n||o)(e.Y36(f.WI),e.Y36(w.S),e.Y36(b.o),e.Y36(A.P),e.Y36(E.P))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-compare-item-modal"]],decls:8,vars:6,consts:[["mat-dialog-title",""],[1,"item"],[3,"item","equipped"],[3,"differences"],[3,"item"]],template:function(n,i){1&n&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"div",1),e._UZ(4,"app-item-view",2),e.qZA(),e._UZ(5,"app-compare-view",3),e.TgZ(6,"div",1),e._UZ(7,"app-item-view",4),e.qZA(),e.qZA()),2&n&&(e.xp6(1),e.AsE("",i.left.name," - ",i.right.name,""),e.xp6(3),e.Q6J("item",i.left)("equipped",!0),e.xp6(1),e.Q6J("differences",i.differences),e.xp6(2),e.Q6J("item",i.right))},directives:[f.uh,f.xY,F,G.$],styles:["h2[_ngcontent-%COMP%]{display:none;text-align:center}@media (max-width: 992px){h2[_ngcontent-%COMP%]{display:block}}mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:20px;gap:20px}@media (max-width: 992px){mat-dialog-content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:none}mat-dialog-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:block}}@media (max-width: 374px){mat-dialog-content[_ngcontent-%COMP%]   app-compare-view[_ngcontent-%COMP%]{width:100%}}mat-dialog-content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:370px;min-width:380px;overflow-y:auto}"]}),o}(),j=a(4456),Z=a(7423);function ee(o,p){if(1&o&&(e.TgZ(0,"button",3),e._uU(1),e.qZA()),2&o){var n=p.$implicit;e.Q6J("mat-dialog-close",n),e.xp6(1),e.Oqu(n)}}var $=function(){var o=function(){function p(n){(0,J.Z)(this,p),this.dialogRef=n,this.EQUIPABLE_ITEM_BASE_VALUES=j.l}return(0,Q.Z)(p,[{key:"selectBase",value:function(i){this.dialogRef.close(i)}}]),p}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(f.so))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-base-choice-modal"]],decls:7,vars:2,consts:[["mat-dialog-title",""],["mat-flat-button","","color","primary",3,"mat-dialog-close",4,"ngFor","ngForOf"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","color","primary",3,"mat-dialog-close"]],template:function(n,i){1&n&&(e.TgZ(0,"h2",0),e._uU(1,"Choose a base for your item"),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.YNc(3,ee,2,2,"button",1),e.qZA(),e.TgZ(4,"mat-dialog-actions"),e.TgZ(5,"button",2),e._uU(6,"Cancel"),e.qZA(),e.qZA()),2&n&&(e.xp6(3),e.Q6J("ngForOf",i.EQUIPABLE_ITEM_BASE_VALUES),e.xp6(2),e.Q6J("mat-dialog-close",null))},directives:[f.uh,f.xY,c.sg,f.H8,Z.lW,f.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:8px;gap:8px}"]}),o}(),R=a(3075),pe=a(4373),ve=a(1093),Ee=a(9377),Ae=a(7795),ke=a(7189),he=a(5581),Me=a(3300),_e=a(7322),Se=a(7531),Ze=a(2107),Ce=a(3874),Oe=a(4102),Pe=a(508),be=a(8029);function x(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().addLegendaryEffect()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function q(o,p){if(1&o&&(e.TgZ(0,"mat-option",16),e._UZ(1,"span",17),e.qZA()),2&o){var n=p.$implicit;e.Q6J("value",n.value),e.xp6(1),e.Q6J("innerHTML",n.label,e.oJD)}}function h(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"mat-slider",18),e.NdJ("input",function(d){return e.CHM(n),e.oxw(2).updateSliderValue(d)}),e.qZA()}2&o&&e.Q6J("min",75)("max",100)("step",1)}function g(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"mat-form-field",8),e.TgZ(3,"mat-label"),e._uU(4,"Legendary effect"),e.qZA(),e.TgZ(5,"mat-select",9),e.YNc(6,q,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",11),e.YNc(8,h,1,3,"mat-slider",12),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"div",14),e._uU(11),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){return e.CHM(n),e.oxw().removeLegendaryEffect()}),e.TgZ(13,"mat-icon"),e._uU(14,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("ngIf",i.hasLegendaryValues()),e.xp6(3),e.hij(" ",i.displayedValue," ")}}var B=function(){var o=function(){function p(n){(0,J.Z)(this,p),this.itemFormService=n,this.base=j.J.Amulet,this.heroClass=Ze.i.Huntress,this.legendaryEffect=null,this.form=null,this.reinforcment=null,this.options=[],this.displayedValue=""}return(0,Q.Z)(p,[{key:"ngOnChanges",value:function(){this.options=this.itemFormService.getLegendaryOptions(this.base,this.heroClass),null!==this.legendaryEffect&&this.updateLegendaryValueLabel(this.legendaryEffect.value)}},{key:"updateLegendaryValueLabel",value:function(i){this.displayedValue="",null!==this.legendaryEffect&&null!==i&&(this.displayedValue=this.legendaryEffect.effects.filter(function(d){return d.possibleCraftedValues.length>1}).map(function(d){var C=d.effect.percent?"%":"";return(0,he.AW)(d,i)+C}).join(" / "))}},{key:"hasLegendaryValues",value:function(){return null!==this.legendaryEffect&&this.legendaryEffect.effects.filter(function(i){return i.possibleCraftedValues.length>1}).length>0}},{key:"updateSliderValue",value:function(i){this.displayedValue="";var d=i.value;null!==this.legendaryEffect&&null!==d&&this.updateLegendaryValueLabel(d)}},{key:"removeLegendaryEffect",value:function(){null!==this.form&&this.form.patchValue({id:null})}},{key:"addLegendaryEffect",value:function(){var i=this.options[0];null!==this.form&&i&&this.form.patchValue({id:i.value,value:100})}}]),p}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(Me.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-legendary-effect"]],inputs:{base:"base",heroClass:"heroClass",legendaryEffect:"legendaryEffect",form:"form",reinforcment:"reinforcment"},features:[e.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","id"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input",4,"ngIf"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"],["color","primary","formControlName","value",3,"min","max","step","input"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"Legendary effect :"),e.qZA(),e.YNc(3,x,4,0,"div",2),e.qZA(),e.YNc(4,g,15,4,"div",3)),2&n&&(e.xp6(3),e.Q6J("ngIf",null!==i.form&&null===i.legendaryEffect),e.xp6(1),e.Q6J("ngIf",null!==i.form&&null!==i.legendaryEffect))},directives:[c.O5,Z.lW,Ce.Hw,R.JL,R.sg,_e.KE,_e.hX,Oe.gD,R.JJ,R.u,c.sg,Pe.ey,be.pH],styles:[""]}),o}();function k(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().addReaperEnchantment()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function H(o,p){if(1&o&&(e.TgZ(0,"mat-option",16),e._UZ(1,"span",17),e.qZA()),2&o){var n=p.$implicit;e.Q6J("value",n.value),e.xp6(1),e.Q6J("innerHTML",n.label,e.oJD)}}function re(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"mat-form-field",8),e.TgZ(3,"mat-label"),e._uU(4,"Reaper Enchantment"),e.qZA(),e.TgZ(5,"mat-select",9),e.YNc(6,H,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",11),e.TgZ(8,"mat-slider",12),e.NdJ("input",function(C){return e.CHM(n),e.oxw().updateSliderValue(C)}),e.qZA(),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"div",14),e._uU(11),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){return e.CHM(n),e.oxw().removeReaperEnchantment()}),e.TgZ(13,"mat-icon"),e._uU(14,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("min",1)("max",5)("step",1),e.xp6(3),e.hij(" ",i.displayedValue," ")}}var ce=function(){var o=function(){function p(n){(0,J.Z)(this,p),this.itemFormService=n,this.reaperEnchantment=null,this.form=null,this.options=[],this.displayedValue=""}return(0,Q.Z)(p,[{key:"ngOnChanges",value:function(){this.options=this.itemFormService.getReaperBuffOptions(),null!==this.reaperEnchantment&&this.updateReaperEnchantmentValueLabel(this.reaperEnchantment.effect.value)}},{key:"updateReaperEnchantmentValueLabel",value:function(i){this.displayedValue="",null!==this.reaperEnchantment&&null!==i&&(this.displayedValue="+"+(0,he.Be)(this.reaperEnchantment.craftableValues[i],0))}},{key:"updateSliderValue",value:function(i){this.displayedValue="";var d=i.value;null!==this.reaperEnchantment&&null!==d&&this.updateReaperEnchantmentValueLabel(d)}},{key:"removeReaperEnchantment",value:function(){null!==this.form&&this.form.patchValue({smith:null})}},{key:"addReaperEnchantment",value:function(){var i=this.options[0];null!==this.form&&i&&this.form.patchValue({smith:i.value,value:5})}}]),p}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(Me.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-buff-reaper"]],inputs:{reaperEnchantment:"reaperEnchantment",form:"form"},features:[e.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","form-add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"form-add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","smith"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"Reaper Enchantment :"),e.qZA(),e.YNc(3,k,4,0,"div",2),e.qZA(),e.YNc(4,re,15,6,"div",3)),2&n&&(e.xp6(3),e.Q6J("ngIf",null!==i.form&&null===i.reaperEnchantment),e.xp6(1),e.Q6J("ngIf",null!==i.form&&null!==i.reaperEnchantment))},directives:[c.O5,Z.lW,Ce.Hw,R.JL,R.sg,_e.KE,_e.hX,Oe.gD,R.JJ,R.u,c.sg,be.pH,Pe.ey],styles:[""]}),o}();function fe(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().addSkillEnchantment()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function Ne(o,p){if(1&o&&(e.TgZ(0,"mat-option",16),e._UZ(1,"span",17),e.qZA()),2&o){var n=p.$implicit;e.Q6J("value",n.value),e.xp6(1),e.Q6J("innerHTML",n.label,e.oJD)}}function qe(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"mat-form-field",8),e.TgZ(3,"mat-label"),e._uU(4,"Skill Enchantment"),e.qZA(),e.TgZ(5,"mat-select",9),e.YNc(6,Ne,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",11),e.TgZ(8,"mat-slider",12),e.NdJ("input",function(C){return e.CHM(n),e.oxw().updateSliderValue(C)}),e.qZA(),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"div",14),e._uU(11),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){return e.CHM(n),e.oxw().removeSkillEnchantment()}),e.TgZ(13,"mat-icon"),e._uU(14,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("min",1)("max",2)("step",1),e.xp6(3),e.hij(" ",i.displayedValue," ")}}var Be=function(){var o=function(){function p(n){(0,J.Z)(this,p),this.itemFormService=n,this.heroClass=Ze.i.Huntress,this.skillEnchantment=null,this.form=null,this.options=[],this.displayedValue=""}return(0,Q.Z)(p,[{key:"ngOnChanges",value:function(){this.options=this.itemFormService.getSkillBuffOptions(this.heroClass),null!==this.skillEnchantment&&this.updateSkillEnchantmentValueLabel(this.skillEnchantment.effect.value)}},{key:"updateSkillEnchantmentValueLabel",value:function(i){this.displayedValue="",null!==this.skillEnchantment&&null!==i&&(this.displayedValue="+"+(0,he.Be)(this.skillEnchantment.craftableValues[i],0))}},{key:"updateSliderValue",value:function(i){this.displayedValue="";var d=i.value;null!==this.skillEnchantment&&null!==d&&this.updateSkillEnchantmentValueLabel(d)}},{key:"removeSkillEnchantment",value:function(){null!==this.form&&this.form.patchValue({skill:null})}},{key:"addSkillEnchantment",value:function(){var i=this.options[0];null!==this.form&&i&&this.form.patchValue({skill:i.value,value:2})}}]),p}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(Me.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-buff-skill"]],inputs:{heroClass:"heroClass",skillEnchantment:"skillEnchantment",form:"form"},features:[e.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","skill"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"Skill Enchantment :"),e.qZA(),e.YNc(3,fe,4,0,"div",2),e.qZA(),e.YNc(4,qe,15,6,"div",3)),2&n&&(e.xp6(3),e.Q6J("ngIf",null!==i.form&&null===i.skillEnchantment),e.xp6(1),e.Q6J("ngIf",null!==i.form&&null!==i.skillEnchantment))},directives:[c.O5,Z.lW,Ce.Hw,R.JL,R.sg,_e.KE,_e.hX,Oe.gD,R.JJ,R.u,c.sg,be.pH,Pe.ey],styles:[""]}),o}();function Qe(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().addAttributeEnchantment()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function Fe(o,p){if(1&o&&(e.TgZ(0,"mat-option",16),e._UZ(1,"span",17),e.qZA()),2&o){var n=p.$implicit;e.Q6J("value",n.value),e.xp6(1),e.Q6J("innerHTML",n.label,e.oJD)}}function Ye(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"mat-form-field",8),e.TgZ(3,"mat-label"),e._uU(4,"Attribute Enchantment"),e.qZA(),e.TgZ(5,"mat-select",9),e.YNc(6,Fe,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",11),e.TgZ(8,"mat-slider",12),e.NdJ("input",function(C){return e.CHM(n),e.oxw().updateSliderValue(C)}),e.qZA(),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"div",14),e._uU(11),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){return e.CHM(n),e.oxw().removeAttributeEnchantment()}),e.TgZ(13,"mat-icon"),e._uU(14,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("min",1)("max",3)("step",1),e.xp6(3),e.hij(" ",i.displayedValue," ")}}var Ve=function(){var o=function(){function p(n){(0,J.Z)(this,p),this.itemFormService=n,this.attributeEnchantment=null,this.form=null,this.options=[],this.displayedValue=""}return(0,Q.Z)(p,[{key:"ngOnChanges",value:function(){this.options=this.itemFormService.getAttributeBuffOptions(),null!==this.attributeEnchantment&&this.updateAttributeEnchantmentValueLabel(this.attributeEnchantment.effect.value)}},{key:"updateAttributeEnchantmentValueLabel",value:function(i){this.displayedValue="",null!==this.attributeEnchantment&&null!==i&&(this.displayedValue="+"+(0,he.Be)(this.attributeEnchantment.craftableValues[i],0))}},{key:"updateSliderValue",value:function(i){this.displayedValue="";var d=i.value;null!==this.attributeEnchantment&&null!==d&&this.updateAttributeEnchantmentValueLabel(d)}},{key:"removeAttributeEnchantment",value:function(){null!==this.form&&this.form.patchValue({attribute:null})}},{key:"addAttributeEnchantment",value:function(){var i=this.options[0];null!==this.form&&i&&this.form.patchValue({attribute:i.value,value:3})}}]),p}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(Me.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-buff-attribute"]],inputs:{attributeEnchantment:"attributeEnchantment",form:"form"},features:[e.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","attribute"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"Attribute Enchantment :"),e.qZA(),e.YNc(3,Qe,4,0,"div",2),e.qZA(),e.YNc(4,Ye,15,6,"div",3)),2&n&&(e.xp6(3),e.Q6J("ngIf",null!==i.form&&null===i.attributeEnchantment),e.xp6(1),e.Q6J("ngIf",null!==i.form&&null!==i.attributeEnchantment))},directives:[c.O5,Z.lW,Ce.Hw,R.JL,R.sg,_e.KE,_e.hX,Oe.gD,R.JJ,R.u,c.sg,be.pH,Pe.ey],styles:[""]}),o}(),Ke=a(7446);function We(o,p){if(1&o&&(e.TgZ(0,"mat-option",13),e._UZ(1,"span",14),e.qZA()),2&o){var n=p.$implicit,i=e.oxw(2);e.Q6J("disabled",i.isOptionDisabled(n.value))("value",n.value),e.xp6(1),e.Q6J("innerHTML",n.label,e.oJD)}}function je(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"mat-slider",15),e.NdJ("input",function(C){return e.CHM(n),e.oxw(2).updateSliderStat(C)}),e.qZA()}if(2&o){var i=e.oxw(2);e.Q6J("min",i.affix.craftedEffect.minPossibleCraftedValue)("max",i.affix.craftedEffect.maxPossibleCraftedValue)("step",1)}}function Ge(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"mat-slider",16),e.NdJ("input",function(d){return e.CHM(n),e.oxw(2).updateSliderPurity(d)}),e.qZA()}2&o&&e.Q6J("min",101)("max",200)("step",1)}function Xe(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"mat-form-field",3),e.TgZ(3,"mat-label"),e._uU(4,"Stat"),e.qZA(),e.TgZ(5,"mat-select",4),e.YNc(6,We,2,3,"mat-option",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",6),e.YNc(8,je,1,3,"mat-slider",7),e.YNc(9,Ge,1,3,"mat-slider",8),e.qZA(),e.TgZ(10,"div",9),e.TgZ(11,"div",10),e._uU(12),e.qZA(),e.TgZ(13,"mat-checkbox",11),e.NdJ("change",function(C){return e.CHM(n),e.oxw().purityChanged(C)}),e._uU(14,"Pure"),e.qZA(),e.TgZ(15,"button",12),e.NdJ("click",function(){return e.CHM(n),e.oxw().removeStat()}),e.TgZ(16,"mat-icon"),e._uU(17,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("ngIf",!i.affix.isPure),e.xp6(1),e.Q6J("ngIf",i.affix.isPure),e.xp6(2),e.ekj("pure",i.affix.isPure),e.xp6(1),e.hij(" ",i.displayedValue," "),e.xp6(1),e.Q6J("checked",i.affix.isPure),e.xp6(2),e.Q6J("disabled",!i.removable)}}var ze=function(){var o=function(){function p(n){(0,J.Z)(this,p),this.itemFormService=n,this.base=j.J.Amulet,this.alreadyUsedStats=[],this.affix=null,this.form=null,this.removable=!1,this.remove=new e.vpe,this.options=[],this.displayedValue=""}return(0,Q.Z)(p,[{key:"ngOnChanges",value:function(){null!==this.affix&&(this.options=this.itemFormService.getStatsOptions(this.base,this.affix.rarity),this.affix.isPure?this.setPuritylabel(this.affix.pure):this.setStatLabel(this.affix.craftedEffect.craftedValue))}},{key:"isOptionDisabled",value:function(i){return-1!==this.alreadyUsedStats.indexOf(i)&&null!==this.affix&&i!==this.affix.craftedEffect.effect.stat}},{key:"purityChanged",value:function(i){null!==this.affix&&null!==this.form&&this.form.patchValue(i.checked?{purity:101}:{purity:100})}},{key:"updateSliderPurity",value:function(i){null!==i.value&&this.setPuritylabel(i.value)}},{key:"updateSliderStat",value:function(i){null!==i.value&&this.setStatLabel(i.value)}},{key:"setPuritylabel",value:function(i){this.displayedValue=Math.round(i-100)+"%"}},{key:"setStatLabel",value:function(i){if(this.displayedValue="",null!==this.affix){var d=this.affix.craftedEffect.effect.percent?"%":"";this.displayedValue=null===this.affix?"":"+"+((0,he.AW)(this.affix.craftedEffect,i)+d)}}},{key:"removeStat",value:function(){this.remove.emit()}}]),p}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(Me.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-stat"]],inputs:{base:"base",alreadyUsedStats:"alreadyUsedStats",affix:"affix",form:"form",removable:"removable"},outputs:{remove:"remove"},features:[e.TTD],decls:1,vars:1,consts:[["class","stat-line",3,"formGroup",4,"ngIf"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline","color","primary",1,"no-error-padding"],["formControlName","stat","color","primary"],[3,"disabled","value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input",4,"ngIf"],["color","accent","formControlName","purity",3,"min","max","step","input",4,"ngIf"],[1,"additional"],[1,"value"],["color","primary",3,"checked","change"],["mat-icon-button","","color","primary","type","button",3,"disabled","click"],[3,"disabled","value"],[3,"innerHTML"],["color","primary","formControlName","value",3,"min","max","step","input"],["color","accent","formControlName","purity",3,"min","max","step","input"]],template:function(n,i){1&n&&e.YNc(0,Xe,18,9,"div",0),2&n&&e.Q6J("ngIf",null!==i.form&&null!==i.affix)},directives:[c.O5,R.JL,R.sg,_e.KE,_e.hX,Oe.gD,R.JJ,R.u,c.sg,Ke.oG,Z.lW,Ce.Hw,Pe.ey,be.pH],styles:[".pure[_ngcontent-%COMP%]{color:#20d787}"]}),o}();function $e(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).addBasicAffix()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function et(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"app-item-edit-stat",25),e.NdJ("remove",function(){e.CHM(n);var ie=e.oxw().index;return e.oxw(3).removeAffix(ie)}),e.qZA()}if(2&o){var i=e.oxw(),d=i.$implicit,C=i.index,U=e.oxw(3);e.Q6J("form",d)("base",U.item.base)("alreadyUsedStats",U.alreadyUsedStats)("affix",U.getAffix(C))("removable",!1)}}function tt(o,p){if(1&o&&(e.ynx(0),e.YNc(1,et,1,5,"app-item-edit-stat",24),e.BQk()),2&o){var n=p.$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",i.isBasicStat(n))}}function nt(o,p){if(1&o&&(e.ynx(0),e.YNc(1,tt,2,1,"ng-container",14),e.BQk()),2&o){var n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.getAffixControls())}}function at(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).addMagicAffix()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function it(o,p){if(1&o&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e._uU(2," Magic Stats : "),e.qZA(),e.YNc(3,at,4,0,"div",11),e.qZA()),2&o){var n=e.oxw(2);e.xp6(3),e.Q6J("ngIf",n.hasBasicStats()&&!n.hasMaximumMagicStats())}}function ot(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"app-item-edit-stat",25),e.NdJ("remove",function(){e.CHM(n);var ie=e.oxw().index;return e.oxw(2).removeAffix(ie)}),e.qZA()}if(2&o){var i=e.oxw(),d=i.$implicit,C=i.index,U=e.oxw(2);e.Q6J("form",d)("base",U.item.base)("alreadyUsedStats",U.alreadyUsedStats)("affix",U.getAffix(C))("removable",!U.hasRareStats()&&!U.hasEpicStats())}}function rt(o,p){if(1&o&&(e.ynx(0),e.YNc(1,ot,1,5,"app-item-edit-stat",24),e.BQk()),2&o){var n=p.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.isMagicStat(n))}}function lt(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).addRareAffix()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function ct(o,p){if(1&o&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e._uU(2," Rare Stats : "),e.qZA(),e.YNc(3,lt,4,0,"div",11),e.qZA()),2&o){var n=e.oxw(2);e.xp6(3),e.Q6J("ngIf",n.hasMagicStats()&&!n.hasMaximumRareStats())}}function st(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"app-item-edit-stat",25),e.NdJ("remove",function(){e.CHM(n);var ie=e.oxw().index;return e.oxw(2).removeAffix(ie)}),e.qZA()}if(2&o){var i=e.oxw(),d=i.$implicit,C=i.index,U=e.oxw(2);e.Q6J("form",d)("base",U.item.base)("alreadyUsedStats",U.alreadyUsedStats)("affix",U.getAffix(C))("removable",!U.hasEpicStats())}}function mt(o,p){if(1&o&&(e.ynx(0),e.YNc(1,st,1,5,"app-item-edit-stat",24),e.BQk()),2&o){var n=p.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.isRareStat(n))}}function ut(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).addEpicAffix()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function gt(o,p){if(1&o&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e._uU(2," Epic Stats : "),e.qZA(),e.YNc(3,ut,4,0,"div",11),e.qZA()),2&o){var n=e.oxw(2);e.xp6(3),e.Q6J("ngIf",n.hasRareStats()&&!n.hasMaximumEpicStats())}}function _t(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"app-item-edit-stat",25),e.NdJ("remove",function(){e.CHM(n);var ie=e.oxw().index;return e.oxw(2).removeAffix(ie)}),e.qZA()}if(2&o){var i=e.oxw(),d=i.$implicit,C=i.index,U=e.oxw(2);e.Q6J("form",d)("base",U.item.base)("alreadyUsedStats",U.alreadyUsedStats)("affix",U.getAffix(C))("removable",!0)}}function dt(o,p){if(1&o&&(e.ynx(0),e.YNc(1,_t,1,5,"app-item-edit-stat",24),e.BQk()),2&o){var n=p.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.isEpicStat(n))}}function pt(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"form",1),e.NdJ("submit",function(){return e.CHM(n),e.oxw().submit()}),e.TgZ(1,"mat-dialog-content"),e.TgZ(2,"div",2),e._UZ(3,"app-item-view",3),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"mat-form-field",6),e.TgZ(7,"mat-label"),e._uU(8,"Item level"),e.qZA(),e._UZ(9,"input",7),e.TgZ(10,"mat-error"),e._uU(11),e.qZA(),e.qZA(),e.TgZ(12,"mat-form-field",6),e.TgZ(13,"mat-label"),e._uU(14,"Item reinforcment"),e.qZA(),e._UZ(15,"input",8),e.TgZ(16,"mat-error"),e._uU(17,"Reinforcment must be >= 0"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",9),e.TgZ(19,"div",10),e._uU(20," Base Stats : "),e.qZA(),e.YNc(21,$e,4,0,"div",11),e.qZA(),e.YNc(22,nt,2,1,"ng-container",12),e.YNc(23,it,4,1,"div",13),e.YNc(24,rt,2,1,"ng-container",14),e.YNc(25,ct,4,1,"div",13),e.YNc(26,mt,2,1,"ng-container",14),e.YNc(27,gt,4,1,"div",13),e.YNc(28,dt,2,1,"ng-container",14),e._UZ(29,"app-item-edit-legendary-effect",15),e._UZ(30,"app-item-edit-buff-reaper",16),e._UZ(31,"app-item-edit-buff-skill",17),e._UZ(32,"app-item-edit-buff-attribute",18),e.qZA(),e.qZA(),e.TgZ(33,"mat-dialog-actions"),e.TgZ(34,"button",19),e._uU(35,"Cancel"),e.qZA(),e.TgZ(36,"button",20),e.NdJ("click",function(){return e.CHM(n),e.oxw().reset()}),e._uU(37,"Reset"),e.qZA(),e.TgZ(38,"button",21),e._uU(39,"Submit"),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(3),e.Q6J("item",i.item)("details",!0),e.xp6(6),e.Q6J("max",i.MAX_ITEM_LEVEL),e.xp6(2),e.hij("Level must be between 1 and ",i.MAX_ITEM_LEVEL,""),e.xp6(10),e.Q6J("ngIf",!i.hasMaximumBasicStats()),e.xp6(1),e.Q6J("ngIf",i.hasBasicStats()),e.xp6(1),e.Q6J("ngIf",i.hasBasicStats()),e.xp6(1),e.Q6J("ngForOf",i.getAffixControls()),e.xp6(1),e.Q6J("ngIf",i.hasMagicStats()),e.xp6(1),e.Q6J("ngForOf",i.getAffixControls()),e.xp6(1),e.Q6J("ngIf",i.hasRareStats()),e.xp6(1),e.Q6J("ngForOf",i.getAffixControls()),e.xp6(1),e.Q6J("base",i.item.base)("reinforcment",i.item.reinforcment)("heroClass",i.item.heroClass)("legendaryEffect",i.item.legendaryEffect)("form",i.getLegendaryEffectForm()),e.xp6(1),e.Q6J("reaperEnchantment",i.item.reaperEnchantment)("form",i.getReaperEnchantmentForm()),e.xp6(1),e.Q6J("heroClass",i.item.heroClass)("skillEnchantment",i.item.skillEnchantment)("form",i.getSkillEnchantmentForm()),e.xp6(1),e.Q6J("attributeEnchantment",i.item.attributeEnchantment)("form",i.getAttributeEnchantmentForm())}}var ft=function(){var o=function(){function p(n,i,d,C,U,te,ie,le,ne){(0,J.Z)(this,p),this.dialogRef=n,this.slormancerCharacterUpdaterService=i,this.slormancerItemService=d,this.slormancerDataService=C,this.slormancerAffixService=U,this.slormancerLegendaryEffectService=te,this.formOptionsService=ie,this.plannerService=le,this.MAX_ITEM_LEVEL=pe.Sb,this.maxBasicStats=0,this.alreadyUsedStats=[],this.originalItem=ne.item,this.maxLevel=ne.maxLevel,this.character=ne.character,this.item=ne.item,this.reset()}return(0,Q.Z)(p,[{key:"reset",value:function(){Object.assign(this.item,this.slormancerItemService.getEquipableItemClone(this.originalItem)),this.form=this.buildForm()}},{key:"submit",value:function(){this.form.valid&&this.dialogRef.close(this.item)}},{key:"updatePreview",value:function(i){var d=this,C=this.item;if(i.valid){var U=i.value;if(C.level=U.level,C.reinforcment=U.reinforcment,C.affixes.forEach(function(xe,De){var Te=i.get("affixes."+De);if(null!==Te){var wt=Te.get("purity").value,Re=Te.get("value").value,He=Te.get("stat").value,Ut=Te.get("rarity").value;if(xe.craftedEffect.effect.stat!==He){var Le=d.slormancerAffixService.getAffixFromStat(He,C.level,C.reinforcment,Ut,Re);null!==Le&&(C.affixes[De]=Le,xe=Le)}xe.craftedEffect.craftedValue=Re,xe.pure=wt}}),null!==U.legendaryEffect){var te=U.legendaryEffect.id,ie=U.legendaryEffect.value;null===te?C.legendaryEffect=null:null===C.legendaryEffect||C.legendaryEffect.id!==te?C.legendaryEffect=this.slormancerLegendaryEffectService.getLegendaryEffectById(te,ie,C.reinforcment,C.heroClass):C.legendaryEffect.value=ie}if(null!==U.reaper){var le=U.reaper.smith,ne=U.reaper.value;null===le?C.reaperEnchantment=null:null===C.reaperEnchantment||C.reaperEnchantment.craftedReaperSmith!==le?C.reaperEnchantment=this.slormancerItemService.getReaperEnchantment(le,ne):C.reaperEnchantment.craftedValue=ne}if(null!==U.skill){var ye=U.skill.skill,Ue=U.skill.value;null===ye?C.skillEnchantment=null:null===C.skillEnchantment||C.skillEnchantment.craftedSkill!==ye?C.skillEnchantment=this.slormancerItemService.getSkillEnchantment(ye,Ue):C.skillEnchantment.craftedValue=Ue}if(null!==U.attribute){var Ie=U.attribute.attribute,Je=U.attribute.value;null===Ie?C.attributeEnchantment=null:null===C.attributeEnchantment||C.attributeEnchantment.craftedAttribute!==Ie?C.attributeEnchantment=this.slormancerItemService.getAttributeEnchantment(Ie,Je):C.attributeEnchantment.craftedValue=Je}this.alreadyUsedStats=C.affixes.map(function(xe){return xe.craftedEffect.effect.stat}),this.slormancerItemService.updateEquipableItemModel(C),this.slormancerCharacterUpdaterService.updateCharacter(this.character,(0,he.Be)(this.plannerService.getConfiguration(),ve.g),!1,C),this.slormancerItemService.updateEquipableItemView(C)}}},{key:"affixToForm",value:function(i){return new R.cw({rarity:new R.NI(i.rarity),value:new R.NI(i.craftedEffect.craftedValue),purity:new R.NI(i.pure),stat:new R.NI(i.craftedEffect.effect.stat)})}},{key:"legendaryEffectToForm",value:function(i){return new R.cw({id:new R.NI(null===i?null:i.id),value:new R.NI(null===i?100:i.value)})}},{key:"buildForm",value:function(){var i=this,C=new R.cw({level:new R.NI(this.item.level,[R.kI.required,R.kI.min(1),R.kI.max(this.MAX_ITEM_LEVEL),R.kI.pattern(/^[0-9]+$/)]),reinforcment:new R.NI(this.item.reinforcment,[R.kI.required,R.kI.min(0),R.kI.pattern(/^[0-9]+$/)]),affixes:new R.Oe(this.item.affixes.map(function(U){return i.affixToForm(U)})),legendaryEffect:this.legendaryEffectToForm(this.item.legendaryEffect),reaper:new R.cw({smith:new R.NI(null===this.item.reaperEnchantment?null:this.item.reaperEnchantment.craftedReaperSmith),value:new R.NI(null===this.item.reaperEnchantment?5:this.item.reaperEnchantment.craftedValue)}),skill:new R.cw({skill:new R.NI(null===this.item.skillEnchantment?null:this.item.skillEnchantment.craftedSkill),value:new R.NI(null===this.item.skillEnchantment?2:this.item.skillEnchantment.craftedValue)}),attribute:new R.cw({attribute:new R.NI(null===this.item.attributeEnchantment?null:this.item.attributeEnchantment.craftedAttribute),value:new R.NI(null===this.item.attributeEnchantment?2:this.item.attributeEnchantment.craftedValue)})});return C.valueChanges.subscribe(function(){i.updatePreview(C)}),this.updatePreview(C),this.maxBasicStats=this.slormancerDataService.getBaseMaxBasicStat(this.item.base),C}},{key:"getAffixControls",value:function(){var i=this.form.get("affixes");return null!==i?i.controls:[]}},{key:"isBasicStat",value:function(i){var d=i.get("rarity");return null!==d&&d.value===P.u.Normal}},{key:"hasBasicStats",value:function(){var i=this;return this.getAffixControls().filter(function(d){return i.isBasicStat(d)}).length>0}},{key:"hasMaximumBasicStats",value:function(){var i=this;return this.getAffixControls().filter(function(d){return i.isBasicStat(d)}).length>=this.maxBasicStats}},{key:"isMagicStat",value:function(i){var d=i.get("rarity");return null!==d&&d.value===P.u.Magic}},{key:"hasMagicStats",value:function(){var i=this;return this.getAffixControls().filter(function(d){return i.isMagicStat(d)}).length>0}},{key:"hasMaximumMagicStats",value:function(){var i=this;return this.getAffixControls().filter(function(d){return i.isMagicStat(d)}).length>=pe.aH}},{key:"isRareStat",value:function(i){var d=i.get("rarity");return null!==d&&d.value===P.u.Rare}},{key:"hasRareStats",value:function(){var i=this;return this.getAffixControls().filter(function(d){return i.isRareStat(d)}).length>0}},{key:"hasMaximumRareStats",value:function(){var i=this;return this.getAffixControls().filter(function(d){return i.isRareStat(d)}).length>=pe.bm}},{key:"isEpicStat",value:function(i){var d=i.get("rarity");return null!==d&&d.value===P.u.Epic}},{key:"hasEpicStats",value:function(){var i=this;return this.getAffixControls().filter(function(d){return i.isEpicStat(d)}).length>0}},{key:"hasMaximumEpicStats",value:function(){var i=this;return this.getAffixControls().filter(function(d){return i.isEpicStat(d)}).length>=pe.hc}},{key:"getAffix",value:function(i){return null===this.item?null:(0,he.lA)(this.item.affixes[i])}},{key:"removeAffix",value:function(i){var d=this.form.get("affixes");null!==d&&(d.removeAt(i),this.item.affixes.splice(i,1),this.updatePreview(this.form))}},{key:"addAffix",value:function(i){var d=this,C=this.form.get("affixes"),te=this.formOptionsService.getStatsOptions(this.item.base,i).filter(function(le){return-1===d.alreadyUsedStats.indexOf(le.value)})[0];if(te&&null!==C){var ie=this.slormancerAffixService.getAffixFromStat(te.value,this.item.level,this.item.reinforcment,i,1e3);null!==ie&&(this.item.affixes.push(ie),C.push(this.affixToForm(ie)),this.updatePreview(this.form))}}},{key:"addBasicAffix",value:function(){this.addAffix(P.u.Normal)}},{key:"addMagicAffix",value:function(){this.addAffix(P.u.Magic)}},{key:"addRareAffix",value:function(){this.addAffix(P.u.Rare)}},{key:"addEpicAffix",value:function(){this.addAffix(P.u.Epic)}},{key:"getLegendaryEffectForm",value:function(){return null===this.form?null:this.form.get("legendaryEffect")}},{key:"getReaperEnchantmentForm",value:function(){return null===this.form?null:this.form.get("reaper")}},{key:"getSkillEnchantmentForm",value:function(){return null===this.form?null:this.form.get("skill")}},{key:"getAttributeEnchantmentForm",value:function(){return null===this.form?null:this.form.get("attribute")}}]),p}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(f.so),e.Y36(A.P),e.Y36(w.S),e.Y36(Ae.o),e.Y36(Ee.l),e.Y36(ke.A),e.Y36(Me.K),e.Y36(l.q),e.Y36(f.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-modal"]],decls:1,vars:1,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"preview"],[3,"item","details"],[1,"form"],[1,"form-line"],["appearance","outline"],["matInput","","type","number","min","1","step","1","formControlName","level",3,"max"],["matInput","","type","number","min","0","step","1","formControlName","reinforcment"],[1,"form-info"],[1,"label"],["class","add",4,"ngIf"],[4,"ngIf"],["class","form-info",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"base","reinforcment","heroClass","legendaryEffect","form"],[3,"reaperEnchantment","form"],[3,"heroClass","skillEnchantment","form"],[3,"attributeEnchantment","form"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","button","color","primary",3,"click"],["mat-flat-button","","type","submit","color","primary"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[3,"form","base","alreadyUsedStats","affix","removable","remove",4,"ngIf"],[3,"form","base","alreadyUsedStats","affix","removable","remove"]],template:function(n,i){1&n&&e.YNc(0,pt,40,25,"form",0),2&n&&e.Q6J("ngIf",null!==i.form&&null!==i.item)},directives:[c.O5,R._Y,R.JL,R.sg,f.xY,F,_e.KE,_e.hX,Se.Nt,R.qQ,R.wV,R.Fd,R.Fj,R.JJ,R.u,_e.TO,c.sg,B,ce,Be,Ve,f.H8,Z.lW,f.ZT,Ce.Hw,ze],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:20px;gap:20px;flex-grow:1;overflow:auto}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]{flex-direction:column}}mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{max-width:370px}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{display:none;visibility:hidden}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;align-items:stretch;flex-grow:1}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:space-between;grid-gap:16px;gap:16px}@media (max-width: 992px){mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 992px){mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]{align-items:stretch}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0}@media not all and (min-resolution: .001dpcm){@supports (-webkit-appearance: none){mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex-basis:auto}}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;min-height:40px}"]}),o}(),vt=function(){var o=(0,Q.Z)(function p(){(0,J.Z)(this,p)});return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-remove-confirm-modal"]],decls:7,vars:2,consts:[["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary",3,"mat-dialog-close"]],template:function(n,i){1&n&&(e.TgZ(0,"mat-dialog-content"),e._uU(1," Are you sure you want to remove this item ?\n"),e.qZA(),e.TgZ(2,"mat-dialog-actions"),e.TgZ(3,"button",0),e._uU(4,"Cancel"),e.qZA(),e.TgZ(5,"button",1),e._uU(6,"Remove"),e.qZA(),e.qZA()),2&n&&(e.xp6(3),e.Q6J("mat-dialog-close",!1),e.xp6(2),e.Q6J("mat-dialog-close",!0))},directives:[f.xY,f.H8,Z.lW,f.ZT],styles:[""]}),o}(),we=a(9776);function ht(o,p){if(1&o&&(e.ynx(0),e._UZ(1,"img",4),e._UZ(2,"img",4),e.BQk()),2&o){var n=e.oxw();e.xp6(1),e.Q6J("src",n.item.itemIconBackground,e.LSH),e.xp6(1),e.Q6J("src",n.item.icon,e.LSH)}}function Ct(o,p){if(1&o&&e._UZ(0,"img",4),2&o){var n=e.oxw();e.MGl("src","assets/img/icon/item/",n.base,"/empty.png",e.LSH)}}function Mt(o,p){if(1&o&&e._UZ(0,"app-item-view",10),2&o){var n=e.oxw(2);e.Q6J("item",n.item)("details",!1)}}function Ot(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).equip()}),e.TgZ(1,"mat-icon"),e._uU(2,"arrow_back"),e.qZA(),e._uU(3,"Equip item"),e.qZA()}}function Pt(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).unequip()}),e.TgZ(1,"mat-icon"),e._uU(2,"arrow_forward"),e.qZA(),e._uU(3,"Unequip item"),e.qZA()}}function bt(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).edit()}),e.TgZ(1,"mat-icon"),e._uU(2,"add"),e.qZA(),e._uU(3,"Create item"),e.qZA()}}function yt(o,p){1&o&&(e.TgZ(0,"span"),e._uU(1,"(Left slot)"),e.qZA())}function xt(o,p){1&o&&(e.TgZ(0,"span"),e._uU(1,"(Right slot)"),e.qZA())}function Tt(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){var te=e.CHM(n).$implicit;return e.oxw(3).compareWithSlot(te)}),e.TgZ(1,"mat-icon"),e._uU(2,"compare_arrows"),e.qZA(),e._uU(3,"Compare "),e.YNc(4,yt,2,0,"span",2),e.YNc(5,xt,2,0,"span",2),e.qZA()}if(2&o){var i=p.$implicit,d=e.oxw(3);e.xp6(4),e.Q6J("ngIf",i===d.GearSlot.LeftRing),e.xp6(1),e.Q6J("ngIf",i===d.GearSlot.RightRing)}}function Zt(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).edit()}),e.TgZ(1,"mat-icon"),e._uU(2,"edit"),e.qZA(),e._uU(3,"Edit item"),e.qZA()}}function Et(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).take()}),e.TgZ(1,"mat-icon"),e._uU(2,"content_cut"),e.qZA(),e._uU(3,"Move item"),e.qZA()}}function At(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).copy()}),e.TgZ(1,"mat-icon"),e._uU(2,"content_copy"),e.qZA(),e._uU(3,"Copy item"),e.qZA()}}function kt(o,p){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).remove()}),e.TgZ(1,"mat-icon"),e._uU(2,"delete"),e.qZA(),e._uU(3,"Remove item"),e.qZA()}}function St(o,p){if(1&o&&(e.YNc(0,Ot,4,0,"button",11),e.YNc(1,Pt,4,0,"button",11),e.YNc(2,bt,4,0,"button",11),e.YNc(3,Tt,6,2,"button",12),e.YNc(4,Zt,4,0,"button",11),e.YNc(5,Et,4,0,"button",11),e.YNc(6,At,4,0,"button",11),e.YNc(7,kt,4,0,"button",11)),2&o){var n=e.oxw(2);e.Q6J("ngIf",null!==n.item&&null===n.base),e.xp6(1),e.Q6J("ngIf",null!==n.item&&null!==n.base),e.xp6(1),e.Q6J("ngIf",null===n.item),e.xp6(1),e.Q6J("ngForOf",n.comparableGearSlots),e.xp6(1),e.Q6J("ngIf",null!==n.item),e.xp6(1),e.Q6J("ngIf",null!==n.item),e.xp6(1),e.Q6J("ngIf",null!==n.item),e.xp6(1),e.Q6J("ngIf",null!==n.item)}}function It(o,p){if(1&o&&(e.ynx(0),e.YNc(1,Mt,1,2,"ng-template",5),e._UZ(2,"div",6),e.TgZ(3,"mat-menu",7,8),e.YNc(5,St,8,8,"ng-template",9),e.qZA(),e.BQk()),2&o){var n=e.MAs(4),i=e.oxw(),d=e.MAs(1);e.xp6(1),e.Q6J("cdkConnectedOverlayOpen",!i.isDragging&&i.isMouseOver)("cdkConnectedOverlayOrigin",d),e.xp6(1),e.Q6J("matMenuTriggerFor",n),e.xp6(1),e.Q6J("overlapTrigger",!0)}}var Lt=function(){var o=function(p){(0,t.Z)(i,p);var n=(0,s.Z)(i);function i(d,C,U,te,ie,le){var ne;return(0,J.Z)(this,i),(ne=n.call(this)).dialog=d,ne.itemMoveService=C,ne.searchService=U,ne.slormancerCharacterBuilderService=te,ne.slormancerItemService=ie,ne.plannerService=le,ne.GearSlot=V.SH,ne.character=null,ne.item=null,ne.base=null,ne.readonly=!1,ne.changed=new e.vpe,ne.menu=null,ne.isDragging=!1,ne.isMouseOver=!1,ne.isItemCompatible=!1,ne.isDraggedItem=!1,ne.hiddenBySearch=!1,ne.comparableGearSlots=[],ne.itemMoveService.draggingItem.pipe((0,D.R)(ne.unsubscribe)).subscribe(function(ye){ne.isDragging=ye,ne.isDraggedItem=ne.itemMoveService.isHoldItem(ne.item),ne.isItemCompatible=ne.itemMoveService.isDragItemCompatible(ne.item,ne.base)}),ne.searchService.searchChanged.pipe((0,D.R)(ne.unsubscribe)).subscribe(function(){return ne.updateSearch()}),ne}return(0,Q.Z)(i,[{key:"onMouseOver",value:function(){this.isMouseOver=!0}},{key:"onMouseLeave",value:function(){this.isMouseOver=!1}},{key:"onMouseDown",value:function(C){return 0===C.button&&!this.readonly&&this.take(),!1}},{key:"onMouseUp",value:function(C){var U=this;return 0===C.button&&!this.readonly&&(this.isDragging?this.itemMoveService.swap(this.item,this.base,function(te,ie){return U.moveCallback(te,ie)}):this.edit()),!1}},{key:"onMouseContextMenu",value:function(){return this.itemMoveService.releaseHoldItem(),this.menu&&!this.readonly&&(this.updateComparableSlots(),this.menu.openMenu()),!1}},{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){this.updateSearch()}},{key:"isMenuOpen",value:function(){return null!=this.menu&&this.menu.menuOpen}},{key:"updateComparableSlots",value:function(){this.comparableGearSlots=[];var C=this.character,U=this.item;null!==C&&null!==U&&null===this.base&&(this.comparableGearSlots=V.PL.filter(function(te){var ie=C.gear[te];return null!==ie&&ie.base===U.base}))}},{key:"updateSearch",value:function(){this.hiddenBySearch=null!==this.item&&this.searchService.hasSearch()&&!this.searchService.itemMatchSearch(this.item)}},{key:"moveCallback",value:function(C,U){C&&this.changed.emit(U),this.isDraggedItem=!1,this.isItemCompatible=!1}},{key:"getItemEditModalData",value:function(C,U){var te=this.slormancerCharacterBuilderService.getCharacterClone(C),ie=V.PL.find(function(ye){return C.gear[ye]===U}),le=ie?te.gear[ie]:null;return{character:te,item:null!==le?le:this.slormancerItemService.getEquipableItemClone(U),maxLevel:te.level}}},{key:"edit",value:function(){var C=this,U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.item,te=this.character;if(null!==te)if(null===U)null!==this.base?this.edit(this.slormancerItemService.getEmptyEquipableItem(this.base,te.heroClass,te.level)):this.dialog.open($).afterClosed().subscribe(function(le){null!=le&&C.edit(C.slormancerItemService.getEmptyEquipableItem(le,te.heroClass,te.level))});else{var ie=this.getItemEditModalData(te,U);this.dialog.open(ft,{data:ie,width:"80vw",maxWidth:"1000px"}).afterClosed().subscribe(function(le){void 0!==le&&C.changed.emit(le)})}}},{key:"take",value:function(){var C=this;null!==this.item&&this.itemMoveService.hold(this.item,this.base,function(U,te){return C.moveCallback(U,te)})}},{key:"copy",value:function(){if(null!==this.item){var C=this.slormancerItemService.getEquipableItemClone(this.item);this.itemMoveService.hold(C,C.base)}}},{key:"remove",value:function(){var C=this;this.dialog.open(vt).afterClosed().subscribe(function(U){!0===U&&C.changed.emit(null)})}},{key:"equip",value:function(){var C=this;null!==this.item&&this.itemMoveService.equip(this.item,function(U,te){return C.moveCallback(U,te)})}},{key:"unequip",value:function(){var C=this;null!==this.item&&this.itemMoveService.moveToStash(this.item,function(U,te){return C.moveCallback(U,te)})}},{key:"compareWithSlot",value:function(C){if(null!==this.item&&null!==this.character){var U=this.character.gear[C],te=this.plannerService.getConfiguration();null!==U&&null!==te&&this.dialog.open(T,{data:{character:this.character,slot:C,config:te,left:U,right:this.item}})}}}]),i}(u.B);return o.\u0275fac=function(n){return new(n||o)(e.Y36(f.uw),e.Y36(_.v),e.Y36(r.o),e.Y36(b.o),e.Y36(w.S),e.Y36(l.q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-slot"]],viewQuery:function(n,i){var d;1&n&&e.Gf(m.p6,5),2&n&&e.iGM(d=e.CRH())&&(i.menu=d.first)},hostBindings:function(n,i){1&n&&e.NdJ("mouseenter",function(){return i.onMouseOver()})("mouseleave",function(){return i.onMouseLeave()})("mousedown",function(C){return i.onMouseDown(C)})("mouseup",function(C){return i.onMouseUp(C)})("contextmenu",function(){return i.onMouseContextMenu()})},inputs:{character:"character",item:"item",base:"base",readonly:"readonly"},outputs:{changed:"changed"},features:[e.qOj,e.TTD],decls:5,vars:15,consts:[["cdkOverlayOrigin","",1,"item"],["trigger","cdkOverlayOrigin"],[4,"ngIf"],[3,"src",4,"ngIf"],[3,"src"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"matMenuTriggerFor"],["xPosition","after",3,"overlapTrigger"],["menu","matMenu"],["matMenuContent",""],[3,"item","details"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0,1),e.YNc(2,ht,3,2,"ng-container",2),e.YNc(3,Ct,1,1,"img",3),e.YNc(4,It,6,4,"ng-container",2),e.qZA()),2&n&&(e.ekj("readonly",i.readonly)("forced-base-compatible",i.isItemCompatible&&null!==i.base)("drop-compatible",!i.isDraggedItem&&i.isMouseOver&&i.isDragging&&i.isItemCompatible)("drop-incompatible",!i.isDraggedItem&&i.isMouseOver&&i.isDragging&&!i.isItemCompatible)("is-being-dragged",i.isDraggedItem&&i.isDragging)("hidden-search",i.hiddenBySearch),e.xp6(2),e.Q6J("ngIf",null!==i.item),e.xp6(1),e.Q6J("ngIf",null===i.item&&null!==i.base),e.xp6(1),e.Q6J("ngIf",i.isMouseOver||i.isMenuOpen()))},directives:[we.xu,c.O5,we.pI,m.p6,m.VK,m.KA,F,c.sg,m.OP,Ce.Hw],styles:["[_nghost-%COMP%]{width:56px;min-width:56px;height:56px;min-height:56px}.item[_ngcontent-%COMP%]{width:56px;min-width:56px;min-height:56px;border:4px solid black;position:relative;background-color:#131313}.item[_ngcontent-%COMP%]:not(.readonly){cursor:pointer}.item.forced-base-compatible[_ngcontent-%COMP%]{border-color:#b7ffd2b3}.item.drop-compatible[_ngcontent-%COMP%]{border-color:#b7ffd2}.item.drop-incompatible[_ngcontent-%COMP%]{border-color:#f44336}.item.is-being-dragged[_ngcontent-%COMP%]{opacity:.3}.item.hidden-search[_ngcontent-%COMP%]{opacity:.2}.item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;right:0}app-item-view[_ngcontent-%COMP%]{width:350px}"]}),o}()},4440:function(ue,ae,a){a.d(ae,{w:function(){return r}});var J=a(5671),Q=a(3144),t=a(136),s=a(7777),e=a(5542),m=a(8313),D=a(6446),V=a(9808),b=a(7238);function w(u,f){if(1&u){var E=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){var M=e.CHM(E).$implicit,v=e.oxw(3);return v.select(v.stats,M)}),e.TgZ(1,"div",6),e._uU(2),e.qZA(),e.TgZ(3,"div",7),e._uU(4),e.qZA(),e.qZA()}if(2&u){var A=f.$implicit,P=e.oxw(3);e.ekj("selected",P.isSelected(A)),e.xp6(2),e.Oqu(A.name),e.xp6(1),e.Q6J("matTooltip",P.getTooltip(P.stats,A)),e.xp6(1),e.Oqu(P.getValue(P.stats,A))}}function _(u,f){if(1&u&&(e.ynx(0),e.TgZ(1,"h3",3),e._uU(2),e.qZA(),e.YNc(3,w,5,5,"div",4),e.BQk()),2&u){var E=f.$implicit;e.xp6(2),e.Oqu(E.section),e.xp6(1),e.Q6J("ngForOf",E.stats)}}function l(u,f){if(1&u&&(e.TgZ(0,"div",1),e.YNc(1,_,4,2,"ng-container",2),e.qZA()),2&u){var E=e.oxw();e.xp6(1),e.Q6J("ngForOf",E.SECTIONS)}}var r=function(){var u=function(f){(0,t.Z)(A,f);var E=(0,s.Z)(A);function A(P){var c;return(0,J.Z)(this,A),(c=E.call(this)).slormancerTranslateService=P,c.SECTIONS=[{section:c.slormancerTranslateService.translate("cat_adventure"),stats:[{name:c.slormancerTranslateService.translate("essence_find"),stat:"essence_find",sign:!0},{name:c.slormancerTranslateService.translate("xp_find"),stat:"xp_find",sign:!0},{name:c.slormancerTranslateService.translate("influence_gain"),stat:"influence_gain",sign:!0},{name:c.slormancerTranslateService.translate("mf_find"),stat:"mf_find",sign:!0},{name:c.slormancerTranslateService.translate("mf_qual"),stat:"mf_qual",sign:!0}]},{section:c.slormancerTranslateService.translate("cat_health"),stats:[{name:c.slormancerTranslateService.translate("max_health"),stat:"max_health",sign:!1},{name:c.slormancerTranslateService.translate("health_regeneration"),stat:"health_regeneration",sign:!0},{name:c.slormancerTranslateService.translate("health_leech_percent"),stat:"health_leech_percent",sign:!1},{name:c.slormancerTranslateService.translate("life_on_hit"),stat:"life_on_hit",sign:!0},{name:c.slormancerTranslateService.translate("life_on_kill"),stat:"life_on_kill",sign:!0}]},{section:c.slormancerTranslateService.translate("cat_mana"),stats:[{name:c.slormancerTranslateService.translate("max_mana"),stat:"max_mana",sign:!1},{name:c.slormancerTranslateService.translate("mana_regeneration"),stat:"mana_regeneration",sign:!0},{name:c.slormancerTranslateService.translate("mana_leech_percent"),stat:"mana_leech_percent",sign:!1},{name:c.slormancerTranslateService.translate("mana_on_hit"),stat:"mana_on_hit",sign:!0},{name:c.slormancerTranslateService.translate("mana_on_kill"),stat:"mana_on_kill",sign:!0}]},{section:c.slormancerTranslateService.translate("cat_movement"),stats:[{name:c.slormancerTranslateService.translate("movement_speed"),stat:"movement_speed",sign:!1}]},{section:c.slormancerTranslateService.translate("cat_attack"),stats:[{name:c.slormancerTranslateService.translate("attack_speed"),stat:"attack_speed",sign:!1},{name:c.slormancerTranslateService.translate("basic_damage"),stat:"basic_damage",sign:!1},{name:c.slormancerTranslateService.translate("weapon_damage"),stat:"weapon_damage",sign:!1},{name:c.slormancerTranslateService.translate("physical_damage"),stat:"physical_damage",sign:!1},{name:c.slormancerTranslateService.translate("elemental_damage"),stat:"elemental_damage",sign:!1},{name:c.slormancerTranslateService.translate("critical_chance"),stat:"critical_chance",sign:!1},{name:c.slormancerTranslateService.translate("critical_damage"),stat:"critical_damage",sign:!1},{name:c.slormancerTranslateService.translate("ancestral_chance"),stat:"ancestral_chance",sign:!1},{name:c.slormancerTranslateService.translate("ancestral_damage"),stat:"ancestral_damage",sign:!1},{name:c.slormancerTranslateService.translate("armor_penetration"),stat:"armor_penetration",sign:!1},{name:c.slormancerTranslateService.translate("elemental_penetration"),stat:"elemental_penetration",sign:!1},{name:c.slormancerTranslateService.translate("dot_increased_damage"),stat:"dot_increased_damage",sign:!0},{name:c.slormancerTranslateService.translate("increased_on_elite"),stat:"increased_on_elite",sign:!1}]},{section:c.slormancerTranslateService.translate("cat_defense"),stats:[{name:c.slormancerTranslateService.translate("armor"),stat:"armor",sign:!1},{name:c.slormancerTranslateService.translate("elemental_resist"),stat:"elemental_resist",sign:!1},{name:c.slormancerTranslateService.translate("fire_resistance"),stat:"fire_resistance",sign:!1},{name:c.slormancerTranslateService.translate("ice_resistance"),stat:"ice_resistance",sign:!1},{name:c.slormancerTranslateService.translate("lightning_resistance"),stat:"lightning_resistance",sign:!1},{name:c.slormancerTranslateService.translate("light_resistance"),stat:"light_resistance",sign:!1},{name:c.slormancerTranslateService.translate("shadow_resistance"),stat:"shadow_resistance",sign:!1},{name:c.slormancerTranslateService.translate("dodge"),stat:"dodge",sign:!1},{name:c.slormancerTranslateService.translate("thorns"),stat:"thorns",sign:!1},{name:c.slormancerTranslateService.translate("retaliate"),stat:"retaliate",sign:!1},{name:c.slormancerTranslateService.translate("tenacity"),stat:"tenacity",sign:!1},{name:c.slormancerTranslateService.translate("reduced_on_all"),stat:"reduced_on_all",sign:!1},{name:c.slormancerTranslateService.translate("reduced_by_elite"),stat:"reduced_by_elite",sign:!1},{name:c.slormancerTranslateService.translate("reduced_on_melee"),stat:"reduced_on_melee",sign:!1},{name:c.slormancerTranslateService.translate("reduced_on_projectile"),stat:"reduced_on_projectile",sign:!1},{name:c.slormancerTranslateService.translate("reduced_on_area"),stat:"reduced_on_area",sign:!1}]},{section:c.slormancerTranslateService.translate("cat_secondary_resources"),stats:[{name:c.slormancerTranslateService.translate("gold_find"),stat:"gold_find",sign:!0},{name:c.slormancerTranslateService.translate("scrap_find"),stat:"scrap_find",sign:!0},{name:c.slormancerTranslateService.translate("slormite_find"),stat:"slormite_find",sign:!0},{name:c.slormancerTranslateService.translate("slormeline_find"),stat:"slormeline_find",sign:!0},{name:c.slormancerTranslateService.translate("reaper_find"),stat:"reaper_find",sign:!0},{name:c.slormancerTranslateService.translate("skill_mastery_gain"),stat:"skill_mastery_gain",sign:!0}]},{section:c.slormancerTranslateService.translate("cat_secondary_melee"),stats:[{name:c.slormancerTranslateService.translate("inner_fire_chance"),stat:"inner_fire_chance",sign:!1},{name:c.slormancerTranslateService.translate("inner_fire_max_number"),stat:"inner_fire_max_number",sign:!1},{name:c.slormancerTranslateService.translate("inner_fire_duration"),stat:"inner_fire_duration",sign:!1},{name:c.slormancerTranslateService.translate("inner_fire_damage"),stat:"inner_fire_damage",sign:!1},{name:c.slormancerTranslateService.translate("overdrive_chance"),stat:"overdrive_chance",sign:!1},{name:c.slormancerTranslateService.translate("overdrive_bounce_number"),stat:"overdrive_bounce_number",sign:!1},{name:c.slormancerTranslateService.translate("overdrive_damage"),stat:"overdrive_damage",sign:!1},{name:c.slormancerTranslateService.translate("recast_chance"),stat:"recast_chance",sign:!1},{name:c.slormancerTranslateService.translate("knockback_melee"),stat:"knockback_melee",sign:!1}]},{section:c.slormancerTranslateService.translate("cat_secondary_projectile"),stats:[{name:c.slormancerTranslateService.translate("additional_projectile"),stat:"additional_projectile",sign:!0},{name:c.slormancerTranslateService.translate("chance_to_pierce"),stat:"chance_to_pierce",sign:!1},{name:c.slormancerTranslateService.translate("fork_chance"),stat:"fork_chance",sign:!1},{name:c.slormancerTranslateService.translate("chance_to_rebound"),stat:"chance_to_rebound",sign:!1},{name:c.slormancerTranslateService.translate("projectile_speed"),stat:"projectile_speed",sign:!0},{name:c.slormancerTranslateService.translate("knockback_projectile"),stat:"knockback_projectile",sign:!1}]},{section:c.slormancerTranslateService.translate("cat_secondary_aoe"),stats:[{name:c.slormancerTranslateService.translate("aoe_increased_size"),stat:"aoe_increased_size",sign:!1},{name:c.slormancerTranslateService.translate("aoe_increased_effect"),stat:"aoe_increased_effect",sign:!1}]},{section:c.slormancerTranslateService.translate("cat_secondary_extras"),stats:[{name:c.slormancerTranslateService.translate("totem_increased_effect"),stat:"totem_increased_effect",sign:!0},{name:c.slormancerTranslateService.translate("aura_increased_effect"),stat:"aura_increased_effect",sign:!0},{name:c.slormancerTranslateService.translate("minion_increased_damage"),stat:"minion_increased_damage",sign:!0}]}],c.stats=null,c.selectedMergedStat=null,c.selected=new e.vpe,c}return(0,Q.Z)(A,[{key:"ngOnInit",value:function(){}},{key:"valueToString",value:function(c,S,M){return"number"==typeof c?(c<0?"-":S?"+":"")+c+M:(c.min<0?"-":S?"+":"")+c.min+M+" - "+(c.max<0?"-":S?"+":"")+c.max+M}},{key:"getValue",value:function(c,S){var M=c.find(function(Y){return Y.stat===S.stat}),v="0";return M&&(v=this.valueToString(M.total,S.sign,M.suffix)),v}},{key:"select",value:function(c,S){var M=c.find(function(v){return v.stat===S.stat});M&&(this.selectedMergedStat=M,this.selected.emit(M))}},{key:"getTooltip",value:function(c,S){var M=this,v=c.find(function(I){return I.stat===S.stat}),Y="No details found";if(v){var y="number"!=typeof v.total;Y="Flat: "+v.values.flat.map(function(I){return M.valueToString(I.value,!1,v.suffix)}).join(", ")+"\n",y&&(Y+="Flat (max): "+v.values.max.map(function(I){return M.valueToString(I.value,!1,v.suffix)}).join(", ")+"\n"),Y+="Percent: "+v.values.percent.map(function(I){return M.valueToString(I.value,!1,"%")}).join(", ")+"\n",y&&(Y+="Percent (max) : "+v.values.maxPercent.map(function(I){return M.valueToString(I.value,!1,"%")}).join(", ")+"\n"),Y+="Multiplier: "+v.values.multiplier.map(function(I){return M.valueToString(I.value,!1,"%")}).join(", ")}return Y}},{key:"translate",value:function(c){return this.slormancerTranslateService.translate(c)}},{key:"isSelected",value:function(c){return null!==this.selectedMergedStat&&this.selectedMergedStat.stat===c.stat}}]),A}(D.B);return u.\u0275fac=function(E){return new(E||u)(e.Y36(m.n))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-main-stats"]],inputs:{stats:"stats"},outputs:{selected:"selected"},features:[e.qOj],decls:1,vars:1,consts:[["class","sections",4,"ngIf"],[1,"sections"],[4,"ngFor","ngForOf"],[1,"section"],["class","stat",3,"selected","click",4,"ngFor","ngForOf"],[1,"stat",3,"click"],[1,"label"],[1,"value",3,"matTooltip"]],template:function(E,A){1&E&&e.YNc(0,l,2,1,"div",0),2&E&&e.Q6J("ngIf",null!==A.stats)},directives:[V.O5,V.sg,b.gM],styles:[".sections[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;grid-gap:4px;gap:4px}.sections[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding-left:8px;cursor:pointer}.sections[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.sections[_ngcontent-%COMP%]   .stat.selected[_ngcontent-%COMP%]{background-color:#ffffff4d}"]}),u}()},5895:function(ue,ae,a){a.d(ae,{A:function(){return l}});var J=a(5671),Q=a(3144),t=a(5542),s=a(9808),e=a(9776);function m(r,u){if(1&r){var f=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("mouseenter",function(){var c=t.CHM(f).$implicit,S=t.MAs(1);return t.oxw(2).showOverlay(S,c)})("mouseleave",function(){return t.CHM(f),t.oxw(2).hideOverlay()}),t.TgZ(2,"div",6),t._UZ(3,"img",7),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA(),t.qZA()}if(2&r){var E=u.$implicit;t.xp6(3),t.MGl("src","assets/img/icon/",E.icon,".png",t.LSH),t.xp6(2),t.Oqu(E.name)}}function D(r,u){if(1&r){var f=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("mouseenter",function(){var c=t.CHM(f).$implicit,S=t.MAs(1);return t.oxw(2).showOverlay(S,c)})("mouseleave",function(){return t.CHM(f),t.oxw(2).hideOverlay()}),t.TgZ(2,"div",6),t._UZ(3,"img",7),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA(),t.qZA()}if(2&r){var E=u.$implicit;t.xp6(3),t.MGl("src","assets/img/icon/",E.icon,".png",t.LSH),t.xp6(2),t.Oqu(E.name)}}function V(r,u){if(1&r){var f=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("mouseenter",function(){var c=t.CHM(f).$implicit,S=t.MAs(1);return t.oxw(2).showOverlay(S,c)})("mouseleave",function(){return t.CHM(f),t.oxw(2).hideOverlay()}),t.TgZ(2,"div",6),t._UZ(3,"img",7),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA(),t.qZA()}if(2&r){var E=u.$implicit;t.xp6(3),t.MGl("src","assets/img/icon/",E.icon,".png",t.LSH),t.xp6(2),t.Oqu(E.name)}}function b(r,u){if(1&r&&(t.TgZ(0,"div",10),t.TgZ(1,"div",11),t._UZ(2,"h3",12),t._UZ(3,"p",12),t.qZA(),t.qZA()),2&r){var f=t.oxw(3);t.xp6(2),t.Q6J("innerHTML",f.overlayMechanic.name,t.oJD),t.xp6(1),t.Q6J("innerHTML",f.overlayMechanic.description,t.oJD)}}function w(r,u){if(1&r&&t.YNc(0,b,4,2,"ng-template",9),2&r){var f=t.oxw(2);t.Q6J("cdkConnectedOverlayOpen",!0)("cdkConnectedOverlayOrigin",f.overlayTrigger)}}function _(r,u){if(1&r&&(t.TgZ(0,"div",1),t.YNc(1,m,6,2,"div",2),t.YNc(2,D,6,2,"div",2),t.YNc(3,V,6,2,"div",2),t.YNc(4,w,1,2,void 0,3),t.qZA()),2&r){var f=t.oxw();t.xp6(1),t.Q6J("ngForOf",f.classMechanics),t.xp6(1),t.Q6J("ngForOf",f.mechanics),t.xp6(1),t.Q6J("ngForOf",f.buffs),t.xp6(1),t.Q6J("ngIf",null!==f.overlayMechanic&&null!==f.overlayTrigger)}}var l=function(){var r=function(){function u(){(0,J.Z)(this,u),this.classMechanics=[],this.mechanics=[],this.buffs=[],this.overlayTrigger=null,this.overlayMechanic=null}return(0,Q.Z)(u,[{key:"showOverlay",value:function(E,A){this.overlayMechanic=A,this.overlayTrigger=E}},{key:"hideOverlay",value:function(){this.overlayTrigger=null,this.overlayMechanic=null}}]),u}();return r.\u0275fac=function(f){return new(f||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-mechanics-view"]],inputs:{classMechanics:"classMechanics",mechanics:"mechanics",buffs:"buffs"},decls:1,vars:1,consts:[["class","mechanics",4,"ngIf"],[1,"mechanics"],["class","mechanic","cdkOverlayOrigin","",3,"mouseenter","mouseleave",4,"ngFor","ngForOf"],[4,"ngIf"],["cdkOverlayOrigin","",1,"mechanic",3,"mouseenter","mouseleave"],["trigger","cdkOverlayOrigin"],[1,"mechanic-icon"],[3,"src"],[1,"mechanic-name"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[1,"slormancer-tooltip"],[1,"inner-box"],[3,"innerHTML"]],template:function(f,E){1&f&&t.YNc(0,_,5,4,"div",0),2&f&&t.Q6J("ngIf",E.classMechanics.length>0||E.mechanics.length>0||E.buffs.length>0)},directives:[s.O5,s.sg,e.xu,e.pI],styles:[".mechanics[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;grid-gap:4px;gap:4px}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;background-color:#000;padding:4px;grid-gap:4px;gap:4px}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]   .mechanic-icon[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]   .mechanic-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:36px;min-height:36px;width:36px;height:36px}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]   .mechanic-name[_ngcontent-%COMP%]{background-color:#141310;padding:8px;display:flex;flex-direction:row;align-items:center;flex-grow:1}.slormancer-tooltip[_ngcontent-%COMP%]{max-width:350px}.slormancer-tooltip[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:8px 0;font-weight:400;color:#ce4607}.slormancer-tooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0}.slormancer-tooltip[_ngcontent-%COMP%]     .value{color:#ce4607}"]}),r}()},916:function(ue,ae,a){a.d(ae,{R:function(){return G}});var J=a(5671),Q=a(3144),t=a(5542),s=a(2473),e=a(7469),m=a(3075),D=a(8966),V=a(1093),b=a(3790),w=a(5457),_=a(5581),l=a(3300),r=a(4917),u=a(9808),f=a(8003);function E(T,j){if(1&T&&(t.TgZ(0,"div",26),t.TgZ(1,"div",27),t.TgZ(2,"div",28),t._UZ(3,"div"),t.qZA(),t._uU(4),t.TgZ(5,"div",28),t._UZ(6,"div"),t.qZA(),t.qZA(),t._UZ(7,"div",20),t.qZA()),2&T){var Z=t.oxw(2);t.xp6(4),t.Oqu(Z.reaper.benedictionTitleLabel),t.xp6(3),t.Q6J("innerHTML",Z.reaper.benediction,t.oJD)}}function A(T,j){if(1&T&&(t.TgZ(0,"div",29),t.TgZ(1,"div",27),t.TgZ(2,"div",28),t._UZ(3,"div"),t.qZA(),t._uU(4),t.TgZ(5,"div",28),t._UZ(6,"div"),t.qZA(),t.qZA(),t._UZ(7,"div",20),t.qZA()),2&T){var Z=t.oxw(2);t.xp6(4),t.Oqu(Z.reaper.maledictionTitleLabel),t.xp6(3),t.Q6J("innerHTML",Z.reaper.malediction,t.oJD)}}function P(T,j){1&T&&t._UZ(0,"app-activable-view",30),2&T&&t.Q6J("activable",j.$implicit)}function c(T,j){if(1&T&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t._uU(2),t.qZA(),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._UZ(6,"img",6),t.TgZ(7,"div",7),t._UZ(8,"div",8),t.qZA(),t.qZA(),t.TgZ(9,"div",9),t.TgZ(10,"div",10),t.TgZ(11,"div",11),t._uU(12),t.qZA(),t._UZ(13,"div",12),t.qZA(),t.TgZ(14,"div",13),t.TgZ(15,"div",14),t._uU(16),t.qZA(),t._UZ(17,"div",15),t.TgZ(18,"div",16),t._uU(19),t.qZA(),t.qZA(),t.TgZ(20,"div",17),t._UZ(21,"div",18),t._UZ(22,"div",19),t.qZA(),t.qZA(),t.qZA(),t._UZ(23,"div",20),t.YNc(24,E,8,2,"div",21),t.YNc(25,A,8,2,"div",22),t.YNc(26,P,1,1,"app-activable-view",23),t._UZ(27,"div",24),t._UZ(28,"div",25),t.qZA(),t.qZA()),2&T){var Z=t.oxw();t.xp6(2),t.Oqu(Z.reaper.name),t.xp6(4),t.ekj("primordial-effect",Z.reaper.primordial),t.Q6J("src",Z.reaper.icon,t.LSH),t.xp6(6),t.Oqu(Z.reaper.type),t.xp6(1),t.Q6J("innerHTML",Z.reaper.smithLabel,t.oJD),t.xp6(3),t.AsE("",Z.reaper.damages.min,"-",Z.reaper.damages.max,""),t.xp6(1),t.Q6J("innerHTML",Z.reaper.damageTypeLabel,t.oJD),t.xp6(2),t.lnq("",Z.reaper.maxDamagesWithBonuses.min,"-",Z.reaper.maxDamagesWithBonuses.max," at level ",Z.reaper.maxLevelWithBonuses,""),t.xp6(2),t.Q6J("innerHTML",Z.reaper.victimsLabel,t.oJD),t.xp6(1),t.Q6J("innerHTML",Z.reaper.levelLabel,t.oJD),t.xp6(1),t.Q6J("innerHTML",Z.reaper.description,t.oJD),t.xp6(1),t.Q6J("ngIf",null!==Z.reaper.benediction),t.xp6(1),t.Q6J("ngIf",null!==Z.reaper.malediction),t.xp6(1),t.Q6J("ngForOf",Z.reaper.activables),t.xp6(2),t.Q6J("innerHTML",Z.reaper.lore,t.oJD)}}var S=function(){var T=(0,Q.Z)(function j(){(0,J.Z)(this,j),this.reaper=null});return T.\u0275fac=function(Z){return new(Z||T)},T.\u0275cmp=t.Xpm({type:T,selectors:[["app-reaper-view"]],inputs:{reaper:"reaper"},decls:1,vars:1,consts:[["class","reaper",4,"ngIf"],[1,"reaper"],[1,"head"],[1,"content"],[1,"info"],[1,"icon"],[3,"src"],[1,"background-outer"],[1,"background"],[1,"summary"],[1,"base"],[1,"type"],[1,"builder",3,"innerHTML"],[1,"damages"],[1,"current-damage"],[1,"type",3,"innerHTML"],[1,"max-damage"],[1,"stats"],[1,"victim",3,"innerHTML"],[1,"level",3,"innerHTML"],[1,"description",3,"innerHTML"],["class","benediction",4,"ngIf"],["class","malediction",4,"ngIf"],[3,"activable",4,"ngFor","ngForOf"],[1,"separator"],[1,"lore",3,"innerHTML"],[1,"benediction"],[1,"title"],[1,"bullet"],[1,"malediction"],[3,"activable"]],template:function(Z,ee){1&Z&&t.YNc(0,c,29,19,"div",0),2&Z&&t.Q6J("ngIf",null!==ee.reaper)},directives:[u.O5,u.sg,f.K],styles:[".reaper[_ngcontent-%COMP%]{background-color:#090909;color:#fff;border:2px solid black;width:350px}.reaper[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%], .reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{border:2px solid #79b7a4}.reaper[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%]{margin-bottom:2px;text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;padding:15px 10px;grid-gap:15px;gap:15px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:10px;gap:10px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:130px;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:stretch}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .background-outer[_ngcontent-%COMP%]{border:3px solid #3b3831;flex-grow:1;display:flex;flex-direction:column}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .background-outer[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{border:3px solid #12100e;background-color:#22201c;flex-grow:1;height:150px;width:85px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;margin-top:-12.5%;margin-left:-12.5%;image-rendering:pixelated;transform:scale(4)}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;flex-grow:1;text-align:left;grid-gap:10px;gap:10px;font-size:16px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{text-transform:uppercase}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .current-damage[_ngcontent-%COMP%]{font-size:30px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{font-size:20px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]     .bonus-level{color:#148f8a}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .max-damage[_ngcontent-%COMP%]{color:#686868}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{min-width:8px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:center}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]     .value{color:#148f8a}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]     .details{color:#686868}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]{color:#148f8a}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#61f7b7}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]{color:#ff4722}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#d13001}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;grid-gap:5px;gap:5px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]     .value, .reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]     .value{color:#fff}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{background-color:#3b3831;margin:0 30px;height:4px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .lore[_ngcontent-%COMP%]{color:#b8b8b8;text-align:center}"]}),T}(),M=a(7322),v=a(7531),Y=a(4102),y=a(7446),I=a(7423),N=a(508);function W(T,j){if(1&T&&(t.TgZ(0,"mat-option",19),t._UZ(1,"span",20),t.qZA()),2&T){var Z=j.$implicit;t.Q6J("value",Z.value),t.xp6(1),t.Q6J("innerHTML",Z.label,t.oJD)}}function K(T,j){if(1&T){var Z=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){return t.CHM(Z),t.oxw().submit()}),t._UZ(1,"input",2),t.TgZ(2,"mat-dialog-content"),t.TgZ(3,"div",3),t._UZ(4,"app-reaper-view",4),t.qZA(),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"mat-form-field",7),t.TgZ(8,"mat-label"),t._uU(9,"Reaper level (base)"),t.qZA(),t._UZ(10,"input",8),t.TgZ(11,"mat-error"),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"mat-form-field",7),t.TgZ(14,"mat-label"),t._uU(15,"Reaper kills (base)"),t.qZA(),t._UZ(16,"input",9),t.TgZ(17,"mat-error"),t._uU(18,"Kills must be >= 0"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",6),t.TgZ(20,"mat-form-field",7),t.TgZ(21,"mat-label"),t._uU(22,"Raper level (primordial)"),t.qZA(),t._UZ(23,"input",10),t.TgZ(24,"mat-error"),t._uU(25),t.qZA(),t.qZA(),t.TgZ(26,"mat-form-field",7),t.TgZ(27,"mat-label"),t._uU(28,"Reaper kills (primordial)"),t.qZA(),t._UZ(29,"input",11),t.TgZ(30,"mat-error"),t._uU(31,"Kills must be >= 0"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",6),t.TgZ(33,"mat-form-field",12),t.TgZ(34,"mat-label"),t._uU(35,"Reaper base"),t.qZA(),t.TgZ(36,"mat-select",13),t.YNc(37,W,2,2,"mat-option",14),t.qZA(),t.qZA(),t.TgZ(38,"mat-checkbox",15),t._uU(39,"Primordial"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"mat-dialog-actions"),t.TgZ(41,"button",16),t._uU(42,"Cancel"),t.qZA(),t.TgZ(43,"button",17),t.NdJ("click",function(){return t.CHM(Z),t.oxw().reset()}),t._uU(44,"Reset"),t.qZA(),t.TgZ(45,"button",18),t._uU(46,"Submit"),t.qZA(),t.qZA(),t.qZA()}if(2&T){var ee=t.oxw();t.Q6J("formGroup",ee.form),t.xp6(4),t.Q6J("reaper",ee.reaper),t.xp6(6),t.Q6J("max",ee.reaper.maxLevel),t.xp6(2),t.hij("Level must be between 1 and ",ee.reaper.maxLevel,""),t.xp6(11),t.Q6J("max",ee.reaper.maxLevel),t.xp6(2),t.hij("Level must be between 1 and ",ee.reaper.maxLevel,""),t.xp6(12),t.Q6J("ngForOf",ee.options)}}var oe=function(){var T=function(){function j(Z,ee,$,R,pe,ve){(0,J.Z)(this,j),this.dialogRef=Z,this.slormancerReaperService=ee,this.slormancerCharacterUpdaterService=$,this.formOptionsService=R,this.plannerService=pe,this.options=[],this.originalReaper=this.slormancerReaperService.getReaperClone(ve.reaper),this.character=ve.character,this.reaper=ve.reaper,this.reset()}return(0,Q.Z)(j,[{key:"reset",value:function(){Object.assign(this.reaper,this.originalReaper),this.form=this.buildForm()}},{key:"submit",value:function(){this.form.valid&&this.dialogRef.close(this.reaper)}},{key:"updatePreview",value:function(ee){if(ee.valid){var $=ee.value;if($.reaper===this.reaper.id)this.reaper.id=$.reaper,this.reaper.primordial=$.primordial,this.reaper.baseInfo.level=$.baseLevel,this.reaper.primordialInfo.level=$.primordialLevel,this.reaper.baseInfo.kills=$.baseKills,this.reaper.primordialInfo.kills=$.primordialKills;else{var R=this.slormancerReaperService.getReaperById($.reaper,this.reaper.weaponClass,$.primordial,$.baseLevel,$.primordialLevel,$.baseKills,$.primordialKills,this.reaper.bonusLevel);null!==R&&Object.assign(this.reaper,R)}this.slormancerReaperService.updateReaperModel(this.reaper),this.slormancerCharacterUpdaterService.updateCharacter(this.character,(0,_.Be)(this.plannerService.getConfiguration(),V.g),!1),this.slormancerReaperService.updateReaperView(this.reaper),this.options=this.formOptionsService.getReaperOptions(this.reaper.weaponClass,this.reaper.primordial),$.baseLevel!==this.reaper.baseInfo.level&&ee.patchValue({baseLevel:this.reaper.baseInfo.level},{emitEvent:!1}),$.primordialLevel!==this.reaper.primordialInfo.level&&ee.patchValue({primordialLevel:this.reaper.primordialInfo.level},{emitEvent:!1})}}},{key:"getReaperMaxLevelValidator",value:function(){var ee=this;return function($){return m.kI.max(ee.reaper.maxLevel)($)}}},{key:"buildForm",value:function(){var ee=this,$=new m.cw({baseLevel:new m.NI(this.reaper.baseInfo.level,[m.kI.required,m.kI.min(1),this.getReaperMaxLevelValidator()]),baseKills:new m.NI(this.reaper.baseInfo.kills,[m.kI.required,m.kI.min(0)]),primordialLevel:new m.NI(this.reaper.primordialInfo.level,[m.kI.required,m.kI.min(1),this.getReaperMaxLevelValidator()]),primordialKills:new m.NI(this.reaper.primordialInfo.kills,[m.kI.required,m.kI.min(0)]),primordial:new m.NI(this.reaper.primordial,m.kI.required),reaper:new m.NI(this.reaper.id,m.kI.required)});return $.valueChanges.subscribe(function(){ee.updatePreview($)}),this.updatePreview($),$}}]),j}();return T.\u0275fac=function(Z){return new(Z||T)(t.Y36(D.so),t.Y36(b.I),t.Y36(w.P),t.Y36(l.K),t.Y36(r.q),t.Y36(D.WI))},T.\u0275cmp=t.Xpm({type:T,selectors:[["app-reaper-edit-modal"]],decls:1,vars:1,consts:[["autocomplete","off",3,"formGroup","submit",4,"ngIf"],["autocomplete","off",3,"formGroup","submit"],["autocomplete","false","name","hidden","type","text",2,"display","none"],[1,"preview"],[3,"reaper"],[1,"form"],[1,"stat-line"],["appearance","outline"],["matInput","","type","number","min","1","step","1","formControlName","baseLevel",3,"max"],["matInput","","type","number","min","0","step","1","formControlName","baseKills"],["matInput","","type","number","min","1","step","1","formControlName","primordialLevel",3,"max"],["matInput","","type","number","min","0","step","1","formControlName","primordialKills"],["appearance","outline","color","primary",1,"no-error-padding"],["formControlName","reaper","color","primary"],[3,"value",4,"ngFor","ngForOf"],["color","primary","formControlName","primordial"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","button","color","primary",3,"click"],["mat-flat-button","","type","submit","color","primary"],[3,"value"],[3,"innerHTML"]],template:function(Z,ee){1&Z&&t.YNc(0,K,47,7,"form",0),2&Z&&t.Q6J("ngIf",null!==ee.form&&null!==ee.reaper)},directives:[u.O5,m._Y,m.JL,m.sg,D.xY,S,M.KE,M.hX,v.Nt,m.qQ,m.wV,m.Fd,m.Fj,m.JJ,m.u,M.TO,Y.gD,u.sg,y.oG,D.H8,I.lW,D.ZT,N.ey],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:20px;gap:20px;flex-grow:1}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]{flex-direction:column}}mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{max-width:350px}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{display:none;visibility:hidden}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;align-items:stretch;flex-grow:1}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{padding:8px 0}"]}),T}(),X=a(9776),se=a(2525),ge=a(3874);function de(T,j){if(1&T&&t._UZ(0,"app-reaper-view",11),2&T){var Z=t.oxw(2);t.Q6J("reaper",Z.character.reaper)}}function me(T,j){if(1&T){var Z=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){return t.CHM(Z),t.oxw(3).edit()}),t.TgZ(1,"mat-icon"),t._uU(2,"add_circle_outline"),t.qZA(),t._uU(3,"Add reaper"),t.qZA()}}function L(T,j){if(1&T){var Z=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){return t.CHM(Z),t.oxw(3).edit()}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA(),t._uU(3,"Edit reaper"),t.qZA()}}function z(T,j){if(1&T&&(t.YNc(0,me,4,0,"button",12),t.YNc(1,L,4,0,"button",12)),2&T){var Z=t.oxw(2);t.Q6J("ngIf",null===Z.character.reaper),t.xp6(1),t.Q6J("ngIf",null!==Z.character.reaper)}}function O(T,j){if(1&T){var Z=t.EpF();t.TgZ(0,"div",2,3),t.NdJ("click",function(){return t.CHM(Z),t.oxw().edit()}),t._UZ(2,"div",4),t.ynx(3),t._UZ(4,"img",5),t.YNc(5,de,1,1,"ng-template",6),t.BQk(),t._UZ(6,"div",7),t.TgZ(7,"mat-menu",8,9),t.YNc(9,z,2,2,"ng-template",10),t.qZA(),t.qZA()}if(2&T){var ee=t.MAs(1),$=t.MAs(8),R=t.oxw();t.ekj("readonly",R.readonly),t.xp6(4),t.ekj("primordial-effect",R.character.reaper.primordial),t.Q6J("src",R.character.reaper.icon,t.LSH),t.xp6(1),t.Q6J("cdkConnectedOverlayOpen",R.showOverlay)("cdkConnectedOverlayOrigin",ee),t.xp6(1),t.Q6J("matMenuTriggerFor",$),t.xp6(1),t.Q6J("overlapTrigger",!0)}}function F(T,j){if(1&T&&t._UZ(0,"div",14),2&T){var Z=t.oxw();t.Q6J("innerHTML",Z.character.reaper.levelLabel,t.oJD)}}var G=function(){var T=function(){function j(Z,ee,$){(0,J.Z)(this,j),this.dialog=Z,this.slormancerCharacterBuilderService=ee,this.itemMoveService=$,this.character=null,this.readonly=!1,this.changed=new t.vpe,this.showOverlay=!1}return(0,Q.Z)(j,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"onMouseContextMenu",value:function(){return this.readonly||this.itemMoveService.releaseHoldItem(),!1}},{key:"ngOnInit",value:function(){}},{key:"edit",value:function(){var ee=this;if(null!==this.character&&!this.readonly){var $=this.slormancerCharacterBuilderService.getCharacterClone(this.character);this.dialog.open(oe,{data:{reaper:$.reaper,character:$}}).afterClosed().subscribe(function(pe){pe&&ee.changed.emit(pe)})}}}]),j}();return T.\u0275fac=function(Z){return new(Z||T)(t.Y36(D.uw),t.Y36(s.o),t.Y36(e.v))},T.\u0275cmp=t.Xpm({type:T,selectors:[["app-reaper-slot"]],hostBindings:function(Z,ee){1&Z&&t.NdJ("mouseenter",function(){return ee.onOver()})("mouseleave",function(){return ee.onLeave()})("contextmenu",function(){return ee.onMouseContextMenu()})},inputs:{character:"character",readonly:"readonly"},outputs:{changed:"changed"},decls:2,vars:2,consts:[["class","reaper","cdkOverlayOrigin","",3,"readonly","click",4,"ngIf"],["class","reaper-level",3,"innerHTML",4,"ngIf"],["cdkOverlayOrigin","",1,"reaper",3,"click"],["trigger","cdkOverlayOrigin"],[1,"inner-slot"],[3,"src"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"matMenuTriggerFor"],["xPosition","after",3,"overlapTrigger"],["menu","matMenu"],["matMenuContent",""],[3,"reaper"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"reaper-level",3,"innerHTML"]],template:function(Z,ee){1&Z&&(t.YNc(0,O,10,9,"div",0),t.YNc(1,F,1,1,"div",1)),2&Z&&(t.Q6J("ngIf",null!==ee.character),t.xp6(1),t.Q6J("ngIf",null!==ee.character))},directives:[u.O5,X.xu,X.pI,se.p6,se.VK,se.KA,S,se.OP,ge.Hw],styles:[".reaper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:124px;min-height:124px;position:relative}.reaper[_ngcontent-%COMP%]:not(.readonly){cursor:pointer}.reaper[_ngcontent-%COMP%]   .inner-slot[_ngcontent-%COMP%]{width:80px;height:80px;background-color:#1e1e1e;border:3px solid #3c3c3c}.reaper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;margin-top:-12.5%;margin-left:-12.5%;image-rendering:pixelated;transform:scale(4)}.reaper-level[_ngcontent-%COMP%]{color:#fff;text-align:center;text-transform:uppercase}app-reaper-view[_ngcontent-%COMP%]{width:350px}"]}),T}()},4591:function(ue,ae,a){a.d(ae,{X:function(){return M}});var J=a(5671),Q=a(3144),t=a(136),s=a(7777),e=a(5542),m=a(2525),D=a(2722),V=a(4373),b=a(7255),w=a(8313),_=a(4917),l=a(6446),r=a(9776),u=a(9808),f=a(411);function E(v,Y){if(1&v&&e._UZ(0,"app-skill-view",9),2&v){var y=e.oxw(2);e.Q6J("skill",y.skill)}}function A(v,Y){if(1&v&&(e.ynx(0),e._UZ(1,"img",7),e.YNc(2,E,1,1,"ng-template",8),e.BQk()),2&v){var y=e.oxw(),I=e.MAs(1);e.xp6(1),e.Q6J("src","assets/img/icon/"+(y.support?y.skill.iconLarge:y.skill.icon)+".png",e.LSH),e.xp6(1),e.Q6J("cdkConnectedOverlayOpen",y.showOverlay)("cdkConnectedOverlayOrigin",I)}}function P(v,Y){if(1&v&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&v){var y=e.oxw().$implicit;e.xp6(1),e.Oqu(y.specializationName)}}function c(v,Y){if(1&v){var y=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){var oe=e.CHM(y).$implicit;return e.oxw(2).updateSkill(oe)}),e.TgZ(1,"div",12),e._UZ(2,"img",13),e.TgZ(3,"div",14),e.TgZ(4,"div",15),e._uU(5),e.qZA(),e.YNc(6,P,2,1,"div",16),e.TgZ(7,"div",17),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&v){var I=Y.$implicit,N=e.oxw(2);e.xp6(1),e.ekj("selected",N.isSelectedSkill(I)),e.xp6(1),e.ekj("support",N.support),e.Q6J("src","assets/img/icon/"+(N.support?I.iconLarge:I.icon)+".png",e.LSH),e.xp6(3),e.Oqu(I.name),e.xp6(1),e.Q6J("ngIf",null!==I.specializationName),e.xp6(2),e.lnq("",N.MASTERY_LABEL,": ",I.level," / ",N.SKILL_MAX_MASTERY,"")}}function S(v,Y){if(1&v&&e.YNc(0,c,9,10,"button",10),2&v){var y=e.oxw();e.Q6J("ngForOf",y.getAvailableSkills())}}var M=function(){var v=function(Y){(0,t.Z)(I,Y);var y=(0,s.Z)(I);function I(N,W){var K;return(0,J.Z)(this,I),(K=y.call(this)).plannerService=N,K.slormancerTranslateService=W,K.SKILL_MAX_MASTERY=V.DA,K.MASTERY_LABEL=K.slormancerTranslateService.translate("tt_mastery"),K.skill=null,K.support=!1,K.readonly=!1,K.changed=new e.vpe,K.menu=null,K.character=null,K.showOverlay=!1,K}return(0,Q.Z)(I,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"ngOnInit",value:function(){var W=this;this.plannerService.characterChanged.pipe((0,D.R)(this.unsubscribe)).subscribe(function(K){return W.character=K})}},{key:"getAvailableSkills",value:function(){var W=[];if(null!==this.character){var K=this.support?b.W.Support:b.W.Active;W=this.character.skills.map(function(oe){return oe.skill}).filter(function(oe){return K===oe.type})}return W}},{key:"isSelectedSkill",value:function(W){return null!==this.character&&(this.character.primarySkill===W||this.character.secondarySkill===W||this.character.supportSkill===W)}},{key:"updateSkill",value:function(W){this.skill!==W&&this.changed.emit(W)}},{key:"openMenu",value:function(){return null!==this.menu&&!this.readonly&&this.menu.openMenu(),!1}}]),I}(l.B);return v.\u0275fac=function(y){return new(y||v)(e.Y36(_.q),e.Y36(w.n))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-skill-slot"]],viewQuery:function(y,I){var N;1&y&&e.Gf(m.p6,7),2&y&&e.iGM(N=e.CRH())&&(I.menu=N.first)},hostBindings:function(y,I){1&y&&e.NdJ("mouseenter",function(){return I.onOver()})("mouseleave",function(){return I.onLeave()})},inputs:{skill:"skill",support:"support",readonly:"readonly"},outputs:{changed:"changed"},features:[e.qOj],decls:7,vars:6,consts:[["cdkOverlayOrigin","",1,"skill",3,"contextmenu","click"],["trigger","cdkOverlayOrigin"],[4,"ngIf"],[3,"matMenuTriggerFor"],["yPosition","above",1,"skill-menu"],["menu","matMenu"],["matMenuContent",""],[3,"src"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"skill"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],[1,"skill-menu-entry"],[1,"skill",3,"src"],[1,"description"],[1,"name"],["class","specialization",4,"ngIf"],[1,"mastery"],[1,"specialization"]],template:function(y,I){if(1&y&&(e.TgZ(0,"div",0,1),e.NdJ("contextmenu",function(){return I.openMenu()})("click",function(){return I.openMenu()}),e.YNc(2,A,3,3,"ng-container",2),e._UZ(3,"div",3),e.TgZ(4,"mat-menu",4,5),e.YNc(6,S,1,1,"ng-template",6),e.qZA(),e.qZA()),2&y){var N=e.MAs(5);e.ekj("support",I.support)("readonly",I.readonly),e.xp6(2),e.Q6J("ngIf",null!==I.skill),e.xp6(1),e.Q6J("matMenuTriggerFor",N)}},directives:[r.xu,u.O5,m.p6,m.VK,m.KA,r.pI,f.O,u.sg,m.OP],styles:["[_nghost-%COMP%]{min-width:42px;height:42px;min-height:42px;overflow:hidden}.skill[_ngcontent-%COMP%]{width:42px;min-width:42px;height:42px;min-height:42px;border:4px solid black;position:relative;background-color:#131313}.skill.support[_ngcontent-%COMP%]{width:84px;min-width:84px}.skill[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.skill[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{text-transform:uppercase}.skill[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:-8px;left:0}.skill-menu-entry[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:8px;gap:8px}.skill-menu-entry[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]{border:4px solid #353535}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .specialization[_ngcontent-%COMP%]{line-height:normal;font-weight:700;text-transform:uppercase}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .mastery[_ngcontent-%COMP%]{line-height:normal}.skill-menu-entry.selected[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]{border-color:#edd371}.skill-menu-entry.selected[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .skill-menu-entry.selected[_ngcontent-%COMP%]   .specialization[_ngcontent-%COMP%]{color:#edd371}app-item-view[_ngcontent-%COMP%]{width:350px}"]}),v}()},8849:function(ue,ae,a){a.d(ae,{B:function(){return w}});var J=a(5671),Q=a(3144),t=a(8313),s=a(5542),e=a(9808),m=a(5895);function D(_,l){if(1&_&&s._UZ(0,"div",18),2&_){var r=s.oxw(2);s.Q6J("innerHTML",r.upgrade.genresLabel,s.oJD)}}function V(_,l){if(1&_&&s._UZ(0,"div",19),2&_){var r=s.oxw(2);s.Q6J("innerHTML",r.upgrade.costLabel,s.oJD)}}function b(_,l){if(1&_&&(s.TgZ(0,"div"),s.TgZ(1,"div",1),s._uU(2),s.qZA(),s.TgZ(3,"div",2),s.TgZ(4,"div",3),s.TgZ(5,"div",4),s.TgZ(6,"div",5),s._UZ(7,"div",6),s._UZ(8,"img",7),s.qZA(),s.qZA(),s.TgZ(9,"div",8),s.TgZ(10,"div",9),s._uU(11),s.qZA(),s.TgZ(12,"div",10),s._uU(13),s.qZA(),s.YNc(14,D,1,1,"div",11),s.TgZ(15,"div",12),s._uU(16),s.TgZ(17,"span",13),s._uU(18),s.qZA(),s._uU(19),s.qZA(),s.YNc(20,V,1,1,"div",14),s.qZA(),s.qZA(),s._UZ(21,"div",15),s._UZ(22,"div",16),s._UZ(23,"app-mechanics-view",17),s.qZA(),s.qZA()),2&_){var r=s.oxw();s.Gre("skill slormancer-tooltip ",r.upgrade.damageTypes.length>0?r.upgrade.damageTypes[0]:"",""),s.xp6(2),s.AsE("",r.getTypeLabel(r.upgrade.type),": ",r.upgrade.name,""),s.xp6(6),s.Q6J("src",r.upgrade.icon,s.LSH),s.xp6(3),s.AsE("",r.translate(r.MASTERY_LABEL)," ",r.upgrade.masteryRequired,""),s.xp6(2),s.Oqu(r.getTypeLabel(r.upgrade.type)),s.xp6(1),s.Q6J("ngIf",null!==r.upgrade.genresLabel),s.xp6(2),s.hij("",r.translate(r.RANK_LABEL),": "),s.xp6(2),s.Oqu(r.upgrade.rank),s.xp6(1),s.hij("/",r.upgrade.maxRank,""),s.xp6(1),s.Q6J("ngIf",null!==r.upgrade.costLabel),s.xp6(2),s.Q6J("innerHTML",r.upgrade.description,s.oJD),s.xp6(1),s.Q6J("classMechanics",r.upgrade.relatedClassMechanics)("mechanics",r.upgrade.relatedMechanics)("buffs",r.upgrade.relatedBuffs)}}var w=function(){var _=function(){function l(r){(0,J.Z)(this,l),this.slormancerTranslateService=r,this.RANK_LABEL="tt_rank",this.MASTERY_LABEL="tt_mastery",this.NEXT_RANK_LABEL="tt_next_rank",this.MAX_RANK_LABEL="tt_max_rank",this.upgrade=null,this.mouseOverElement=null}return(0,Q.Z)(l,[{key:"getCostLabel",value:function(u){return this.slormancerTranslateService.translate("tt_"+u)}},{key:"getGenresLabel",value:function(u){var f=this;return u.map(function(E){return f.slormancerTranslateService.translate(E)}).join(", ")}},{key:"getTypeLabel",value:function(u){return this.slormancerTranslateService.translate("tt_"+u)}},{key:"translate",value:function(u){return this.slormancerTranslateService.translate(u)}},{key:"showMechanicOverlay",value:function(u){this.mouseOverElement=u}},{key:"hideMechanicOverlay",value:function(){this.mouseOverElement=null}}]),l}();return _.\u0275fac=function(r){return new(r||_)(s.Y36(t.n))},_.\u0275cmp=s.Xpm({type:_,selectors:[["app-skill-upgrade-view"]],inputs:{upgrade:"upgrade"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head","inner-box"],[1,"content","inner-box"],[1,"info"],[1,"visual"],[1,"icon"],[1,"icon-border"],[3,"src"],[1,"data"],[1,"mastery"],[1,"type"],["class","genre",3,"innerHTML",4,"ngIf"],[1,"rank"],[1,"current"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"separator"],[1,"description",3,"innerHTML"],[3,"classMechanics","mechanics","buffs"],[1,"genre",3,"innerHTML"],[1,"cost",3,"innerHTML"]],template:function(r,u){1&r&&s.YNc(0,b,24,18,"div",0),2&r&&s.Q6J("ngIf",null!==u.upgrade)},directives:[e.O5,m.A],styles:[".skill[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;max-width:400px}.skill[_ngcontent-%COMP%]   .inner-box[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]:before{border-color:primary-color(400)}.skill[_ngcontent-%COMP%]  .value, .skill[_ngcontent-%COMP%]  .rank .current, .skill[_ngcontent-%COMP%]  .head{color:#ce4607}.skill[_ngcontent-%COMP%]  .mag .value{color:#bb1fe2}.skill[_ngcontent-%COMP%]  .range, .skill[_ngcontent-%COMP%]  .range .value, .skill[_ngcontent-%COMP%]  .details, .skill[_ngcontent-%COMP%]  .details .value, .skill[_ngcontent-%COMP%]  .formula, .skill[_ngcontent-%COMP%]  .formula .value{color:#686868}.skill[_ngcontent-%COMP%]  .affixes .range, .skill[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.skill[_ngcontent-%COMP%]  .life{color:#257539}.skill[_ngcontent-%COMP%]  .mana{color:#3397dd}.skill.mag[_ngcontent-%COMP%]  .value, .skill.mag[_ngcontent-%COMP%]  .rank .current, .skill.mag[_ngcontent-%COMP%]  .head{color:#bb1fe2}.skill[_ngcontent-%COMP%]   .head.head[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.head[_ngcontent-%COMP%]{text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;grid-gap:20px;gap:20px;padding:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:10px;gap:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{display:flex;align-items:center}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border:3px solid #be871f;min-width:60px;min-height:60px;width:60px;height:60px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black;image-rendering:pixelated;width:54px;height:54px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-transform:uppercase;height:100%;flex-grow:1;padding:5px 0;grid-gap:5px;gap:5px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#3155bc}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]{display:flex;flex-direction:row}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{min-width:8px;padding-right:8px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;background-color:#ce4607;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}"]}),_}()},411:function(ue,ae,a){a.d(ae,{O:function(){return w}});var J=a(3144),Q=a(5671),t=a(5542),s=a(9808);function e(_,l){if(1&_&&t._UZ(0,"div",15),2&_){var r=t.oxw(2);t.Q6J("innerHTML",r.skill.genresLabel,t.oJD)}}function m(_,l){if(1&_&&t._UZ(0,"div",16),2&_){var r=t.oxw(2);t.Q6J("innerHTML",r.skill.cooldownLabel,t.oJD)}}function D(_,l){if(1&_&&t._UZ(0,"div",17),2&_){var r=t.oxw(2);t.Q6J("innerHTML",r.skill.costLabel,t.oJD)}}function V(_,l){if(1&_&&(t.TgZ(0,"span",18),t._uU(1),t.qZA()),2&_){var r=t.oxw(2);t.xp6(1),t.hij(" + ",r.skill.bonusLevel,"")}}function b(_,l){if(1&_&&(t.TgZ(0,"div"),t._UZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._UZ(6,"img",6),t.qZA(),t.qZA(),t.TgZ(7,"div",7),t.YNc(8,e,1,1,"div",8),t.YNc(9,m,1,1,"div",9),t.YNc(10,D,1,1,"div",10),t.qZA(),t.qZA(),t._UZ(11,"div",11),t._UZ(12,"div",12),t.TgZ(13,"div",13),t._UZ(14,"img",6),t.YNc(15,V,2,1,"span",14),t.qZA(),t.qZA(),t.qZA()),2&_){var r=t.oxw();t.Gre("skill slormancer-tooltip ",r.skill.damageTypes.length>0?r.skill.damageTypes[0]:"",""),t.xp6(1),t.Q6J("innerHTML",r.skill.nameLabel,t.oJD),t.xp6(5),t.Q6J("src","assets/img/icon/"+r.skill.icon+".png",t.LSH),t.xp6(2),t.Q6J("ngIf",null!==r.skill.genresLabel),t.xp6(1),t.Q6J("ngIf",null!==r.skill.cooldownLabel),t.xp6(1),t.Q6J("ngIf",null!==r.skill.costLabel),t.xp6(2),t.Q6J("innerHTML",r.skill.description,t.oJD),t.xp6(2),t.MGl("src","assets/img/icon/",r.skill.levelIcon,".png",t.LSH),t.xp6(1),t.Q6J("ngIf",r.skill.bonusLevel>0)}}var w=function(){var _=(0,J.Z)(function l(){(0,Q.Z)(this,l),this.skill=null});return _.\u0275fac=function(r){return new(r||_)},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-skill-view"]],inputs:{skill:"skill"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head","inner-box",3,"innerHTML"],[1,"content","inner-box"],[1,"info"],[1,"visual"],[1,"icon"],[3,"src"],[1,"data"],["class","genre",3,"innerHTML",4,"ngIf"],["class","cooldown",3,"innerHTML",4,"ngIf"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"separator"],[1,"description",3,"innerHTML"],[1,"bottom-level"],["class","bonus",4,"ngIf"],[1,"genre",3,"innerHTML"],[1,"cooldown",3,"innerHTML"],[1,"cost",3,"innerHTML"],[1,"bonus"]],template:function(r,u){1&r&&t.YNc(0,b,16,11,"div",0),2&r&&t.Q6J("ngIf",null!==u.skill)},directives:[s.O5],styles:[".skill[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;max-width:400px}.skill[_ngcontent-%COMP%]   .inner-box[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]:before{border-color:primary-color(400)}.skill[_ngcontent-%COMP%]  .value, .skill[_ngcontent-%COMP%]  .rank .current{color:#ce4607}.skill[_ngcontent-%COMP%]  .range, .skill[_ngcontent-%COMP%]  .range .value, .skill[_ngcontent-%COMP%]  .details, .skill[_ngcontent-%COMP%]  .details .value, .skill[_ngcontent-%COMP%]  .formula, .skill[_ngcontent-%COMP%]  .formula .value{color:#686868}.skill[_ngcontent-%COMP%]  .affixes .range, .skill[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.skill[_ngcontent-%COMP%]  .life{color:#257539}.skill[_ngcontent-%COMP%]  .mana{color:#3397dd}.skill.mag[_ngcontent-%COMP%]  .value, .skill.mag[_ngcontent-%COMP%]  .rank .current{color:#bb1fe2}.skill[_ngcontent-%COMP%]   .head.head[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.head[_ngcontent-%COMP%]{text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;grid-gap:20px;gap:20px;padding:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:10px;gap:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{display:flex;align-items:center}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border:3px solid #be871f;min-width:60px;min-height:60px;width:60px;height:60px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black;image-rendering:pixelated;width:54px;height:54px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-transform:uppercase;height:100%;flex-grow:1;padding:5px 0;grid-gap:5px;gap:5px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}"]}),_}()},9536:function(ue,ae,a){a.d(ae,{A:function(){return E}});var J=a(5671),Q=a(3144),t=a(136),s=a(7777),e=a(2722),m=a(7255),D=a(2424),V=a(6446),b=a(5542),w=a(9808),_=a(9776),l=a(8849);function r(A,P){if(1&A&&b._UZ(0,"app-skill-upgrade-view",8),2&A){var c=b.oxw(3);b.Q6J("upgrade",c.upgrade)}}function u(A,P){if(1&A&&b.YNc(0,r,1,1,"ng-template",7),2&A){b.oxw();var c=b.MAs(1),S=b.oxw();b.Q6J("cdkConnectedOverlayOpen",S.showOverlay)("cdkConnectedOverlayOrigin",c)}}function f(A,P){if(1&A&&(b.TgZ(0,"div",1,2),b.TgZ(2,"div",3),b._UZ(3,"img",4),b.qZA(),b.TgZ(4,"div",5),b._uU(5),b.qZA(),b.YNc(6,u,1,2,void 0,6),b.qZA()),2&A){var c=b.oxw();b.ekj("hidden-search",c.hiddenBySearch)("passive",c.isPassive(c.upgrade))("readonly",c.readonly),b.xp6(2),b.ekj("equipped",c.equipped),b.xp6(1),b.Q6J("src",c.upgrade.icon,b.LSH),b.xp6(1),b.ekj("max",c.upgrade.rank===c.upgrade.maxRank),b.xp6(1),b.Oqu(c.upgrade.rank===c.upgrade.maxRank?"Max":c.upgrade.rank),b.xp6(1),b.Q6J("ngIf",c.showOverlay&&c.overlay)}}var E=function(){var A=function(P){(0,t.Z)(S,P);var c=(0,s.Z)(S);function S(M){var v;return(0,J.Z)(this,S),(v=c.call(this)).searchService=M,v.upgrade=null,v.selected=!1,v.equipped=!1,v.overlay=!1,v.readonly=!1,v.hiddenBySearch=!1,v.showOverlay=!1,v}return(0,Q.Z)(S,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"ngOnInit",value:function(){var v=this;this.searchService.searchChanged.pipe((0,e.R)(this.unsubscribe)).subscribe(function(Y){return v.hiddenBySearch=null!==Y&&null!==v.upgrade&&!v.searchService.upgradeMatchSearch(v.upgrade)})}},{key:"isPassive",value:function(v){return v.type===m.W.Passive}}]),S}(V.B);return A.\u0275fac=function(c){return new(c||A)(b.Y36(D.o))},A.\u0275cmp=b.Xpm({type:A,selectors:[["app-upgrade-slot"]],hostBindings:function(c,S){1&c&&b.NdJ("mouseenter",function(){return S.onOver()})("mouseleave",function(){return S.onLeave()})},inputs:{upgrade:"upgrade",selected:"selected",equipped:"equipped",overlay:"overlay",readonly:"readonly"},features:[b.qOj],decls:1,vars:1,consts:[["class","upgrade","cdkOverlayOrigin","",3,"hidden-search","passive","readonly",4,"ngIf"],["cdkOverlayOrigin","",1,"upgrade"],["trigger","cdkOverlayOrigin"],[1,"equipped-border"],[1,"skill-icon",3,"src"],[1,"rank"],[4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"upgrade"]],template:function(c,S){1&c&&b.YNc(0,f,7,13,"div",0),2&c&&b.Q6J("ngIf",null!==S.upgrade)},directives:[w.O5,_.xu,_.pI,l.B],styles:[".upgrade[_ngcontent-%COMP%]{background-color:#101010;position:relative;z-index:1}.upgrade.hidden-search[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{opacity:.2}.upgrade.passive[_ngcontent-%COMP%], .upgrade.passive[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%], .upgrade.passive[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}.upgrade[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{position:absolute;background-color:#202020;padding:0 2px;bottom:0;right:0;font-size:10px;border-radius:4px}.upgrade[_ngcontent-%COMP%]   .rank.max[_ngcontent-%COMP%]{color:#edd371}.upgrade[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%]{width:46px;height:46px;position:relative;border:3px solid black;padding:2px;background-color:#202020}.upgrade[_ngcontent-%COMP%]   .equipped-border.equipped[_ngcontent-%COMP%]{background-color:#edd371}.upgrade[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black}.upgrade[_ngcontent-%COMP%]:not(.readonly)   .equipped-border[_ngcontent-%COMP%]{cursor:pointer}.upgrade.readonly[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%]{padding:0;border-width:4px;width:44px;height:44px}.upgrade.readonly[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-width:0}"]}),A}()},3300:function(ue,ae,a){a.d(ae,{K:function(){return A}});var J=a(4942),Q=a(7762),t=a(5671),s=a(3144),e=a(7399),m=a(4456),D=a(2107),V=a(2206),b=function(){return(P=b||(b={}))[P.Astorias=0]="Astorias",P[P.Adrianne=1]="Adrianne",P[P.Beigarth=2]="Beigarth",P[P.CoryIronbender=3]="CoryIronbender",P[P.Smaloron=4]="Smaloron",P[P.Fulgurorn=5]="Fulgurorn",P[P.Hagan=6]="Hagan",P[P.OhmAgad=7]="OhmAgad",b;var P}(),w=[b.Astorias,b.Adrianne,b.Beigarth,b.CoryIronbender,b.Smaloron,b.Fulgurorn,b.Hagan,b.OhmAgad],_=a(1375),l=a(7795),r=a(3790),u=a(8313),f=a(5581),E=a(5542),A=function(){var P=function(){function c(S,M,v){(0,t.Z)(this,c),this.slormancerDataService=S,this.slormancerTranslateService=M,this.slormancerReaperService=v,this.STATS_OPTIONS_CACHE={},this.LEGENDARY_OPTIONS_CACHE={},this.ALL_STATS_OPTIONS_CACHE=[],this.ALL_REAPER_BUFF_OPTIONS_CACHE=[],this.ALL_SKILL_BUFF_OPTIONS_CACHE={0:[],1:[],2:[]},this.ALL_ATTRIBUTE_BUFF_OPTIONS_CACHE=[],this.ALL_REAPER_OPTIONS_CACHE={p:{0:[],1:[],2:[]},b:{0:[],1:[],2:[]}},this.ULTIMATUM_OPTIONS_CACHE=[],this.initStatOptionsCache(),this.initLegendaryOptionsCache(),this.initReaperBuffOptions(),this.initSkillBuffOptions(),this.initAttributeBuffOptions(),this.initReaperOptions(),this.initUltimatumOptions()}return(0,s.Z)(c,[{key:"getReaperOptions",value:function(M,v){return this.ALL_REAPER_OPTIONS_CACHE[v?"p":"b"][M]}},{key:"getStatsOptions",value:function(M,v){var Y=this.ALL_STATS_OPTIONS_CACHE,y=this.STATS_OPTIONS_CACHE[M];return y&&(v===V.u.Normal?Y=(0,f.Be)(y.P,[]):(v===V.u.Magic||v===V.u.Rare)&&(Y=(0,f.Be)(y.S,[]))),Y}},{key:"getLegendaryOptions",value:function(M,v){var Y=[],y=this.LEGENDARY_OPTIONS_CACHE[M];return y&&(Y=y[v]),Y}},{key:"getReaperBuffOptions",value:function(){return this.ALL_REAPER_BUFF_OPTIONS_CACHE}},{key:"getSkillBuffOptions",value:function(M){return this.ALL_SKILL_BUFF_OPTIONS_CACHE[M]}},{key:"getAttributeBuffOptions",value:function(){return this.ALL_ATTRIBUTE_BUFF_OPTIONS_CACHE}},{key:"getUltimatumOptions",value:function(){return this.ULTIMATUM_OPTIONS_CACHE}},{key:"getBaseKey",value:function(M){return M===m.J.Body?"ARMOR":M.toUpperCase()}},{key:"initStatOptionsCache",value:function(){var M=this.slormancerDataService.getGameDataStats().filter(function(G){return"X"!==G.PERCENT});this.STATS_OPTIONS_CACHE={},this.ALL_STATS_OPTIONS_CACHE=[];var Y,v=(0,Q.Z)(M);try{for(v.s();!(Y=v.n()).done;){var y=Y.value,I={label:this.slormancerTranslateService.translate(y.REF)+("%"===y.PERCENT?" (%)":""),value:y.REF};this.ALL_STATS_OPTIONS_CACHE.push(I);var W,N=(0,Q.Z)(m.l);try{for(N.s();!(W=N.n()).done;){var K=W.value,X=y[this.getBaseKey(K)];if(""!==X){var se=this.STATS_OPTIONS_CACHE[K];void 0===se&&(this.STATS_OPTIONS_CACHE[K]=se={P:[],S:[]}),"P"===X&&se.P.push(I),("P"===X||"S"===X)&&se.S.push(I)}}}catch(G){N.e(G)}finally{N.f()}}}catch(G){v.e(G)}finally{v.f()}var de,ge=(0,Q.Z)(m.l);try{for(ge.s();!(de=ge.n()).done;){var L=this.getBaseKey(de.value),z=this.STATS_OPTIONS_CACHE[L];if(z){var O=z.P,F=z.S;O&&O.sort(function(G,T){return(0,f.rR)(G.label,T.label)}),F&&F.sort(function(G,T){return(0,f.rR)(G.label,T.label)})}}}catch(G){ge.e(G)}finally{ge.f()}this.ALL_STATS_OPTIONS_CACHE.sort(function(G,T){return(0,f.rR)(G.label,T.label)})}},{key:"initLegendaryOptionsCache",value:function(){var M=this.slormancerDataService.getGameDataLegendaries().filter(function(W){return W.LOOTABLE});this.LEGENDARY_OPTIONS_CACHE={};var Y,v=(0,Q.Z)(M);try{for(v.s();!(Y=v.n()).done;){var y=Y.value,I={value:y.REF,label:y.EN_NAME},N=this.LEGENDARY_OPTIONS_CACHE[y.ITEM];void 0===N&&(this.LEGENDARY_OPTIONS_CACHE[y.ITEM]=N={0:[],1:[],2:[]}),-1===y.HERO||99===y.HERO?(N[0].push(I),N[1].push(I),N[2].push(I)):N[y.HERO].push(I)}}catch(W){v.e(W)}finally{v.f()}}},{key:"initReaperBuffOptions",value:function(){var M=this;this.ALL_REAPER_BUFF_OPTIONS_CACHE=w.filter(function(v){return v!==b.OhmAgad}).map(function(v){return{value:v,label:M.slormancerTranslateService.translate("weapon_reapersmith_"+v)}})}},{key:"initSkillBuffOptions",value:function(){var M;this.ALL_SKILL_BUFF_OPTIONS_CACHE=((0,J.Z)(M={},D.i.Warrior,this.slormancerDataService.getGameDataActiveSkills(D.i.Warrior).map(function(v){return{value:v.REF,label:v.EN_NAME}})),(0,J.Z)(M,D.i.Huntress,this.slormancerDataService.getGameDataActiveSkills(D.i.Huntress).map(function(v){return{value:v.REF,label:v.EN_NAME}})),(0,J.Z)(M,D.i.Mage,this.slormancerDataService.getGameDataActiveSkills(D.i.Mage).map(function(v){return{value:v.REF,label:v.EN_NAME}})),M)}},{key:"initAttributeBuffOptions",value:function(){var M=this;this.ALL_ATTRIBUTE_BUFF_OPTIONS_CACHE=e.A.map(function(v){return{value:v,label:M.slormancerTranslateService.translate("character_trait_"+v)}})}},{key:"initReaperOptions",value:function(){this.ALL_REAPER_OPTIONS_CACHE={p:{0:[],1:[],2:[]},b:{0:[],1:[],2:[]}};var Y,M=this.slormancerDataService.getGameDataAvailableReaper(),v=(0,Q.Z)(M);try{for(v.s();!(Y=v.n()).done;){var y=Y.value;this.ALL_REAPER_OPTIONS_CACHE.p[D.i.Warrior].push({value:y.REF,label:this.slormancerReaperService.getReaperName(y.EN_NAME,!0,D.i.Warrior)}),this.ALL_REAPER_OPTIONS_CACHE.p[D.i.Huntress].push({value:y.REF,label:this.slormancerReaperService.getReaperName(y.EN_NAME,!0,D.i.Huntress)}),this.ALL_REAPER_OPTIONS_CACHE.p[D.i.Mage].push({value:y.REF,label:this.slormancerReaperService.getReaperName(y.EN_NAME,!0,D.i.Mage)}),this.ALL_REAPER_OPTIONS_CACHE.b[D.i.Warrior].push({value:y.REF,label:this.slormancerReaperService.getReaperName(y.EN_NAME,!1,D.i.Warrior)}),this.ALL_REAPER_OPTIONS_CACHE.b[D.i.Huntress].push({value:y.REF,label:this.slormancerReaperService.getReaperName(y.EN_NAME,!1,D.i.Huntress)}),this.ALL_REAPER_OPTIONS_CACHE.b[D.i.Mage].push({value:y.REF,label:this.slormancerReaperService.getReaperName(y.EN_NAME,!1,D.i.Mage)})}}catch(I){v.e(I)}finally{v.f()}}},{key:"initUltimatumOptions",value:function(){var M=this;this.ULTIMATUM_OPTIONS_CACHE=_.N.map(function(v){return{value:v,label:M.slormancerTranslateService.translate("ultimatum_"+v)}})}}]),c}();return P.\u0275fac=function(S){return new(S||P)(E.LFG(l.o),E.LFG(u.n),E.LFG(r.I))},P.\u0275prov=E.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P}()},8271:function(ue,ae,a){a.d(ae,{s:function(){return b}});var J=a(5671),Q=a(3144),t=a(7106),s=a(5458),e=a(2473),m=a(5581),D=a(3390),V=a(5542),b=function(){var w=function(){function _(l,r,u,f){(0,J.Z)(this,_),this.slormancerCharacterBuilderService=l,this.slormancerSaveParserService=r,this.slormancerShortDataService=u,this.jsonConverterService=f,this.VIEW_BUILD_PATH=window.origin+"/view/build/"}return(0,Q.Z)(_,[{key:"parseSaveData",value:function(r,u){var f=this.slormancerSaveParserService.parseSaveFile(r);return this.slormancerCharacterBuilderService.getCharacterFromSave(f,u)}},{key:"parseUrlData",value:function(r){var u={character:null,layer:null,planner:null},f=null;try{var A=new URL(r).pathname.split("/");f=(0,m.lA)(A[A.length-1])}catch(P){}return null!==f&&(u=this.importFromShortData(f)),u}},{key:"parseJsonData",value:function(r){var u=JSON.parse(r);return this.jsonConverterService.jsonToSharedData(u)}},{key:"import",value:function(r){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,f={character:null,layer:null,planner:null};if(null!==u)try{return f.character=this.parseSaveData(r,u),f}catch(E){console.error("Error when parsing save file : ",E)}try{return this.parseJsonData(atob(r))}catch(E){}try{return this.parseJsonData(r)}catch(E){}return null===(f=this.importFromShortData(r)).character&&this.parseUrlData(r),f}},{key:"exportCharacter",value:function(r){return btoa(JSON.stringify(this.jsonConverterService.characterToJson(r)))}},{key:"exportLayer",value:function(r){return btoa(JSON.stringify(this.jsonConverterService.layerToJson(r)))}},{key:"exportPlanner",value:function(r){return btoa(JSON.stringify(this.jsonConverterService.plannerToJson(r)))}},{key:"exportCharacterAsLink",value:function(r){var u=this.slormancerShortDataService.characterToShortData(r);return this.VIEW_BUILD_PATH+u}},{key:"importFromShortData",value:function(r){return{character:this.slormancerShortDataService.shortDataToCharacter(r),layer:null,planner:null}}}]),_}();return w.\u0275fac=function(l){return new(l||w)(V.LFG(e.o),V.LFG(t.X),V.LFG(s.q),V.LFG(D.D))},w.\u0275prov=V.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w}()},7469:function(ue,ae,a){a.d(ae,{v:function(){return V}});var J=a(4902),Q=a(5671),t=a(3144),s=a(1135),e=a(4456),m=a(4917),D=a(5542),V=function(){var b=function(){function w(_){var l=this;(0,Q.Z)(this,w),this.plannerService=_,this.draggingItem=new s.X(!1),this.dragCount=0,this.character=null,this.item=null,this.requiredBase=null,this.callback=null,this.plannerService.characterChanged.subscribe(function(r){return l.character=r})}return(0,t.Z)(w,[{key:"hold",value:function(l,r){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.dragCount=0,this.item=l,this.requiredBase=r,this.callback=u}},{key:"startDragging",value:function(){this.draggingItem.getValue()||(this.dragCount++,null!==this.item&&this.dragCount>5&&this.draggingItem.next(!0))}},{key:"isDragItemCompatible",value:function(l,r){return!(null!==l&&null!==this.requiredBase&&l.base!==this.requiredBase||null===this.item||null!==r&&this.item.base!==r)}},{key:"isHoldItem",value:function(l){return l===this.item&&null!==l}},{key:"getHoldItem",value:function(){return this.item}},{key:"releaseHoldItem",value:function(){this.item=null,this.requiredBase=null,this.callback=null,this.draggingItem.next(!1)}},{key:"swap",value:function(l,r,u){var f=this.item,E=this.callback,A=this.isDragItemCompatible(l,r);this.releaseHoldItem(),l!==f&&(A?(E&&E(!0,l),u&&u(!0,f)):(E&&E(!1,null),u&&u(!1,null)))}},{key:"moveDraggedItemToItemGroup",value:function(l){var r=this.item,u=this.callback,f=l.indexOf(null),E=l.indexOf(r);if(this.releaseHoldItem(),-1!==f||-1!==E){u&&u(!0,null);var A=Math.min.apply(Math,(0,J.Z)([f,E].filter(function(P){return-1!==P})));l.splice(A,1,r)}else u&&u(!1,null)}},{key:"equip",value:function(l,r){var u=this.character;if(null!==u){var f=l.base;switch(this.hold(l,f,r),f){case e.J.Amulet:this.swap(u.gear.amulet,f,function(E,A){return E?u.gear.amulet=A:null});break;case e.J.Belt:this.swap(u.gear.belt,f,function(E,A){return E?u.gear.belt=A:null});break;case e.J.Body:this.swap(u.gear.body,f,function(E,A){return E?u.gear.body=A:null});break;case e.J.Boot:this.swap(u.gear.boot,f,function(E,A){return E?u.gear.boot=A:null});break;case e.J.Bracer:this.swap(u.gear.bracer,f,function(E,A){return E?u.gear.bracer=A:null});break;case e.J.Cape:this.swap(u.gear.cape,f,function(E,A){return E?u.gear.cape=A:null});break;case e.J.Glove:this.swap(u.gear.glove,f,function(E,A){return E?u.gear.glove=A:null});break;case e.J.Helm:this.swap(u.gear.helm,f,function(E,A){return E?u.gear.helm=A:null});break;case e.J.Shoulder:this.swap(u.gear.shoulder,f,function(E,A){return E?u.gear.shoulder=A:null});break;case e.J.Ring:null===u.gear.ring_r?this.swap(u.gear.ring_r,f,function(E,A){return E?u.gear.ring_r=A:null}):this.swap(u.gear.ring_l,f,function(E,A){return E?u.gear.ring_l=A:null})}}}},{key:"moveToStash",value:function(l,r){var u=this.character;if(null!==u){var f=[u.inventory].concat((0,J.Z)(u.sharedInventory)).filter(function(E){return void 0!==E.find(function(A){return null===A})})[0];f&&(this.hold(l,null,r),this.moveDraggedItemToItemGroup(f))}}}]),w}();return b.\u0275fac=function(_){return new(_||b)(D.LFG(m.q))},b.\u0275prov=D.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b}()},2424:function(ue,ae,a){a.d(ae,{o:function(){return V}});var J=a(4902),Q=a(7762),t=a(5671),s=a(3144),e=a(1135),m=a(5581),D=a(5542),V=function(){var b=function(){function w(){(0,t.Z)(this,w),this.search=null,this.dom=document.createElement("div"),this.searchChanged=new e.X(null)}return(0,s.Z)(w,[{key:"hasSearch",value:function(){return null!==this.search}},{key:"setSearch",value:function(l){this.search=null!==l&&l.length>0?l:null,this.searchChanged.next(this.search)}},{key:"getCleanSearchValue",value:function(){return null===this.search?null:this.search.toLowerCase().trim()}},{key:"removeHtmlTags",value:function(l){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=l;if(null!==u){if(this.dom.innerHTML=u.toLowerCase(),r.length>0){var E,f=(0,Q.Z)(r);try{for(f.s();!(E=f.n()).done;)for(var A=E.value,P=this.dom.getElementsByClassName(A),c=0,S=P.length;c<S;c++){var M=P.item(c);M&&M.remove()}}catch(v){f.e(v)}finally{f.f()}}u=this.dom.textContent}return u}},{key:"stringsMatchSearch",value:function(l){var r=!0,u=this.getCleanSearchValue();return null!==u&&(r=null===this.search||void 0!==l.find(function(f){return(0,m.BX)(f)&&-1!==f.toLowerCase().indexOf(u)})),r}},{key:"itemMatchSearch",value:function(l){var r=this;return this.stringsMatchSearch([l.level.toString(),l.name,l.base,l.rarity].concat((0,J.Z)(l.affixes.map(function(u){return[u.isPure?"pure":null,r.removeHtmlTags(u.valueLabel+" "+u.statLabel,["details"])]}).flat()),[null===l.legendaryEffect?null:this.removeHtmlTags(l.legendaryEffect.description,["details"]),null!==l.reaperEnchantment?this.removeHtmlTags(l.reaperEnchantment.label,["details"]):null,null!==l.skillEnchantment?this.removeHtmlTags(l.skillEnchantment.label,["details"]):null,null!==l.attributeEnchantment?this.removeHtmlTags(l.attributeEnchantment.label,["details"]):null]))}},{key:"upgradeMatchSearch",value:function(l){return this.stringsMatchSearch([l.name,l.type,this.removeHtmlTags(l.description)].concat((0,J.Z)(l.genres),[l.genresLabel,this.removeHtmlTags(l.costLabel),this.removeHtmlTags(l.costType)],(0,J.Z)(l.relatedBuffs.map(function(r){return r.name})),(0,J.Z)(l.relatedClassMechanics.map(function(r){return r.name})),(0,J.Z)(l.relatedMechanics.map(function(r){return r.name}))))}},{key:"ancestralLegacyMatchSearch",value:function(l){return this.stringsMatchSearch([l.name,l.costType].concat((0,J.Z)(l.genres),[l.isActivable?"activable":null,this.removeHtmlTags(l.description)],(0,J.Z)(l.relatedBuffs.map(function(r){return r.name})),(0,J.Z)(l.relatedMechanics.map(function(r){return r.name})),(0,J.Z)(l.types),[l.typeLabel,l.genresLabel,l.costLabel]))}},{key:"traitMatchSearch",value:function(l){return this.stringsMatchSearch([l.rankLabel,this.removeHtmlTags(l.cumulativeStats),this.removeHtmlTags(l.description),l.traitLevelLabel])}}]),w}();return b.\u0275fac=function(_){return new(_||b)},b.\u0275prov=D.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b}()},2271:function(ue,ae,a){a.d(ae,{m:function(){return D}});var J=a(3144),Q=a(5671),t=a(9808),s=a(3075),e=a(9881),m=a(5542),D=function(){var V=(0,J.Z)(function b(){(0,Q.Z)(this,b)});return V.\u0275fac=function(w){return new(w||V)},V.\u0275mod=m.oAB({type:V}),V.\u0275inj=m.cJS({providers:[],imports:[[t.ez,e.q,s.UX],e.q,s.UX]}),V}()}}]);