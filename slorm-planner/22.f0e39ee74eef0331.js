"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[22],{8258:function(qn,$,f){f.r($),f.d($,{ViewModule:function(){return Fn}});var C=f(3144),P=f(5671),ut=f(9776),L=f(9808),S=f(3075),lt=f(2271),M=f(1083),gt=f(4917),G=f(1093),mt=f(7399),ft=f(8313),ht=f(5457),n=f(5542),dt=f(1828),R=f(9224),pt=f(4322),vt=f(916),Ct=f(7446),Pt=f(7423),Mt=f(7238),Ot=f(4591),_t=f(3662),yt=f(9536),wt=f(9713),bt=f(3729),St=f(4440);function Tt(t,r){if(1&t){var e=n.EpF();n.TgZ(0,"button",8),n.NdJ("click",function(){return n.CHM(e),n.oxw().import()}),n._uU(1,"Import"),n.qZA()}}function At(t,r){if(1&t){var e=n.EpF();n.TgZ(0,"button",8),n.NdJ("click",function(){n.CHM(e);var a=n.oxw();return a.showSummary=!a.showSummary}),n._uU(1,"Show Stats"),n.qZA()}}function Zt(t,r){if(1&t){var e=n.EpF();n.TgZ(0,"button",8),n.NdJ("click",function(){n.CHM(e);var a=n.oxw();return a.showSummary=!a.showSummary}),n._uU(1,"Show Summary"),n.qZA()}}function Et(t,r){if(1&t&&(n.TgZ(0,"div",39),n._UZ(1,"app-upgrade-slot",40),n.qZA()),2&t){var e=r.$implicit;n.xp6(1),n.Q6J("upgrade",e)("readonly",!0)("overlay",!0)("equipped",!1)("selected",!1)}}function kt(t,r){if(1&t&&(n.TgZ(0,"div",39),n._UZ(1,"app-upgrade-slot",40),n.qZA()),2&t){var e=r.$implicit;n.xp6(1),n.Q6J("upgrade",e)("readonly",!0)("overlay",!0)("equipped",!1)("selected",!1)}}function xt(t,r){if(1&t&&(n.TgZ(0,"div",39),n._UZ(1,"app-upgrade-slot",40),n.qZA()),2&t){var e=r.$implicit;n.xp6(1),n.Q6J("upgrade",e)("readonly",!0)("overlay",!0)("equipped",!1)("selected",!1)}}function Lt(t,r){if(1&t&&(n.TgZ(0,"div",33),n._UZ(1,"app-ancestral-legacy-slot",41),n.qZA()),2&t){var e=r.$implicit;n.xp6(1),n.Q6J("ancestralLegacy",e)("readonly",!0)("overlay",!0)}}function Rt(t,r){if(1&t&&n._UZ(0,"app-attribute-line",43),2&t){var e=n.oxw().$implicit,i=n.oxw(2);n.Q6J("short",!0)("readonly",!0)("iconShift",!0)("attribute",i.character.attributes.allocated[e])("remainingPoints",i.character.attributes.remainingPoints)}}function Ut(t,r){if(1&t&&(n.ynx(0),n.YNc(1,Rt,1,5,"app-attribute-line",42),n.BQk()),2&t){var e=r.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("ngIf",i.showAttribute(e))}}function Ft(t,r){if(1&t&&(n.TgZ(0,"mat-card",9),n.TgZ(1,"mat-card-content"),n.TgZ(2,"div",10),n.TgZ(3,"div",11),n.TgZ(4,"div",12),n.TgZ(5,"div",13),n._uU(6),n.qZA(),n._UZ(7,"img",14),n.qZA(),n.TgZ(8,"div",12),n.TgZ(9,"div",13),n._uU(10),n.qZA(),n._UZ(11,"img",15),n.qZA(),n.qZA(),n.TgZ(12,"div",16),n.TgZ(13,"div",12),n.TgZ(14,"div",13),n._uU(15),n.qZA(),n._UZ(16,"img",17),n.qZA(),n.TgZ(17,"div",12),n.TgZ(18,"div",13),n._uU(19),n.qZA(),n._UZ(20,"img",18),n.qZA(),n.qZA(),n.TgZ(21,"div",19),n.TgZ(22,"div",12),n.TgZ(23,"div",13),n._uU(24),n.qZA(),n._UZ(25,"img",20),n.qZA(),n.TgZ(26,"div",12),n.TgZ(27,"div",13),n._uU(28),n.qZA(),n._UZ(29,"img",21),n.qZA(),n.TgZ(30,"div",12),n.TgZ(31,"div",13),n._uU(32),n.qZA(),n._UZ(33,"img",22),n.qZA(),n.qZA(),n.qZA(),n.TgZ(34,"div",23),n.TgZ(35,"h4"),n._uU(36,"Support Skill"),n.qZA(),n.TgZ(37,"div",24),n.TgZ(38,"div",25),n._UZ(39,"app-skill-slot",26),n.qZA(),n.TgZ(40,"div",27),n.YNc(41,Et,2,5,"div",28),n.qZA(),n.qZA(),n.qZA(),n.TgZ(42,"div",23),n.TgZ(43,"h4"),n._uU(44,"Primary Skill"),n.qZA(),n.TgZ(45,"div",24),n.TgZ(46,"div",25),n._UZ(47,"app-skill-slot",29),n.qZA(),n.TgZ(48,"div",27),n.YNc(49,kt,2,5,"div",28),n.qZA(),n.qZA(),n.qZA(),n.TgZ(50,"div",23),n.TgZ(51,"h4"),n._uU(52,"Secondary Skill"),n.qZA(),n.TgZ(53,"div",24),n.TgZ(54,"div",25),n._UZ(55,"app-skill-slot",29),n.qZA(),n.TgZ(56,"div",27),n.YNc(57,xt,2,5,"div",28),n.qZA(),n.qZA(),n.qZA(),n.TgZ(58,"div",30),n.TgZ(59,"div",31),n.TgZ(60,"h4"),n._uU(61,"Activables"),n.qZA(),n.TgZ(62,"div",32),n.TgZ(63,"div",33),n._UZ(64,"app-activable-slot",34),n.qZA(),n.TgZ(65,"div",33),n._UZ(66,"app-activable-slot",34),n.qZA(),n.TgZ(67,"div",33),n._UZ(68,"app-activable-slot",34),n.qZA(),n.TgZ(69,"div",33),n._UZ(70,"app-activable-slot",34),n.qZA(),n.qZA(),n.qZA(),n.TgZ(71,"div",35),n.TgZ(72,"h4"),n._uU(73,"Ancestral Legacies"),n.qZA(),n.TgZ(74,"div",32),n.YNc(75,Lt,2,3,"div",36),n.qZA(),n.qZA(),n.qZA(),n.TgZ(76,"div",37),n.YNc(77,Ut,2,1,"ng-container",38),n.qZA(),n.qZA(),n.qZA()),2&t){var e=n.oxw();n.xp6(5),n.Q6J("matTooltip",e.PHYSICAL_DAMAGE_LABEL),n.xp6(1),n.Oqu(e.getPhysicalDamages()),n.xp6(3),n.Q6J("matTooltip",e.ELEMENTAL_DAMAGE_LABEL),n.xp6(1),n.Oqu(e.getElementalDamages()),n.xp6(4),n.Q6J("matTooltip",e.MAX_LIFE_LABEL),n.xp6(1),n.Oqu(e.getMaximumLife()),n.xp6(3),n.Q6J("matTooltip",e.MAX_MANA_LABEL),n.xp6(1),n.Oqu(e.getMaximumMana()),n.xp6(4),n.Q6J("matTooltip",e.MAX_ARMOR_LABEL),n.xp6(1),n.Oqu(e.getArmor()),n.xp6(3),n.Q6J("matTooltip",e.MAX_ELEMENTAL_RESISTANCE_LABEL),n.xp6(1),n.Oqu(e.getElementalResistance()),n.xp6(3),n.Q6J("matTooltip",e.MAX_DODGE_LABEL),n.xp6(1),n.Oqu(e.getDodge()),n.xp6(7),n.Q6J("readonly",!0)("skill",e.character.supportSkill)("support",!0),n.xp6(2),n.Q6J("ngForOf",e.getSkillUpgrades(e.character.supportSkill)),n.xp6(6),n.Q6J("readonly",!0)("skill",e.character.primarySkill),n.xp6(2),n.Q6J("ngForOf",e.getSkillUpgrades(e.character.primarySkill)),n.xp6(6),n.Q6J("readonly",!0)("skill",e.character.secondarySkill),n.xp6(2),n.Q6J("ngForOf",e.getSkillUpgrades(e.character.secondarySkill)),n.xp6(7),n.Q6J("activable",e.character.activable1)("readonly",!0),n.xp6(2),n.Q6J("activable",e.character.activable2)("readonly",!0),n.xp6(2),n.Q6J("activable",e.character.activable3)("readonly",!0),n.xp6(2),n.Q6J("activable",e.character.activable4)("readonly",!0),n.xp6(5),n.Q6J("ngForOf",e.getAncestralLegacies()),n.xp6(2),n.Q6J("ngForOf",e.ALL_ATTRIBUTES)}}function It(t,r){if(1&t&&(n.TgZ(0,"mat-card",44),n.TgZ(1,"mat-card-content"),n._UZ(2,"app-main-stats",45),n.qZA(),n.qZA()),2&t){var e=n.oxw();n.xp6(2),n.Q6J("stats",e.character.stats)}}var U=function(){var t=function(){function r(e,i,a,o,c,s){var g=this;(0,P.Z)(this,r),this.router=i,this.plannerService=a,this.slormancerCharacterUpdaterService=o,this.slormancerDpsService=c,this.slormancerTranslateService=s,this.PHYSICAL_DAMAGE_LABEL=this.slormancerTranslateService.translate("tt_physical_damage"),this.ELEMENTAL_DAMAGE_LABEL=this.slormancerTranslateService.translate("tt_elemental_damage"),this.MAX_LIFE_LABEL=this.slormancerTranslateService.translate("max_health"),this.MAX_MANA_LABEL=this.slormancerTranslateService.translate("max_mana"),this.MAX_ARMOR_LABEL=this.slormancerTranslateService.translate("armor"),this.MAX_DODGE_LABEL=this.slormancerTranslateService.translate("dodge"),this.MAX_ELEMENTAL_RESISTANCE_LABEL=this.slormancerTranslateService.translate("elemental_resist"),this.ALL_ATTRIBUTES=mt.A,this.showSummary=!0,this.combatBuffControl=new S.NI(!1),this.character=e.snapshot.data.character,this.combatBuffControl.valueChanges.subscribe(function(){return g.updateConfiguration()}),this.updateConfiguration()}return(0,C.Z)(r,[{key:"updateConfiguration",value:function(){this.slormancerCharacterUpdaterService.updateCharacter(this.character,this.combatBuffControl.value?G.m:G.g)}},{key:"getStat",value:function(i){var a=0,o=this.character.stats.find(function(c){return c.stat===i});return o&&(a=o.total),a}},{key:"valueToString",value:function(i){return"number"==typeof i?i.toString():i.min+"-"+i.max}},{key:"getPhysicalDamages",value:function(){var i=this.getStat("critical_chance"),a=this.getStat("critical_damage"),o=this.getStat("ancestral_chance"),c=this.getStat("ancestral_damage"),s=this.getStat("physical_damage");return this.valueToString(Math.round(this.slormancerDpsService.getAverageHitDamage(s,i,o,a,c)))}},{key:"getElementalDamages",value:function(){var i=this.getStat("critical_chance"),a=this.getStat("critical_damage"),o=this.getStat("ancestral_chance"),c=this.getStat("ancestral_damage"),s=this.getStat("elemental_damage");return this.valueToString(Math.round(this.slormancerDpsService.getAverageHitDamage(s,i,o,a,c)))}},{key:"getMaximumLife",value:function(){return this.valueToString(this.getStat("max_health"))}},{key:"getMaximumMana",value:function(){return this.valueToString(this.getStat("max_mana"))}},{key:"getArmor",value:function(){return this.valueToString(this.getStat("armor"))}},{key:"getDodge",value:function(){return this.valueToString(this.getStat("dodge"))}},{key:"getElementalResistance",value:function(){return this.valueToString(this.getStat("elemental_resist"))}},{key:"getSkillUpgrades",value:function(i){var a=[],o=this.character.skills.find(function(c){return c.skill===i});return o&&(a=o.upgrades.filter(function(c){return o.selectedUpgrades.includes(c.id)})),a}},{key:"getAncestralLegacies",value:function(){var i=this;return this.character.ancestralLegacies.ancestralLegacies.filter(function(a){return i.character.ancestralLegacies.activeAncestralLegacies.includes(a.id)})}},{key:"showAttribute",value:function(i){var a=this.character.attributes.allocated[i];return a.rank>0||a.bonusRank>0}},{key:"canImport",value:function(){return this.plannerService.hasRoomForMoreLayers(this.character)}},{key:"import",value:function(){this.canImport()&&(null===this.plannerService.getPlanner()?this.plannerService.createNewPlanner(this.character.heroClass,this.character):this.plannerService.addLayer("Imported layer",this.character),this.router.navigate(["/build"]))}}]),r}();return t.\u0275fac=function(e){return new(e||t)(n.Y36(M.gz),n.Y36(M.F0),n.Y36(gt.q),n.Y36(ht.P),n.Y36(dt.v),n.Y36(ft.n))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-view-character"]],decls:17,vars:11,consts:[[1,"equipment"],[3,"character","readonly"],[1,"weapon"],[3,"readonly","character"],["color","primary",3,"formControl"],["color","primary","mat-flat-button","",3,"click",4,"ngIf"],["class","summary",4,"ngIf"],["class","stats",4,"ngIf"],["color","primary","mat-flat-button","",3,"click"],[1,"summary"],[1,"stats-summary"],[1,"damages"],[1,"cell"],[1,"value",3,"matTooltip"],["src","assets/img/icon/stat/physical.png"],["src","assets/img/icon/stat/magical.png"],[1,"ressources"],["src","assets/img/icon/stat/life.png"],["src","assets/img/icon/stat/mana.png"],[1,"defenses"],["src","assets/img/icon/stat/armor.png"],["src","assets/img/icon/stat/elemental_resistance.png"],["src","assets/img/icon/stat/dodge.png"],[1,"skill-info"],[1,"skill-line"],[1,"skill"],[3,"readonly","skill","support"],[1,"upgrades"],["class","upgrade",4,"ngFor","ngForOf"],[3,"readonly","skill"],[1,"activables-ancestral-legacies"],[1,"activables"],[1,"slots"],[1,"slot"],[3,"activable","readonly"],[1,"ancestral-legacies"],["class","slot",4,"ngFor","ngForOf"],[1,"attributes"],[4,"ngFor","ngForOf"],[1,"upgrade"],[3,"upgrade","readonly","overlay","equipped","selected"],[3,"ancestralLegacy","readonly","overlay"],[3,"short","readonly","iconShift","attribute","remainingPoints",4,"ngIf"],[3,"short","readonly","iconShift","attribute","remainingPoints"],[1,"stats"],[3,"stats"]],template:function(e,i){1&e&&(n.TgZ(0,"main"),n.TgZ(1,"mat-card",0),n.TgZ(2,"mat-card-content"),n.TgZ(3,"h3"),n._uU(4),n.qZA(),n._UZ(5,"app-character-equipment",1),n._UZ(6,"hr"),n.TgZ(7,"div",2),n._UZ(8,"app-reaper-slot",3),n.qZA(),n.qZA(),n.TgZ(9,"mat-card-actions"),n.TgZ(10,"mat-checkbox",4),n._uU(11,"Activate combat buffs"),n.qZA(),n.YNc(12,Tt,2,0,"button",5),n.YNc(13,At,2,0,"button",5),n.YNc(14,Zt,2,0,"button",5),n.qZA(),n.qZA(),n.YNc(15,Ft,78,34,"mat-card",6),n.YNc(16,It,3,1,"mat-card",7),n.qZA()),2&e&&(n.xp6(4),n.Oqu(i.character.fullName),n.xp6(1),n.Q6J("character",i.character)("readonly",!0),n.xp6(3),n.Q6J("readonly",!0)("character",i.character),n.xp6(2),n.Q6J("formControl",i.combatBuffControl),n.xp6(2),n.Q6J("ngIf",i.canImport()),n.xp6(1),n.Q6J("ngIf",i.showSummary),n.xp6(1),n.Q6J("ngIf",!i.showSummary),n.xp6(1),n.Q6J("ngIf",i.showSummary),n.xp6(1),n.Q6J("ngIf",!i.showSummary))},directives:[R.a8,R.dn,pt.q,vt.R,R.hq,Ct.oG,S.JJ,S.oH,L.O5,Pt.lW,Mt.gM,Ot.X,L.sg,_t.Z,yt.A,wt.y,bt.g,St.w],styles:["main[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:center;grid-gap:20px;gap:20px;padding:20px;overflow-x:auto}@media (max-width: 768px){main[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 374px){main[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}@media (max-width: 768px){main[_ngcontent-%COMP%]{height:auto}}main[_ngcontent-%COMP%]   .equipment[_ngcontent-%COMP%]{min-width:490px;max-width:490px;width:490px}@media (max-width: 768px){main[_ngcontent-%COMP%]   .equipment[_ngcontent-%COMP%]{width:auto;max-width:initial}}main[_ngcontent-%COMP%]   .equipment[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;margin-bottom:4px}main[_ngcontent-%COMP%]   .equipment[_ngcontent-%COMP%]   .weapon[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:20px;padding:20px;background-color:#161412;border:3px solid #3c3c3c}main[_ngcontent-%COMP%]   .equipment[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin-right:auto}main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{width:490px}@media (max-width: 768px){main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{width:auto;max-width:initial}}main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;grid-gap:20px;gap:20px}main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:400}main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;grid-gap:4px;gap:4px}main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .damages[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .defenses[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .ressources[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .damages[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .defenses[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .ressources[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;grid-gap:4px;gap:4px;font-size:large}main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .damages[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .defenses[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .ressources[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .damages[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .defenses[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .ressources[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;grid-gap:4px;gap:4px;flex-grow:1;flex-basis:0;border-radius:16px;border:4px solid black;background-color:#202020;height:56px;padding:8px}@media not all and (min-resolution: .001dpcm){@supports (-webkit-appearance: none){main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .damages[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .defenses[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .ressources[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .damages[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .defenses[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .ressources[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{flex-basis:auto}}}main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .damages[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .defenses[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .ressources[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .damages[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .defenses[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .ressources[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex-grow:1;text-align:center}main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .skill-line[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .skill-line[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;grid-gap:16px;gap:16px;min-height:60px}main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .skill-line[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .skill-line[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]{width:80px}main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .skill-line[_ngcontent-%COMP%]   .upgrades[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .skill-line[_ngcontent-%COMP%]   .upgrades[_ngcontent-%COMP%]{flex-grow:1}main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .skill-line[_ngcontent-%COMP%]   .upgrades[_ngcontent-%COMP%]   .upgrade[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .skill-line[_ngcontent-%COMP%]   .upgrades[_ngcontent-%COMP%]   .upgrade[_ngcontent-%COMP%]{padding:4px;float:left}main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .activables-ancestral-legacies[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .activables-ancestral-legacies[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;grid-gap:16px;gap:16px}main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .activables-ancestral-legacies[_ngcontent-%COMP%]   .activables[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .activables-ancestral-legacies[_ngcontent-%COMP%]   .ancestral-legacies[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .activables-ancestral-legacies[_ngcontent-%COMP%]   .activables[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .activables-ancestral-legacies[_ngcontent-%COMP%]   .ancestral-legacies[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;grid-gap:8px;gap:8px;flex-grow:1}main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .activables-ancestral-legacies[_ngcontent-%COMP%]   .activables[_ngcontent-%COMP%]   .slots[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .activables-ancestral-legacies[_ngcontent-%COMP%]   .ancestral-legacies[_ngcontent-%COMP%]   .slots[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .activables-ancestral-legacies[_ngcontent-%COMP%]   .activables[_ngcontent-%COMP%]   .slots[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .activables-ancestral-legacies[_ngcontent-%COMP%]   .ancestral-legacies[_ngcontent-%COMP%]   .slots[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;min-height:60px}main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .activables-ancestral-legacies[_ngcontent-%COMP%]   .activables[_ngcontent-%COMP%]   .slots[_ngcontent-%COMP%]   .slot[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .activables-ancestral-legacies[_ngcontent-%COMP%]   .ancestral-legacies[_ngcontent-%COMP%]   .slots[_ngcontent-%COMP%]   .slot[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .activables-ancestral-legacies[_ngcontent-%COMP%]   .activables[_ngcontent-%COMP%]   .slots[_ngcontent-%COMP%]   .slot[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .activables-ancestral-legacies[_ngcontent-%COMP%]   .ancestral-legacies[_ngcontent-%COMP%]   .slots[_ngcontent-%COMP%]   .slot[_ngcontent-%COMP%]{padding:4px}main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .attributes[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .attributes[_ngcontent-%COMP%]{padding:4px}main[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .attributes[_ngcontent-%COMP%]   app-attribute-line[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .attributes[_ngcontent-%COMP%]   app-attribute-line[_ngcontent-%COMP%]{float:left}main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{height:725px;padding-right:16px;overflow:auto}@media (max-width: 768px){main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{height:auto}}"]}),t}(),qt=f(7757),m=f.n(qt),H=function(t,r,e,i){return new(e||(e=Promise))(function(o,c){function s(u){try{l(i.next(u))}catch(h){c(h)}}function g(u){try{l(i.throw(u))}catch(h){c(h)}}function l(u){u.done?o(u.value):function(o){return o instanceof e?o:new e(function(c){c(o)})}(u.value).then(s,g)}l((i=i.apply(t,r||[])).next())})},Y="application/font-woff",j="image/jpeg",Vt={woff:Y,woff2:Y,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:j,jpeg:j,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"};function T(t){var r=function(t){var r=/\.([^./]*?)$/g.exec(t);return r?r[1]:""}(t).toLowerCase();return Vt[r]||""}function F(t){return-1!==t.search(/^(data:)/)}function A(t,r){return"data:".concat(r,";base64,").concat(t)}function Jt(t){return t.split(/,/)[1]}var r,Qt=(r=0,function(){return r+=1,"u".concat("0000".concat((Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)).concat(r)});function O(t){for(var r=[],e=0,i=t.length;e<i;e+=1)r.push(t[e]);return r}function Z(t,r){var e=window.getComputedStyle(t).getPropertyValue(r);return parseFloat(e.replace("px",""))}function $t(t){var r=Z(t,"border-left-width"),e=Z(t,"border-right-width");return t.clientWidth+r+e}function Gt(t){var r=Z(t,"border-top-width"),e=Z(t,"border-bottom-width");return t.clientHeight+r+e}function Ht(){var t,r;try{r=process}catch(i){}var e=r&&r.env?r.env.devicePixelRatio:null;return e&&(t=parseInt(e,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}function I(t){return new Promise(function(r,e){var i=new Image;i.onload=function(){return r(i)},i.onerror=e,i.crossOrigin="anonymous",i.decoding="sync",i.src=t})}function Yt(t){return H(this,void 0,void 0,m().mark(function r(){return m().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.resolve().then(function(){return(new XMLSerializer).serializeToString(t)}).then(encodeURIComponent).then(function(a){return"data:image/svg+xml;charset=utf-8,".concat(a)}));case 1:case"end":return i.stop()}},r)}))}function jt(t,r,e){return H(this,void 0,void 0,m().mark(function i(){var a,o,c;return m().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),c=document.createElementNS(a,"foreignObject"),o.setAttribute("width","".concat(r)),o.setAttribute("height","".concat(e)),o.setAttribute("viewBox","0 0 ".concat(r," ").concat(e)),c.setAttribute("width","100%"),c.setAttribute("height","100%"),c.setAttribute("x","0"),c.setAttribute("y","0"),c.setAttribute("externalResourcesRequired","true"),o.appendChild(c),c.appendChild(t),g.abrupt("return",Yt(o));case 14:case"end":return g.stop()}},i)}))}var q={};function V(t,r){var e=function(t){var r=t.replace(/\?.*/,"");return/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),r}(t);if(null!=q[e])return q[e];r.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime());var a=window.fetch(t).then(function(o){return o.blob().then(function(c){return{blob:c,contentType:o.headers.get("Content-Type")||""}})}).then(function(o){var c=o.blob,s=o.contentType;return new Promise(function(g,l){var u=new FileReader;u.onloadend=function(){return g({contentType:s,blob:u.result})},u.onerror=l,u.readAsDataURL(c)})}).then(function(o){return{contentType:o.contentType,blob:Jt(o.blob)}}).catch(function(c){var s="";if(r.imagePlaceholder){var g=r.imagePlaceholder.split(/,/);g&&g[1]&&(s=g[1])}var l="Failed to fetch resource: ".concat(t);return c&&(l="string"==typeof c?c:c.message),l&&console.error(l),{blob:s,contentType:""}});return q[e]=a,a}function X(t,r,e){var i=window.getComputedStyle(t,e),a=i.getPropertyValue("content");if(""!==a&&"none"!==a){var o=Qt();try{r.className="".concat(r.className," ").concat(o)}catch(s){return}var c=document.createElement("style");c.appendChild(function(t,r,e){var i=".".concat(t,":").concat(r),a=e.cssText?function(t){var r=t.getPropertyValue("content");return"".concat(t.cssText," content: '").concat(r.replace(/'|"/g,""),"';")}(e):function(t){return O(t).map(function(r){var e=t.getPropertyValue(r),i=t.getPropertyPriority(r);return"".concat(r,": ").concat(e).concat(i?" !important":"",";")}).join(" ")}(e);return document.createTextNode("".concat(i,"{").concat(a,"}"))}(o,e,i)),r.appendChild(c)}}function Kt(t,r){X(t,r,":before"),X(t,r,":after")}var y=function(t,r,e,i){return new(e||(e=Promise))(function(o,c){function s(u){try{l(i.next(u))}catch(h){c(h)}}function g(u){try{l(i.throw(u))}catch(h){c(h)}}function l(u){u.done?o(u.value):function(o){return o instanceof e?o:new e(function(c){c(o)})}(u.value).then(s,g)}l((i=i.apply(t,r||[])).next())})};function tn(t){return y(this,void 0,void 0,m().mark(function r(){var e;return m().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("data:,"!==(e=t.toDataURL())){a.next=3;break}return a.abrupt("return",Promise.resolve(t.cloneNode(!1)));case 3:return a.abrupt("return",I(e));case 4:case"end":return a.stop()}},r)}))}function nn(t,r){return y(this,void 0,void 0,m().mark(function e(){return m().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Promise.resolve(t.poster).then(function(o){return V(o,r)}).then(function(o){return A(o.blob,T(t.poster)||o.contentType)}).then(function(o){return I(o)}));case 1:case"end":return a.stop()}},e)}))}function en(t,r){return y(this,void 0,void 0,m().mark(function e(){return m().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(t instanceof HTMLCanvasElement)){a.next=2;break}return a.abrupt("return",tn(t));case 2:if(!(t instanceof HTMLVideoElement&&t.poster)){a.next=4;break}return a.abrupt("return",nn(t,r));case 4:return a.abrupt("return",Promise.resolve(t.cloneNode(!1)));case 5:case"end":return a.stop()}},e)}))}var rn=function(r){return null!=r.tagName&&"SLOT"===r.tagName.toUpperCase()};function an(t,r,e){var i;return y(this,void 0,void 0,m().mark(function a(){var o;return m().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(0===(o=rn(t)&&t.assignedNodes?O(t.assignedNodes()):O((null!==(i=t.shadowRoot)&&void 0!==i?i:t).childNodes)).length||t instanceof HTMLVideoElement)){s.next=3;break}return s.abrupt("return",Promise.resolve(r));case 3:return s.abrupt("return",o.reduce(function(g,l){return g.then(function(){return z(l,e)}).then(function(u){u&&r.appendChild(u)})},Promise.resolve()).then(function(){return r}));case 4:case"end":return s.stop()}},a)}))}function cn(t,r){var e=window.getComputedStyle(t),i=r.style;!i||(e.cssText?i.cssText=e.cssText:O(e).forEach(function(a){i.setProperty(a,e.getPropertyValue(a),e.getPropertyPriority(a))}))}function on(t,r){t instanceof HTMLTextAreaElement&&(r.innerHTML=t.value),t instanceof HTMLInputElement&&r.setAttribute("value",t.value)}function sn(t,r){return y(this,void 0,void 0,m().mark(function e(){return m().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r instanceof Element){a.next=2;break}return a.abrupt("return",Promise.resolve(r));case 2:return a.abrupt("return",Promise.resolve().then(function(){return cn(t,r)}).then(function(){return Kt(t,r)}).then(function(){return on(t,r)}).then(function(){return r}));case 3:case"end":return a.stop()}},e)}))}function z(t,r,e){return y(this,void 0,void 0,m().mark(function i(){return m().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(e||!r.filter||r.filter(t)){o.next=2;break}return o.abrupt("return",Promise.resolve(null));case 2:return o.abrupt("return",Promise.resolve(t).then(function(c){return en(c,r)}).then(function(c){return an(t,c,r)}).then(function(c){return sn(t,c)}));case 3:case"end":return o.stop()}},i)}))}var un=f(7685),W=/url\((['"]?)([^'"]+?)\1\)/g,gn=/url\([^)]+\)\s*format\((["'])([^"']+)\1\)/g,mn=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function hn(t){var r=[];return t.replace(W,function(e,i,a){return r.push(a),e}),r.filter(function(e){return!F(e)})}function dn(t,r,e,i,a){var o=e?function(t,r){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;var e=document.implementation.createHTMLDocument(),i=e.createElement("base"),a=e.createElement("a");return e.head.appendChild(i),e.body.appendChild(a),r&&(i.href=r),a.href=t,a.href}(r,e):r;return Promise.resolve(o).then(function(c){return a?a(c):V(c,i)}).then(function(c){return"string"==typeof c?A(c,T(r)):A(c.blob,T(r)||c.contentType)}).then(function(c){return t.replace(function(t){var r=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp("(url\\(['\"]?)(".concat(r,")(['\"]?\\))"),"g")}(r),"$1".concat(c,"$3"))}).then(function(c){return c},function(){return o})}function pn(t,r){var e=r.preferredFontFormat;return e?t.replace(mn,function(i){for(;;){var a=gn.exec(i)||[],o=(0,un.Z)(a,3),s=o[2];if(!s)return"";if(s===e)return"src: ".concat(o[0],";")}}):t}function N(t){return-1!==t.search(W)}function K(t,r,e){return function(t,r,e,i){return new(e||(e=Promise))(function(o,c){function s(u){try{l(i.next(u))}catch(h){c(h)}}function g(u){try{l(i.throw(u))}catch(h){c(h)}}function l(u){u.done?o(u.value):function(o){return o instanceof e?o:new e(function(c){c(o)})}(u.value).then(s,g)}l((i=i.apply(t,r||[])).next())})}(this,void 0,void 0,m().mark(function i(){var a;return m().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(N(t)){c.next=2;break}return c.abrupt("return",Promise.resolve(t));case 2:return a=pn(t,e),c.abrupt("return",Promise.resolve(a).then(hn).then(function(s){return s.reduce(function(g,l){return g.then(function(u){return dn(u,l,r,e)})},Promise.resolve(a))}));case 4:case"end":return c.stop()}},i)}))}var E=function(t,r,e,i){return new(e||(e=Promise))(function(o,c){function s(u){try{l(i.next(u))}catch(h){c(h)}}function g(u){try{l(i.throw(u))}catch(h){c(h)}}function l(u){u.done?o(u.value):function(o){return o instanceof e?o:new e(function(c){c(o)})}(u.value).then(s,g)}l((i=i.apply(t,r||[])).next())})};function vn(t,r){var e;return E(this,void 0,void 0,m().mark(function i(){var a;return m().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(a=null===(e=t.style)||void 0===e?void 0:e.getPropertyValue("background")){c.next=3;break}return c.abrupt("return",Promise.resolve(t));case 3:return c.abrupt("return",Promise.resolve(a).then(function(s){return K(s,null,r)}).then(function(s){return t.style.setProperty("background",s,t.style.getPropertyPriority("background")),t}));case 4:case"end":return c.stop()}},i)}))}function Cn(t,r){return E(this,void 0,void 0,m().mark(function e(){var i;return m().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(t instanceof HTMLImageElement&&!F(t.src)||t instanceof SVGImageElement&&!F(t.href.baseVal)){o.next=2;break}return o.abrupt("return",Promise.resolve(t));case 2:return i=t instanceof HTMLImageElement?t.src:t.href.baseVal,o.abrupt("return",Promise.resolve(i).then(function(c){return V(c,r)}).then(function(c){return A(c.blob,T(i)||c.contentType)}).then(function(c){return new Promise(function(s,g){t.onload=s,t.onerror=g,t instanceof HTMLImageElement?(t.srcset="",t.src=c):t.href.baseVal=c})}).then(function(){return t},function(){return t}));case 4:case"end":return o.stop()}},e)}))}function Pn(t,r){return E(this,void 0,void 0,m().mark(function e(){var i,a;return m().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return i=O(t.childNodes),a=i.map(function(s){return tt(s,r)}),c.abrupt("return",Promise.all(a).then(function(){return t}));case 3:case"end":return c.stop()}},e)}))}function tt(t,r){return E(this,void 0,void 0,m().mark(function e(){return m().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t instanceof Element){a.next=2;break}return a.abrupt("return",Promise.resolve(t));case 2:return a.abrupt("return",Promise.resolve(t).then(function(o){return vn(o,r)}).then(function(o){return Cn(o,r)}).then(function(o){return Pn(o,r)}));case 3:case"end":return a.stop()}},e)}))}function Mn(t,r){var e=t.style;r.backgroundColor&&(e.backgroundColor=r.backgroundColor),r.width&&(e.width="".concat(r.width,"px")),r.height&&(e.height="".concat(r.height,"px"));var i=r.style;return null!=i&&Object.keys(i).forEach(function(a){e[a]=i[a]}),t}var b=function(t,r,e,i){return new(e||(e=Promise))(function(o,c){function s(u){try{l(i.next(u))}catch(h){c(h)}}function g(u){try{l(i.throw(u))}catch(h){c(h)}}function l(u){u.done?o(u.value):function(o){return o instanceof e?o:new e(function(c){c(o)})}(u.value).then(s,g)}l((i=i.apply(t,r||[])).next())})},nt={};function et(t){var r=nt[t];if(null!=r)return r;var e=window.fetch(t).then(function(i){return{url:t,cssText:i.text()}});return nt[t]=e,e}function rt(t){return b(this,void 0,void 0,m().mark(function r(){return m().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",t.cssText.then(function(a){var o=a,c=/url\(["']?([^"')]+)["']?\)/g,g=(o.match(/url\([^)]+\)/g)||[]).map(function(l){var u=l.replace(c,"$1");return u.startsWith("https://")||(u=new URL(u,t.url).href),window.fetch(u).then(function(h){return h.blob()}).then(function(h){return new Promise(function(w,p){var v=new FileReader;v.onloadend=function(){o=o.replace(l,"url(".concat(v.result,")")),w([l,v.result])},v.onerror=p,v.readAsDataURL(h)})})});return Promise.all(g).then(function(){return o})}));case 1:case"end":return i.stop()}},r)}))}function at(t){if(null==t)return[];for(var r=[],i=t.replace(/(\/\*[\s\S]*?\*\/)/gi,""),a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");;){var o=a.exec(i);if(null===o)break;r.push(o[0])}i=i.replace(a,"");for(var c=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,g=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");;){var l=c.exec(i);if(null===l){if(null===(l=g.exec(i)))break;c.lastIndex=g.lastIndex}else g.lastIndex=c.lastIndex;r.push(l[0])}return r}function On(t){return b(this,void 0,void 0,m().mark(function r(){var e,i;return m().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=[],i=[],t.forEach(function(c){if("cssRules"in c)try{O(c.cssRules).forEach(function(g,l){if(g.type===CSSRule.IMPORT_RULE){var u=l+1,w=et(g.href).then(function(p){return p?rt(p):""}).then(function(p){return at(p).forEach(function(v){try{c.insertRule(v,v.startsWith("@import")?u+=1:c.cssRules.length)}catch(In){console.error("Error inserting rule from remote css",{rule:v,error:In})}})}).catch(function(p){console.error("Error loading remote css",p.toString())});i.push(w)}})}catch(g){var s=t.find(function(l){return null==l.href})||document.styleSheets[0];null!=c.href&&i.push(et(c.href).then(function(l){return l?rt(l):""}).then(function(l){return at(l).forEach(function(u){s.insertRule(u,c.cssRules.length)})}).catch(function(l){console.error("Error loading remote stylesheet",l.toString())})),console.error("Error inlining remote css file",g.toString())}}),o.abrupt("return",Promise.all(i).then(function(){return t.forEach(function(c){if("cssRules"in c)try{O(c.cssRules).forEach(function(s){e.push(s)})}catch(s){console.error("Error while reading CSS rules from ".concat(c.href),s.toString())}}),e}));case 4:case"end":return o.stop()}},r)}))}function _n(t){return t.filter(function(r){return r.type===CSSRule.FONT_FACE_RULE}).filter(function(r){return N(r.style.getPropertyValue("src"))})}function yn(t){return b(this,void 0,void 0,m().mark(function r(){return m().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",new Promise(function(a,o){null==t.ownerDocument&&o(new Error("Provided element is not within a Document")),a(O(t.ownerDocument.styleSheets))}).then(function(a){return On(a)}).then(_n));case 1:case"end":return i.stop()}},r)}))}function wn(t,r){return b(this,void 0,void 0,m().mark(function e(){return m().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",yn(t).then(function(o){return Promise.all(o.map(function(c){return K(c.cssText,c.parentStyleSheet?c.parentStyleSheet.href:null,r)}))}).then(function(o){return o.join("\n")}));case 1:case"end":return a.stop()}},e)}))}function bn(t,r){return b(this,void 0,void 0,m().mark(function e(){return m().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(null!=r.fontEmbedCSS?Promise.resolve(r.fontEmbedCSS):wn(t,r)).then(function(o){var c=document.createElement("style"),s=document.createTextNode(o);return c.appendChild(s),t.firstChild?t.insertBefore(c,t.firstChild):t.appendChild(c),t}));case 1:case"end":return a.stop()}},e)}))}var _=function(t,r,e,i){return new(e||(e=Promise))(function(o,c){function s(u){try{l(i.next(u))}catch(h){c(h)}}function g(u){try{l(i.throw(u))}catch(h){c(h)}}function l(u){u.done?o(u.value):function(o){return o instanceof e?o:new e(function(c){c(o)})}(u.value).then(s,g)}l((i=i.apply(t,r||[])).next())})};function B(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=r.width||$t(t),i=r.height||Gt(t);return{width:e,height:i}}function Sn(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _(this,void 0,void 0,m().mark(function e(){var i,a,o;return m().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=B(t,r),a=i.width,o=i.height,s.abrupt("return",Promise.resolve(t).then(function(g){return z(g,r,!0)}).then(function(g){return bn(g,r)}).then(function(g){return tt(g,r)}).then(function(g){return Mn(g,r)}).then(function(g){return jt(g,a,o)}));case 2:case"end":return s.stop()}},e)}))}var d=16384;function Tn(t){(t.width>d||t.height>d)&&(t.width>d&&t.height>d?t.width>t.height?(t.height*=d/t.width,t.width=d):(t.width*=d/t.height,t.height=d):t.width>d?(t.height*=d/t.width,t.width=d):(t.width*=d/t.height,t.height=d))}function k(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _(this,void 0,void 0,m().mark(function e(){return m().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Sn(t,r).then(I).then(function(o){var c=document.createElement("canvas"),s=c.getContext("2d"),g=r.pixelRatio||Ht(),l=B(t,r),w=r.canvasWidth||l.width,p=r.canvasHeight||l.height;return c.width=w*g,c.height=p*g,r.skipAutoScale||Tn(c),c.style.width="".concat(w),c.style.height="".concat(p),r.backgroundColor&&(s.fillStyle=r.backgroundColor,s.fillRect(0,0,c.width,c.height)),s.drawImage(o,0,0,c.width,c.height),c}));case 1:case"end":return a.stop()}},e)}))}var Zn=f(4344),En=["itemElement"],kn=function(){var t=function(){function r(e){(0,P.Z)(this,r),this.itemElement=null,this.item=e.snapshot.data.item}return(0,C.Z)(r,[{key:"ngAfterViewInit",value:function(){var i=this;null!==this.itemElement&&function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _(this,void 0,void 0,m().mark(function e(){return m().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",k(t,r).then(function(o){return o.toDataURL()}));case 1:case"end":return a.stop()}},e)}))}(this.itemElement.nativeElement).then(function(a){var o=new Image;o.src=a,i.replaceContentByElement(o)}).catch(function(a){console.error("Image generation failed",a)})}},{key:"replaceContentByElement",value:function(i){for(var a;a=document.body.firstChild;)document.body.removeChild(a);document.body.appendChild(i)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(n.Y36(M.gz))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-view-item"]],viewQuery:function(e,i){var a;1&e&&n.Gf(En,7),2&e&&n.iGM(a=n.CRH())&&(i.itemElement=a.first)},decls:3,vars:2,consts:[[1,"content"],["itemElement",""],[3,"item","details"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0,1),n._UZ(2,"app-item-view",2),n.qZA()),2&e&&(n.xp6(2),n.Q6J("item",i.item)("details",!0))},directives:[Zn.F],styles:[".content[_ngcontent-%COMP%]{max-width:350px}"]}),t}(),it=f(8271),D=f(520),ct=f(4004),x=f(5581),xn=function(){var t=function(){function r(e){(0,P.Z)(this,r),this.http=e,this.PASTEE_KEY="utkdp1fltzudjX0XZ6qkP1RAxGn7c4NaNJ90278VN",this.PASTEE_CREATE_PATH="https://api.paste.ee/v1/pastes",this.PASTEE_GET_PATH="https://api.paste.ee/v1/pastes/"}return(0,C.Z)(r,[{key:"createPaste",value:function(i){var a=(new D.WM).append("Content-Type","application/json").append("X-Auth-Token",this.PASTEE_KEY);return this.http.post(this.PASTEE_CREATE_PATH,{sections:[{contents:i}]},{headers:a}).pipe((0,ct.U)(function(c){var s=null;try{var l=new URL(c.link).pathname.split("/");s=l[l.length-1]}catch(u){}return s}))}},{key:"getPaste",value:function(i){var a=(new D.WM).append("X-Auth-Token",this.PASTEE_KEY);return this.http.get(this.PASTEE_GET_PATH+i,{headers:a}).pipe((0,ct.U)(function(o){var c;return o.success?(0,x.lA)(null===(c=o.paste.sections[0])||void 0===c?void 0:c.contents):null}))}}]),r}();return t.\u0275fac=function(e){return new(e||t)(n.LFG(D.eN))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),J=f(8223),Q=function(){var t=function(){function r(e,i,a,o){(0,P.Z)(this,r),this.onlinePasteService=e,this.messageService=i,this.importExportService=a,this.router=o}return(0,C.Z)(r,[{key:"back",value:function(){this.router.navigateByUrl("/")}},{key:"resolve",value:function(i){var a=this;return new Promise(function(){var o=(0,x.lA)(i.params.key);null!==o?a.onlinePasteService.getPaste(o).subscribe(function(c){if(c){var s=a.importExportService.import(c);null!==s.character?location.href=a.importExportService.exportCharacterAsLink(s.character):(a.messageService.error("Failed to load shared character"),a.back())}else a.messageService.error("Failed to load shared character"),a.back()},function(){a.messageService.error("Failed to load shared character"),a.back()}):a.back()})}}]),r}();return t.\u0275fac=function(e){return new(e||t)(n.LFG(xn),n.LFG(J.e),n.LFG(it.s),n.LFG(M.F0))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t}(),ot=function(){var t=function(){function r(e,i,a){(0,P.Z)(this,r),this.importExportService=e,this.messageService=i,this.router=a}return(0,C.Z)(r,[{key:"back",value:function(){this.router.navigateByUrl("/")}},{key:"resolve",value:function(i){var a=this;return new Promise(function(o){var c=(0,x.lA)(i.params.key);if(null!==c){var s=a.importExportService.import(c);null!==s.character?o(s.character):(a.messageService.error("Failed to load shared character"),a.back())}else a.back()})}}]),r}();return t.\u0275fac=function(e){return new(e||t)(n.LFG(it.s),n.LFG(J.e),n.LFG(M.F0))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t}(),Ln=f(5458),st=function(){var t=function(){function r(e,i,a){(0,P.Z)(this,r),this.slormancerShortDataService=e,this.messageService=i,this.router=a}return(0,C.Z)(r,[{key:"back",value:function(){this.router.navigateByUrl("/")}},{key:"resolve",value:function(i){var a=this;return new Promise(function(o){var c=(0,x.lA)(i.params.key);if(null!==c){var s=a.slormancerShortDataService.shortDataToItem(c);null!==s?o(s):(a.messageService.error("Failed to load item"),a.back())}else a.back()})}}]),r}();return t.\u0275fac=function(e){return new(e||t)(n.LFG(Ln.q),n.LFG(J.e),n.LFG(M.F0))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t}(),Rn=[{path:"build/:key",component:U,resolve:{character:ot}},{path:"item/:key",component:kn,resolve:{item:st}},{path:":key/:name",component:U,resolve:{character:Q}},{path:":key",component:U,resolve:{character:Q}}],Un=function(){var t=(0,C.Z)(function r(){(0,P.Z)(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[ot,st,Q],imports:[[M.Bz.forChild(Rn)],M.Bz]}),t}(),Fn=function(){var t=(0,C.Z)(function r(){(0,P.Z)(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[],imports:[[L.ez,lt.m,Un,ut.U8,S.u5]]}),t}()}}]);