"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[928],{6446:function(se,ee,a){a.d(ee,{B:function(){return e}});var R=a(5671),F=a(3144),t=a(7579),m=a(5542),e=function(){var _=function(){function D(){(0,R.Z)(this,D),this.unsubscribe=new t.x}return(0,F.Z)(D,[{key:"ngOnDestroy",value:function(){this.unsubscribe.next(),this.unsubscribe.complete()}}]),D}();return _.\u0275fac=function(Y){return new(Y||_)},_.\u0275cmp=m.Xpm({type:_,selectors:[["ng-component"]],decls:0,vars:0,template:function(Y,A){},encapsulation:2}),_}()},3662:function(se,ee,a){a.d(ee,{Z:function(){return P}});var R=a(4902),F=a(5671),t=a(3144),m=a(136),e=a(7777),_=a(5542),D=a(2525),Y=a(5581),A=a(311),L=a(7469),y=a(6446),u=a(9776),s=a(9808),c=a(9065),f=a(8003);function O(h,B){if(1&h&&_._UZ(0,"app-ancestral-legacy-view",11),2&h){var T=_.oxw(3);_.Q6J("ancestralLegacy",T.activable)("hideNextRank",!0)}}function Z(h,B){if(1&h&&_._UZ(0,"app-activable-view",12),2&h){var T=_.oxw(3);_.Q6J("activable",T.activable)}}function w(h,B){if(1&h&&(_.YNc(0,O,1,2,"app-ancestral-legacy-view",9),_.YNc(1,Z,1,1,"app-activable-view",10)),2&h){var T=_.oxw(2);_.Q6J("ngIf",T.isAncestralLegacy(T.activable)),_.xp6(1),_.Q6J("ngIf",T.isActivable(T.activable))}}function l(h,B){if(1&h&&(_.ynx(0),_._UZ(1,"img",7),_.YNc(2,w,2,2,"ng-template",8),_.BQk()),2&h){var T=_.oxw(),K=_.MAs(1);_.xp6(1),_.Q6J("src",T.activable.icon,_.LSH),_.xp6(1),_.Q6J("cdkConnectedOverlayOpen",T.showOverlay)("cdkConnectedOverlayOrigin",K)}}function k(h,B){if(1&h){var T=_.EpF();_.TgZ(0,"button",13),_.NdJ("click",function(){var ge=_.CHM(T).$implicit;return _.oxw(2).updateActivable(ge)}),_.TgZ(1,"div",14),_._UZ(2,"img",19),_.TgZ(3,"div",16),_.TgZ(4,"div",20),_._uU(5),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&h){var K=B.$implicit,V=_.oxw(2);_.xp6(1),_.ekj("selected",V.isSelectedActivable(K)),_.xp6(1),_.Q6J("src",K.icon,_.LSH),_.xp6(3),_.Oqu(K.name)}}function g(h,B){if(1&h){var T=_.EpF();_.TgZ(0,"button",13),_.NdJ("click",function(){return _.CHM(T),_.oxw().updateActivable(null)}),_.TgZ(1,"div",14),_._UZ(2,"div",15),_.TgZ(3,"div",16),_.TgZ(4,"div",17),_._uU(5,"Remove activable"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.YNc(6,k,6,4,"button",18)}if(2&h){var K=_.oxw();_.xp6(6),_.Q6J("ngForOf",K.getAvailableActivables())}}var P=function(){var h=function(B){(0,m.Z)(K,B);var T=(0,e.Z)(K);function K(V,le){var j;return(0,F.Z)(this,K),(j=T.call(this)).buildStorageService=V,j.itemMoveService=le,j.activable=null,j.readonly=!1,j.changed=new _.vpe,j.menu=null,j.showOverlay=!1,j}return(0,t.Z)(K,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"onMouseContextMenu",value:function(){return this.itemMoveService.releaseHoldItem(),null!==this.menu&&!this.readonly&&this.menu.openMenu(),!1}},{key:"onMouseClick",value:function(){return this.itemMoveService.releaseHoldItem(),null!==this.menu&&!this.readonly&&this.menu.openMenu(),!1}},{key:"ngOnInit",value:function(){}},{key:"isAncestralLegacy",value:function(le){return void 0!==le.element}},{key:"isActivable",value:function(le){return void 0===le.element}},{key:"getAvailableActivables",value:function(){var le=[],j=this.buildStorageService.getLayer();if(null!==j){var ge=[j.character.gear.amulet,j.character.gear.belt,j.character.gear.body,j.character.gear.boot,j.character.gear.bracer,j.character.gear.cape,j.character.gear.glove,j.character.gear.helm,j.character.gear.ring_l,j.character.gear.ring_r,j.character.gear.shoulder].map(function(ae){return null!==ae&&null!==ae.legendaryEffect?ae.legendaryEffect.activable:null}).filter(Y.BX).sort(function(ae,fe){return-(0,Y.qu)(ae.level,fe.level)}).filter(function(ae,fe,N){return(0,Y.mr)(ae,fe,N,function(G,b){return G.id===b.id})}),me=null===j.character.reaper?[]:j.character.reaper.activables,ue=j.character.ancestralLegacies.activeAncestralLegacies.map(function(ae){return j.character.ancestralLegacies.ancestralLegacies[ae]}).filter(Y.BX).filter(function(ae){return ae.isActivable});le=[].concat((0,R.Z)(ge),(0,R.Z)(me),(0,R.Z)(ue))}return le}},{key:"isSelectedActivable",value:function(le){var j=this.buildStorageService.getLayer();return null!==j&&(j.character.activable1===le||j.character.activable2===le||j.character.activable3===le||j.character.activable4===le)}},{key:"updateActivable",value:function(le){this.activable!==le&&this.changed.emit(le)}}]),K}(y.B);return h.\u0275fac=function(T){return new(T||h)(_.Y36(A.x),_.Y36(L.v))},h.\u0275cmp=_.Xpm({type:h,selectors:[["app-activable-slot"]],viewQuery:function(T,K){var V;1&T&&_.Gf(D.p6,7),2&T&&_.iGM(V=_.CRH())&&(K.menu=V.first)},hostBindings:function(T,K){1&T&&_.NdJ("mouseenter",function(){return K.onOver()})("mouseleave",function(){return K.onLeave()})("contextmenu",function(){return K.onMouseContextMenu()})("click",function(){return K.onMouseClick()})},inputs:{activable:"activable",readonly:"readonly"},outputs:{changed:"changed"},features:[_.qOj],decls:7,vars:2,consts:[["cdkOverlayOrigin","",1,"skill"],["trigger","cdkOverlayOrigin"],[4,"ngIf"],[3,"matMenuTriggerFor"],["yPosition","above"],["menu","matMenu"],["matMenuContent",""],[3,"src"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"ancestralLegacy","hideNextRank",4,"ngIf"],[3,"activable",4,"ngIf"],[3,"ancestralLegacy","hideNextRank"],[3,"activable"],["mat-menu-item","",3,"click"],[1,"skill-menu-entry"],[1,"skill"],[1,"description"],[1,"subtitle"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"skill",3,"src"],[1,"name"]],template:function(T,K){if(1&T&&(_.TgZ(0,"div",0,1),_.YNc(2,l,3,3,"ng-container",2),_._UZ(3,"div",3),_.TgZ(4,"mat-menu",4,5),_.YNc(6,g,7,1,"ng-template",6),_.qZA(),_.qZA()),2&T){var V=_.MAs(5);_.xp6(2),_.Q6J("ngIf",null!==K.activable),_.xp6(1),_.Q6J("matMenuTriggerFor",V)}},directives:[u.xu,s.O5,u.pI,c.q,f.K,D.p6,D.VK,D.KA,D.OP,s.sg],styles:["[_nghost-%COMP%]{min-width:42px;height:42px;min-height:42px;display:block;overflow:hidden}.skill[_ngcontent-%COMP%]{width:42px;min-width:42px;height:42px;min-height:42px;border:4px solid black;position:relative;background-color:#131313}.skill.support[_ngcontent-%COMP%]{width:84px;min-width:84px}.skill[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.skill-menu-entry[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:8px}.skill-menu-entry[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]{border:4px solid #353535}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{line-height:normal;font-weight:700;text-transform:uppercase}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{line-height:normal}.skill-menu-entry.selected[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]{border-color:#edd371;line-height:0}.skill-menu-entry.selected[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#edd371}app-item-view[_ngcontent-%COMP%]{width:350px}"]}),h}()},8003:function(se,ee,a){a.d(ee,{K:function(){return A}});var R=a(3144),F=a(5671),t=a(5542),m=a(9808);function e(L,y){if(1&L&&t._UZ(0,"div",11),2&L){var u=t.oxw(2);t.Q6J("innerHTML",u.activable.genresLabel,t.oJD)}}function _(L,y){if(1&L&&t._UZ(0,"div",12),2&L){var u=t.oxw(2);t.Q6J("innerHTML",u.activable.cooldownLabel,t.oJD)}}function D(L,y){if(1&L&&t._UZ(0,"div",13),2&L){var u=t.oxw(2);t.Q6J("innerHTML",u.activable.costLabel,t.oJD)}}function Y(L,y){if(1&L&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t._UZ(3,"img",4),t.qZA(),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t._uU(6),t.qZA(),t.YNc(7,e,1,1,"div",7),t.YNc(8,_,1,1,"div",8),t.YNc(9,D,1,1,"div",9),t.qZA(),t.qZA(),t._UZ(10,"div",10),t.qZA()),2&L){var u=t.oxw();t.xp6(3),t.Q6J("src",u.activable.icon,t.LSH),t.xp6(3),t.Oqu(u.activable.name),t.xp6(1),t.Q6J("ngIf",null!==u.activable.genresLabel),t.xp6(1),t.Q6J("ngIf",null!==u.activable.cooldownLabel),t.xp6(1),t.Q6J("ngIf",null!==!u.activable.costLabel),t.xp6(1),t.Q6J("innerHTML",u.activable.description,t.oJD)}}var A=function(){var L=(0,R.Z)(function y(){(0,F.Z)(this,y),this.activable=null,this.reinforcment=0});return L.\u0275fac=function(u){return new(u||L)},L.\u0275cmp=t.Xpm({type:L,selectors:[["app-activable-view"]],inputs:{activable:"activable",reinforcment:"reinforcment"},decls:1,vars:1,consts:[["class","activable",4,"ngIf"],[1,"activable"],[1,"activable-head"],[1,"icon"],[3,"src"],[1,"info"],[1,"name"],["class","genre",3,"innerHTML",4,"ngIf"],["class","cooldown",3,"innerHTML",4,"ngIf"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"description",3,"innerHTML"],[1,"genre",3,"innerHTML"],[1,"cooldown",3,"innerHTML"],[1,"cost",3,"innerHTML"]],template:function(u,s){1&u&&t.YNc(0,Y,11,6,"div",0),2&u&&t.Q6J("ngIf",null!==s.activable)},directives:[m.O5],styles:[".activable[_ngcontent-%COMP%]{background-color:#151412;border:3px solid black;color:#fff;padding:5px;display:flex;flex-direction:column;gap:5px}.activable[_ngcontent-%COMP%]  .value{color:#ce4607}.activable[_ngcontent-%COMP%]  .range, .activable[_ngcontent-%COMP%]  .range .value, .activable[_ngcontent-%COMP%]  .details, .activable[_ngcontent-%COMP%]  .details .value, .activable[_ngcontent-%COMP%]  .formula, .activable[_ngcontent-%COMP%]  .formula .value{color:#686868}.activable[_ngcontent-%COMP%]  .affixes .range, .activable[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.activable[_ngcontent-%COMP%]  .life{color:#257539}.activable[_ngcontent-%COMP%]  .mana{color:#3397dd}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:5px}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;align-items:center;border:4px solid #be871f;min-width:44px;min-height:44px;width:44px;height:44px}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid black;min-width:36px;min-height:36px;width:36px;height:36px}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:19px;color:#ce4607}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.activable[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}"]}),L}()},9713:function(se,ee,a){a.d(ee,{y:function(){return Z}});var R=a(5671),F=a(3144),t=a(136),m=a(7777),e=a(5542),_=a(2722),D=a(9184),Y=a(311),A=a(2424),L=a(6446),y=a(9808),u=a(9776),s=a(9065);function c(w,l){if(1&w&&e._UZ(0,"app-ancestral-legacy-view",8),2&w){var k=e.oxw(3);e.Q6J("ancestralLegacy",k.ancestralLegacy)}}function f(w,l){if(1&w&&e.YNc(0,c,1,1,"ng-template",7),2&w){e.oxw();var k=e.MAs(1),g=e.oxw();e.Q6J("cdkConnectedOverlayOpen",g.showOverlay)("cdkConnectedOverlayOrigin",k)}}function O(w,l){if(1&w){var k=e.EpF();e.TgZ(0,"div",1,2),e.NdJ("click",function(){return e.CHM(k),e.oxw().increasesRank()})("contextmenu",function(){return e.CHM(k),e.oxw().decreasesRank()}),e.TgZ(2,"div",3),e._UZ(3,"img",4),e.qZA(),e.TgZ(4,"div",5),e._uU(5),e.qZA(),e.YNc(6,f,1,2,void 0,6),e.qZA()}if(2&w){var g=e.oxw();e.ekj("ranked",g.ancestralLegacy.baseRank>0)("equipped",g.equipped)("selected",g.selected)("readonly",g.readonly)("hidden-search",g.hiddenBySearch),e.xp6(3),e.Q6J("src",g.ancestralLegacy.icon,e.LSH),e.xp6(1),e.ekj("max",g.ancestralLegacy.rank===g.ancestralLegacy.maxRank),e.xp6(1),e.Oqu(g.ancestralLegacy.rank===g.ancestralLegacy.maxRank?"Max":g.ancestralLegacy.rank),e.xp6(1),e.Q6J("ngIf",g.showOverlay&&g.overlay)}}var Z=function(){var w=function(l){(0,t.Z)(g,l);var k=(0,m.Z)(g);function g(P,h,B){var T;return(0,R.Z)(this,g),(T=k.call(this)).searchService=P,T.slormancerAncestralLegacyService=h,T.buildStorageService=B,T.ancestralLegacy=null,T.equipped=!1,T.selected=!1,T.readonly=!1,T.overlay=!1,T.changed=new e.vpe,T.showOverlay=!1,T.hiddenBySearch=!1,T}return(0,F.Z)(g,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"ngOnInit",value:function(){var h=this;this.searchService.searchChanged.pipe((0,_.R)(this.unsubscribe)).subscribe(function(B){return h.hiddenBySearch=null!==B&&null!==h.ancestralLegacy&&!h.searchService.ancestralLegacyMatchSearch(h.ancestralLegacy)})}},{key:"setRank",value:function(h,B){h.baseRank!==B&&this.selected&&(this.slormancerAncestralLegacyService.updateAncestralLegacyModel(h,B),this.slormancerAncestralLegacyService.updateAncestralLegacyView(h),this.buildStorageService.saveLayer())}},{key:"increasesRank",value:function(){return null!==this.ancestralLegacy&&(this.setRank(this.ancestralLegacy,Math.max(0,this.ancestralLegacy.baseRank+1)),this.changed.emit(this.ancestralLegacy)),!1}},{key:"decreasesRank",value:function(){return null!==this.ancestralLegacy&&(this.setRank(this.ancestralLegacy,Math.max(0,this.ancestralLegacy.baseRank-1)),this.changed.emit(this.ancestralLegacy)),!1}}]),g}(L.B);return w.\u0275fac=function(k){return new(k||w)(e.Y36(A.o),e.Y36(D.O),e.Y36(Y.x))},w.\u0275cmp=e.Xpm({type:w,selectors:[["app-ancestral-legacy-slot"]],hostBindings:function(k,g){1&k&&e.NdJ("mouseenter",function(){return g.onOver()})("mouseleave",function(){return g.onLeave()})},inputs:{ancestralLegacy:"ancestralLegacy",equipped:"equipped",selected:"selected",readonly:"readonly",overlay:"overlay"},outputs:{changed:"changed"},features:[e.qOj],decls:1,vars:1,consts:[["class","ancestral-legacy","cdkOverlayOrigin","",3,"ranked","equipped","selected","readonly","hidden-search","click","contextmenu",4,"ngIf"],["cdkOverlayOrigin","",1,"ancestral-legacy",3,"click","contextmenu"],["trigger","cdkOverlayOrigin"],[1,"inner"],[3,"src"],[1,"rank"],[4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"ancestralLegacy"]],template:function(k,g){1&k&&e.YNc(0,O,7,15,"div",0),2&k&&e.Q6J("ngIf",null!==g.ancestralLegacy)},directives:[y.O5,u.xu,u.pI,s.q],styles:[".ancestral-legacy[_ngcontent-%COMP%]{position:relative;z-index:1;border-radius:50%;border:1px solid transparent}.ancestral-legacy[_ngcontent-%COMP%]:not(.readonly){cursor:pointer}.ancestral-legacy.selected[_ngcontent-%COMP%]{border:1px solid #841e06}.ancestral-legacy.hidden-search[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{opacity:.1}.ancestral-legacy.ranked.equipped[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{background-color:#d5ad48}.ancestral-legacy[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{position:absolute;background-color:#202020;padding:0 2px;bottom:0;right:0;font-size:4px;border-radius:4px}.ancestral-legacy[_ngcontent-%COMP%]   .rank.max[_ngcontent-%COMP%]{color:#edd371}.ancestral-legacy[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:#202020;border:1px solid black;border-radius:50%;width:16px;height:16px}.ancestral-legacy[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid black;width:12px;height:12px;border-radius:50%;overflow:hidden}.ancestral-legacy.readonly[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{width:40px;height:40px;border-width:4px}.ancestral-legacy.readonly[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-width:0;width:34px;height:34px}.ancestral-legacy.readonly[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{font-size:10px}"]}),w}()},9065:function(se,ee,a){a.d(ee,{q:function(){return y}});var R=a(3144),F=a(5671),t=a(8313),m=a(5542),e=a(9808),_=a(5895);function D(u,s){if(1&u&&m._UZ(0,"div",17),2&u){var c=m.oxw(2);m.Q6J("innerHTML",c.ancestralLegacy.genresLabel,m.oJD)}}function Y(u,s){if(1&u&&m._UZ(0,"div",18),2&u){var c=m.oxw(2);m.Q6J("innerHTML",c.ancestralLegacy.cooldownLabel,m.oJD)}}function A(u,s){if(1&u&&m._UZ(0,"div",19),2&u){var c=m.oxw(2);m.Q6J("innerHTML",c.ancestralLegacy.costLabel,m.oJD)}}function L(u,s){if(1&u&&(m.TgZ(0,"div"),m.TgZ(1,"div",1),m._uU(2),m.qZA(),m.TgZ(3,"div",2),m.TgZ(4,"div",3),m.TgZ(5,"div",4),m.TgZ(6,"div",5),m._UZ(7,"div",6),m._UZ(8,"img",7),m.qZA(),m.qZA(),m.TgZ(9,"div",8),m._UZ(10,"div",9),m.YNc(11,D,1,1,"div",10),m.YNc(12,Y,1,1,"div",11),m._UZ(13,"div",12),m.YNc(14,A,1,1,"div",13),m.qZA(),m.qZA(),m._UZ(15,"div",14),m._UZ(16,"div",15),m._UZ(17,"app-mechanics-view",16),m.qZA(),m.qZA()),2&u){var c=m.oxw();m.Gre("ancestral-legacy ",c.ancestralLegacy.damageTypes.length>0?c.ancestralLegacy.damageTypes[0]:"",""),m.xp6(2),m.Oqu(c.ancestralLegacy.name),m.xp6(6),m.Q6J("src",c.ancestralLegacy.icon,m.LSH),m.xp6(2),m.Q6J("innerHTML",c.ancestralLegacy.typeLabel,m.oJD),m.xp6(1),m.Q6J("ngIf",null!==c.ancestralLegacy.genresLabel),m.xp6(1),m.Q6J("ngIf",null!==c.ancestralLegacy.cooldownLabel),m.xp6(1),m.Q6J("innerHTML",c.ancestralLegacy.rankLabel,m.oJD),m.xp6(1),m.Q6J("ngIf",null!==c.ancestralLegacy.costLabel),m.xp6(2),m.Q6J("innerHTML",c.ancestralLegacy.description,m.oJD),m.xp6(1),m.Q6J("mechanics",c.ancestralLegacy.relatedMechanics)("buffs",c.ancestralLegacy.relatedBuffs)}}var y=function(){var u=(0,R.Z)(function s(c){(0,F.Z)(this,s),this.slormancerTranslateService=c,this.NEXT_RANK_LABEL=this.slormancerTranslateService.translate("tt_next_rank"),this.MAX_RANK_LABEL=this.slormancerTranslateService.translate("tt_max_rank"),this.ancestralLegacy=null,this.hideNextRank=!1});return u.\u0275fac=function(c){return new(c||u)(m.Y36(t.n))},u.\u0275cmp=m.Xpm({type:u,selectors:[["app-ancestral-legacy-view"]],inputs:{ancestralLegacy:"ancestralLegacy",hideNextRank:"hideNextRank"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head"],[1,"content"],[1,"info"],[1,"visual"],[1,"icon"],[1,"icon-border"],[3,"src"],[1,"data"],[1,"type",3,"innerHTML"],["class","genre",3,"innerHTML",4,"ngIf"],["class","cooldown",3,"innerHTML",4,"ngIf"],[1,"rank",3,"innerHTML"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"separator"],[1,"description",3,"innerHTML"],[3,"mechanics","buffs"],[1,"genre",3,"innerHTML"],[1,"cooldown",3,"innerHTML"],[1,"cost",3,"innerHTML"]],template:function(c,f){1&c&&m.YNc(0,L,18,13,"div",0),2&c&&m.Q6J("ngIf",null!==f.ancestralLegacy)},directives:[e.O5,_.A],styles:[".ancestral-legacy[_ngcontent-%COMP%]{background-color:#090909;border:3px solid black;color:#fff;display:flex;flex-direction:column;max-width:400px}.ancestral-legacy[_ngcontent-%COMP%]  .description .value{color:#ce4607}.ancestral-legacy[_ngcontent-%COMP%]  .next-rank .value, .ancestral-legacy[_ngcontent-%COMP%]  .head, .ancestral-legacy[_ngcontent-%COMP%]  .rank .current, .ancestral-legacy[_ngcontent-%COMP%]  .cooldown .value{color:#bb1fe2}.ancestral-legacy[_ngcontent-%COMP%]  .range, .ancestral-legacy[_ngcontent-%COMP%]  .range .value, .ancestral-legacy[_ngcontent-%COMP%]  .details, .ancestral-legacy[_ngcontent-%COMP%]  .details .value, .ancestral-legacy[_ngcontent-%COMP%]  .formula, .ancestral-legacy[_ngcontent-%COMP%]  .formula .value{color:#686868}.ancestral-legacy[_ngcontent-%COMP%]  .affixes .range, .ancestral-legacy[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.ancestral-legacy[_ngcontent-%COMP%]  .life{color:#257539}.ancestral-legacy[_ngcontent-%COMP%]  .mana{color:#3397dd}.ancestral-legacy.mag[_ngcontent-%COMP%]  .value:not(.mana){color:#bb1fe2}.ancestral-legacy[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:3px solid #3c3931}.ancestral-legacy[_ngcontent-%COMP%]   .head.head[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.head[_ngcontent-%COMP%]{text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;padding:10px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;gap:10px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{display:flex;align-items:center}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border:3px solid #be871f;min-width:60px;min-height:60px;width:60px;height:60px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black;image-rendering:pixelated;width:54px;height:54px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-transform:uppercase;height:100%;flex-grow:1;padding:5px 0;gap:5px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#3155bc}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]{display:flex;flex-direction:row}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{min-width:8px;padding-right:8px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;background-color:#ce4607;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}"]}),u}()},3729:function(se,ee,a){a.d(ee,{g:function(){return fe}});var R=a(5671),F=a(3144),t=a(2652),m=a(311),e=a(5542),_=a(9808),D=a(9776),Y=a(136),A=a(7777),L=a(2722),y=a(2031),u=a(2424),s=a(6446);function c(N,G){if(1&N&&e._UZ(0,"div",9),2&N){var b=e.oxw(2);e.Q6J("innerHTML",b.trait.cumulativeStats,e.oJD)}}function f(N,G){if(1&N&&e._UZ(0,"div",9),2&N){var b=e.oxw(2);e.Q6J("innerHTML",b.trait.description,e.oJD)}}function O(N,G){if(1&N&&(e.ynx(0),e._UZ(1,"div",10),e._UZ(2,"div",11),e.BQk()),2&N){var b=e.oxw(2);e.xp6(2),e.Q6J("innerHTML",b.trait.unlockLabel,e.oJD)}}function Z(N,G){if(1&N&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"span",4),e._uU(6),e.qZA(),e._uU(7," - "),e.TgZ(8,"span",5),e._uU(9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",6),e.YNc(11,c,1,1,"div",7),e.YNc(12,f,1,1,"div",7),e.YNc(13,O,3,1,"ng-container",8),e.qZA(),e.qZA()),2&N){var b=e.oxw();e.Gre("trait attribute-",b.trait.attribute,""),e.xp6(3),e.Oqu(b.trait.attributeName),e.xp6(3),e.Oqu(b.trait.rankLabel),e.xp6(3),e.Oqu(b.trait.traitLevelLabel),e.xp6(2),e.Q6J("ngIf",null!==b.trait.cumulativeStats),e.xp6(1),e.Q6J("ngIf",null!==b.trait.description),e.xp6(1),e.Q6J("ngIf",null!==b.trait.unlockLabel)}}var w=function(){var N=(0,F.Z)(function G(){(0,R.Z)(this,G),this.trait=null});return N.\u0275fac=function(b){return new(b||N)},N.\u0275cmp=e.Xpm({type:N,selectors:[["app-trait-view"]],inputs:{trait:"trait"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head"],[1,"attribute"],[1,"subtitle"],[1,"rank"],[1,"level"],[1,"content"],["class","description",3,"innerHTML",4,"ngIf"],[4,"ngIf"],[1,"description",3,"innerHTML"],[1,"separator"],[1,"unlock",3,"innerHTML"]],template:function(b,q){1&b&&e.YNc(0,Z,14,9,"div",0),2&b&&e.Q6J("ngIf",null!==q.trait)},directives:[_.O5],styles:[".trait[_ngcontent-%COMP%]{background-color:#151412;border:3px solid black;color:#fff;display:flex;flex-direction:column;gap:5px;min-width:250px}.trait.attribute-0[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]     .value{color:#2f5996}.trait.attribute-1[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]     .value{color:#a83007}.trait.attribute-2[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]     .value{color:#79b549}.trait.attribute-3[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]     .value{color:#d0b545}.trait.attribute-4[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]     .value{color:#4bc1b2}.trait.attribute-5[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]     .value{color:#753098}.trait.attribute-6[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]     .value{color:#cd7028}.trait.attribute-7[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]     .value{color:#bf3c59}.trait[_ngcontent-%COMP%]  .range, .trait[_ngcontent-%COMP%]  .range .value, .trait[_ngcontent-%COMP%]  .details, .trait[_ngcontent-%COMP%]  .details .value, .trait[_ngcontent-%COMP%]  .formula, .trait[_ngcontent-%COMP%]  .formula .value{color:#686868}.trait[_ngcontent-%COMP%]  .affixes .range, .trait[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:3px solid #3c3931}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-transform:uppercase;padding:10px;gap:2px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .attribute[_ngcontent-%COMP%]{font-size:19px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px 10px;gap:20px;text-align:center}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}"]}),N}();function l(N,G){1&N&&e._UZ(0,"div",7)}function k(N,G){if(1&N&&e._UZ(0,"app-trait-view",9),2&N){var b=e.oxw(3);e.Q6J("trait",b.trait)}}function g(N,G){if(1&N&&e.YNc(0,k,1,1,"ng-template",8),2&N){e.oxw();var b=e.MAs(1),q=e.oxw();e.Q6J("cdkConnectedOverlayOpen",q.isMouseOver)("cdkConnectedOverlayOrigin",b)}}function P(N,G){if(1&N&&(e.TgZ(0,"div",1,2),e.YNc(2,l,1,0,"div",3),e.TgZ(3,"div",4),e._UZ(4,"div",5),e.qZA(),e.YNc(5,g,1,2,void 0,6),e.qZA()),2&N){var b=e.oxw();e.Gre("trait attribute-",b.trait.attribute,""),e.ekj("first",b.first)("last",b.last)("minor",b.isMinor(b.trait))("major",b.isMajor(b.trait))("greater",b.isGreater(b.trait))("active",b.unlocked)("bonus",b.bonus)("highlight",b.highlight)("hidden-by-search",b.isHiddenBySearch),e.xp6(2),e.Q6J("ngIf",b.trait.additive),e.xp6(3),e.Q6J("ngIf",b.isMouseOver)}}var h=function(){var N=function(G){(0,Y.Z)(q,G);var b=(0,A.Z)(q);function q(te){var S;return(0,R.Z)(this,q),(S=b.call(this)).searchService=te,S.trait=null,S.first=!1,S.last=!1,S.highlight=!1,S.unlocked=!1,S.bonus=!1,S.isMouseOver=!1,S.isHiddenBySearch=!1,S}return(0,F.Z)(q,[{key:"onMouseEnter",value:function(){this.isMouseOver=!0}},{key:"onMouseLeave",value:function(){this.isMouseOver=!1}},{key:"ngOnInit",value:function(){var S=this;this.searchService.searchChanged.pipe((0,L.R)(this.unsubscribe)).subscribe(function(){return S.isHiddenBySearch=null!==S.trait&&!S.searchService.traitMatchSearch(S.trait)})}},{key:"isMinor",value:function(S){return S.traitLevel===y.y.Minor}},{key:"isMajor",value:function(S){return S.traitLevel===y.y.Major}},{key:"isGreater",value:function(S){return S.traitLevel===y.y.Greater}}]),q}(s.B);return N.\u0275fac=function(b){return new(b||N)(e.Y36(u.o))},N.\u0275cmp=e.Xpm({type:N,selectors:[["app-trait"]],hostBindings:function(b,q){1&b&&e.NdJ("mouseenter",function(){return q.onMouseEnter()})("mouseleave",function(){return q.onMouseLeave()})},inputs:{trait:"trait",first:"first",last:"last",highlight:"highlight",unlocked:"unlocked",bonus:"bonus"},features:[e.qOj],decls:1,vars:1,consts:[["cdkOverlayOrigin","",3,"class","first","last","minor","major","greater","active","bonus","highlight","hidden-by-search",4,"ngIf"],["cdkOverlayOrigin",""],["trigger","cdkOverlayOrigin"],["class","additive",4,"ngIf"],[1,"content"],[1,"node"],[4,"ngIf"],[1,"additive"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"trait"]],template:function(b,q){1&b&&e.YNc(0,P,6,23,"div",0),2&b&&e.Q6J("ngIf",null!==q.trait)},directives:[_.O5,D.xu,D.pI,w],styles:[".trait[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;position:relative;height:54px;width:8px;overflow:hidden;cursor:pointer}.trait.hidden-by-search[_ngcontent-%COMP%]{opacity:.2}.trait[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{position:absolute;width:4px;height:36px;left:4px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;border:4px solid black;background-color:#353535;overflow:hidden;border-left-width:0;border-right-width:0;height:30px;z-index:1}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{border:2px solid black;background-color:#202020;height:14px}.trait.attribute-0.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#2f5996}.trait.attribute-0.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#2f59964d}.trait.attribute-1.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#a83007}.trait.attribute-1.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#a830074d}.trait.attribute-2.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#79b549}.trait.attribute-2.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#79b5494d}.trait.attribute-3.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#d0b545}.trait.attribute-3.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#d0b5454d}.trait.attribute-4.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#4bc1b2}.trait.attribute-4.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#4bc1b24d}.trait.attribute-5.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#753098}.trait.attribute-5.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#7530984d}.trait.attribute-6.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#cd7028}.trait.attribute-6.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#cd70284d}.trait.attribute-7.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#bf3c59}.trait.attribute-7.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#bf3c594d}.trait.bonus[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#61f18f}.trait.bonus.highlight[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#61f18f4d}.trait[_ngcontent-%COMP%]:not(.greater)   .content[_ngcontent-%COMP%]{border-left-width:2px;border-right-width:2px}.trait.minor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .trait.greater[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-left-width:0;border-right-width:0}.trait.minor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.greater[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{width:8px}.trait.minor.first[_ngcontent-%COMP%]{width:10px}.trait.minor.first[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{border-left-width:4px;width:10px}.trait.major[_ngcontent-%COMP%]{width:12px}.trait.major[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-left-width:0;border-right-width:0}.trait.major[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{width:12px}.trait.greater[_ngcontent-%COMP%]{width:16px;position:relative}.trait.greater[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;position:absolute;transform:rotate(45deg);border-width:4px;height:36px;width:36px;left:-10px}.trait.greater[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{border-width:2px;width:14px;height:14px}.trait.greater[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{left:6px;height:54px}.trait.greater.last[_ngcontent-%COMP%]{width:32px}"]}),N}();function B(N,G){if(1&N&&e._UZ(0,"div",7),2&N){var b=e.oxw(2);e.Q6J("innerHTML",b.attributeTraits.summary,e.oJD)}}function T(N,G){if(1&N&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e._uU(8),e.qZA(),e.YNc(9,B,1,1,"div",6),e.qZA(),e.qZA()),2&N){var b=e.oxw();e.Gre("trait attribute-",b.attributeTraits.attribute,""),e.xp6(3),e.Oqu(b.attributeTraits.attributeName),e.xp6(2),e.Oqu(b.attributeTraits.title),e.xp6(3),e.Oqu(b.attributeTraits.recapLabel),e.xp6(1),e.Q6J("ngIf",null!==b.attributeTraits.summary)}}var K=function(){var N=(0,F.Z)(function G(){(0,R.Z)(this,G),this.attributeTraits=null});return N.\u0275fac=function(b){return new(b||N)},N.\u0275cmp=e.Xpm({type:N,selectors:[["app-attribute-summary-view"]],inputs:{attributeTraits:"attributeTraits"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head"],[1,"attribute"],[1,"subtitle"],[1,"content"],[1,"info"],["class","description",3,"innerHTML",4,"ngIf"],[1,"description",3,"innerHTML"]],template:function(b,q){1&b&&e.YNc(0,T,10,7,"div",0),2&b&&e.Q6J("ngIf",null!==q.attributeTraits)},directives:[_.O5],styles:[".trait[_ngcontent-%COMP%]{background-color:#151412;border:3px solid black;color:#fff;display:flex;flex-direction:column;gap:5px;min-width:250px}.trait.attribute-0[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]     .value{color:#2f5996}.trait.attribute-1[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]     .value{color:#a83007}.trait.attribute-2[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]     .value{color:#79b549}.trait.attribute-3[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]     .value{color:#d0b545}.trait.attribute-4[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]     .value{color:#4bc1b2}.trait.attribute-5[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]     .value{color:#753098}.trait.attribute-6[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]     .value{color:#cd7028}.trait.attribute-7[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]     .value{color:#bf3c59}.trait[_ngcontent-%COMP%]  .locked{color:#686868}.trait[_ngcontent-%COMP%]  .range, .trait[_ngcontent-%COMP%]  .range .value, .trait[_ngcontent-%COMP%]  .details, .trait[_ngcontent-%COMP%]  .details .value, .trait[_ngcontent-%COMP%]  .formula, .trait[_ngcontent-%COMP%]  .formula .value, .trait[_ngcontent-%COMP%]  .max, .trait[_ngcontent-%COMP%]  .max .value{color:#686868}.trait[_ngcontent-%COMP%]  .affixes .range, .trait[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:3px solid #3c3931}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-transform:uppercase;padding:10px;gap:2px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .attribute[_ngcontent-%COMP%]{font-size:19px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px 10px;gap:20px;text-align:center}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}"]}),N}(),V=a(7423),le=a(3874);function j(N,G){if(1&N){var b=e.EpF();e.TgZ(0,"app-trait",9),e.NdJ("mouseenter",function(){var ne=e.CHM(b).index;return e.oxw(2).nodeEnter(ne)})("mouseleave",function(){return e.CHM(b),e.oxw(2).nodeLeave()})("click",function(){return e.CHM(b),e.oxw(2).nodeClick()}),e.qZA()}if(2&N){var q=G.$implicit,te=G.index,S=e.oxw(2);e.Q6J("trait",q)("first",0===te)("last",te===S.attribute.traits.length-1)("highlight",S.isHighlight(te))("bonus",S.isBonus(te))("unlocked",S.isUnlocked(te))}}function ge(N,G){if(1&N&&e._UZ(0,"app-attribute-summary-view",10),2&N){var b=e.oxw(2);e.Q6J("attributeTraits",b.attribute)}}function me(N,G){if(1&N){var b=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(S){return e.CHM(b),e.oxw(2).addPoint(S)}),e.TgZ(1,"mat-icon"),e._uU(2,"add"),e.qZA(),e.qZA()}if(2&N){var q=e.oxw(2);e.Q6J("disabled",0===q.remainingPoints)}}function ue(N,G){if(1&N){var b=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(S){return e.CHM(b),e.oxw(2).removePoint(S)}),e.TgZ(1,"mat-icon"),e._uU(2,"remove"),e.qZA(),e.qZA()}if(2&N){var q=e.oxw(2);e.Q6J("disabled",0===q.attribute.rank)}}function ae(N,G){if(1&N){var b=e.EpF();e.TgZ(0,"div",1,2),e.TgZ(2,"img",3),e.NdJ("mouseenter",function(){return e.CHM(b),e.oxw().showSummary=!0})("mouseleave",function(){return e.CHM(b),e.oxw().showSummary=!1}),e.qZA(),e.TgZ(3,"div",4),e.NdJ("mouseenter",function(){return e.CHM(b),e.oxw().nodeEnter(-1)})("mouseleave",function(){return e.CHM(b),e.oxw().nodeLeave()})("click",function(){return e.CHM(b),e.oxw().nodeClick()}),e.qZA(),e.YNc(4,j,1,6,"app-trait",5),e.TgZ(5,"div",6),e._uU(6),e.qZA(),e.YNc(7,ge,1,1,"ng-template",7),e.YNc(8,me,3,1,"button",8),e.YNc(9,ue,3,1,"button",8),e.qZA()}if(2&N){var q=e.MAs(1),te=e.oxw();e.Gre("bar attribute-",te.attribute.attribute,""),e.ekj("icon-shift",te.iconShift)("readonly",te.readonly)("short",te.short),e.xp6(2),e.Q6J("src",te.attribute.icon,e.LSH),e.xp6(2),e.Q6J("ngForOf",te.attribute.traits),e.xp6(2),e.AsE(" +",te.attribute.rank+te.attribute.bonusRank," ",te.attribute.attributeName," "),e.xp6(1),e.Q6J("cdkConnectedOverlayOpen",te.showSummary)("cdkConnectedOverlayOrigin",q),e.xp6(1),e.Q6J("ngIf",!te.readonly),e.xp6(1),e.Q6J("ngIf",!te.readonly)}}var fe=function(){var N=function(){function G(b,q){(0,R.Z)(this,G),this.slormancerAttributeService=b,this.buildStorageService=q,this.attribute=null,this.remainingPoints=0,this.iconShift=!1,this.short=!1,this.readonly=!1,this.unlockedRange={min:0,max:0},this.highlightRange={min:0,max:0},this.bonusRange={min:0,max:0},this.cappedCursor=0,this.showSummary=!1}return(0,F.Z)(G,[{key:"ngOnInit",value:function(){this.updateCursor()}},{key:"updateCursor",value:function(){var q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==this.attribute&&(null===q?(this.cappedCursor=this.attribute.rank,this.highlightRange={min:0,max:0},this.unlockedRange={min:0,max:this.attribute.rank},this.bonusRange={min:this.attribute.rank,max:this.attribute.rank+this.attribute.bonusRank}):(this.cappedCursor=Math.min(this.attribute.rank+this.remainingPoints,q+1),this.bonusRange={min:Math.max(this.cappedCursor,this.attribute.rank),max:this.attribute.rank+this.attribute.bonusRank},this.highlightRange=q<this.attribute.rank?{min:q+1,max:Math.max(this.attribute.rank,q+1)}:{min:this.attribute.rank,max:this.cappedCursor}))}},{key:"nodeEnter",value:function(q){this.updateCursor(q)}},{key:"nodeLeave",value:function(){this.updateCursor()}},{key:"setRank",value:function(q){null!==this.attribute&&this.attribute.rank!==q&&!this.readonly&&(this.attribute.rank=q,this.slormancerAttributeService.updateAttributeTraits(this.attribute),this.buildStorageService.saveLayer(),this.updateCursor())}},{key:"nodeClick",value:function(){null!==this.attribute&&this.setRank(this.cappedCursor)}},{key:"isUnlocked",value:function(q){return q>=this.unlockedRange.min&&q<this.unlockedRange.max}},{key:"isHighlight",value:function(q){return q>=this.highlightRange.min&&q<this.highlightRange.max}},{key:"isBonus",value:function(q){return q>=this.bonusRange.min&&q<this.bonusRange.max}},{key:"addPoint",value:function(q){null!==this.attribute&&this.remainingPoints>0&&this.setRank(this.attribute.rank+Math.min(this.remainingPoints,q.shiftKey?10:1))}},{key:"removePoint",value:function(q){null!==this.attribute&&this.attribute.rank>0&&this.setRank(this.attribute.rank-Math.min(this.attribute.rank,q.shiftKey?10:1))}}]),G}();return N.\u0275fac=function(b){return new(b||N)(e.Y36(t.Q),e.Y36(m.x))},N.\u0275cmp=e.Xpm({type:N,selectors:[["app-attribute-line"]],inputs:{attribute:"attribute",remainingPoints:"remainingPoints",iconShift:"iconShift",short:"short",readonly:"readonly"},decls:1,vars:1,consts:[["cdkOverlayOrigin","",3,"class","icon-shift","readonly","short",4,"ngIf"],["cdkOverlayOrigin",""],["trigger","cdkOverlayOrigin"],[3,"src","mouseenter","mouseleave"],[1,"pre-bar",3,"mouseenter","mouseleave","click"],[3,"trait","first","last","highlight","bonus","unlocked","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],[1,"total"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],["mat-icon-button","","color","primary",3,"disabled","click",4,"ngIf"],[3,"trait","first","last","highlight","bonus","unlocked","mouseenter","mouseleave","click"],[3,"attributeTraits"],["mat-icon-button","","color","primary",3,"disabled","click"]],template:function(b,q){1&b&&e.YNc(0,ae,10,17,"div",0),2&b&&e.Q6J("ngIf",null!==q.attribute)},directives:[_.O5,D.xu,_.sg,h,D.pI,K,V.lW,le.Hw],styles:['.bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:4px 0;position:relative;height:60px}.bar.icon-shift[_ngcontent-%COMP%]{margin-left:16px}.bar[_ngcontent-%COMP%]:before{content:" ";position:absolute;background-color:#353535;border:4px solid black;transform:rotate(45deg);width:38px;height:38px}.bar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:2;padding-left:1px}.bar[_ngcontent-%COMP%]   .pre-bar[_ngcontent-%COMP%]{background-color:#353535;border:4px solid black;margin-left:-6px;border-left:0;border-right:0;min-width:20px;width:20px;height:30px;z-index:1}.bar[_ngcontent-%COMP%]:not(.readonly)   .pre-bar[_ngcontent-%COMP%]{cursor:pointer}.bar[_ngcontent-%COMP%]:not(.icon-shift)   .pre-bar[_ngcontent-%COMP%]{width:36px}.bar[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{display:none;background-color:#353535;border:4px solid black;font-weight:700;border-left:0;width:130px;height:30px}.bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}.bar.short[_ngcontent-%COMP%]   app-trait[_ngcontent-%COMP%]{display:none}.bar.short[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}@media (max-width: 768px){.bar[_ngcontent-%COMP%]   app-trait[_ngcontent-%COMP%]{display:none}.bar[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}}.bar.attribute-0[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#2f5996}.bar.attribute-1[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#a83007}.bar.attribute-2[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#79b549}.bar.attribute-3[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#d0b545}.bar.attribute-4[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#4bc1b2}.bar.attribute-5[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#753098}.bar.attribute-6[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#cd7028}.bar.attribute-7[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#bf3c59}']}),N}()},7614:function(se,ee,a){a.d(ee,{q:function(){return et}});var R=a(5671),F=a(3144),t=a(5542),m=a(4456),e=a(648),_=a(9808),D=a(6538),Y=a(3874),A=a(7238),L=a(4902),y=a(136),u=a(7777),s=a(2525),c=a(2722),f=a(7148),O=a(7399),Z=a(5832),w=a(5581),l=a(311),k=a(6446),g=a(3075),P=a(8966),h=a(4373),B=a(7322),T=a(7531),K=a(7423);function V(M,J){if(1&M){var d=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){return t.CHM(d),t.oxw().submit()}),t.TgZ(1,"h2",2),t._uU(2,"Choose your hero level"),t.qZA(),t.TgZ(3,"mat-dialog-content"),t.TgZ(4,"mat-form-field",3),t.TgZ(5,"mat-label"),t._uU(6,"Hero level"),t.qZA(),t._UZ(7,"input",4),t.TgZ(8,"mat-error"),t._uU(9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"mat-dialog-actions"),t.TgZ(11,"button",5),t._uU(12,"Cancel"),t.qZA(),t.TgZ(13,"button",6),t._uU(14,"Submit"),t.qZA(),t.qZA(),t.qZA()}if(2&M){var r=t.oxw();t.Q6J("formGroup",r.form),t.xp6(9),t.hij("Level must be between 1 and ",r.MAX_HERO_LEVEL,""),t.xp6(2),t.Q6J("mat-dialog-close",null)}}var le=function(){var M=function(){function J(d,r){(0,R.Z)(this,J),this.dialogRef=d,this.MAX_HERO_LEVEL=h.AR,this.form=new g.cw({level:new g.NI(r.level,[g.kI.min(1),g.kI.max(h.AR)])})}return(0,F.Z)(J,[{key:"submit",value:function(){this.form.markAllAsTouched(),this.form.valid&&this.dialogRef.close(this.form.value.level)}}]),J}();return M.\u0275fac=function(d){return new(d||M)(t.Y36(P.so),t.Y36(P.WI))},M.\u0275cmp=t.Xpm({type:M,selectors:[["app-character-level-edit-modal"]],decls:1,vars:1,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],["mat-dialog-title",""],["appearance","outline"],["matInput","","type","number","step","1","formControlName","level"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary"]],template:function(d,r){1&d&&t.YNc(0,V,15,3,"form",0),2&d&&t.Q6J("ngIf",null!==r.form)},directives:[_.O5,g._Y,g.JL,g.sg,P.uh,P.xY,B.KE,B.hX,T.Nt,g.wV,g.Fj,g.JJ,g.u,B.TO,P.H8,K.lW,P.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:8px}"]}),M}();function j(M,J){if(1&M){var d=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){return t.CHM(d),t.oxw().submit()}),t.TgZ(1,"h2",2),t._uU(2,"Choose the new item reinforcment"),t.qZA(),t.TgZ(3,"mat-dialog-content"),t.TgZ(4,"mat-form-field",3),t.TgZ(5,"mat-label"),t._uU(6,"Reinforcment"),t.qZA(),t._UZ(7,"input",4),t.TgZ(8,"mat-error"),t._uU(9,"Reinforcment must be positive"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"mat-dialog-actions"),t.TgZ(11,"button",5),t._uU(12,"Cancel"),t.qZA(),t.TgZ(13,"button",6),t._uU(14,"Submit"),t.qZA(),t.qZA(),t.qZA()}if(2&M){var r=t.oxw();t.Q6J("formGroup",r.form),t.xp6(11),t.Q6J("mat-dialog-close",null)}}var ge=function(){var M=function(){function J(d,r){(0,R.Z)(this,J),this.dialogRef=d,this.MAX_HERO_LEVEL=h.AR,this.form=new g.cw({reinforcment:new g.NI(r.reinforcment,[g.kI.min(0)])})}return(0,F.Z)(J,[{key:"submit",value:function(){this.form.markAllAsTouched(),this.form.valid&&this.dialogRef.close(this.form.value.reinforcment)}}]),J}();return M.\u0275fac=function(d){return new(d||M)(t.Y36(P.so),t.Y36(P.WI))},M.\u0275cmp=t.Xpm({type:M,selectors:[["app-item-reinforcment-edit-modal"]],decls:1,vars:1,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],["mat-dialog-title",""],["appearance","outline"],["matInput","","type","number","step","1","formControlName","reinforcment"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary"]],template:function(d,r){1&d&&t.YNc(0,j,15,2,"form",0),2&d&&t.Q6J("ngIf",null!==r.form)},directives:[_.O5,g._Y,g.JL,g.sg,P.uh,P.xY,B.KE,B.hX,T.Nt,g.wV,g.Fj,g.JJ,g.u,B.TO,P.H8,K.lW,P.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),M}(),me=a(7762),ue=a(4942),ae=a(2206),fe=a(9377),N=a(5351),G=a(1671),b=a(4102),q=a(508);function te(M,J){if(1&M){var d=t.EpF();t.TgZ(0,"p",7),t.NdJ("click",function(){var ie=t.CHM(d).index;return t.oxw().removeStat(ie)}),t._uU(1),t.qZA()}if(2&M){var r=J.$implicit,I=J.index;t.xp6(1),t.AsE("#",I+1," : ",r.label,"")}}function S(M,J){if(1&M&&(t.TgZ(0,"mat-option",8),t._uU(1),t.qZA()),2&M){var d=J.$implicit;t.Q6J("value",d),t.xp6(1),t.Oqu(d.label)}}var W=function(){var M=function(){function J(d,r,I,x,U,ie){var re=this;(0,R.Z)(this,J),this.dialogRef=d,this.slormancerItemService=I,this.slormancerDataService=x,this.slormancerAffixService=U,this.formOptionsService=ie,this.options=this.formOptionsService.getAllStatsoptions(),this.selectedStats=[],this.statControl=new g.NI,this.items=r.items,this.statControl.valueChanges.subscribe(function(_e){null!==_e&&(re.selectedStats.push(_e),re.updateOptions(),re.statControl.setValue(null))})}return(0,F.Z)(J,[{key:"updateOptions",value:function(){var r=this;this.options=this.formOptionsService.getAllStatsoptions().filter(function(I){return!r.selectedStats.includes(I)})}},{key:"applyStatsToItem",value:function(r){var I,x,U=this,ie=[ae.u.Normal,ae.u.Magic,ae.u.Rare,ae.u.Epic],re=((0,ue.Z)(I={},ae.u.Normal,this.slormancerDataService.getBaseMaxBasicStat(r.base)),(0,ue.Z)(I,ae.u.Magic,1),(0,ue.Z)(I,ae.u.Rare,1),(0,ue.Z)(I,ae.u.Epic,3),I),_e=((0,ue.Z)(x={},ae.u.Normal,this.formOptionsService.getStatsOptions(r.base,ae.u.Normal)),(0,ue.Z)(x,ae.u.Magic,this.formOptionsService.getStatsOptions(r.base,ae.u.Magic)),(0,ue.Z)(x,ae.u.Rare,this.formOptionsService.getStatsOptions(r.base,ae.u.Rare)),(0,ue.Z)(x,ae.u.Epic,this.formOptionsService.getStatsOptions(r.base,ae.u.Epic)),x);r.affixes=[];var we,Ze=(0,me.Z)(this.selectedStats);try{for(Ze.s();!(we=Ze.n()).done;){var Je,Ue=we.value,Ee=(0,me.Z)(ie);try{var tt=function(){var Pe=Je.value;if(r.affixes.filter(function(ot){return ot.rarity===Pe}).length<re[Pe]&&_e[Pe].includes(Ue)){var Ne=U.slormancerAffixService.getAffixFromStat(Ue.value,r.level,r.reinforcment,Pe);if(null!==Ne)return r.affixes.push(Ne),"break"}};for(Ee.s();!(Je=Ee.n()).done&&"break"!==tt(););}catch(ve){Ee.e(ve)}finally{Ee.f()}}}catch(ve){Ze.e(ve)}finally{Ze.f()}for(;r.affixes.filter(function(ve){return ve.rarity===ae.u.Normal}).length<re[ae.u.Normal];){var De=_e[ae.u.Normal].find(function(ve){return void 0===r.affixes.find(function(Pe){return Pe.craftedEffect.effect.stat===ve.value})});if(void 0!==De){var Re=this.slormancerAffixService.getAffixFromStat(De.value,r.level,r.reinforcment,ae.u.Normal);null!==Re&&r.affixes.push(Re)}}this.slormancerItemService.updateEquipableItemModel(r),this.slormancerItemService.updateEquipableItemView(r)}},{key:"applyStats",value:function(){var I,r=(0,me.Z)(this.items);try{for(r.s();!(I=r.n()).done;)this.applyStatsToItem(I.value)}catch(U){r.e(U)}finally{r.f()}this.dialogRef.close(!0)}},{key:"removeStat",value:function(r){this.selectedStats.splice(r,1),this.updateOptions()}}]),J}();return M.\u0275fac=function(d){return new(d||M)(t.Y36(P.so),t.Y36(P.WI),t.Y36(Z.S),t.Y36(N.o),t.Y36(fe.l),t.Y36(G.K))},M.\u0275cmp=t.Xpm({type:M,selectors:[["app-optimize-items-stats-modal"]],decls:18,vars:7,consts:[["mat-dialog-title",""],["class","stat",3,"click",4,"ngFor","ngForOf"],["appearance","outline","color","primary",1,"no-error-padding"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","button","color","primary",3,"disabled","click"],[1,"stat",3,"click"],[3,"value"]],template:function(d,r){1&d&&(t.TgZ(0,"h2",0),t._uU(1,"Choose the stats you want for your items"),t.qZA(),t.TgZ(2,"mat-dialog-content"),t.TgZ(3,"p"),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6,"Items will loose their affixes before being updated."),t.qZA(),t.YNc(7,te,2,2,"p",1),t.TgZ(8,"mat-form-field",2),t.TgZ(9,"mat-label"),t._uU(10),t.qZA(),t.TgZ(11,"mat-select",3),t.YNc(12,S,2,2,"mat-option",4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"mat-dialog-actions"),t.TgZ(14,"button",5),t._uU(15,"Cancel"),t.qZA(),t.TgZ(16,"button",6),t.NdJ("click",function(){return r.applyStats()}),t._uU(17,"Apply"),t.qZA(),t.qZA()),2&d&&(t.xp6(4),t.hij("Each stat below will be applied in order to the ",r.items.length>1?r.items.length+" selected items":"selected item"," (at maximum crafting value) using the first available affix slot."),t.xp6(3),t.Q6J("ngForOf",r.selectedStats),t.xp6(3),t.Oqu(r.selectedStats.length>0?"Add another stat":"Choose a stat"),t.xp6(1),t.Q6J("formControl",r.statControl),t.xp6(1),t.Q6J("ngForOf",r.options),t.xp6(2),t.Q6J("mat-dialog-close",!1),t.xp6(2),t.Q6J("disabled",0===r.selectedStats.length))},directives:[P.uh,P.xY,_.sg,B.KE,B.hX,b.gD,g.JJ,g.oH,q.ey,P.H8,K.lW,P.ZT],styles:[".stat[_ngcontent-%COMP%]{cursor:pointer;padding-left:4px}@media (max-width: 768px){.stat[_ngcontent-%COMP%]{padding-left:0}}.stat[_ngcontent-%COMP%]:hover{opacity:.6}mat-form-field[_ngcontent-%COMP%]{width:200px}@media (max-width: 768px){mat-form-field[_ngcontent-%COMP%]{width:100%}}"]}),M}(),E=a(8223);function ne(M,J){if(1&M){var d=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(d),t.oxw(2).optimizeReaperEnchantments()}),t._uU(1,"Optimize items for Reaper"),t.qZA()}}function z(M,J){if(1&M&&(t.TgZ(0,"button",11),t._uU(1,"Optimize items for Attribute"),t.qZA()),2&M){t.oxw(2);var d=t.MAs(6);t.Q6J("matMenuTriggerFor",d)}}function Q(M,J){if(1&M&&(t.TgZ(0,"button",11),t._uU(1,"Optimize items for Skill"),t.qZA()),2&M){t.oxw(2);var d=t.MAs(9);t.Q6J("matMenuTriggerFor",d)}}function de(M,J){if(1&M){var d=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(d),t.oxw(2).optimizeItemsStats()}),t._uU(1,"Optimise items stats"),t.qZA()}}function he(M,J){if(1&M){var d=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(d),t.oxw(2).maximizeItemsLevel()}),t._uU(1,"Maximize items level"),t.qZA()}}function He(M,J){if(1&M){var d=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(d),t.oxw(2).changeReinforcmentLevel()}),t._uU(1,"Change items reinforcment level"),t.qZA()}}function Be(M,J){if(1&M){var d=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(d),t.oxw().editCharacterLevel()}),t._uU(1,"Change hero level"),t.qZA(),t.YNc(2,ne,2,0,"button",9),t.YNc(3,z,2,1,"button",10),t.YNc(4,Q,2,1,"button",10),t.YNc(5,de,2,0,"button",9),t.YNc(6,he,2,0,"button",9),t.YNc(7,He,2,0,"button",9)}if(2&M){var r=t.oxw();t.xp6(2),t.Q6J("ngIf",null!==r.character&&r.canOptimizeReaperEnchantements(r.character)&&r.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==r.character&&r.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==r.character&&r.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==r.character&&r.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==r.character&&r.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==r.character&&r.hasItems())}}function qe(M,J){if(1&M){var d=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){var U=t.CHM(d).$implicit;return t.oxw().optimizeAttributeEnchantments(U)}),t._UZ(1,"img",13),t._UZ(2,"div",14),t.qZA()}if(2&M){var r=J.$implicit;t.xp6(1),t.Q6J("src",r.icon,t.LSH),t.xp6(1),t.Q6J("innerHTML",r.attributeName,t.oJD)}}function Me(M,J){if(1&M){var d=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){var U=t.CHM(d).$implicit;return t.oxw().optimizeSkillEnchantments(U)}),t._UZ(1,"img",15),t._UZ(2,"div",14),t.qZA()}if(2&M){var r=J.$implicit;t.xp6(1),t.Q6J("src","assets/img/icon/"+r.icon+".png",t.LSH),t.xp6(1),t.Q6J("innerHTML",r.name,t.oJD)}}var Oe=function(){var M=function(J){(0,y.Z)(r,J);var d=(0,u.Z)(r);function r(I,x,U,ie){var re;return(0,R.Z)(this,r),(re=d.call(this)).buildStorageService=I,re.dialog=x,re.messageService=U,re.slormancerItemService=ie,re.character=null,re.menu=null,re}return(0,F.Z)(r,[{key:"ngOnInit",value:function(){var x=this;this.buildStorageService.layerChanged.pipe((0,c.R)(this.unsubscribe)).subscribe(function(U){return x.character=null===U?null:U.character})}},{key:"openCharacterSettings",value:function(){return null!==this.menu&&this.menu.openMenu(),!1}},{key:"editCharacterLevel",value:function(){var x=this;null!==this.character&&this.dialog.open(le,{data:{level:this.character.level}}).afterClosed().subscribe(function(U){U&&null!==x.character&&(x.character.level=U,x.buildStorageService.saveLayer())})}},{key:"getGearItems",value:function(){var x=[],U=this.character;return null!==U&&(x=e.PL.map(function(ie){return U.gear[ie]}).filter(w.BX)),x}},{key:"hasItems",value:function(){return this.getGearItems().length>0}},{key:"canOptimizeReaperEnchantements",value:function(x){return null!==x.reaper&&x.reaper.smith.id!==f.Q.ReapersmithBrotherhood}},{key:"optimizeReaperEnchantments",value:function(){var x=this;if(null!==this.character){var U=this.slormancerItemService.getReaperEnchantment(this.character.reaper.smith.id,5),ie="";this.getGearItems().forEach(function(re){re.reaperEnchantment=x.slormancerItemService.getReaperEnchantmentClone(U),x.slormancerItemService.updateEquipableItemModel(re),x.slormancerItemService.updateEquipableItemView(re),ie=re.reaperEnchantment.icon}),this.buildStorageService.saveLayer(),this.messageService.message('All equipped items optimized for <img src="'+ie+'"> '+this.character.reaper.smith.name)}}},{key:"getTraits",value:function(){var x=[],U=this.character;return null!==U&&(x=O.A.map(function(ie){return U.attributes.allocated[ie]})),x}},{key:"optimizeAttributeEnchantments",value:function(x){var U=this;if(null!==this.character&&null!==this.character.reaper){var ie=this.slormancerItemService.getAttributeEnchantment(x.attribute,3),re="";this.getGearItems().forEach(function(_e){_e.attributeEnchantment=U.slormancerItemService.getAttributeEnchantmentClone(ie),U.slormancerItemService.updateEquipableItemModel(_e),U.slormancerItemService.updateEquipableItemView(_e),re=_e.attributeEnchantment.icon}),this.buildStorageService.saveLayer(),this.messageService.message('All equipped items optimized for <img src="'+re+'"> '+x.attributeName)}}},{key:"getSkills",value:function(){var x=[],U=this.character;return null!==U&&(x=U.skills.map(function(ie){return ie.skill})),x}},{key:"optimizeSkillEnchantments",value:function(x){var U=this;if(null!==this.character){var ie=this.slormancerItemService.getSkillEnchantment(x.id,2),re="";this.getGearItems().forEach(function(_e){_e.skillEnchantment=U.slormancerItemService.getSkillEnchantmentClone(ie),U.slormancerItemService.updateEquipableItemModel(_e),U.slormancerItemService.updateEquipableItemView(_e),re=_e.skillEnchantment.icon}),this.buildStorageService.saveLayer(),this.messageService.message('All equipped items optimized for <img src="'+re+'"> '+x.name)}}},{key:"maximizeItemsLevel",value:function(){var x=this;if(null!==this.character){var U=this.character.level;this.getGearItems().forEach(function(ie){ie.level=U,x.slormancerItemService.updateEquipableItemModel(ie),x.slormancerItemService.updateEquipableItemView(ie)}),this.buildStorageService.saveLayer(),this.messageService.message("All equipped items level raised to "+U)}}},{key:"changeReinforcmentLevel",value:function(){var x=this;if(null!==this.character){var U=Math.max.apply(Math,(0,L.Z)(this.getGearItems().map(function(ie){return ie.reinforcment})));this.dialog.open(ge,{data:{reinforcment:U}}).afterClosed().subscribe(function(ie){"number"==typeof ie&&(x.getGearItems().forEach(function(re){re.reinforcment=ie,x.slormancerItemService.updateEquipableItemModel(re),x.slormancerItemService.updateEquipableItemView(re)}),x.buildStorageService.saveLayer(),x.messageService.message("All equipped items reinforcment raised to "+ie))})}}},{key:"optimizeItemsStats",value:function(){var x=this;if(null!==this.character){var U={items:this.getGearItems()};this.dialog.open(W,{data:U}).afterClosed().subscribe(function(ie){ie&&(x.buildStorageService.saveLayer(),x.messageService.message("All equipped items have been updated"))})}}}]),r}(k.B);return M.\u0275fac=function(d){return new(d||M)(t.Y36(l.x),t.Y36(P.uw),t.Y36(E.e),t.Y36(Z.S))},M.\u0275cmp=t.Xpm({type:M,selectors:[["app-character-settings-menu"]],viewQuery:function(d,r){var I;1&d&&t.Gf(s.p6,7),2&d&&t.iGM(I=t.CRH())&&(r.menu=I.first)},features:[t.qOj],decls:11,vars:4,consts:[[3,"matMenuTriggerFor","contextmenu"],["color","primary","xPosition","after",3,"overlapTrigger"],["menu","matMenu"],["matMenuContent",""],["color","primary"],["attributes","matMenu"],["mat-menu-item","","color","primary","class","menu-entry",3,"click",4,"ngFor","ngForOf"],["skills","matMenu"],["mat-menu-item","","color","primary",3,"click"],["mat-menu-item","","color","primary",3,"click",4,"ngIf"],["mat-menu-item","","color","primary",3,"matMenuTriggerFor",4,"ngIf"],["mat-menu-item","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","","color","primary",1,"menu-entry",3,"click"],[3,"src"],[3,"innerHTML"],[1,"skill-icon",3,"src"]],template:function(d,r){if(1&d&&(t.TgZ(0,"mat-icon",0),t.NdJ("contextmenu",function(){return r.openCharacterSettings()}),t._uU(1,"settings"),t.qZA(),t.TgZ(2,"mat-menu",1,2),t.YNc(4,Be,8,6,"ng-template",3),t.TgZ(5,"mat-menu",4,5),t.YNc(7,qe,3,2,"button",6),t.qZA(),t.TgZ(8,"mat-menu",4,7),t.YNc(10,Me,3,2,"button",6),t.qZA(),t.qZA()),2&d){var I=t.MAs(3);t.Q6J("matMenuTriggerFor",I),t.xp6(2),t.Q6J("overlapTrigger",!0),t.xp6(5),t.Q6J("ngForOf",r.getTraits()),t.xp6(3),t.Q6J("ngForOf",r.getSkills())}},directives:[Y.Hw,s.p6,s.VK,s.KA,s.OP,_.O5,_.sg],styles:["mat-icon[_ngcontent-%COMP%]{cursor:pointer;color:#353535}.menu-entry[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:8px}"]}),M}(),pe=["animation"],Qe=function(){var M=function(){function J(){(0,R.Z)(this,J),this.heroClass=null,this.suffix="",this.flipAnimation=!1,this.animation=null}return(0,F.Z)(J,[{key:"mouseMoved",value:function(r){if(null!==this.animation){var U=this.animation.nativeElement.getBoundingClientRect().left+this.animation.nativeElement.clientWidth/2<r.clientX;this.flipAnimation!==U&&(this.flipAnimation=U)}}},{key:"ngOnInit",value:function(){}}]),J}();return M.\u0275fac=function(d){return new(d||M)},M.\u0275cmp=t.Xpm({type:M,selectors:[["app-character-animation"]],viewQuery:function(d,r){var I;1&d&&t.Gf(pe,5),2&d&&t.iGM(I=t.CRH())&&(r.animation=I.first)},hostBindings:function(d,r){1&d&&t.NdJ("mousemove",function(x){return r.mouseMoved(x)},!1,t.Jf7)},inputs:{heroClass:"heroClass",suffix:"suffix"},decls:6,vars:10,consts:[[1,"character-animation"],["animation",""],[1,"idle-1",3,"src"],[1,"idle-2",3,"src"],[1,"idle-3",3,"src"],[1,"idle-4",3,"src"]],template:function(d,r){1&d&&(t.TgZ(0,"div",0,1),t._UZ(2,"img",2),t._UZ(3,"img",3),t._UZ(4,"img",4),t._UZ(5,"img",5),t.qZA()),2&d&&(t.ekj("flip",r.flipAnimation),t.xp6(2),t.hYB("src","assets/img/character/idle/",r.heroClass,"/0",r.suffix?"_"+r.suffix:r.suffix,".png",t.LSH),t.xp6(1),t.hYB("src","assets/img/character/idle/",r.heroClass,"/1",r.suffix?"_"+r.suffix:r.suffix,".png",t.LSH),t.xp6(1),t.hYB("src","assets/img/character/idle/",r.heroClass,"/2",r.suffix?"_"+r.suffix:r.suffix,".png",t.LSH),t.xp6(1),t.hYB("src","assets/img/character/idle/",r.heroClass,"/3",r.suffix?"_"+r.suffix:r.suffix,".png",t.LSH))},styles:[".character-animation[_ngcontent-%COMP%]{position:relative;height:144px;width:88px}.character-animation.flip[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scaleX(-1)}.character-animation[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;image-rendering:pixelated;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear}.character-animation[_ngcontent-%COMP%]   img.idle-1[_ngcontent-%COMP%]{animation-name:idle-1}.character-animation[_ngcontent-%COMP%]   img.idle-2[_ngcontent-%COMP%]{animation-name:idle-2}.character-animation[_ngcontent-%COMP%]   img.idle-3[_ngcontent-%COMP%]{animation-name:idle-3}.character-animation[_ngcontent-%COMP%]   img.idle-4[_ngcontent-%COMP%]{animation-name:idle-4}@keyframes idle-1{0%{opacity:1}25%{opacity:1}26%{opacity:0}99%{opacity:0}to{opacity:1}}@keyframes idle-2{0%{opacity:0}24%{opacity:0}25%{opacity:1}50%{opacity:1}51%{opacity:0}to{opacity:0}}@keyframes idle-3{0%{opacity:0}49%{opacity:0}50%{opacity:1}75%{opacity:1}76%{opacity:0}to{opacity:0}}@keyframes idle-4{0%{opacity:1}1%{opacity:0}74%{opacity:0}75%{opacity:1}to{opacity:1}}"]}),M}(),Ce=a(7469),be=a(1375),ye=a(1682);function xe(M,J){if(1&M&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t._UZ(2,"div",3),t._UZ(3,"div",4),t.qZA(),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t.TgZ(6,"div",7),t.TgZ(7,"div",8),t.TgZ(8,"div",9),t.TgZ(9,"div",10),t._UZ(10,"img",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",12),t.TgZ(12,"div",13),t.TgZ(13,"div",14),t._uU(14),t.qZA(),t._UZ(15,"div",15),t.qZA(),t.TgZ(16,"div",16),t.TgZ(17,"div",14),t._uU(18),t.qZA(),t._UZ(19,"div",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",17),t._UZ(21,"img",11),t.qZA(),t.qZA(),t.qZA()),2&M){var d=t.oxw();t.xp6(2),t.Q6J("innerHTML",d.ultimatum.title,t.oJD),t.xp6(1),t.Q6J("innerHTML",d.ultimatum.levelLabel,t.oJD),t.xp6(7),t.MGl("src","assets/img/icon/",d.ultimatum.icon,".png",t.LSH),t.xp6(4),t.Oqu(d.ultimatum.bonusTitle),t.xp6(1),t.Q6J("innerHTML",d.ultimatum.bonusLabel,t.oJD),t.xp6(3),t.Oqu(d.ultimatum.malusTitle),t.xp6(1),t.Q6J("innerHTML",d.ultimatum.malusLabel,t.oJD),t.xp6(2),t.MGl("src","assets/img/icon/",d.ultimatum.levelIcon,".png",t.LSH)}}var ke=function(){var M=(0,F.Z)(function J(){(0,R.Z)(this,J),this.ultimatum=null});return M.\u0275fac=function(d){return new(d||M)},M.\u0275cmp=t.Xpm({type:M,selectors:[["app-ultimatum-view"]],inputs:{ultimatum:"ultimatum"},decls:1,vars:1,consts:[["class","ultimatum slormancer-tooltip",4,"ngIf"],[1,"ultimatum","slormancer-tooltip"],[1,"head","inner-box"],[1,"title",3,"innerHTML"],[1,"level",3,"innerHTML"],[1,"content","inner-box"],[1,"data"],[1,"visual"],[1,"background"],[1,"inner-background"],[1,"ultimatum"],[3,"src"],[1,"info"],[1,"bonus"],[1,"title"],[3,"innerHTML"],[1,"malus"],[1,"bottom-level"]],template:function(d,r){1&d&&t.YNc(0,xe,22,8,"div",0),2&d&&t.Q6J("ngIf",null!==r.ultimatum)},directives:[_.O5],styles:[".ultimatum[_ngcontent-%COMP%]{width:350px}.ultimatum[_ngcontent-%COMP%]  .value, .ultimatum[_ngcontent-%COMP%]  .rank .current{color:#ce4607}.ultimatum[_ngcontent-%COMP%]  .range, .ultimatum[_ngcontent-%COMP%]  .range .value, .ultimatum[_ngcontent-%COMP%]  .details, .ultimatum[_ngcontent-%COMP%]  .details .value, .ultimatum[_ngcontent-%COMP%]  .formula, .ultimatum[_ngcontent-%COMP%]  .formula .value{color:#686868}.ultimatum[_ngcontent-%COMP%]  .affixes .range, .ultimatum[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.ultimatum[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase}.ultimatum[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{font-size:80%}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:20px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{border:3px solid black;background-color:#3c3c3c;border-radius:10%;padding:3px;width:60px;height:70px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;border:3px solid black;background-color:#471712;border-radius:10%;width:100%;height:100%}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]{width:0;height:0}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:translate(-50%,-50%);width:72px;height:72px;image-rendering:pixelated}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:105%}"]}),M}();function Fe(M,J){if(1&M&&(t.TgZ(0,"mat-option",15),t._UZ(1,"span",16),t.qZA()),2&M){var d=J.$implicit;t.Q6J("value",d.value),t.xp6(1),t.Q6J("innerHTML",d.label,t.oJD)}}function Ye(M,J){if(1&M){var d=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){return t.CHM(d),t.oxw().submit()}),t._UZ(1,"input",2),t.TgZ(2,"mat-dialog-content"),t.TgZ(3,"div",3),t._UZ(4,"app-ultimatum-view",4),t.qZA(),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"mat-form-field",7),t.TgZ(8,"mat-label"),t._uU(9,"Ultimatum level"),t.qZA(),t._UZ(10,"input",8),t.TgZ(11,"mat-error"),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",6),t.TgZ(14,"mat-form-field",9),t.TgZ(15,"mat-label"),t._uU(16,"Ultimatum type"),t.qZA(),t.TgZ(17,"mat-select",10),t.YNc(18,Fe,2,2,"mat-option",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"mat-dialog-actions"),t.TgZ(20,"button",12),t._uU(21,"Cancel"),t.qZA(),t.TgZ(22,"button",13),t.NdJ("click",function(){return t.CHM(d),t.oxw().reset()}),t._uU(23,"Reset"),t.qZA(),t.TgZ(24,"button",14),t._uU(25,"Submit"),t.qZA(),t.qZA(),t.qZA()}if(2&M){var r=t.oxw();t.Q6J("formGroup",r.form),t.xp6(4),t.Q6J("ultimatum",r.ultimatum),t.xp6(8),t.hij("Level must be between 1 and ",r.ULTIMATUM_MAX_LEVEL,""),t.xp6(6),t.Q6J("ngForOf",r.options)}}var Ve=function(){var M=function(){function J(d,r,I,x){(0,R.Z)(this,J),this.dialogRef=d,this.slormancerUltimatumService=r,this.formOptionsService=I,this.ULTIMATUM_MAX_LEVEL=h.cK,this.options=[],this.originalUltimatum=null===x.ultimatum?this.slormancerUltimatumService.getUltimatum(be.R.AdamantAbundance,1):this.slormancerUltimatumService.getUltimatumClone(x.ultimatum),this.ultimatum=this.originalUltimatum,this.options=this.formOptionsService.getUltimatumOptions(),this.reset()}return(0,F.Z)(J,[{key:"reset",value:function(){Object.assign(this.ultimatum,this.originalUltimatum),this.form=this.buildForm()}},{key:"submit",value:function(){this.form.valid&&this.dialogRef.close(this.ultimatum)}},{key:"updatePreview",value:function(r){if(r.valid){var I=r.value;this.ultimatum=this.slormancerUltimatumService.getUltimatum(I.type,I.level)}}},{key:"buildForm",value:function(){var r=this,I=new g.cw({level:new g.NI(this.ultimatum.level,[g.kI.required,g.kI.min(1),g.kI.max(h.cK)]),type:new g.NI(this.ultimatum.type,[g.kI.required])});return I.valueChanges.subscribe(function(){r.updatePreview(I)}),this.updatePreview(I),I}}]),J}();return M.\u0275fac=function(d){return new(d||M)(t.Y36(P.so),t.Y36(ye.h),t.Y36(G.K),t.Y36(P.WI))},M.\u0275cmp=t.Xpm({type:M,selectors:[["app-ultimatum-edit-modal"]],decls:1,vars:1,consts:[["autocomplete","off",3,"formGroup","submit",4,"ngIf"],["autocomplete","off",3,"formGroup","submit"],["autocomplete","false","name","hidden","type","text",2,"display","none"],[1,"preview"],[3,"ultimatum"],[1,"form"],[1,"stat-line"],["appearance","outline"],["matInput","","type","number","step","1","formControlName","level"],["appearance","outline","color","primary",1,"no-error-padding"],["formControlName","type","color","primary"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","button","color","primary",3,"click"],["mat-flat-button","","type","submit","color","primary"],[3,"value"],[3,"innerHTML"]],template:function(d,r){1&d&&t.YNc(0,Ye,26,4,"form",0),2&d&&t.Q6J("ngIf",null!==r.form&&null!==r.ultimatum)},directives:[_.O5,g._Y,g.JL,g.sg,P.xY,ke,B.KE,B.hX,T.Nt,g.wV,g.Fj,g.JJ,g.u,B.TO,b.gD,_.sg,q.ey,P.H8,K.lW,P.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;gap:20px;flex-grow:1}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]{flex-direction:column}}mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{max-width:350px}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{display:none;visibility:hidden}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;align-items:stretch;flex-grow:1;width:200px}"]}),M}(),Ie=a(9776);function Ke(M,J){1&M&&t._UZ(0,"img",8)}function Le(M,J){if(1&M&&t._UZ(0,"app-ultimatum-view",10),2&M){var d=t.oxw(3);t.Q6J("ultimatum",d.ultimatum)}}function We(M,J){if(1&M&&t.YNc(0,Le,1,1,"ng-template",9),2&M){t.oxw(2);var d=t.MAs(1);t.Q6J("cdkConnectedOverlayOpen",!0)("cdkConnectedOverlayOrigin",d)}}function je(M,J){if(1&M&&(t.TgZ(0,"div",4),t._UZ(1,"img",5),t.YNc(2,Ke,1,0,"img",6),t.YNc(3,We,1,2,void 0,7),t.qZA()),2&M){var d=t.oxw();t.xp6(1),t.ekj("disabled",d.ultimatum.locked),t.MGl("src","assets/img/icon/",d.ultimatum.icon,".png",t.LSH),t.xp6(1),t.Q6J("ngIf",d.ultimatum.locked),t.xp6(1),t.Q6J("ngIf",d.overlay&&d.showOverlay)}}var Ge=function(){var M=function(){function J(d,r){(0,R.Z)(this,J),this.dialog=d,this.itemMoveService=r,this.ultimatum=null,this.overlay=!0,this.readonly=!1,this.changed=new t.vpe,this.showOverlay=!1}return(0,F.Z)(J,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"onMouseContextMenu",value:function(){return this.readonly||this.itemMoveService.releaseHoldItem(),!1}},{key:"edit",value:function(){var r=this;this.readonly||this.dialog.open(Ve,{data:{ultimatum:this.ultimatum}}).afterClosed().subscribe(function(x){x&&r.changed.emit(x)})}}]),J}();return M.\u0275fac=function(d){return new(d||M)(t.Y36(P.uw),t.Y36(Ce.v))},M.\u0275cmp=t.Xpm({type:M,selectors:[["app-ultimatum-slot"]],hostBindings:function(d,r){1&d&&t.NdJ("mouseenter",function(){return r.onOver()})("mouseleave",function(){return r.onLeave()})("contextmenu",function(){return r.onMouseContextMenu()})},inputs:{ultimatum:"ultimatum",overlay:"overlay",readonly:"readonly"},outputs:{changed:"changed"},decls:4,vars:3,consts:[["cdkOverlayOrigin","",1,"background",3,"click"],["trigger","cdkOverlayOrigin"],[1,"inner-background"],["class","ultimatum",4,"ngIf"],[1,"ultimatum"],[1,"icon",3,"src"],["class","locked","src","assets/img/icon/locked.png",4,"ngIf"],[4,"ngIf"],["src","assets/img/icon/locked.png",1,"locked"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"ultimatum"]],template:function(d,r){1&d&&(t.TgZ(0,"div",0,1),t.NdJ("click",function(){return!r.readonly&&r.edit()}),t.TgZ(2,"div",2),t.YNc(3,je,4,5,"div",3),t.qZA(),t.qZA()),2&d&&(t.ekj("readonly",r.readonly),t.xp6(3),t.Q6J("ngIf",null!==r.ultimatum))},directives:[Ie.xu,_.O5,Ie.pI,ke],styles:[".background[_ngcontent-%COMP%]{border:3px solid black;background-color:#3c3c3c;border-radius:10%;padding:3px;width:60px;height:70px}.background[_ngcontent-%COMP%]:not(.readonly){cursor:pointer}.background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;border:3px solid black;background-color:#471712;border-radius:10%;width:100%;height:100%}.background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]{position:relative;width:0;height:0}.background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:translate(-50%,-50%);image-rendering:pixelated;position:absolute}.background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(.locked){width:72px;height:72px}.background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(.locked).disabled{opacity:.5}.background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]   img.locked[_ngcontent-%COMP%]{position:absolute;width:60px;height:60px}"]}),M}();function ze(M,J){if(1&M&&(t.TgZ(0,"div",25),t._uU(1),t.TgZ(2,"mat-icon",26),t._uU(3,"info_outline"),t.qZA(),t.qZA()),2&M){var d=t.oxw(2);t.xp6(1),t.hij(" ",d.character.importVersion," ")}}function Xe(M,J){1&M&&t._UZ(0,"app-character-settings-menu")}function $e(M,J){if(1&M){var d=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"app-item-slot",3),t.NdJ("changed",function(x){t.CHM(d);var U=t.oxw();return U.updateItem(U.gearSlot.Helm,x)}),t.qZA(),t.TgZ(3,"app-item-slot",4),t.NdJ("changed",function(x){t.CHM(d);var U=t.oxw();return U.updateItem(U.gearSlot.Amulet,x)}),t.qZA(),t.qZA(),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t.TgZ(6,"app-item-slot",7),t.NdJ("changed",function(x){t.CHM(d);var U=t.oxw();return U.updateItem(U.gearSlot.Shoulder,x)}),t.qZA(),t.TgZ(7,"app-item-slot",8),t.NdJ("changed",function(x){t.CHM(d);var U=t.oxw();return U.updateItem(U.gearSlot.Bracer,x)}),t.qZA(),t.TgZ(8,"app-item-slot",9),t.NdJ("changed",function(x){t.CHM(d);var U=t.oxw();return U.updateItem(U.gearSlot.Glove,x)}),t.qZA(),t.qZA(),t.TgZ(9,"div",10),t.TgZ(10,"div",11),t.YNc(11,ze,4,1,"div",12),t.YNc(12,Xe,1,0,"app-character-settings-menu",13),t.qZA(),t._UZ(13,"app-character-animation",14),t.qZA(),t.TgZ(14,"div",15),t.TgZ(15,"app-item-slot",16),t.NdJ("changed",function(x){t.CHM(d);var U=t.oxw();return U.updateItem(U.gearSlot.Body,x)}),t.qZA(),t.TgZ(16,"app-item-slot",17),t.NdJ("changed",function(x){t.CHM(d);var U=t.oxw();return U.updateItem(U.gearSlot.Cape,x)}),t.qZA(),t.TgZ(17,"app-item-slot",18),t.NdJ("changed",function(x){t.CHM(d);var U=t.oxw();return U.updateItem(U.gearSlot.Belt,x)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",19),t._UZ(19,"div",20),t.TgZ(20,"app-item-slot",21),t.NdJ("changed",function(x){t.CHM(d);var U=t.oxw();return U.updateItem(U.gearSlot.LeftRing,x)}),t.qZA(),t.TgZ(21,"app-item-slot",22),t.NdJ("changed",function(x){t.CHM(d);var U=t.oxw();return U.updateItem(U.gearSlot.Boot,x)}),t.qZA(),t.TgZ(22,"app-item-slot",23),t.NdJ("changed",function(x){t.CHM(d);var U=t.oxw();return U.updateItem(U.gearSlot.RightRing,x)}),t.qZA(),t.TgZ(23,"app-ultimatum-slot",24),t.NdJ("changed",function(x){return t.CHM(d),t.oxw().updateUltimatum(x)}),t.qZA(),t.qZA(),t.qZA()}if(2&M){var r=t.oxw();t.xp6(2),t.Q6J("readonly",r.readonly)("base",r.bases.Helm)("item",r.character.gear[r.gearSlot.Helm])("character",r.character),t.xp6(1),t.Q6J("readonly",r.readonly)("base",r.bases.Amulet)("item",r.character.gear[r.gearSlot.Amulet])("character",r.character),t.xp6(3),t.Q6J("readonly",r.readonly)("base",r.bases.Shoulder)("item",r.character.gear[r.gearSlot.Shoulder])("character",r.character),t.xp6(1),t.Q6J("readonly",r.readonly)("base",r.bases.Bracer)("item",r.character.gear[r.gearSlot.Bracer])("character",r.character),t.xp6(1),t.Q6J("readonly",r.readonly)("base",r.bases.Glove)("item",r.character.gear[r.gearSlot.Glove])("character",r.character),t.xp6(3),t.Q6J("ngIf",null!==r.character.importVersion&&r.character.version!==r.character.importVersion),t.xp6(1),t.Q6J("ngIf",!r.readonly),t.xp6(1),t.Q6J("heroClass",r.character.heroClass),t.xp6(2),t.Q6J("readonly",r.readonly)("base",r.bases.Body)("item",r.character.gear[r.gearSlot.Body])("character",r.character),t.xp6(1),t.Q6J("readonly",r.readonly)("base",r.bases.Cape)("item",r.character.gear[r.gearSlot.Cape])("character",r.character),t.xp6(1),t.Q6J("readonly",r.readonly)("base",r.bases.Belt)("item",r.character.gear[r.gearSlot.Belt])("character",r.character),t.xp6(3),t.Q6J("readonly",r.readonly)("base",r.bases.Ring)("item",r.character.gear[r.gearSlot.LeftRing])("character",r.character),t.xp6(1),t.Q6J("readonly",r.readonly)("base",r.bases.Boot)("item",r.character.gear[r.gearSlot.Boot])("character",r.character),t.xp6(1),t.Q6J("readonly",r.readonly)("base",r.bases.Ring)("item",r.character.gear[r.gearSlot.RightRing])("character",r.character),t.xp6(1),t.Q6J("readonly",r.readonly)("ultimatum",r.character.ultimatum)}}var et=function(){var M=function(){function J(){(0,R.Z)(this,J),this.gearSlot=e.SH,this.bases=m.J,this.character=null,this.readonly=!1,this.changed=new t.vpe}return(0,F.Z)(J,[{key:"updateItem",value:function(r,I){null!==this.character&&(this.character.gear[r]=I,this.changed.emit(this.character))}},{key:"updateUltimatum",value:function(r){null!==this.character&&(this.character.ultimatum=r,this.changed.emit(this.character))}}]),J}();return M.\u0275fac=function(d){return new(d||M)},M.\u0275cmp=t.Xpm({type:M,selectors:[["app-character-equipment"]],inputs:{character:"character",readonly:"readonly"},outputs:{changed:"changed"},decls:1,vars:1,consts:[["class","equipment",4,"ngIf"],[1,"equipment"],[1,"top-equipment"],[1,"helm",3,"readonly","base","item","character","changed"],[1,"amulet",3,"readonly","base","item","character","changed"],[1,"center-equipment"],[1,"left-equipment"],[1,"shoulder",3,"readonly","base","item","character","changed"],[1,"bracer",3,"readonly","base","item","character","changed"],[1,"glove",3,"readonly","base","item","character","changed"],[1,"character-preview"],[1,"preview-header"],["class","original-version",4,"ngIf"],[4,"ngIf"],[3,"heroClass"],[1,"right-equipment"],[1,"body",3,"readonly","base","item","character","changed"],[1,"cape",3,"readonly","base","item","character","changed"],[1,"belt",3,"readonly","base","item","character","changed"],[1,"bottom-equipment"],[1,"empty"],[1,"ring_l",3,"readonly","base","item","character","changed"],[1,"boot",3,"readonly","base","item","character","changed"],[1,"ring_r",3,"readonly","base","item","character","changed"],[3,"readonly","ultimatum","changed"],[1,"original-version"],["matTooltip","This build has been made for an older version of the game"]],template:function(d,r){1&d&&t.YNc(0,$e,24,49,"div",0),2&d&&t.Q6J("ngIf",null!==r.character)},directives:[_.O5,D.y,Y.Hw,A.gM,Oe,Qe,Ge],styles:[".equipment[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:space-between;min-height:380px}.equipment[_ngcontent-%COMP%]   .top-equipment[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:20px;flex-grow:1}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:space-between}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .left-equipment[_ngcontent-%COMP%], .equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .right-equipment[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;flex-grow:1}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .character-preview[_ngcontent-%COMP%]{width:150px;height:200px;border:3px solid #3c3c3c;padding:8px;background-color:#000;display:flex;flex-direction:column;align-items:center;justify-content:space-between}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .character-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:top;justify-content:space-between;width:100%}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .character-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .original-version[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:top;gap:4px;color:#ce4607}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .character-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .original-version[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:14px;width:14px;font-size:14px;line-height:14px}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .character-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   app-character-settings-menu[_ngcontent-%COMP%]{margin-left:auto}.equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:16px;flex-grow:1;overflow:hidden}.equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]   .ring_l[_ngcontent-%COMP%], .equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]   .ring_r[_ngcontent-%COMP%]{margin-bottom:20px}.equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]   .boot[_ngcontent-%COMP%]{margin-top:20px}.equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{width:56px}"]}),M}()},4425:function(se,ee,a){a.d(ee,{$:function(){return A}});var R=a(5671),F=a(3144),t=a(5542),m=a(9808),e=a(7238);function _(L,y){if(1&L&&(t.TgZ(0,"div",4),t.TgZ(1,"div",5),t._uU(2),t.qZA(),t.TgZ(3,"div",6),t.TgZ(4,"span",7),t._uU(5),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"div",8),t._uU(8),t.qZA(),t.qZA()),2&L){var u=t.oxw().$implicit,s=t.oxw();t.ekj("increase",u.difference>0)("decrease",u.difference<0),t.xp6(1),t.Q6J("matTooltip",s.valueToString(u.left,!0)),t.xp6(1),t.Oqu(s.valueToString(u.left)),t.xp6(3),t.Oqu(s.changeToString(u.difference)),t.xp6(1),t.hij(" ",u.name,""),t.xp6(1),t.Q6J("matTooltip",s.valueToString(u.right,!0)),t.xp6(1),t.Oqu(s.valueToString(u.right))}}function D(L,y){if(1&L&&(t.ynx(0),t.YNc(1,_,9,10,"div",3),t.BQk()),2&L){var u=y.$implicit;t.xp6(1),t.Q6J("ngIf",0!==u.difference)}}function Y(L,y){1&L&&(t.TgZ(0,"div",9),t._uU(1,"No differences"),t.qZA())}var A=function(){var L=function(){function y(){(0,R.Z)(this,y),this.differences=[]}return(0,F.Z)(y,[{key:"valueToString",value:function(s){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],f="";return f+("number"==typeof s?s>1e4&&!c?Math.floor(s/1e3)+"k":s:s.min>1e4&&s.max>1e4&&!c?Math.floor(s.min/1e3)+"k - "+Math.floor(s.max/1e3)+"k":s.min+" - "+s.max)}},{key:"changeToString",value:function(s){var c="";return Number.isFinite(s)&&(s>0&&(c="+"),c+=s+"%"),c}}]),y}();return L.\u0275fac=function(u){return new(u||L)},L.\u0275cmp=t.Xpm({type:L,selectors:[["app-compare-view"]],inputs:{differences:"differences"},decls:3,vars:2,consts:[[1,"differences"],[4,"ngFor","ngForOf"],["class","no-differences",4,"ngIf"],["class","difference",3,"increase","decrease",4,"ngIf"],[1,"difference"],[1,"left",3,"matTooltip"],[1,"change"],[1,"value"],[1,"right",3,"matTooltip"],[1,"no-differences"]],template:function(u,s){1&u&&(t.TgZ(0,"div",0),t.YNc(1,D,2,1,"ng-container",1),t.YNc(2,Y,2,0,"div",2),t.qZA()),2&u&&(t.xp6(1),t.Q6J("ngForOf",s.differences),t.xp6(1),t.Q6J("ngIf",0===s.differences.length))},directives:[m.sg,m.O5,e.gM],styles:[".differences[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;gap:8px;min-width:350px}@media (max-width: 374px){.differences[_ngcontent-%COMP%]{min-width:auto}}.differences[_ngcontent-%COMP%]   .no-differences[_ngcontent-%COMP%]{text-align:center}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{gap:8px}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0}@media not all and (-webkit-min-device-pixel-ratio: 0),not all and (min-resolution: .001dpcm){@supports (-webkit-appearance: none){.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex-basis:auto}}}@media (max-width: 374px){.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:none}}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{flex-grow:2;flex-basis:0;text-align:center}@media not all and (-webkit-min-device-pixel-ratio: 0),not all and (min-resolution: .001dpcm){@supports (-webkit-appearance: none){.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{flex-basis:auto}}}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{text-align:left}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.differences[_ngcontent-%COMP%]   .difference.increase[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:green}.differences[_ngcontent-%COMP%]   .difference.decrease[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:red}"]}),L}()},6538:function(se,ee,a){a.d(ee,{y:function(){return wt}});var R=a(5671),F=a(3144),t=a(136),m=a(7777),e=a(5542),_=a(2525),D=a(2722),Y=a(648),A=a(2473),L=a(5832),y=a(311),u=a(7469),s=a(2424),c=a(6446),f=a(8966),O=a(9635),Z=a(5457),w=a(2206),l=a(9808),k=a(8003);function g(o,v){1&o&&(e.TgZ(0,"div",20),e._uU(1,"Equipped"),e.qZA())}function P(o,v){if(1&o&&(e.TgZ(0,"li"),e.TgZ(1,"div",24),e._UZ(2,"div"),e.qZA(),e._UZ(3,"div",25),e._UZ(4,"div",26),e.qZA()),2&o){var n=v.$implicit;e.ekj("pure",n.isPure),e.xp6(2),e.Tol(n.rarity),e.xp6(1),e.Q6J("innerHTML",n.valueLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",n.statLabel,e.oJD)}}function h(o,v){if(1&o&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e._uU(2,"Base Stats:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,P,5,7,"li",23),e.qZA(),e.qZA()),2&o){var n=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",n.getNormalAffixes())}}function B(o,v){if(1&o&&(e.TgZ(0,"li"),e.TgZ(1,"div",24),e._UZ(2,"div"),e.qZA(),e._UZ(3,"div",25),e._UZ(4,"div",26),e.qZA()),2&o){var n=v.$implicit;e.ekj("pure",n.isPure),e.xp6(2),e.Tol(n.rarity),e.xp6(1),e.Q6J("innerHTML",n.valueLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",n.statLabel,e.oJD)}}function T(o,v){if(1&o&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e._uU(2,"Magic Stats:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,B,5,7,"li",23),e.qZA(),e.qZA()),2&o){var n=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",n.getMagicAffixes())}}function K(o,v){if(1&o&&(e.TgZ(0,"li"),e.TgZ(1,"div",24),e._UZ(2,"div"),e.qZA(),e._UZ(3,"div",25),e._UZ(4,"div",26),e.qZA()),2&o){var n=v.$implicit;e.ekj("pure",n.isPure),e.xp6(2),e.Tol(n.rarity),e.xp6(1),e.Q6J("innerHTML",n.valueLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",n.statLabel,e.oJD)}}function V(o,v){if(1&o&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e._uU(2,"Rare Stats:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,K,5,7,"li",23),e.qZA(),e.qZA()),2&o){var n=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",n.getRareAffixes())}}function le(o,v){if(1&o&&(e.TgZ(0,"li"),e.TgZ(1,"div",24),e._UZ(2,"div"),e.qZA(),e._UZ(3,"div",25),e._UZ(4,"div",26),e.qZA()),2&o){var n=v.$implicit;e.ekj("pure",n.isPure),e.xp6(2),e.Tol(n.rarity),e.xp6(1),e.Q6J("innerHTML",n.valueLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",n.statLabel,e.oJD)}}function j(o,v){if(1&o&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e._uU(2,"Epic Stats:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,le,5,7,"li",23),e.qZA(),e.qZA()),2&o){var n=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",n.getEpicAffixes())}}function ge(o,v){if(1&o&&(e.TgZ(0,"span",35),e._uU(1),e.qZA()),2&o){var n=e.oxw(3);e.xp6(1),e.hij(" ",n.item.legendaryEffect.activable.name,"")}}function me(o,v){if(1&o&&(e.TgZ(0,"div",6),e._UZ(1,"img",8),e.qZA()),2&o){var n=e.oxw(3);e.xp6(1),e.Q6J("src",n.item.legendaryEffect.skillIcon,e.LSH)}}function ue(o,v){if(1&o&&(e.TgZ(0,"div",27),e.TgZ(1,"div",28),e.TgZ(2,"div",29),e.TgZ(3,"div",22),e.TgZ(4,"div",24),e._UZ(5,"div",30),e.qZA(),e._uU(6),e.TgZ(7,"div",24),e._UZ(8,"div",30),e.qZA(),e.qZA(),e.TgZ(9,"div",31),e._UZ(10,"span",32),e.YNc(11,ge,2,1,"span",33),e.qZA(),e.YNc(12,me,2,1,"div",34),e.qZA(),e.qZA(),e.qZA()),2&o){var n=e.oxw(2);e.xp6(6),e.hij(" ",n.item.legendaryEffect.title," "),e.xp6(4),e.Q6J("innerHTML",n.item.legendaryEffect.description,e.oJD),e.xp6(1),e.Q6J("ngIf",null!==n.item.legendaryEffect.activable),e.xp6(1),e.Q6J("ngIf",null!==n.item.legendaryEffect.skillIcon)}}function ae(o,v){if(1&o&&e._UZ(0,"app-activable-view",36),2&o){var n=e.oxw(2);e.Q6J("activable",n.item.legendaryEffect.activable)("reinforcment",n.item.reinforcment)}}function fe(o,v){if(1&o&&(e.TgZ(0,"div",37),e._UZ(1,"img",8),e._UZ(2,"div",38),e.qZA()),2&o){var n=e.oxw(2);e.xp6(1),e.Q6J("src",n.item.reaperEnchantment.icon,e.LSH),e.xp6(1),e.Q6J("innerHTML",n.item.reaperEnchantment.label,e.oJD)}}function N(o,v){if(1&o&&(e.TgZ(0,"div",39),e._UZ(1,"img",8),e._UZ(2,"div",38),e.qZA()),2&o){var n=e.oxw(2);e.xp6(1),e.Q6J("src",n.item.skillEnchantment.icon,e.LSH),e.xp6(1),e.Q6J("innerHTML",n.item.skillEnchantment.label,e.oJD)}}function G(o,v){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"img",8),e._UZ(2,"div",38),e.qZA()),2&o){var n=e.oxw(2);e.Gre("buff attribute atr-",n.item.attributeEnchantment.craftedAttribute,""),e.xp6(1),e.Q6J("src",n.item.attributeEnchantment.icon,e.LSH),e.xp6(1),e.Q6J("innerHTML",n.item.attributeEnchantment.label,e.oJD)}}function b(o,v){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"div",1),e.TgZ(2,"div",2),e.YNc(3,g,2,0,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e._UZ(7,"img",7),e._UZ(8,"img",8),e.qZA(),e.TgZ(9,"div",9),e._uU(10),e.qZA(),e.TgZ(11,"div",10),e._uU(12,"-"),e.qZA(),e.TgZ(13,"div",11),e._uU(14),e.qZA(),e.TgZ(15,"div"),e._uU(16),e.qZA(),e.qZA(),e._UZ(17,"div",12),e.TgZ(18,"div",13),e.YNc(19,h,5,1,"div",14),e.YNc(20,T,5,1,"div",14),e.YNc(21,V,5,1,"div",14),e.YNc(22,j,5,1,"div",14),e.qZA(),e.qZA(),e.YNc(23,ue,13,4,"div",15),e.YNc(24,ae,1,2,"app-activable-view",16),e.YNc(25,fe,3,2,"div",17),e.YNc(26,N,3,2,"div",18),e.YNc(27,G,3,5,"div",19),e.qZA(),e.qZA()),2&o){var n=e.oxw();e.Gre("item ",n.item.rarity,""),e.ekj("nodetails",!n.details),e.xp6(1),e.Q6J("innerHTML",n.item.name,e.oJD),e.xp6(2),e.Q6J("ngIf",n.equipped),e.xp6(4),e.Q6J("src",n.item.itemIconBackground,e.LSH),e.xp6(1),e.Q6J("src",n.item.icon,e.LSH),e.xp6(2),e.Oqu(n.item.rarityLabel),e.xp6(4),e.Oqu(n.item.baseLabel),e.xp6(2),e.Oqu(n.item.levelLabel),e.xp6(3),e.Q6J("ngIf",n.getNormalAffixes().length>0),e.xp6(1),e.Q6J("ngIf",n.getMagicAffixes().length>0),e.xp6(1),e.Q6J("ngIf",n.getRareAffixes().length>0),e.xp6(1),e.Q6J("ngIf",n.getEpicAffixes().length>0),e.xp6(1),e.Q6J("ngIf",null!==n.item.legendaryEffect),e.xp6(1),e.Q6J("ngIf",null!==n.item.legendaryEffect&&null!==n.item.legendaryEffect.activable),e.xp6(1),e.Q6J("ngIf",null!==n.item.reaperEnchantment),e.xp6(1),e.Q6J("ngIf",null!==n.item.skillEnchantment),e.xp6(1),e.Q6J("ngIf",null!==n.item.attributeEnchantment)}}var q=function(){var o=function(){function v(){(0,R.Z)(this,v),this.item=null,this.equipped=!1,this.details=!0}return(0,F.Z)(v,[{key:"getNormalAffixes",value:function(){return null===this.item?[]:this.item.affixes.filter(function(i){return i.rarity===w.u.Normal})}},{key:"getMagicAffixes",value:function(){return null===this.item?[]:this.item.affixes.filter(function(i){return i.rarity===w.u.Magic})}},{key:"getRareAffixes",value:function(){return null===this.item?[]:this.item.affixes.filter(function(i){return i.rarity===w.u.Rare})}},{key:"getEpicAffixes",value:function(){return null===this.item?[]:this.item.affixes.filter(function(i){return i.rarity===w.u.Epic})}}]),v}();return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-view"]],inputs:{item:"item",equipped:"equipped",details:"details"},decls:1,vars:1,consts:[[3,"class","nodetails",4,"ngIf"],[1,"head",3,"innerHTML"],[1,"content"],["class","equipped",4,"ngIf"],[1,"main"],[1,"info"],[1,"icon"],[1,"background",3,"src"],[3,"src"],[1,"rarity"],[1,"split"],[1,"base"],[1,"separator"],[1,"stats"],["class","affixes",4,"ngIf"],["class","legendary-effect outer-border",4,"ngIf"],[3,"activable","reinforcment",4,"ngIf"],["class","buff reaper",4,"ngIf"],["class","buff skill",4,"ngIf"],[3,"class",4,"ngIf"],[1,"equipped"],[1,"affixes"],[1,"title"],[3,"pure",4,"ngFor","ngForOf"],[1,"bullet"],[1,"value",3,"innerHTML"],[1,"name",3,"innerHTML"],[1,"legendary-effect","outer-border"],[1,"border"],[1,"inner-border","legendary-description"],[1,"legendary"],[1,"description"],[3,"innerHTML"],["class","value",4,"ngIf"],["class","icon",4,"ngIf"],[1,"value"],[3,"activable","reinforcment"],[1,"buff","reaper"],[1,"info",3,"innerHTML"],[1,"buff","skill"]],template:function(n,i){1&n&&e.YNc(0,b,28,21,"div",0),2&n&&e.Q6J("ngIf",null!==i.item)},directives:[l.O5,l.sg,k.K],styles:['.item.normal[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#898989}.item.magic[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#2e8726}.item.rare[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#176ab1}.item.epic[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#c68d20}.item.legendary[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#ce4607}.item.normal[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#59513c}.item.magic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#61462d}.item.rare[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#7791a1}.item.epic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#efc65c}.item.legendary[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#f5b250}.bullet[_ngcontent-%COMP%]{min-width:8px}.bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}.bullet[_ngcontent-%COMP%]   div.normal[_ngcontent-%COMP%]{background-color:#898989}.bullet[_ngcontent-%COMP%]   div.magic[_ngcontent-%COMP%]{background-color:#2e8726}.bullet[_ngcontent-%COMP%]   div.rare[_ngcontent-%COMP%]{background-color:#176ab1}.bullet[_ngcontent-%COMP%]   div.epic[_ngcontent-%COMP%]{background-color:#c68d20}.bullet[_ngcontent-%COMP%]   div.legendary[_ngcontent-%COMP%]{background-color:#ce4607}.item[_ngcontent-%COMP%]{background-color:#151412;color:#fff;border:2px solid black;min-width:350px}.item[_ngcontent-%COMP%]  .legendary-effect .value, .item[_ngcontent-%COMP%]  .buff .value{color:#fff}.item[_ngcontent-%COMP%]  .range, .item[_ngcontent-%COMP%]  .range .value, .item[_ngcontent-%COMP%]  .details, .item[_ngcontent-%COMP%]  .details .value, .item[_ngcontent-%COMP%]  .formula, .item[_ngcontent-%COMP%]  .formula .value, .item[_ngcontent-%COMP%]  .pure-info, .item[_ngcontent-%COMP%]  .pure-info .value{color:#686868}.item[_ngcontent-%COMP%]  .affixes .range, .item[_ngcontent-%COMP%]  .affixes .value, .item[_ngcontent-%COMP%]  .pure-info{word-break:keep-all;white-space:nowrap}.item.nodetails[_ngcontent-%COMP%]     .details, .item.nodetails[_ngcontent-%COMP%]     .formula{display:none}.item[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%], .item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{border:2px solid}.item[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%]{margin-bottom:2px;text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;padding:15px 10px;gap:15px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;text-transform:capitalize}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{min-width:80px;width:80px;display:flex;flex-direction:column;align-items:center}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{text-transform:capitalize;text-align:center}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{min-width:56px;min-height:56px;width:56px;height:56px;border:4px solid black;margin-bottom:10px;position:relative}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{background-color:#686868;min-width:2px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;gap:10px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#686868}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;list-style:disc inside;padding-left:0}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:flex;flex-direction:row;padding-left:5px;gap:5px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pure[_ngcontent-%COMP%]{color:#46e7b0;background:linear-gradient(90deg,rgba(70,231,176,.3) 0%,rgba(70,231,176,0) 100%)}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pure[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:after{content:" !!"}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex-grow:1}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-effect.outer-border[_ngcontent-%COMP%]{border:3px solid black}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-effect.outer-border[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{border:2px solid #2e2c25}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-effect.outer-border[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]{border:3px solid black}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px 30px;gap:5px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:5px;color:#686868}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:center}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-top:5px;min-width:36px;min-height:36px;width:36px;height:36px;border:3px solid black;padding:2px;background-color:#2e2c25}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff[_ngcontent-%COMP%]{border:3px solid #3b3831;padding:5px 36px;text-align:center;position:relative}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:-6px;top:50%;margin-top:-22px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.reaper[_ngcontent-%COMP%]{color:#148e89}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.skill[_ngcontent-%COMP%]{color:#ce4607}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-0[_ngcontent-%COMP%]{color:#2f5996}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-1[_ngcontent-%COMP%]{color:#a83007}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-2[_ngcontent-%COMP%]{color:#79b549}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-3[_ngcontent-%COMP%]{color:#d0b545}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-4[_ngcontent-%COMP%]{color:#4bc1b2}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-5[_ngcontent-%COMP%]{color:#753098}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-6[_ngcontent-%COMP%]{color:#cd7028}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-7[_ngcontent-%COMP%]{color:#bf3c59}']}),o}(),te=a(4425),S=function(){var o=(0,F.Z)(function v(n,i,p,C,H){(0,R.Z)(this,v),this.slormancerItemService=i,this.slormancerCharacterBuilderService=p,this.slormancerCharacterUpdaterService=C,this.slormancerCharacterComparatorService=H;var X=this.slormancerCharacterBuilderService.getCharacterClone(n.character),oe=this.slormancerCharacterBuilderService.getCharacterClone(n.character);X.gear[n.slot]=this.slormancerItemService.getEquipableItemClone(n.left),oe.gear[n.slot]=this.slormancerItemService.getEquipableItemClone(n.right),this.slormancerCharacterUpdaterService.updateCharacter(X,n.config),this.slormancerCharacterUpdaterService.updateCharacter(oe,n.config),this.left=n.left,this.right=n.right,this.differences=this.slormancerCharacterComparatorService.compareCharacters(X,oe)});return o.\u0275fac=function(n){return new(n||o)(e.Y36(f.WI),e.Y36(L.S),e.Y36(A.o),e.Y36(Z.P),e.Y36(O.P))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-compare-item-modal"]],decls:8,vars:6,consts:[["mat-dialog-title",""],[1,"item"],[3,"item","equipped"],[3,"differences"],[3,"item"]],template:function(n,i){1&n&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"div",1),e._UZ(4,"app-item-view",2),e.qZA(),e._UZ(5,"app-compare-view",3),e.TgZ(6,"div",1),e._UZ(7,"app-item-view",4),e.qZA(),e.qZA()),2&n&&(e.xp6(1),e.AsE("",i.left.name," - ",i.right.name,""),e.xp6(3),e.Q6J("item",i.left)("equipped",!0),e.xp6(1),e.Q6J("differences",i.differences),e.xp6(2),e.Q6J("item",i.right))},directives:[f.uh,f.xY,q,te.$],styles:["h2[_ngcontent-%COMP%]{display:none;text-align:center}@media (max-width: 992px){h2[_ngcontent-%COMP%]{display:block}}mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:20px}@media (max-width: 992px){mat-dialog-content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:none}mat-dialog-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:block}}@media (max-width: 374px){mat-dialog-content[_ngcontent-%COMP%]   app-compare-view[_ngcontent-%COMP%]{width:100%}}mat-dialog-content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:370px;min-width:380px;overflow-y:auto}"]}),o}(),W=a(4456),E=a(7423);function ne(o,v){if(1&o&&(e.TgZ(0,"button",3),e._uU(1),e.qZA()),2&o){var n=v.$implicit;e.Q6J("mat-dialog-close",n),e.xp6(1),e.Oqu(n)}}var z=function(){var o=function(){function v(n){(0,R.Z)(this,v),this.dialogRef=n,this.EQUIPABLE_ITEM_BASE_VALUES=W.l}return(0,F.Z)(v,[{key:"selectBase",value:function(i){this.dialogRef.close(i)}}]),v}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(f.so))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-base-choice-modal"]],decls:7,vars:2,consts:[["mat-dialog-title",""],["mat-flat-button","","color","primary",3,"mat-dialog-close",4,"ngFor","ngForOf"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","color","primary",3,"mat-dialog-close"]],template:function(n,i){1&n&&(e.TgZ(0,"h2",0),e._uU(1,"Choose a base for your item"),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.YNc(3,ne,2,2,"button",1),e.qZA(),e.TgZ(4,"mat-dialog-actions"),e.TgZ(5,"button",2),e._uU(6,"Cancel"),e.qZA(),e.qZA()),2&n&&(e.xp6(3),e.Q6J("ngForOf",i.EQUIPABLE_ITEM_BASE_VALUES),e.xp6(2),e.Q6J("mat-dialog-close",null))},directives:[f.uh,f.xY,l.sg,E.lW,f.ZT,f.H8],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:8px}"]}),o}(),Q=a(3075),de=a(4373),he=a(1093),He=a(9377),Be=a(5351),qe=a(7189),Me=a(5581),Oe=a(1671),pe=a(7322),Qe=a(7531),Ce=a(3874),be=a(4102),ye=a(508),xe=a(8029),ke=a(7446);function Fe(o,v){if(1&o&&(e.TgZ(0,"mat-option",13),e._UZ(1,"span",14),e.qZA()),2&o){var n=v.$implicit,i=e.oxw(2);e.Q6J("disabled",i.isOptionDisabled(n.value))("value",n.value),e.xp6(1),e.Q6J("innerHTML",n.label,e.oJD)}}function Ye(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"mat-slider",15),e.NdJ("input",function(C){return e.CHM(n),e.oxw(2).updateSliderStat(C)}),e.qZA()}if(2&o){var i=e.oxw(2);e.Q6J("min",i.affix.craftedEffect.minPossibleCraftedValue)("max",i.affix.craftedEffect.maxPossibleCraftedValue)("step",1)}}function Ve(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"mat-slider",16),e.NdJ("input",function(p){return e.CHM(n),e.oxw(2).updateSliderPurity(p)}),e.qZA()}2&o&&e.Q6J("min",101)("max",200)("step",1)}function Ie(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"mat-form-field",3),e.TgZ(3,"mat-label"),e._uU(4,"Stat"),e.qZA(),e.TgZ(5,"mat-select",4),e.YNc(6,Fe,2,3,"mat-option",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",6),e.YNc(8,Ye,1,3,"mat-slider",7),e.YNc(9,Ve,1,3,"mat-slider",8),e.qZA(),e.TgZ(10,"div",9),e.TgZ(11,"div",10),e._uU(12),e.qZA(),e.TgZ(13,"mat-checkbox",11),e.NdJ("change",function(C){return e.CHM(n),e.oxw().purityChanged(C)}),e._uU(14,"Pure"),e.qZA(),e.TgZ(15,"button",12),e.NdJ("click",function(){return e.CHM(n),e.oxw().removeStat()}),e.TgZ(16,"mat-icon"),e._uU(17,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("ngIf",!i.affix.isPure),e.xp6(1),e.Q6J("ngIf",i.affix.isPure),e.xp6(2),e.ekj("pure",i.affix.isPure),e.xp6(1),e.hij(" ",i.displayedValue," "),e.xp6(1),e.Q6J("checked",i.affix.isPure),e.xp6(2),e.Q6J("disabled",!i.removable)}}var Ke=function(){var o=function(){function v(n){(0,R.Z)(this,v),this.itemFormService=n,this.base=W.J.Amulet,this.alreadyUsedStats=[],this.affix=null,this.form=null,this.removable=!1,this.remove=new e.vpe,this.options=[],this.displayedValue=""}return(0,F.Z)(v,[{key:"ngOnChanges",value:function(){null!==this.affix&&(this.options=this.itemFormService.getStatsOptions(this.base,this.affix.rarity),this.affix.isPure?this.setPuritylabel(this.affix.pure):this.setStatLabel(this.affix.craftedEffect.craftedValue))}},{key:"isOptionDisabled",value:function(i){return-1!==this.alreadyUsedStats.indexOf(i)&&null!==this.affix&&i!==this.affix.craftedEffect.effect.stat}},{key:"purityChanged",value:function(i){null!==this.affix&&null!==this.form&&this.form.patchValue(i.checked?{purity:101}:{purity:100})}},{key:"updateSliderPurity",value:function(i){null!==i.value&&this.setPuritylabel(i.value)}},{key:"updateSliderStat",value:function(i){null!==i.value&&this.setStatLabel(i.value)}},{key:"setPuritylabel",value:function(i){this.displayedValue=Math.round(i-100)+"%"}},{key:"setStatLabel",value:function(i){if(this.displayedValue="",null!==this.affix){var p=this.affix.craftedEffect.effect.percent?"%":"";this.displayedValue=null===this.affix?"":"+"+((0,Me.AW)(this.affix.craftedEffect,i)+p)}}},{key:"removeStat",value:function(){this.remove.emit()}}]),v}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(Oe.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-stat"]],inputs:{base:"base",alreadyUsedStats:"alreadyUsedStats",affix:"affix",form:"form",removable:"removable"},outputs:{remove:"remove"},features:[e.TTD],decls:1,vars:1,consts:[["class","stat-line",3,"formGroup",4,"ngIf"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline","color","primary",1,"no-error-padding"],["formControlName","stat","color","primary"],[3,"disabled","value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input",4,"ngIf"],["color","accent","formControlName","purity",3,"min","max","step","input",4,"ngIf"],[1,"additional"],[1,"value"],["color","primary",3,"checked","change"],["mat-icon-button","","color","primary","type","button",3,"disabled","click"],[3,"disabled","value"],[3,"innerHTML"],["color","primary","formControlName","value",3,"min","max","step","input"],["color","accent","formControlName","purity",3,"min","max","step","input"]],template:function(n,i){1&n&&e.YNc(0,Ie,18,9,"div",0),2&n&&e.Q6J("ngIf",null!==i.form&&null!==i.affix)},directives:[l.O5,Q.JL,Q.sg,pe.KE,pe.hX,be.gD,Q.JJ,Q.u,l.sg,ye.ey,xe.pH,ke.oG,E.lW,Ce.Hw],styles:[".pure[_ngcontent-%COMP%]{color:#20d787}"]}),o}(),Le=a(2107);function We(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().addLegendaryEffect()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function je(o,v){if(1&o&&(e.TgZ(0,"mat-option",16),e._UZ(1,"span",17),e.qZA()),2&o){var n=v.$implicit;e.Q6J("value",n.value),e.xp6(1),e.Q6J("innerHTML",n.label,e.oJD)}}function Ge(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"mat-slider",18),e.NdJ("input",function(p){return e.CHM(n),e.oxw(2).updateSliderValue(p)}),e.qZA()}2&o&&e.Q6J("min",75)("max",100)("step",1)}function ze(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"mat-form-field",8),e.TgZ(3,"mat-label"),e._uU(4,"Legendary effect"),e.qZA(),e.TgZ(5,"mat-select",9),e.YNc(6,je,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",11),e.YNc(8,Ge,1,3,"mat-slider",12),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"div",14),e._uU(11),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){return e.CHM(n),e.oxw().removeLegendaryEffect()}),e.TgZ(13,"mat-icon"),e._uU(14,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("ngIf",i.hasLegendaryValues()),e.xp6(3),e.hij(" ",i.displayedValue," ")}}var Xe=function(){var o=function(){function v(n){(0,R.Z)(this,v),this.itemFormService=n,this.base=W.J.Amulet,this.heroClass=Le.i.Huntress,this.legendaryEffect=null,this.form=null,this.reinforcment=null,this.options=[],this.displayedValue=""}return(0,F.Z)(v,[{key:"ngOnChanges",value:function(){this.options=this.itemFormService.getLegendaryOptions(this.base,this.heroClass),null!==this.legendaryEffect&&this.updateLegendaryValueLabel(this.legendaryEffect.value)}},{key:"updateLegendaryValueLabel",value:function(i){this.displayedValue="",null!==this.legendaryEffect&&null!==i&&(this.displayedValue=this.legendaryEffect.effects.filter(function(p){return p.possibleCraftedValues.length>1}).map(function(p){var C=p.effect.percent?"%":"";return(0,Me.AW)(p,i)+C}).join(" / "))}},{key:"hasLegendaryValues",value:function(){return null!==this.legendaryEffect&&this.legendaryEffect.effects.filter(function(i){return i.possibleCraftedValues.length>1}).length>0}},{key:"updateSliderValue",value:function(i){this.displayedValue="";var p=i.value;null!==this.legendaryEffect&&null!==p&&this.updateLegendaryValueLabel(p)}},{key:"removeLegendaryEffect",value:function(){null!==this.form&&this.form.patchValue({id:null})}},{key:"addLegendaryEffect",value:function(){var i=this.options[0];null!==this.form&&i&&this.form.patchValue({id:i.value,value:100})}}]),v}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(Oe.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-legendary-effect"]],inputs:{base:"base",heroClass:"heroClass",legendaryEffect:"legendaryEffect",form:"form",reinforcment:"reinforcment"},features:[e.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","id"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input",4,"ngIf"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"],["color","primary","formControlName","value",3,"min","max","step","input"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"Legendary effect :"),e.qZA(),e.YNc(3,We,4,0,"div",2),e.qZA(),e.YNc(4,ze,15,4,"div",3)),2&n&&(e.xp6(3),e.Q6J("ngIf",null!==i.form&&null===i.legendaryEffect),e.xp6(1),e.Q6J("ngIf",null!==i.form&&null!==i.legendaryEffect))},directives:[l.O5,E.lW,Ce.Hw,Q.JL,Q.sg,pe.KE,pe.hX,be.gD,Q.JJ,Q.u,l.sg,ye.ey,xe.pH],styles:[""]}),o}();function $e(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().addReaperEnchantment()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function et(o,v){if(1&o&&(e.TgZ(0,"mat-option",16),e._UZ(1,"span",17),e.qZA()),2&o){var n=v.$implicit;e.Q6J("value",n.value),e.xp6(1),e.Q6J("innerHTML",n.label,e.oJD)}}function M(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"mat-form-field",8),e.TgZ(3,"mat-label"),e._uU(4,"Reaper Enchantment"),e.qZA(),e.TgZ(5,"mat-select",9),e.YNc(6,et,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",11),e.TgZ(8,"mat-slider",12),e.NdJ("input",function(C){return e.CHM(n),e.oxw().updateSliderValue(C)}),e.qZA(),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"div",14),e._uU(11),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){return e.CHM(n),e.oxw().removeReaperEnchantment()}),e.TgZ(13,"mat-icon"),e._uU(14,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("min",1)("max",5)("step",1),e.xp6(3),e.hij(" ",i.displayedValue," ")}}var J=function(){var o=function(){function v(n){(0,R.Z)(this,v),this.itemFormService=n,this.reaperEnchantment=null,this.form=null,this.options=[],this.displayedValue=""}return(0,F.Z)(v,[{key:"ngOnChanges",value:function(){this.options=this.itemFormService.getReaperBuffOptions(),null!==this.reaperEnchantment&&this.updateReaperEnchantmentValueLabel(this.reaperEnchantment.effect.value)}},{key:"updateReaperEnchantmentValueLabel",value:function(i){this.displayedValue="",null!==this.reaperEnchantment&&null!==i&&(this.displayedValue="+"+(0,Me.Be)(this.reaperEnchantment.craftableValues[i],0))}},{key:"updateSliderValue",value:function(i){this.displayedValue="";var p=i.value;null!==this.reaperEnchantment&&null!==p&&this.updateReaperEnchantmentValueLabel(p)}},{key:"removeReaperEnchantment",value:function(){null!==this.form&&this.form.patchValue({smith:null})}},{key:"addReaperEnchantment",value:function(){var i=this.options[0];null!==this.form&&i&&this.form.patchValue({smith:i.value,value:5})}}]),v}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(Oe.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-buff-reaper"]],inputs:{reaperEnchantment:"reaperEnchantment",form:"form"},features:[e.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","form-add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"form-add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","smith"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"Reaper Enchantment :"),e.qZA(),e.YNc(3,$e,4,0,"div",2),e.qZA(),e.YNc(4,M,15,6,"div",3)),2&n&&(e.xp6(3),e.Q6J("ngIf",null!==i.form&&null===i.reaperEnchantment),e.xp6(1),e.Q6J("ngIf",null!==i.form&&null!==i.reaperEnchantment))},directives:[l.O5,E.lW,Ce.Hw,Q.JL,Q.sg,pe.KE,pe.hX,be.gD,Q.JJ,Q.u,l.sg,ye.ey,xe.pH],styles:[""]}),o}();function d(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().addSkillEnchantment()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function r(o,v){if(1&o&&(e.TgZ(0,"mat-option",16),e._UZ(1,"span",17),e.qZA()),2&o){var n=v.$implicit;e.Q6J("value",n.value),e.xp6(1),e.Q6J("innerHTML",n.label,e.oJD)}}function I(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"mat-form-field",8),e.TgZ(3,"mat-label"),e._uU(4,"Skill Enchantment"),e.qZA(),e.TgZ(5,"mat-select",9),e.YNc(6,r,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",11),e.TgZ(8,"mat-slider",12),e.NdJ("input",function(C){return e.CHM(n),e.oxw().updateSliderValue(C)}),e.qZA(),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"div",14),e._uU(11),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){return e.CHM(n),e.oxw().removeSkillEnchantment()}),e.TgZ(13,"mat-icon"),e._uU(14,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("min",1)("max",2)("step",1),e.xp6(3),e.hij(" ",i.displayedValue," ")}}var x=function(){var o=function(){function v(n){(0,R.Z)(this,v),this.itemFormService=n,this.heroClass=Le.i.Huntress,this.skillEnchantment=null,this.form=null,this.options=[],this.displayedValue=""}return(0,F.Z)(v,[{key:"ngOnChanges",value:function(){this.options=this.itemFormService.getSkillBuffOptions(this.heroClass),null!==this.skillEnchantment&&this.updateSkillEnchantmentValueLabel(this.skillEnchantment.effect.value)}},{key:"updateSkillEnchantmentValueLabel",value:function(i){this.displayedValue="",null!==this.skillEnchantment&&null!==i&&(this.displayedValue="+"+(0,Me.Be)(this.skillEnchantment.craftableValues[i],0))}},{key:"updateSliderValue",value:function(i){this.displayedValue="";var p=i.value;null!==this.skillEnchantment&&null!==p&&this.updateSkillEnchantmentValueLabel(p)}},{key:"removeSkillEnchantment",value:function(){null!==this.form&&this.form.patchValue({skill:null})}},{key:"addSkillEnchantment",value:function(){var i=this.options[0];null!==this.form&&i&&this.form.patchValue({skill:i.value,value:2})}}]),v}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(Oe.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-buff-skill"]],inputs:{heroClass:"heroClass",skillEnchantment:"skillEnchantment",form:"form"},features:[e.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","skill"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"Skill Enchantment :"),e.qZA(),e.YNc(3,d,4,0,"div",2),e.qZA(),e.YNc(4,I,15,6,"div",3)),2&n&&(e.xp6(3),e.Q6J("ngIf",null!==i.form&&null===i.skillEnchantment),e.xp6(1),e.Q6J("ngIf",null!==i.form&&null!==i.skillEnchantment))},directives:[l.O5,E.lW,Ce.Hw,Q.JL,Q.sg,pe.KE,pe.hX,be.gD,Q.JJ,Q.u,l.sg,ye.ey,xe.pH],styles:[""]}),o}();function U(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().addAttributeEnchantment()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function ie(o,v){if(1&o&&(e.TgZ(0,"mat-option",16),e._UZ(1,"span",17),e.qZA()),2&o){var n=v.$implicit;e.Q6J("value",n.value),e.xp6(1),e.Q6J("innerHTML",n.label,e.oJD)}}function re(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"mat-form-field",8),e.TgZ(3,"mat-label"),e._uU(4,"Attribute Enchantment"),e.qZA(),e.TgZ(5,"mat-select",9),e.YNc(6,ie,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",11),e.TgZ(8,"mat-slider",12),e.NdJ("input",function(C){return e.CHM(n),e.oxw().updateSliderValue(C)}),e.qZA(),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"div",14),e._uU(11),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){return e.CHM(n),e.oxw().removeAttributeEnchantment()}),e.TgZ(13,"mat-icon"),e._uU(14,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("min",1)("max",3)("step",1),e.xp6(3),e.hij(" ",i.displayedValue," ")}}var _e=function(){var o=function(){function v(n){(0,R.Z)(this,v),this.itemFormService=n,this.attributeEnchantment=null,this.form=null,this.options=[],this.displayedValue=""}return(0,F.Z)(v,[{key:"ngOnChanges",value:function(){this.options=this.itemFormService.getAttributeBuffOptions(),null!==this.attributeEnchantment&&this.updateAttributeEnchantmentValueLabel(this.attributeEnchantment.effect.value)}},{key:"updateAttributeEnchantmentValueLabel",value:function(i){this.displayedValue="",null!==this.attributeEnchantment&&null!==i&&(this.displayedValue="+"+(0,Me.Be)(this.attributeEnchantment.craftableValues[i],0))}},{key:"updateSliderValue",value:function(i){this.displayedValue="";var p=i.value;null!==this.attributeEnchantment&&null!==p&&this.updateAttributeEnchantmentValueLabel(p)}},{key:"removeAttributeEnchantment",value:function(){null!==this.form&&this.form.patchValue({attribute:null})}},{key:"addAttributeEnchantment",value:function(){var i=this.options[0];null!==this.form&&i&&this.form.patchValue({attribute:i.value,value:3})}}]),v}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(Oe.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-buff-attribute"]],inputs:{attributeEnchantment:"attributeEnchantment",form:"form"},features:[e.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","attribute"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"Attribute Enchantment :"),e.qZA(),e.YNc(3,U,4,0,"div",2),e.qZA(),e.YNc(4,re,15,6,"div",3)),2&n&&(e.xp6(3),e.Q6J("ngIf",null!==i.form&&null===i.attributeEnchantment),e.xp6(1),e.Q6J("ngIf",null!==i.form&&null!==i.attributeEnchantment))},directives:[l.O5,E.lW,Ce.Hw,Q.JL,Q.sg,pe.KE,pe.hX,be.gD,Q.JJ,Q.u,l.sg,ye.ey,xe.pH],styles:[""]}),o}();function Ze(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).addBasicAffix()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function we(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"app-item-edit-stat",25),e.NdJ("remove",function(){e.CHM(n);var oe=e.oxw().index;return e.oxw(3).removeAffix(oe)}),e.qZA()}if(2&o){var i=e.oxw(),p=i.$implicit,C=i.index,H=e.oxw(3);e.Q6J("form",p)("base",H.item.base)("alreadyUsedStats",H.alreadyUsedStats)("affix",H.getAffix(C))("removable",!1)}}function Ue(o,v){if(1&o&&(e.ynx(0),e.YNc(1,we,1,5,"app-item-edit-stat",24),e.BQk()),2&o){var n=v.$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",i.isBasicStat(n))}}function Ee(o,v){if(1&o&&(e.ynx(0),e.YNc(1,Ue,2,1,"ng-container",14),e.BQk()),2&o){var n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.getAffixControls())}}function Je(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).addMagicAffix()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function tt(o,v){if(1&o&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e._uU(2," Magic Stats : "),e.qZA(),e.YNc(3,Je,4,0,"div",11),e.qZA()),2&o){var n=e.oxw(2);e.xp6(3),e.Q6J("ngIf",n.hasBasicStats()&&!n.hasMaximumMagicStats())}}function nt(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"app-item-edit-stat",25),e.NdJ("remove",function(){e.CHM(n);var oe=e.oxw().index;return e.oxw(2).removeAffix(oe)}),e.qZA()}if(2&o){var i=e.oxw(),p=i.$implicit,C=i.index,H=e.oxw(2);e.Q6J("form",p)("base",H.item.base)("alreadyUsedStats",H.alreadyUsedStats)("affix",H.getAffix(C))("removable",!H.hasRareStats()&&!H.hasEpicStats())}}function De(o,v){if(1&o&&(e.ynx(0),e.YNc(1,nt,1,5,"app-item-edit-stat",24),e.BQk()),2&o){var n=v.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.isMagicStat(n))}}function Re(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).addRareAffix()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function ve(o,v){if(1&o&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e._uU(2," Rare Stats : "),e.qZA(),e.YNc(3,Re,4,0,"div",11),e.qZA()),2&o){var n=e.oxw(2);e.xp6(3),e.Q6J("ngIf",n.hasMagicStats()&&!n.hasMaximumRareStats())}}function Pe(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"app-item-edit-stat",25),e.NdJ("remove",function(){e.CHM(n);var oe=e.oxw().index;return e.oxw(2).removeAffix(oe)}),e.qZA()}if(2&o){var i=e.oxw(),p=i.$implicit,C=i.index,H=e.oxw(2);e.Q6J("form",p)("base",H.item.base)("alreadyUsedStats",H.alreadyUsedStats)("affix",H.getAffix(C))("removable",!H.hasEpicStats())}}function at(o,v){if(1&o&&(e.ynx(0),e.YNc(1,Pe,1,5,"app-item-edit-stat",24),e.BQk()),2&o){var n=v.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.isRareStat(n))}}function it(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).addEpicAffix()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function Ne(o,v){if(1&o&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e._uU(2," Epic Stats : "),e.qZA(),e.YNc(3,it,4,0,"div",11),e.qZA()),2&o){var n=e.oxw(2);e.xp6(3),e.Q6J("ngIf",n.hasRareStats()&&!n.hasMaximumEpicStats())}}function ot(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"app-item-edit-stat",25),e.NdJ("remove",function(){e.CHM(n);var oe=e.oxw().index;return e.oxw(2).removeAffix(oe)}),e.qZA()}if(2&o){var i=e.oxw(),p=i.$implicit,C=i.index,H=e.oxw(2);e.Q6J("form",p)("base",H.item.base)("alreadyUsedStats",H.alreadyUsedStats)("affix",H.getAffix(C))("removable",!0)}}function pt(o,v){if(1&o&&(e.ynx(0),e.YNc(1,ot,1,5,"app-item-edit-stat",24),e.BQk()),2&o){var n=v.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.isEpicStat(n))}}function ft(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"form",1),e.NdJ("submit",function(){return e.CHM(n),e.oxw().submit()}),e.TgZ(1,"mat-dialog-content"),e.TgZ(2,"div",2),e._UZ(3,"app-item-view",3),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"mat-form-field",6),e.TgZ(7,"mat-label"),e._uU(8,"Item level"),e.qZA(),e._UZ(9,"input",7),e.TgZ(10,"mat-error"),e._uU(11),e.qZA(),e.qZA(),e.TgZ(12,"mat-form-field",6),e.TgZ(13,"mat-label"),e._uU(14,"Item reinforcment"),e.qZA(),e._UZ(15,"input",8),e.TgZ(16,"mat-error"),e._uU(17,"Reinforcment must be >= 0"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",9),e.TgZ(19,"div",10),e._uU(20," Base Stats : "),e.qZA(),e.YNc(21,Ze,4,0,"div",11),e.qZA(),e.YNc(22,Ee,2,1,"ng-container",12),e.YNc(23,tt,4,1,"div",13),e.YNc(24,De,2,1,"ng-container",14),e.YNc(25,ve,4,1,"div",13),e.YNc(26,at,2,1,"ng-container",14),e.YNc(27,Ne,4,1,"div",13),e.YNc(28,pt,2,1,"ng-container",14),e._UZ(29,"app-item-edit-legendary-effect",15),e._UZ(30,"app-item-edit-buff-reaper",16),e._UZ(31,"app-item-edit-buff-skill",17),e._UZ(32,"app-item-edit-buff-attribute",18),e.qZA(),e.qZA(),e.TgZ(33,"mat-dialog-actions"),e.TgZ(34,"button",19),e._uU(35,"Cancel"),e.qZA(),e.TgZ(36,"button",20),e.NdJ("click",function(){return e.CHM(n),e.oxw().reset()}),e._uU(37,"Reset"),e.qZA(),e.TgZ(38,"button",21),e._uU(39,"Submit"),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(3),e.Q6J("item",i.item)("details",!0),e.xp6(8),e.hij("Level must be between 1 and ",i.MAX_ITEM_LEVEL,""),e.xp6(10),e.Q6J("ngIf",!i.hasMaximumBasicStats()),e.xp6(1),e.Q6J("ngIf",i.hasBasicStats()),e.xp6(1),e.Q6J("ngIf",i.hasBasicStats()),e.xp6(1),e.Q6J("ngForOf",i.getAffixControls()),e.xp6(1),e.Q6J("ngIf",i.hasMagicStats()),e.xp6(1),e.Q6J("ngForOf",i.getAffixControls()),e.xp6(1),e.Q6J("ngIf",i.hasRareStats()),e.xp6(1),e.Q6J("ngForOf",i.getAffixControls()),e.xp6(1),e.Q6J("base",i.item.base)("reinforcment",i.item.reinforcment)("heroClass",i.item.heroClass)("legendaryEffect",i.item.legendaryEffect)("form",i.getLegendaryEffectForm()),e.xp6(1),e.Q6J("reaperEnchantment",i.item.reaperEnchantment)("form",i.getReaperEnchantmentForm()),e.xp6(1),e.Q6J("heroClass",i.item.heroClass)("skillEnchantment",i.item.skillEnchantment)("form",i.getSkillEnchantmentForm()),e.xp6(1),e.Q6J("attributeEnchantment",i.item.attributeEnchantment)("form",i.getAttributeEnchantmentForm())}}var vt=function(){var o=function(){function v(n,i,p,C,H,X,oe,ce,$){(0,R.Z)(this,v),this.dialogRef=n,this.slormancerCharacterUpdaterService=i,this.slormancerItemService=p,this.slormancerDataService=C,this.slormancerAffixService=H,this.slormancerLegendaryEffectService=X,this.formOptionsService=oe,this.buildStorageService=ce,this.MAX_ITEM_LEVEL=de.Sb,this.maxBasicStats=0,this.alreadyUsedStats=[],this.originalItem=$.item,this.maxLevel=$.maxLevel,this.character=$.character,this.item=$.item,this.reset()}return(0,F.Z)(v,[{key:"reset",value:function(){Object.assign(this.item,this.slormancerItemService.getEquipableItemClone(this.originalItem)),this.form=this.buildForm()}},{key:"submit",value:function(){this.form.valid&&this.dialogRef.close(this.item)}},{key:"updatePreview",value:function(i){var p=this,C=this.item;if(i.valid){var H=i.value;if(C.level=H.level,C.reinforcment=H.reinforcment,C.affixes.forEach(function(Se,gt){var Ae=i.get("affixes."+gt);if(null!==Ae){var Ut=Ae.get("purity").value,_t=Ae.get("value").value,dt=Ae.get("stat").value,Jt=Ae.get("rarity").value;if(Se.craftedEffect.effect.stat!==dt){var lt=p.slormancerAffixService.getAffixFromStat(dt,C.level,C.reinforcment,Jt,_t);null!==lt&&(C.affixes[gt]=lt,Se=lt)}Se.craftedEffect.craftedValue=_t,Se.pure=Ut}}),null!==H.legendaryEffect){var X=H.legendaryEffect.id,oe=H.legendaryEffect.value;null===X?C.legendaryEffect=null:null===C.legendaryEffect||C.legendaryEffect.id!==X?C.legendaryEffect=this.slormancerLegendaryEffectService.getLegendaryEffectById(X,oe,C.reinforcment,C.heroClass):C.legendaryEffect.value=oe}if(null!==H.reaper){var ce=H.reaper.smith,$=H.reaper.value;null===ce?C.reaperEnchantment=null:null===C.reaperEnchantment||C.reaperEnchantment.craftedReaperSmith!==ce?C.reaperEnchantment=this.slormancerItemService.getReaperEnchantment(ce,$):C.reaperEnchantment.craftedValue=$}if(null!==H.skill){var Te=H.skill.skill,st=H.skill.value;null===Te?C.skillEnchantment=null:null===C.skillEnchantment||C.skillEnchantment.craftedSkill!==Te?C.skillEnchantment=this.slormancerItemService.getSkillEnchantment(Te,st):C.skillEnchantment.craftedValue=st}if(null!==H.attribute){var rt=H.attribute.attribute,mt=H.attribute.value;null===rt?C.attributeEnchantment=null:null===C.attributeEnchantment||C.attributeEnchantment.craftedAttribute!==rt?C.attributeEnchantment=this.slormancerItemService.getAttributeEnchantment(rt,mt):C.attributeEnchantment.craftedValue=mt}this.alreadyUsedStats=C.affixes.map(function(Se){return Se.craftedEffect.effect.stat}),this.slormancerItemService.updateEquipableItemModel(C);var ut=this.buildStorageService.getBuild();this.slormancerCharacterUpdaterService.updateCharacter(this.character,null!==ut?ut.configuration:he.g,!1,C),this.slormancerItemService.updateEquipableItemView(C)}}},{key:"affixToForm",value:function(i){return new Q.cw({rarity:new Q.NI(i.rarity),value:new Q.NI(i.craftedEffect.craftedValue),purity:new Q.NI(i.pure),stat:new Q.NI(i.craftedEffect.effect.stat)})}},{key:"legendaryEffectToForm",value:function(i){return new Q.cw({id:new Q.NI(null===i?null:i.id),value:new Q.NI(null===i?100:i.value)})}},{key:"buildForm",value:function(){var i=this,C=new Q.cw({level:new Q.NI(this.item.level,[Q.kI.required,Q.kI.min(1),Q.kI.max(this.MAX_ITEM_LEVEL),Q.kI.pattern(/^[0-9]+$/)]),reinforcment:new Q.NI(this.item.reinforcment,[Q.kI.required,Q.kI.min(0),Q.kI.pattern(/^[0-9]+$/)]),affixes:new Q.Oe(this.item.affixes.map(function(H){return i.affixToForm(H)})),legendaryEffect:this.legendaryEffectToForm(this.item.legendaryEffect),reaper:new Q.cw({smith:new Q.NI(null===this.item.reaperEnchantment?null:this.item.reaperEnchantment.craftedReaperSmith),value:new Q.NI(null===this.item.reaperEnchantment?5:this.item.reaperEnchantment.craftedValue)}),skill:new Q.cw({skill:new Q.NI(null===this.item.skillEnchantment?null:this.item.skillEnchantment.craftedSkill),value:new Q.NI(null===this.item.skillEnchantment?2:this.item.skillEnchantment.craftedValue)}),attribute:new Q.cw({attribute:new Q.NI(null===this.item.attributeEnchantment?null:this.item.attributeEnchantment.craftedAttribute),value:new Q.NI(null===this.item.attributeEnchantment?2:this.item.attributeEnchantment.craftedValue)})});return C.valueChanges.subscribe(function(){i.updatePreview(C)}),this.updatePreview(C),this.maxBasicStats=this.slormancerDataService.getBaseMaxBasicStat(this.item.base),C}},{key:"getAffixControls",value:function(){var i=this.form.get("affixes");return null!==i?i.controls:[]}},{key:"isBasicStat",value:function(i){var p=i.get("rarity");return null!==p&&p.value===w.u.Normal}},{key:"hasBasicStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isBasicStat(p)}).length>0}},{key:"hasMaximumBasicStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isBasicStat(p)}).length>=this.maxBasicStats}},{key:"isMagicStat",value:function(i){var p=i.get("rarity");return null!==p&&p.value===w.u.Magic}},{key:"hasMagicStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isMagicStat(p)}).length>0}},{key:"hasMaximumMagicStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isMagicStat(p)}).length>=de.aH}},{key:"isRareStat",value:function(i){var p=i.get("rarity");return null!==p&&p.value===w.u.Rare}},{key:"hasRareStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isRareStat(p)}).length>0}},{key:"hasMaximumRareStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isRareStat(p)}).length>=de.bm}},{key:"isEpicStat",value:function(i){var p=i.get("rarity");return null!==p&&p.value===w.u.Epic}},{key:"hasEpicStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isEpicStat(p)}).length>0}},{key:"hasMaximumEpicStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isEpicStat(p)}).length>=de.hc}},{key:"getAffix",value:function(i){return null===this.item?null:(0,Me.lA)(this.item.affixes[i])}},{key:"removeAffix",value:function(i){var p=this.form.get("affixes");null!==p&&(p.removeAt(i),this.item.affixes.splice(i,1),this.updatePreview(this.form))}},{key:"addAffix",value:function(i){var p=this,C=this.form.get("affixes"),X=this.formOptionsService.getStatsOptions(this.item.base,i).filter(function(ce){return-1===p.alreadyUsedStats.indexOf(ce.value)})[0];if(X&&null!==C){var oe=this.slormancerAffixService.getAffixFromStat(X.value,this.item.level,this.item.reinforcment,i,1e3);null!==oe&&(this.item.affixes.push(oe),C.push(this.affixToForm(oe)),this.updatePreview(this.form))}}},{key:"addBasicAffix",value:function(){this.addAffix(w.u.Normal)}},{key:"addMagicAffix",value:function(){this.addAffix(w.u.Magic)}},{key:"addRareAffix",value:function(){this.addAffix(w.u.Rare)}},{key:"addEpicAffix",value:function(){this.addAffix(w.u.Epic)}},{key:"getLegendaryEffectForm",value:function(){return null===this.form?null:this.form.get("legendaryEffect")}},{key:"getReaperEnchantmentForm",value:function(){return null===this.form?null:this.form.get("reaper")}},{key:"getSkillEnchantmentForm",value:function(){return null===this.form?null:this.form.get("skill")}},{key:"getAttributeEnchantmentForm",value:function(){return null===this.form?null:this.form.get("attribute")}}]),v}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(f.so),e.Y36(Z.P),e.Y36(L.S),e.Y36(Be.o),e.Y36(He.l),e.Y36(qe.A),e.Y36(Oe.K),e.Y36(y.x),e.Y36(f.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-modal"]],decls:1,vars:1,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"preview"],[3,"item","details"],[1,"form"],[1,"form-line"],["appearance","outline"],["matInput","","type","number","step","1","formControlName","level"],["matInput","","type","number","step","1","formControlName","reinforcment"],[1,"form-info"],[1,"label"],["class","add",4,"ngIf"],[4,"ngIf"],["class","form-info",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"base","reinforcment","heroClass","legendaryEffect","form"],[3,"reaperEnchantment","form"],[3,"heroClass","skillEnchantment","form"],[3,"attributeEnchantment","form"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","button","color","primary",3,"click"],["mat-flat-button","","type","submit","color","primary"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[3,"form","base","alreadyUsedStats","affix","removable","remove",4,"ngIf"],[3,"form","base","alreadyUsedStats","affix","removable","remove"]],template:function(n,i){1&n&&e.YNc(0,ft,40,24,"form",0),2&n&&e.Q6J("ngIf",null!==i.form&&null!==i.item)},directives:[l.O5,Q._Y,Q.JL,Q.sg,f.xY,q,pe.KE,pe.hX,Qe.Nt,Q.wV,Q.Fj,Q.JJ,Q.u,pe.TO,E.lW,Ce.Hw,l.sg,Ke,Xe,J,x,_e,f.H8,f.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;gap:20px;flex-grow:1;overflow:auto}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]{flex-direction:column}}mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{max-width:370px}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{display:none;visibility:hidden}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;align-items:stretch;flex-grow:1}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:space-between;gap:16px}@media (max-width: 992px){mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 992px){mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]{align-items:stretch}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0}@media not all and (-webkit-min-device-pixel-ratio: 0),not all and (min-resolution: .001dpcm){@supports (-webkit-appearance: none){mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex-basis:auto}}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;min-height:40px}"]}),o}(),ht=function(){var o=(0,F.Z)(function v(){(0,R.Z)(this,v)});return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-remove-confirm-modal"]],decls:7,vars:2,consts:[["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary",3,"mat-dialog-close"]],template:function(n,i){1&n&&(e.TgZ(0,"mat-dialog-content"),e._uU(1," Are you sure you want to remove this item ?\n"),e.qZA(),e.TgZ(2,"mat-dialog-actions"),e.TgZ(3,"button",0),e._uU(4,"Cancel"),e.qZA(),e.TgZ(5,"button",1),e._uU(6,"Remove"),e.qZA(),e.qZA()),2&n&&(e.xp6(3),e.Q6J("mat-dialog-close",!1),e.xp6(2),e.Q6J("mat-dialog-close",!0))},directives:[f.xY,f.H8,E.lW,f.ZT],styles:[""]}),o}(),ct=a(9776);function Ct(o,v){if(1&o&&(e.ynx(0),e._UZ(1,"img",4),e._UZ(2,"img",4),e.BQk()),2&o){var n=e.oxw();e.xp6(1),e.Q6J("src",n.item.itemIconBackground,e.LSH),e.xp6(1),e.Q6J("src",n.item.icon,e.LSH)}}function Mt(o,v){if(1&o&&e._UZ(0,"img",4),2&o){var n=e.oxw();e.MGl("src","assets/img/icon/item/",n.base,"/empty.png",e.LSH)}}function Ot(o,v){if(1&o&&e._UZ(0,"app-item-view",10),2&o){var n=e.oxw(2);e.Q6J("item",n.item)("details",!1)}}function Pt(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).equip()}),e.TgZ(1,"mat-icon"),e._uU(2,"arrow_back"),e.qZA(),e._uU(3,"Equip item"),e.qZA()}}function bt(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).unequip()}),e.TgZ(1,"mat-icon"),e._uU(2,"arrow_forward"),e.qZA(),e._uU(3,"Unequip item"),e.qZA()}}function yt(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).edit()}),e.TgZ(1,"mat-icon"),e._uU(2,"add"),e.qZA(),e._uU(3,"Create item"),e.qZA()}}function xt(o,v){1&o&&(e.TgZ(0,"span"),e._uU(1,"(Left slot)"),e.qZA())}function Tt(o,v){1&o&&(e.TgZ(0,"span"),e._uU(1,"(Right slot)"),e.qZA())}function Zt(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){var X=e.CHM(n).$implicit;return e.oxw(3).compareWithSlot(X)}),e.TgZ(1,"mat-icon"),e._uU(2,"compare_arrows"),e.qZA(),e._uU(3,"Compare "),e.YNc(4,xt,2,0,"span",2),e.YNc(5,Tt,2,0,"span",2),e.qZA()}if(2&o){var i=v.$implicit,p=e.oxw(3);e.xp6(4),e.Q6J("ngIf",i===p.GearSlot.LeftRing),e.xp6(1),e.Q6J("ngIf",i===p.GearSlot.RightRing)}}function Et(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).edit()}),e.TgZ(1,"mat-icon"),e._uU(2,"edit"),e.qZA(),e._uU(3,"Edit item"),e.qZA()}}function St(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).take()}),e.TgZ(1,"mat-icon"),e._uU(2,"content_cut"),e.qZA(),e._uU(3,"Move item"),e.qZA()}}function At(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).copy()}),e.TgZ(1,"mat-icon"),e._uU(2,"content_copy"),e.qZA(),e._uU(3,"Copy item"),e.qZA()}}function kt(o,v){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).remove()}),e.TgZ(1,"mat-icon"),e._uU(2,"delete"),e.qZA(),e._uU(3,"Remove item"),e.qZA()}}function It(o,v){if(1&o&&(e.YNc(0,Pt,4,0,"button",11),e.YNc(1,bt,4,0,"button",11),e.YNc(2,yt,4,0,"button",11),e.YNc(3,Zt,6,2,"button",12),e.YNc(4,Et,4,0,"button",11),e.YNc(5,St,4,0,"button",11),e.YNc(6,At,4,0,"button",11),e.YNc(7,kt,4,0,"button",11)),2&o){var n=e.oxw(2);e.Q6J("ngIf",null!==n.item&&null===n.base),e.xp6(1),e.Q6J("ngIf",null!==n.item&&null!==n.base),e.xp6(1),e.Q6J("ngIf",null===n.item),e.xp6(1),e.Q6J("ngForOf",n.comparableGearSlots),e.xp6(1),e.Q6J("ngIf",null!==n.item),e.xp6(1),e.Q6J("ngIf",null!==n.item),e.xp6(1),e.Q6J("ngIf",null!==n.item),e.xp6(1),e.Q6J("ngIf",null!==n.item)}}function Lt(o,v){if(1&o&&(e.ynx(0),e.YNc(1,Ot,1,2,"ng-template",5),e._UZ(2,"div",6),e.TgZ(3,"mat-menu",7,8),e.YNc(5,It,8,8,"ng-template",9),e.qZA(),e.BQk()),2&o){var n=e.MAs(4),i=e.oxw(),p=e.MAs(1);e.xp6(1),e.Q6J("cdkConnectedOverlayOpen",!i.isDragging&&i.isMouseOver)("cdkConnectedOverlayOrigin",p),e.xp6(1),e.Q6J("matMenuTriggerFor",n),e.xp6(1),e.Q6J("overlapTrigger",!0)}}var wt=function(){var o=function(v){(0,t.Z)(i,v);var n=(0,m.Z)(i);function i(p,C,H,X,oe,ce){var $;return(0,R.Z)(this,i),($=n.call(this)).dialog=p,$.itemMoveService=C,$.searchService=H,$.slormancerCharacterBuilderService=X,$.slormancerItemService=oe,$.buildStorageService=ce,$.GearSlot=Y.SH,$.character=null,$.item=null,$.base=null,$.readonly=!1,$.changed=new e.vpe,$.menu=null,$.isDragging=!1,$.isMouseOver=!1,$.isItemCompatible=!1,$.isDraggedItem=!1,$.hiddenBySearch=!1,$.comparableGearSlots=[],$.itemMoveService.draggingItem.pipe((0,D.R)($.unsubscribe)).subscribe(function(Te){$.isDragging=Te,$.isDraggedItem=$.itemMoveService.isHoldItem($.item),$.isItemCompatible=$.itemMoveService.isDragItemCompatible($.item,$.base)}),$.searchService.searchChanged.pipe((0,D.R)($.unsubscribe)).subscribe(function(){return $.updateSearch()}),$}return(0,F.Z)(i,[{key:"onMouseOver",value:function(){this.isMouseOver=!0}},{key:"onMouseLeave",value:function(){this.isMouseOver=!1}},{key:"onMouseDown",value:function(C){return 0===C.button&&!this.readonly&&this.take(),!1}},{key:"onMouseUp",value:function(C){var H=this;return 0===C.button&&!this.readonly&&(this.isDragging?this.itemMoveService.swap(this.item,this.base,function(X,oe){return H.moveCallback(X,oe)}):this.edit()),!1}},{key:"onMouseContextMenu",value:function(){return this.itemMoveService.releaseHoldItem(),this.menu&&!this.readonly&&(this.updateComparableSlots(),this.menu.openMenu()),!1}},{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){this.updateSearch()}},{key:"isMenuOpen",value:function(){return null!=this.menu&&this.menu.menuOpen}},{key:"updateComparableSlots",value:function(){this.comparableGearSlots=[];var C=this.character,H=this.item;null!==C&&null!==H&&null===this.base&&(this.comparableGearSlots=Y.PL.filter(function(X){var oe=C.gear[X];return null!==oe&&oe.base===H.base}))}},{key:"updateSearch",value:function(){this.hiddenBySearch=null!==this.item&&this.searchService.hasSearch()&&!this.searchService.itemMatchSearch(this.item)}},{key:"moveCallback",value:function(C,H){C&&this.changed.emit(H),this.isDraggedItem=!1,this.isItemCompatible=!1}},{key:"getItemEditModalData",value:function(C,H){var X=this.slormancerCharacterBuilderService.getCharacterClone(C),oe=Y.PL.find(function(Te){return C.gear[Te]===H}),ce=oe?X.gear[oe]:null;return{character:X,item:null!==ce?ce:this.slormancerItemService.getEquipableItemClone(H),maxLevel:X.level}}},{key:"edit",value:function(){var C=this,H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.item,X=this.character;if(null!==X)if(null===H)null!==this.base?this.edit(this.slormancerItemService.getEmptyEquipableItem(this.base,X.heroClass,X.level)):this.dialog.open(z).afterClosed().subscribe(function(ce){null!=ce&&C.edit(C.slormancerItemService.getEmptyEquipableItem(ce,X.heroClass,X.level))});else{var oe=this.getItemEditModalData(X,H);this.dialog.open(vt,{data:oe,width:"80vw",maxWidth:"1000px"}).afterClosed().subscribe(function(ce){void 0!==ce&&C.changed.emit(ce)})}}},{key:"take",value:function(){var C=this;null!==this.item&&this.itemMoveService.hold(this.item,this.base,function(H,X){return C.moveCallback(H,X)})}},{key:"copy",value:function(){if(null!==this.item){var C=this.slormancerItemService.getEquipableItemClone(this.item);this.itemMoveService.hold(C,C.base)}}},{key:"remove",value:function(){var C=this;this.dialog.open(ht).afterClosed().subscribe(function(H){!0===H&&C.changed.emit(null)})}},{key:"equip",value:function(){var C=this;null!==this.item&&this.itemMoveService.equip(this.item,function(H,X){return C.moveCallback(H,X)})}},{key:"unequip",value:function(){var C=this;null!==this.item&&this.itemMoveService.moveToStash(this.item,function(H,X){return C.moveCallback(H,X)})}},{key:"compareWithSlot",value:function(C){if(null!==this.item&&null!==this.character){var H=this.character.gear[C],X=this.buildStorageService.getBuild();null!==H&&null!==X&&null!==X.configuration&&this.dialog.open(S,{data:{character:this.character,slot:C,config:X.configuration,left:H,right:this.item}})}}}]),i}(c.B);return o.\u0275fac=function(n){return new(n||o)(e.Y36(f.uw),e.Y36(u.v),e.Y36(s.o),e.Y36(A.o),e.Y36(L.S),e.Y36(y.x))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-slot"]],viewQuery:function(n,i){var p;1&n&&e.Gf(_.p6,5),2&n&&e.iGM(p=e.CRH())&&(i.menu=p.first)},hostBindings:function(n,i){1&n&&e.NdJ("mouseenter",function(){return i.onMouseOver()})("mouseleave",function(){return i.onMouseLeave()})("mousedown",function(C){return i.onMouseDown(C)})("mouseup",function(C){return i.onMouseUp(C)})("contextmenu",function(){return i.onMouseContextMenu()})},inputs:{character:"character",item:"item",base:"base",readonly:"readonly"},outputs:{changed:"changed"},features:[e.qOj,e.TTD],decls:5,vars:15,consts:[["cdkOverlayOrigin","",1,"item"],["trigger","cdkOverlayOrigin"],[4,"ngIf"],[3,"src",4,"ngIf"],[3,"src"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"matMenuTriggerFor"],["xPosition","after",3,"overlapTrigger"],["menu","matMenu"],["matMenuContent",""],[3,"item","details"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0,1),e.YNc(2,Ct,3,2,"ng-container",2),e.YNc(3,Mt,1,1,"img",3),e.YNc(4,Lt,6,4,"ng-container",2),e.qZA()),2&n&&(e.ekj("readonly",i.readonly)("forced-base-compatible",i.isItemCompatible&&null!==i.base)("drop-compatible",!i.isDraggedItem&&i.isMouseOver&&i.isDragging&&i.isItemCompatible)("drop-incompatible",!i.isDraggedItem&&i.isMouseOver&&i.isDragging&&!i.isItemCompatible)("is-being-dragged",i.isDraggedItem&&i.isDragging)("hidden-search",i.hiddenBySearch),e.xp6(2),e.Q6J("ngIf",null!==i.item),e.xp6(1),e.Q6J("ngIf",null===i.item&&null!==i.base),e.xp6(1),e.Q6J("ngIf",i.isMouseOver||i.isMenuOpen()))},directives:[ct.xu,l.O5,ct.pI,q,_.p6,_.VK,_.KA,_.OP,Ce.Hw,l.sg],styles:["[_nghost-%COMP%]{width:56px;min-width:56px;height:56px;min-height:56px}.item[_ngcontent-%COMP%]{width:56px;min-width:56px;min-height:56px;border:4px solid black;position:relative;background-color:#131313}.item[_ngcontent-%COMP%]:not(.readonly){cursor:pointer}.item.forced-base-compatible[_ngcontent-%COMP%]{border-color:#b7ffd2b3}.item.drop-compatible[_ngcontent-%COMP%]{border-color:#b7ffd2}.item.drop-incompatible[_ngcontent-%COMP%]{border-color:#f44336}.item.is-being-dragged[_ngcontent-%COMP%]{opacity:.3}.item.hidden-search[_ngcontent-%COMP%]{opacity:.2}.item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;right:0}app-item-view[_ngcontent-%COMP%]{width:350px}"]}),o}()},4440:function(se,ee,a){a.d(ee,{w:function(){return s}});var R=a(5671),F=a(3144),t=a(136),m=a(7777),e=a(5542),_=a(8313),D=a(6446),Y=a(9808),A=a(7238);function L(c,f){if(1&c){var O=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){var g=e.CHM(O).$implicit,P=e.oxw(3);return P.select(P.stats,g)}),e.TgZ(1,"div",6),e._uU(2),e.qZA(),e.TgZ(3,"div",7),e._uU(4),e.qZA(),e.qZA()}if(2&c){var Z=f.$implicit,w=e.oxw(3);e.ekj("selected",w.isSelected(Z)),e.xp6(2),e.Oqu(Z.name),e.xp6(1),e.Q6J("matTooltip",w.getTooltip(w.stats,Z)),e.xp6(1),e.Oqu(w.getValue(w.stats,Z))}}function y(c,f){if(1&c&&(e.ynx(0),e.TgZ(1,"h3",3),e._uU(2),e.qZA(),e.YNc(3,L,5,5,"div",4),e.BQk()),2&c){var O=f.$implicit;e.xp6(2),e.Oqu(O.section),e.xp6(1),e.Q6J("ngForOf",O.stats)}}function u(c,f){if(1&c&&(e.TgZ(0,"div",1),e.YNc(1,y,4,2,"ng-container",2),e.qZA()),2&c){var O=e.oxw();e.xp6(1),e.Q6J("ngForOf",O.SECTIONS)}}var s=function(){var c=function(f){(0,t.Z)(Z,f);var O=(0,m.Z)(Z);function Z(w){var l;return(0,R.Z)(this,Z),(l=O.call(this)).slormancerTranslateService=w,l.SECTIONS=[{section:l.slormancerTranslateService.translate("cat_adventure"),stats:[{name:l.slormancerTranslateService.translate("essence_find"),stat:"essence_find",sign:!0},{name:l.slormancerTranslateService.translate("xp_find"),stat:"xp_find",sign:!0},{name:l.slormancerTranslateService.translate("influence_gain"),stat:"influence_gain",sign:!0},{name:l.slormancerTranslateService.translate("mf_find"),stat:"mf_find",sign:!0},{name:l.slormancerTranslateService.translate("mf_qual"),stat:"mf_qual",sign:!0}]},{section:l.slormancerTranslateService.translate("cat_health"),stats:[{name:l.slormancerTranslateService.translate("max_health"),stat:"max_health",sign:!1},{name:l.slormancerTranslateService.translate("health_regeneration"),stat:"health_regeneration",sign:!0},{name:l.slormancerTranslateService.translate("health_leech_percent"),stat:"health_leech_percent",sign:!1},{name:l.slormancerTranslateService.translate("life_on_hit"),stat:"life_on_hit",sign:!0},{name:l.slormancerTranslateService.translate("life_on_kill"),stat:"life_on_kill",sign:!0}]},{section:l.slormancerTranslateService.translate("cat_mana"),stats:[{name:l.slormancerTranslateService.translate("max_mana"),stat:"max_mana",sign:!1},{name:l.slormancerTranslateService.translate("mana_regeneration"),stat:"mana_regeneration",sign:!0},{name:l.slormancerTranslateService.translate("mana_leech_percent"),stat:"mana_leech_percent",sign:!1},{name:l.slormancerTranslateService.translate("mana_on_hit"),stat:"mana_on_hit",sign:!0},{name:l.slormancerTranslateService.translate("mana_on_kill"),stat:"mana_on_kill",sign:!0}]},{section:l.slormancerTranslateService.translate("cat_movement"),stats:[{name:l.slormancerTranslateService.translate("movement_speed"),stat:"movement_speed",sign:!1}]},{section:l.slormancerTranslateService.translate("cat_attack"),stats:[{name:l.slormancerTranslateService.translate("attack_speed"),stat:"attack_speed",sign:!1},{name:l.slormancerTranslateService.translate("basic_damage"),stat:"basic_damage",sign:!1},{name:l.slormancerTranslateService.translate("weapon_damage"),stat:"weapon_damage",sign:!1},{name:l.slormancerTranslateService.translate("physical_damage"),stat:"physical_damage",sign:!1},{name:l.slormancerTranslateService.translate("elemental_damage"),stat:"elemental_damage",sign:!1},{name:l.slormancerTranslateService.translate("critical_chance"),stat:"critical_chance",sign:!1},{name:l.slormancerTranslateService.translate("critical_damage"),stat:"critical_damage",sign:!1},{name:l.slormancerTranslateService.translate("ancestral_chance"),stat:"ancestral_chance",sign:!1},{name:l.slormancerTranslateService.translate("ancestral_damage"),stat:"ancestral_damage",sign:!1},{name:l.slormancerTranslateService.translate("armor_penetration"),stat:"armor_penetration",sign:!1},{name:l.slormancerTranslateService.translate("elemental_penetration"),stat:"elemental_penetration",sign:!1},{name:l.slormancerTranslateService.translate("dot_increased_damage"),stat:"dot_increased_damage",sign:!0},{name:l.slormancerTranslateService.translate("increased_on_elite"),stat:"increased_on_elite",sign:!1}]},{section:l.slormancerTranslateService.translate("cat_defense"),stats:[{name:l.slormancerTranslateService.translate("armor"),stat:"armor",sign:!1},{name:l.slormancerTranslateService.translate("elemental_resist"),stat:"elemental_resist",sign:!1},{name:l.slormancerTranslateService.translate("fire_resistance"),stat:"fire_resistance",sign:!1},{name:l.slormancerTranslateService.translate("ice_resistance"),stat:"ice_resistance",sign:!1},{name:l.slormancerTranslateService.translate("lightning_resistance"),stat:"lightning_resistance",sign:!1},{name:l.slormancerTranslateService.translate("light_resistance"),stat:"light_resistance",sign:!1},{name:l.slormancerTranslateService.translate("shadow_resistance"),stat:"shadow_resistance",sign:!1},{name:l.slormancerTranslateService.translate("dodge"),stat:"dodge",sign:!1},{name:l.slormancerTranslateService.translate("thorns"),stat:"thorns",sign:!1},{name:l.slormancerTranslateService.translate("retaliate"),stat:"retaliate",sign:!1},{name:l.slormancerTranslateService.translate("tenacity"),stat:"tenacity",sign:!1},{name:l.slormancerTranslateService.translate("reduced_on_all"),stat:"reduced_on_all",sign:!1},{name:l.slormancerTranslateService.translate("reduced_by_elite"),stat:"reduced_by_elite",sign:!1},{name:l.slormancerTranslateService.translate("reduced_on_melee"),stat:"reduced_on_melee",sign:!1},{name:l.slormancerTranslateService.translate("reduced_on_projectile"),stat:"reduced_on_projectile",sign:!1},{name:l.slormancerTranslateService.translate("reduced_on_area"),stat:"reduced_on_area",sign:!1}]},{section:l.slormancerTranslateService.translate("cat_secondary_resources"),stats:[{name:l.slormancerTranslateService.translate("gold_find"),stat:"gold_find",sign:!0},{name:l.slormancerTranslateService.translate("scrap_find"),stat:"scrap_find",sign:!0},{name:l.slormancerTranslateService.translate("slormite_find"),stat:"slormite_find",sign:!0},{name:l.slormancerTranslateService.translate("slormeline_find"),stat:"slormeline_find",sign:!0},{name:l.slormancerTranslateService.translate("reaper_find"),stat:"reaper_find",sign:!0},{name:l.slormancerTranslateService.translate("skill_mastery_gain"),stat:"skill_mastery_gain",sign:!0}]},{section:l.slormancerTranslateService.translate("cat_secondary_melee"),stats:[{name:l.slormancerTranslateService.translate("inner_fire_chance"),stat:"inner_fire_chance",sign:!1},{name:l.slormancerTranslateService.translate("inner_fire_max_number"),stat:"inner_fire_max_number",sign:!1},{name:l.slormancerTranslateService.translate("inner_fire_duration"),stat:"inner_fire_duration",sign:!1},{name:l.slormancerTranslateService.translate("inner_fire_damage"),stat:"inner_fire_damage",sign:!1},{name:l.slormancerTranslateService.translate("overdrive_chance"),stat:"overdrive_chance",sign:!1},{name:l.slormancerTranslateService.translate("overdrive_bounce_number"),stat:"overdrive_bounce_number",sign:!1},{name:l.slormancerTranslateService.translate("overdrive_damage"),stat:"overdrive_damage",sign:!1},{name:l.slormancerTranslateService.translate("recast_chance"),stat:"recast_chance",sign:!1},{name:l.slormancerTranslateService.translate("knockback_melee"),stat:"knockback_melee",sign:!1}]},{section:l.slormancerTranslateService.translate("cat_secondary_projectile"),stats:[{name:l.slormancerTranslateService.translate("additional_projectile"),stat:"additional_projectile",sign:!0},{name:l.slormancerTranslateService.translate("chance_to_pierce"),stat:"chance_to_pierce",sign:!1},{name:l.slormancerTranslateService.translate("fork_chance"),stat:"fork_chance",sign:!1},{name:l.slormancerTranslateService.translate("chance_to_rebound"),stat:"chance_to_rebound",sign:!1},{name:l.slormancerTranslateService.translate("projectile_speed"),stat:"projectile_speed",sign:!0},{name:l.slormancerTranslateService.translate("knockback_projectile"),stat:"knockback_projectile",sign:!1}]},{section:l.slormancerTranslateService.translate("cat_secondary_aoe"),stats:[{name:l.slormancerTranslateService.translate("aoe_increased_size"),stat:"aoe_increased_size",sign:!1},{name:l.slormancerTranslateService.translate("aoe_increased_effect"),stat:"aoe_increased_effect",sign:!1}]},{section:l.slormancerTranslateService.translate("cat_secondary_extras"),stats:[{name:l.slormancerTranslateService.translate("totem_increased_effect"),stat:"totem_increased_effect",sign:!0},{name:l.slormancerTranslateService.translate("aura_increased_effect"),stat:"aura_increased_effect",sign:!0},{name:l.slormancerTranslateService.translate("minion_increased_damage"),stat:"minion_increased_damage",sign:!0}]}],l.stats=null,l.selectedMergedStat=null,l.selected=new e.vpe,l}return(0,F.Z)(Z,[{key:"ngOnInit",value:function(){}},{key:"valueToString",value:function(l,k,g){return"number"==typeof l?(l<0?"-":k?"+":"")+l+g:(l.min<0?"":k?"+":"")+l.min+g+" - "+(l.max<0?"":k?"+":"")+l.max+g}},{key:"getValue",value:function(l,k){var g=l.find(function(h){return h.stat===k.stat}),P="0";return g&&(P=this.valueToString(g.totalDisplayed,k.sign,g.suffix)),P}},{key:"select",value:function(l,k){var g=l.find(function(P){return P.stat===k.stat});g&&(console.log(g),this.selectedMergedStat=g,this.selected.emit(g))}},{key:"getTooltip",value:function(l,k){var g=this,P=l.find(function(T){return T.stat===k.stat}),h="No details found";if(P){var B="number"!=typeof P.total;h="Flat: "+P.values.flat.map(function(T){return g.valueToString(T.value,!1,P.suffix)}).join(", ")+"\n",B&&(h+="Flat (max): "+P.values.max.map(function(T){return g.valueToString(T.value,!1,P.suffix)}).join(", ")+"\n"),h+="Percent: "+P.values.percent.map(function(T){return g.valueToString(T.value,!1,"%")}).join(", ")+"\n",B&&(h+="Percent (max) : "+P.values.maxPercent.map(function(T){return g.valueToString(T.value,!1,"%")}).join(", ")+"\n"),h+="Multiplier: "+P.values.multiplier.map(function(T){return g.valueToString(T.value,!1,"%")}).join(", ")}return h}},{key:"translate",value:function(l){return this.slormancerTranslateService.translate(l)}},{key:"isSelected",value:function(l){return null!==this.selectedMergedStat&&this.selectedMergedStat.stat===l.stat}}]),Z}(D.B);return c.\u0275fac=function(O){return new(O||c)(e.Y36(_.n))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-main-stats"]],inputs:{stats:"stats"},outputs:{selected:"selected"},features:[e.qOj],decls:1,vars:1,consts:[["class","sections",4,"ngIf"],[1,"sections"],[4,"ngFor","ngForOf"],[1,"section"],["class","stat",3,"selected","click",4,"ngFor","ngForOf"],[1,"stat",3,"click"],[1,"label"],[1,"value",3,"matTooltip"]],template:function(O,Z){1&O&&e.YNc(0,u,2,1,"div",0),2&O&&e.Q6J("ngIf",null!==Z.stats)},directives:[Y.O5,Y.sg,A.gM],styles:[".sections[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;gap:4px}.sections[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding-left:8px;cursor:pointer}.sections[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.sections[_ngcontent-%COMP%]   .stat.selected[_ngcontent-%COMP%]{background-color:#ffffff4d}"]}),c}()},5895:function(se,ee,a){a.d(ee,{A:function(){return u}});var R=a(5671),F=a(3144),t=a(5542),m=a(9808),e=a(9776);function _(s,c){if(1&s){var f=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("mouseenter",function(){var l=t.CHM(f).$implicit,k=t.MAs(1);return t.oxw(2).showOverlay(k,l)})("mouseleave",function(){return t.CHM(f),t.oxw(2).hideOverlay()}),t.TgZ(2,"div",6),t._UZ(3,"img",7),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA(),t.qZA()}if(2&s){var O=c.$implicit;t.xp6(3),t.MGl("src","assets/img/icon/",O.icon,".png",t.LSH),t.xp6(2),t.Oqu(O.name)}}function D(s,c){if(1&s){var f=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("mouseenter",function(){var l=t.CHM(f).$implicit,k=t.MAs(1);return t.oxw(2).showOverlay(k,l)})("mouseleave",function(){return t.CHM(f),t.oxw(2).hideOverlay()}),t.TgZ(2,"div",6),t._UZ(3,"img",7),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA(),t.qZA()}if(2&s){var O=c.$implicit;t.xp6(3),t.MGl("src","assets/img/icon/",O.icon,".png",t.LSH),t.xp6(2),t.Oqu(O.name)}}function Y(s,c){if(1&s){var f=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("mouseenter",function(){var l=t.CHM(f).$implicit,k=t.MAs(1);return t.oxw(2).showOverlay(k,l)})("mouseleave",function(){return t.CHM(f),t.oxw(2).hideOverlay()}),t.TgZ(2,"div",6),t._UZ(3,"img",7),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA(),t.qZA()}if(2&s){var O=c.$implicit;t.xp6(3),t.MGl("src","assets/img/icon/",O.icon,".png",t.LSH),t.xp6(2),t.Oqu(O.name)}}function A(s,c){if(1&s&&(t.TgZ(0,"div",10),t.TgZ(1,"div",11),t._UZ(2,"h3",12),t._UZ(3,"p",12),t.qZA(),t.qZA()),2&s){var f=t.oxw(3);t.xp6(2),t.Q6J("innerHTML",f.overlayMechanic.name,t.oJD),t.xp6(1),t.Q6J("innerHTML",f.overlayMechanic.description,t.oJD)}}function L(s,c){if(1&s&&t.YNc(0,A,4,2,"ng-template",9),2&s){var f=t.oxw(2);t.Q6J("cdkConnectedOverlayOpen",!0)("cdkConnectedOverlayOrigin",f.overlayTrigger)}}function y(s,c){if(1&s&&(t.TgZ(0,"div",1),t.YNc(1,_,6,2,"div",2),t.YNc(2,D,6,2,"div",2),t.YNc(3,Y,6,2,"div",2),t.YNc(4,L,1,2,void 0,3),t.qZA()),2&s){var f=t.oxw();t.xp6(1),t.Q6J("ngForOf",f.classMechanics),t.xp6(1),t.Q6J("ngForOf",f.mechanics),t.xp6(1),t.Q6J("ngForOf",f.buffs),t.xp6(1),t.Q6J("ngIf",null!==f.overlayMechanic&&null!==f.overlayTrigger)}}var u=function(){var s=function(){function c(){(0,R.Z)(this,c),this.classMechanics=[],this.mechanics=[],this.buffs=[],this.overlayTrigger=null,this.overlayMechanic=null}return(0,F.Z)(c,[{key:"showOverlay",value:function(O,Z){this.overlayMechanic=Z,this.overlayTrigger=O}},{key:"hideOverlay",value:function(){this.overlayTrigger=null,this.overlayMechanic=null}}]),c}();return s.\u0275fac=function(f){return new(f||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-mechanics-view"]],inputs:{classMechanics:"classMechanics",mechanics:"mechanics",buffs:"buffs"},decls:1,vars:1,consts:[["class","mechanics",4,"ngIf"],[1,"mechanics"],["class","mechanic","cdkOverlayOrigin","",3,"mouseenter","mouseleave",4,"ngFor","ngForOf"],[4,"ngIf"],["cdkOverlayOrigin","",1,"mechanic",3,"mouseenter","mouseleave"],["trigger","cdkOverlayOrigin"],[1,"mechanic-icon"],[3,"src"],[1,"mechanic-name"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[1,"slormancer-tooltip"],[1,"inner-box"],[3,"innerHTML"]],template:function(f,O){1&f&&t.YNc(0,y,5,4,"div",0),2&f&&t.Q6J("ngIf",O.classMechanics.length>0||O.mechanics.length>0||O.buffs.length>0)},directives:[m.O5,m.sg,e.xu,e.pI],styles:[".mechanics[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;gap:4px}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;background-color:#000;padding:4px;gap:4px}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]   .mechanic-icon[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]   .mechanic-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:36px;min-height:36px;width:36px;height:36px}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]   .mechanic-name[_ngcontent-%COMP%]{background-color:#141310;padding:8px;display:flex;flex-direction:row;align-items:center;flex-grow:1}.slormancer-tooltip[_ngcontent-%COMP%]{max-width:350px}.slormancer-tooltip[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:8px 0;font-weight:400;color:#ce4607}.slormancer-tooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0}.slormancer-tooltip[_ngcontent-%COMP%]     .value{color:#ce4607}"]}),s}()},916:function(se,ee,a){a.d(ee,{R:function(){return te}});var R=a(5671),F=a(3144),t=a(5542),m=a(2473),e=a(7469),_=a(3075),D=a(8966),Y=a(1093),A=a(3790),L=a(5457),y=a(311),u=a(1671),s=a(9808),c=a(8003);function f(S,W){if(1&S&&(t.TgZ(0,"div",26),t.TgZ(1,"div",27),t.TgZ(2,"div",28),t._UZ(3,"div"),t.qZA(),t._uU(4),t.TgZ(5,"div",28),t._UZ(6,"div"),t.qZA(),t.qZA(),t._UZ(7,"div",20),t.qZA()),2&S){var E=t.oxw(2);t.xp6(4),t.Oqu(E.reaper.benedictionTitleLabel),t.xp6(3),t.Q6J("innerHTML",E.reaper.benediction,t.oJD)}}function O(S,W){if(1&S&&(t.TgZ(0,"div",29),t.TgZ(1,"div",27),t.TgZ(2,"div",28),t._UZ(3,"div"),t.qZA(),t._uU(4),t.TgZ(5,"div",28),t._UZ(6,"div"),t.qZA(),t.qZA(),t._UZ(7,"div",20),t.qZA()),2&S){var E=t.oxw(2);t.xp6(4),t.Oqu(E.reaper.maledictionTitleLabel),t.xp6(3),t.Q6J("innerHTML",E.reaper.malediction,t.oJD)}}function Z(S,W){1&S&&t._UZ(0,"app-activable-view",32),2&S&&t.Q6J("activable",W.$implicit)}function w(S,W){if(1&S&&(t.TgZ(0,"div",30),t.TgZ(1,"div",27),t.TgZ(2,"div",28),t._UZ(3,"div"),t.qZA(),t._uU(4),t.TgZ(5,"div",28),t._UZ(6,"div"),t.qZA(),t.qZA(),t.YNc(7,Z,1,1,"app-activable-view",31),t.qZA()),2&S){var E=t.oxw(2);t.xp6(4),t.Oqu(E.reaper.activablesTitleLabel),t.xp6(3),t.Q6J("ngForOf",E.reaper.activables)}}function l(S,W){if(1&S&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t._uU(2),t.qZA(),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._UZ(6,"img",6),t.TgZ(7,"div",7),t._UZ(8,"div",8),t.qZA(),t.qZA(),t.TgZ(9,"div",9),t.TgZ(10,"div",10),t.TgZ(11,"div",11),t._uU(12),t.qZA(),t._UZ(13,"div",12),t.qZA(),t.TgZ(14,"div",13),t.TgZ(15,"div",14),t._uU(16),t.qZA(),t._UZ(17,"div",15),t.TgZ(18,"div",16),t._uU(19),t.qZA(),t.qZA(),t.TgZ(20,"div",17),t._UZ(21,"div",18),t._UZ(22,"div",19),t.qZA(),t.qZA(),t.qZA(),t._UZ(23,"div",20),t.YNc(24,f,8,2,"div",21),t.YNc(25,O,8,2,"div",22),t.YNc(26,w,8,2,"div",23),t._UZ(27,"div",24),t._UZ(28,"div",25),t.qZA(),t.qZA()),2&S){var E=t.oxw();t.xp6(2),t.Oqu(E.reaper.name),t.xp6(4),t.ekj("primordial-effect",E.reaper.primordial),t.Q6J("src",E.reaper.icon,t.LSH),t.xp6(6),t.Oqu(E.reaper.type),t.xp6(1),t.Q6J("innerHTML",E.reaper.smithLabel,t.oJD),t.xp6(3),t.AsE("",E.reaper.damages.min,"-",E.reaper.damages.max,""),t.xp6(1),t.Q6J("innerHTML",E.reaper.damageTypeLabel,t.oJD),t.xp6(2),t.lnq("",E.reaper.maxDamagesWithBonuses.min,"-",E.reaper.maxDamagesWithBonuses.max," at level ",E.reaper.maxLevelWithBonuses,""),t.xp6(2),t.Q6J("innerHTML",E.reaper.victimsLabel,t.oJD),t.xp6(1),t.Q6J("innerHTML",E.reaper.levelLabel,t.oJD),t.xp6(1),t.Q6J("innerHTML",E.reaper.description,t.oJD),t.xp6(1),t.Q6J("ngIf",null!==E.reaper.benediction),t.xp6(1),t.Q6J("ngIf",null!==E.reaper.malediction),t.xp6(1),t.Q6J("ngIf",E.reaper.activables.length>0),t.xp6(2),t.Q6J("innerHTML",E.reaper.lore,t.oJD)}}var k=function(){var S=(0,F.Z)(function W(){(0,R.Z)(this,W),this.reaper=null});return S.\u0275fac=function(E){return new(E||S)},S.\u0275cmp=t.Xpm({type:S,selectors:[["app-reaper-view"]],inputs:{reaper:"reaper"},decls:1,vars:1,consts:[["class","reaper",4,"ngIf"],[1,"reaper"],[1,"head"],[1,"content"],[1,"info"],[1,"icon"],[3,"src"],[1,"background-outer"],[1,"background"],[1,"summary"],[1,"base"],[1,"type"],[1,"builder",3,"innerHTML"],[1,"damages"],[1,"current-damage"],[1,"type",3,"innerHTML"],[1,"max-damage"],[1,"stats"],[1,"victim",3,"innerHTML"],[1,"level",3,"innerHTML"],[1,"description",3,"innerHTML"],["class","benediction",4,"ngIf"],["class","malediction",4,"ngIf"],["class","activables",4,"ngIf"],[1,"separator"],[1,"lore",3,"innerHTML"],[1,"benediction"],[1,"title"],[1,"bullet"],[1,"malediction"],[1,"activables"],[3,"activable",4,"ngFor","ngForOf"],[3,"activable"]],template:function(E,ne){1&E&&t.YNc(0,l,29,19,"div",0),2&E&&t.Q6J("ngIf",null!==ne.reaper)},directives:[s.O5,s.sg,c.K],styles:[".reaper[_ngcontent-%COMP%]{background-color:#090909;color:#fff;border:2px solid black;width:350px}.reaper[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%], .reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{border:2px solid #79b7a4}.reaper[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%]{margin-bottom:2px;text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;padding:15px 10px;gap:15px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:130px;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:stretch}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .background-outer[_ngcontent-%COMP%]{border:3px solid #3b3831;flex-grow:1;display:flex;flex-direction:column}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .background-outer[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{border:3px solid #12100e;background-color:#22201c;flex-grow:1;height:150px;width:85px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;margin-top:-12.5%;margin-left:-12.5%;image-rendering:pixelated;transform:scale(4)}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;flex-grow:1;text-align:left;gap:10px;font-size:16px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{text-transform:uppercase}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .current-damage[_ngcontent-%COMP%]{font-size:30px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{font-size:20px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]     .bonus-level{color:#148f8a}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .max-damage[_ngcontent-%COMP%]{color:#686868}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{min-width:8px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:center}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]     .value{color:#148f8a}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]     .details{color:#686868}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#fff}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]{color:#148f8a}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#61f7b7}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]{color:#ff4722}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#d13001}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]     .value, .reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]     .value{color:#fff}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:5px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{background-color:#3b3831;margin:0 30px;height:4px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .lore[_ngcontent-%COMP%]{color:#b8b8b8;text-align:center}"]}),S}(),g=a(7322),P=a(7531),h=a(4102),B=a(508),T=a(7446),K=a(7423);function V(S,W){if(1&S&&(t.TgZ(0,"mat-option",19),t._UZ(1,"span",20),t.qZA()),2&S){var E=W.$implicit;t.Q6J("value",E.value),t.xp6(1),t.Q6J("innerHTML",E.label,t.oJD)}}function le(S,W){if(1&S){var E=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){return t.CHM(E),t.oxw().submit()}),t._UZ(1,"input",2),t.TgZ(2,"mat-dialog-content"),t.TgZ(3,"div",3),t._UZ(4,"app-reaper-view",4),t.qZA(),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"mat-form-field",7),t.TgZ(8,"mat-label"),t._uU(9,"Reaper level (base)"),t.qZA(),t._UZ(10,"input",8),t.TgZ(11,"mat-error"),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"mat-form-field",7),t.TgZ(14,"mat-label"),t._uU(15,"Reaper kills (base)"),t.qZA(),t._UZ(16,"input",9),t.TgZ(17,"mat-error"),t._uU(18,"Kills must be >= 0"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",6),t.TgZ(20,"mat-form-field",7),t.TgZ(21,"mat-label"),t._uU(22,"Raper level (primordial)"),t.qZA(),t._UZ(23,"input",10),t.TgZ(24,"mat-error"),t._uU(25),t.qZA(),t.qZA(),t.TgZ(26,"mat-form-field",7),t.TgZ(27,"mat-label"),t._uU(28,"Reaper kills (primordial)"),t.qZA(),t._UZ(29,"input",11),t.TgZ(30,"mat-error"),t._uU(31,"Kills must be >= 0"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",6),t.TgZ(33,"mat-form-field",12),t.TgZ(34,"mat-label"),t._uU(35,"Reaper base"),t.qZA(),t.TgZ(36,"mat-select",13),t.YNc(37,V,2,2,"mat-option",14),t.qZA(),t.qZA(),t.TgZ(38,"mat-checkbox",15),t._uU(39,"Primordial"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"mat-dialog-actions"),t.TgZ(41,"button",16),t._uU(42,"Cancel"),t.qZA(),t.TgZ(43,"button",17),t.NdJ("click",function(){return t.CHM(E),t.oxw().reset()}),t._uU(44,"Reset"),t.qZA(),t.TgZ(45,"button",18),t._uU(46,"Submit"),t.qZA(),t.qZA(),t.qZA()}if(2&S){var ne=t.oxw();t.Q6J("formGroup",ne.form),t.xp6(4),t.Q6J("reaper",ne.reaper),t.xp6(8),t.hij("Level must be between 1 and ",ne.reaper.maxLevel,""),t.xp6(13),t.hij("Level must be between 1 and ",ne.reaper.maxLevel,""),t.xp6(12),t.Q6J("ngForOf",ne.options)}}var j=function(){var S=function(){function W(E,ne,z,Q,de,he){(0,R.Z)(this,W),this.dialogRef=E,this.slormancerReaperService=ne,this.slormancerCharacterUpdaterService=z,this.formOptionsService=Q,this.buildStorageService=de,this.options=[],this.originalReaper=this.slormancerReaperService.getReaperClone(he.reaper),this.character=he.character,this.reaper=he.reaper,this.reset()}return(0,F.Z)(W,[{key:"reset",value:function(){Object.assign(this.reaper,this.originalReaper),this.form=this.buildForm()}},{key:"submit",value:function(){this.form.valid&&this.dialogRef.close(this.reaper)}},{key:"updatePreview",value:function(ne){if(ne.valid){var z=ne.value;if(z.reaper===this.reaper.id)this.reaper.id=z.reaper,this.reaper.primordial=z.primordial,this.reaper.baseInfo.level=z.baseLevel,this.reaper.primordialInfo.level=z.primordialLevel,this.reaper.baseInfo.kills=z.baseKills,this.reaper.primordialInfo.kills=z.primordialKills;else{var Q=this.slormancerReaperService.getReaperById(z.reaper,this.reaper.weaponClass,z.primordial,z.baseLevel,z.primordialLevel,z.baseKills,z.primordialKills,this.reaper.bonusLevel);null!==Q&&Object.assign(this.reaper,Q)}var de=this.buildStorageService.getBuild();this.slormancerReaperService.updateReaperModel(this.reaper),this.slormancerCharacterUpdaterService.updateCharacter(this.character,null!==de?de.configuration:Y.g,!1),this.slormancerReaperService.updateReaperView(this.reaper),this.options=this.formOptionsService.getReaperOptions(this.reaper.weaponClass,this.reaper.primordial),z.baseLevel!==this.reaper.baseInfo.level&&ne.patchValue({baseLevel:this.reaper.baseInfo.level},{emitEvent:!1}),z.primordialLevel!==this.reaper.primordialInfo.level&&ne.patchValue({primordialLevel:this.reaper.primordialInfo.level},{emitEvent:!1})}}},{key:"getReaperMaxLevelValidator",value:function(){var ne=this;return function(z){return _.kI.max(ne.reaper.maxLevel)(z)}}},{key:"buildForm",value:function(){var ne=this,z=new _.cw({baseLevel:new _.NI(this.reaper.baseInfo.level,[_.kI.required,_.kI.min(1),this.getReaperMaxLevelValidator()]),baseKills:new _.NI(this.reaper.baseInfo.kills,[_.kI.required,_.kI.min(0)]),primordialLevel:new _.NI(this.reaper.primordialInfo.level,[_.kI.required,_.kI.min(1),this.getReaperMaxLevelValidator()]),primordialKills:new _.NI(this.reaper.primordialInfo.kills,[_.kI.required,_.kI.min(0)]),primordial:new _.NI(this.reaper.primordial,_.kI.required),reaper:new _.NI(this.reaper.id,_.kI.required)});return z.valueChanges.subscribe(function(){ne.updatePreview(z)}),this.updatePreview(z),z}}]),W}();return S.\u0275fac=function(E){return new(E||S)(t.Y36(D.so),t.Y36(A.I),t.Y36(L.P),t.Y36(u.K),t.Y36(y.x),t.Y36(D.WI))},S.\u0275cmp=t.Xpm({type:S,selectors:[["app-reaper-edit-modal"]],decls:1,vars:1,consts:[["autocomplete","off",3,"formGroup","submit",4,"ngIf"],["autocomplete","off",3,"formGroup","submit"],["autocomplete","false","name","hidden","type","text",2,"display","none"],[1,"preview"],[3,"reaper"],[1,"form"],[1,"stat-line"],["appearance","outline"],["matInput","","type","number","step","1","formControlName","baseLevel"],["matInput","","type","number","step","1","formControlName","baseKills"],["matInput","","type","number","step","1","formControlName","primordialLevel"],["matInput","","type","number","step","1","formControlName","primordialKills"],["appearance","outline","color","primary",1,"no-error-padding"],["formControlName","reaper","color","primary"],[3,"value",4,"ngFor","ngForOf"],["color","primary","formControlName","primordial"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","button","color","primary",3,"click"],["mat-flat-button","","type","submit","color","primary"],[3,"value"],[3,"innerHTML"]],template:function(E,ne){1&E&&t.YNc(0,le,47,5,"form",0),2&E&&t.Q6J("ngIf",null!==ne.form&&null!==ne.reaper)},directives:[s.O5,_._Y,_.JL,_.sg,D.xY,k,g.KE,g.hX,P.Nt,_.wV,_.Fj,_.JJ,_.u,g.TO,h.gD,s.sg,B.ey,T.oG,D.H8,K.lW,D.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;gap:20px;flex-grow:1}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]{flex-direction:column}}mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{max-width:350px}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{display:none;visibility:hidden}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;align-items:stretch;flex-grow:1}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{padding:8px 0}"]}),S}(),ge=a(9776),me=a(2525),ue=a(3874);function ae(S,W){if(1&S&&t._UZ(0,"app-reaper-view",12),2&S){var E=t.oxw(2);t.Q6J("reaper",E.character.reaper)}}function fe(S,W){if(1&S){var E=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){return t.CHM(E),t.oxw(3).edit()}),t.TgZ(1,"mat-icon"),t._uU(2,"add_circle_outline"),t.qZA(),t._uU(3,"Add reaper"),t.qZA()}}function N(S,W){if(1&S){var E=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){return t.CHM(E),t.oxw(3).edit()}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA(),t._uU(3,"Edit reaper"),t.qZA()}}function G(S,W){if(1&S&&(t.YNc(0,fe,4,0,"button",13),t.YNc(1,N,4,0,"button",13)),2&S){var E=t.oxw(2);t.Q6J("ngIf",null===E.character.reaper),t.xp6(1),t.Q6J("ngIf",null!==E.character.reaper)}}function b(S,W){if(1&S){var E=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){return t.CHM(E),t.oxw().edit()}),t._UZ(1,"div",3,4),t._UZ(3,"div",5),t.ynx(4),t._UZ(5,"img",6),t.YNc(6,ae,1,1,"ng-template",7),t.BQk(),t._UZ(7,"div",8),t.TgZ(8,"mat-menu",9,10),t.YNc(10,G,2,2,"ng-template",11),t.qZA(),t.qZA()}if(2&S){var ne=t.MAs(2),z=t.MAs(9),Q=t.oxw();t.ekj("readonly",Q.readonly),t.xp6(5),t.ekj("primordial-effect",Q.character.reaper.primordial),t.Q6J("src",Q.character.reaper.icon,t.LSH),t.xp6(1),t.Q6J("cdkConnectedOverlayOpen",Q.showOverlay)("cdkConnectedOverlayOrigin",ne),t.xp6(1),t.Q6J("matMenuTriggerFor",z),t.xp6(1),t.Q6J("overlapTrigger",!0)}}function q(S,W){if(1&S&&t._UZ(0,"div",15),2&S){var E=t.oxw();t.Q6J("innerHTML",E.character.reaper.levelLabel,t.oJD)}}var te=function(){var S=function(){function W(E,ne,z){(0,R.Z)(this,W),this.dialog=E,this.slormancerCharacterBuilderService=ne,this.itemMoveService=z,this.character=null,this.readonly=!1,this.changed=new t.vpe,this.showOverlay=!1}return(0,F.Z)(W,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"onMouseContextMenu",value:function(){return this.readonly||this.itemMoveService.releaseHoldItem(),!1}},{key:"ngOnInit",value:function(){}},{key:"edit",value:function(){var ne=this;if(null!==this.character&&!this.readonly){var z=this.slormancerCharacterBuilderService.getCharacterClone(this.character);this.dialog.open(j,{data:{reaper:z.reaper,character:z}}).afterClosed().subscribe(function(de){de&&ne.changed.emit(de)})}}}]),W}();return S.\u0275fac=function(E){return new(E||S)(t.Y36(D.uw),t.Y36(m.o),t.Y36(e.v))},S.\u0275cmp=t.Xpm({type:S,selectors:[["app-reaper-slot"]],hostBindings:function(E,ne){1&E&&t.NdJ("mouseenter",function(){return ne.onOver()})("mouseleave",function(){return ne.onLeave()})("contextmenu",function(){return ne.onMouseContextMenu()})},inputs:{character:"character",readonly:"readonly"},outputs:{changed:"changed"},decls:2,vars:2,consts:[["class","reaper",3,"readonly","click",4,"ngIf"],["class","reaper-level",3,"innerHTML",4,"ngIf"],[1,"reaper",3,"click"],["cdkOverlayOrigin","",1,"overlay-position"],["trigger","cdkOverlayOrigin"],[1,"inner-slot"],[3,"src"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"matMenuTriggerFor"],["xPosition","after",3,"overlapTrigger"],["menu","matMenu"],["matMenuContent",""],[3,"reaper"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"reaper-level",3,"innerHTML"]],template:function(E,ne){1&E&&(t.YNc(0,b,11,9,"div",0),t.YNc(1,q,1,1,"div",1)),2&E&&(t.Q6J("ngIf",null!==ne.character),t.xp6(1),t.Q6J("ngIf",null!==ne.character))},directives:[s.O5,ge.xu,ge.pI,k,me.p6,me.VK,me.KA,me.OP,ue.Hw],styles:[".reaper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:124px;min-height:124px;position:relative}.reaper[_ngcontent-%COMP%]:not(.readonly){cursor:pointer}.reaper[_ngcontent-%COMP%]   .overlay-position[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0}.reaper[_ngcontent-%COMP%]   .inner-slot[_ngcontent-%COMP%]{width:80px;height:80px;background-color:#1e1e1e;border:3px solid #3c3c3c}.reaper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;margin-top:-12.5%;margin-left:-12.5%;image-rendering:pixelated;transform:scale(4)}.reaper-level[_ngcontent-%COMP%]{color:#fff;text-align:center;text-transform:uppercase}app-reaper-view[_ngcontent-%COMP%]{width:350px}"]}),S}()},4591:function(se,ee,a){a.d(ee,{X:function(){return k}});var R=a(5671),F=a(3144),t=a(136),m=a(7777),e=a(5542),_=a(2525),D=a(4373),Y=a(7255),A=a(8313),L=a(311),y=a(6446),u=a(9776),s=a(9808),c=a(411);function f(g,P){if(1&g&&e._UZ(0,"app-skill-view",9),2&g){var h=e.oxw(2);e.Q6J("skill",h.skill)}}function O(g,P){if(1&g&&(e.ynx(0),e._UZ(1,"img",7),e.YNc(2,f,1,1,"ng-template",8),e.BQk()),2&g){var h=e.oxw(),B=e.MAs(1);e.xp6(1),e.Q6J("src","assets/img/icon/"+(h.support?h.skill.iconLarge:h.skill.icon)+".png",e.LSH),e.xp6(1),e.Q6J("cdkConnectedOverlayOpen",h.showOverlay)("cdkConnectedOverlayOrigin",B)}}function Z(g,P){if(1&g&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&g){var h=e.oxw().$implicit;e.xp6(1),e.Oqu(h.specializationName)}}function w(g,P){if(1&g){var h=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){var le=e.CHM(h).$implicit;return e.oxw(2).updateSkill(le)}),e.TgZ(1,"div",12),e._UZ(2,"img",13),e.TgZ(3,"div",14),e.TgZ(4,"div",15),e._uU(5),e.qZA(),e.YNc(6,Z,2,1,"div",16),e.TgZ(7,"div",17),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&g){var B=P.$implicit,T=e.oxw(2);e.xp6(1),e.ekj("selected",T.isSelectedSkill(B)),e.xp6(1),e.ekj("support",T.support),e.Q6J("src","assets/img/icon/"+(T.support?B.iconLarge:B.icon)+".png",e.LSH),e.xp6(3),e.Oqu(B.name),e.xp6(1),e.Q6J("ngIf",null!==B.specializationName),e.xp6(2),e.lnq("",T.MASTERY_LABEL,": ",B.level," / ",T.SKILL_MAX_MASTERY,"")}}function l(g,P){if(1&g&&e.YNc(0,w,9,10,"button",10),2&g){var h=e.oxw();e.Q6J("ngForOf",h.getAvailableSkills())}}var k=function(){var g=function(P){(0,t.Z)(B,P);var h=(0,m.Z)(B);function B(T,K){var V;return(0,R.Z)(this,B),(V=h.call(this)).buildStorageService=T,V.slormancerTranslateService=K,V.SKILL_MAX_MASTERY=D.DA,V.MASTERY_LABEL=V.slormancerTranslateService.translate("tt_mastery"),V.skill=null,V.support=!1,V.readonly=!1,V.changed=new e.vpe,V.menu=null,V.showOverlay=!1,V}return(0,F.Z)(B,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"ngOnInit",value:function(){}},{key:"getAvailableSkills",value:function(){var K=this.buildStorageService.getLayer(),V=[];if(null!==K&&null!==K.character){var le=this.support?Y.W.Support:Y.W.Active;V=K.character.skills.map(function(j){return j.skill}).filter(function(j){return le===j.type})}return V}},{key:"isSelectedSkill",value:function(K){var V=this.buildStorageService.getLayer();return null!==V&&null!==V.character&&(V.character.primarySkill===K||V.character.secondarySkill===K||V.character.supportSkill===K)}},{key:"updateSkill",value:function(K){this.skill!==K&&this.changed.emit(K)}},{key:"openMenu",value:function(){return null!==this.menu&&!this.readonly&&this.menu.openMenu(),!1}}]),B}(y.B);return g.\u0275fac=function(h){return new(h||g)(e.Y36(L.x),e.Y36(A.n))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-skill-slot"]],viewQuery:function(h,B){var T;1&h&&e.Gf(_.p6,7),2&h&&e.iGM(T=e.CRH())&&(B.menu=T.first)},hostBindings:function(h,B){1&h&&e.NdJ("mouseenter",function(){return B.onOver()})("mouseleave",function(){return B.onLeave()})},inputs:{skill:"skill",support:"support",readonly:"readonly"},outputs:{changed:"changed"},features:[e.qOj],decls:7,vars:6,consts:[["cdkOverlayOrigin","",1,"skill",3,"contextmenu","click"],["trigger","cdkOverlayOrigin"],[4,"ngIf"],[3,"matMenuTriggerFor"],["yPosition","above",1,"skill-menu"],["menu","matMenu"],["matMenuContent",""],[3,"src"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"skill"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],[1,"skill-menu-entry"],[1,"skill",3,"src"],[1,"description"],[1,"name"],["class","specialization",4,"ngIf"],[1,"mastery"],[1,"specialization"]],template:function(h,B){if(1&h&&(e.TgZ(0,"div",0,1),e.NdJ("contextmenu",function(){return B.openMenu()})("click",function(){return B.openMenu()}),e.YNc(2,O,3,3,"ng-container",2),e._UZ(3,"div",3),e.TgZ(4,"mat-menu",4,5),e.YNc(6,l,1,1,"ng-template",6),e.qZA(),e.qZA()),2&h){var T=e.MAs(5);e.ekj("support",B.support)("readonly",B.readonly),e.xp6(2),e.Q6J("ngIf",null!==B.skill),e.xp6(1),e.Q6J("matMenuTriggerFor",T)}},directives:[u.xu,s.O5,u.pI,c.O,_.p6,_.VK,_.KA,s.sg,_.OP],styles:["[_nghost-%COMP%]{min-width:42px;height:42px;min-height:42px;overflow:hidden}.skill[_ngcontent-%COMP%]{width:42px;min-width:42px;height:42px;min-height:42px;border:4px solid black;position:relative;background-color:#131313}.skill.support[_ngcontent-%COMP%]{width:84px;min-width:84px}.skill[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(.locked){position:absolute;width:100%;height:100%}.skill[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{text-transform:uppercase}.skill[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:-8px;left:0}.skill-menu-entry[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:8px}.skill-menu-entry[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]{border:4px solid #353535}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .specialization[_ngcontent-%COMP%]{line-height:normal;font-weight:700;text-transform:uppercase}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .mastery[_ngcontent-%COMP%]{line-height:normal}.skill-menu-entry.selected[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]{border-color:#edd371}.skill-menu-entry.selected[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .skill-menu-entry.selected[_ngcontent-%COMP%]   .specialization[_ngcontent-%COMP%]{color:#edd371}app-item-view[_ngcontent-%COMP%]{width:350px}"]}),g}()},8849:function(se,ee,a){a.d(ee,{B:function(){return L}});var R=a(5671),F=a(3144),t=a(8313),m=a(5542),e=a(9808),_=a(5895);function D(y,u){if(1&y&&m._UZ(0,"div",18),2&y){var s=m.oxw(2);m.Q6J("innerHTML",s.upgrade.genresLabel,m.oJD)}}function Y(y,u){if(1&y&&m._UZ(0,"div",19),2&y){var s=m.oxw(2);m.Q6J("innerHTML",s.upgrade.costLabel,m.oJD)}}function A(y,u){if(1&y&&(m.TgZ(0,"div"),m.TgZ(1,"div",1),m._uU(2),m.qZA(),m.TgZ(3,"div",2),m.TgZ(4,"div",3),m.TgZ(5,"div",4),m.TgZ(6,"div",5),m._UZ(7,"div",6),m._UZ(8,"img",7),m.qZA(),m.qZA(),m.TgZ(9,"div",8),m.TgZ(10,"div",9),m._uU(11),m.qZA(),m.TgZ(12,"div",10),m._uU(13),m.qZA(),m.YNc(14,D,1,1,"div",11),m.TgZ(15,"div",12),m._uU(16),m.TgZ(17,"span",13),m._uU(18),m.qZA(),m._uU(19),m.qZA(),m.YNc(20,Y,1,1,"div",14),m.qZA(),m.qZA(),m._UZ(21,"div",15),m._UZ(22,"div",16),m._UZ(23,"app-mechanics-view",17),m.qZA(),m.qZA()),2&y){var s=m.oxw();m.Gre("skill slormancer-tooltip ",s.upgrade.damageTypes.length>0?s.upgrade.damageTypes[0]:"",""),m.xp6(2),m.AsE("",s.getTypeLabel(s.upgrade.type),": ",s.upgrade.name,""),m.xp6(6),m.Q6J("src",s.upgrade.icon,m.LSH),m.xp6(3),m.AsE("",s.MASTERY_LABEL," ",s.upgrade.masteryRequired,""),m.xp6(2),m.Oqu(s.getTypeLabel(s.upgrade.type)),m.xp6(1),m.Q6J("ngIf",null!==s.upgrade.genresLabel),m.xp6(2),m.hij("",s.RANK_LABEL,": "),m.xp6(2),m.Oqu(s.upgrade.rank),m.xp6(1),m.hij("/",s.upgrade.maxRank,""),m.xp6(1),m.Q6J("ngIf",null!==s.upgrade.costLabel),m.xp6(2),m.Q6J("innerHTML",s.upgrade.description,m.oJD),m.xp6(1),m.Q6J("classMechanics",s.upgrade.relatedClassMechanics)("mechanics",s.upgrade.relatedMechanics)("buffs",s.upgrade.relatedBuffs)}}var L=function(){var y=function(){function u(s){(0,R.Z)(this,u),this.slormancerTranslateService=s,this.RANK_LABEL=this.slormancerTranslateService.translate("tt_rank"),this.MASTERY_LABEL=this.slormancerTranslateService.translate("tt_mastery"),this.upgrade=null,this.mouseOverElement=null}return(0,F.Z)(u,[{key:"getTypeLabel",value:function(c){return this.slormancerTranslateService.translate("tt_"+c)}},{key:"showMechanicOverlay",value:function(c){this.mouseOverElement=c}},{key:"hideMechanicOverlay",value:function(){this.mouseOverElement=null}}]),u}();return y.\u0275fac=function(s){return new(s||y)(m.Y36(t.n))},y.\u0275cmp=m.Xpm({type:y,selectors:[["app-skill-upgrade-view"]],inputs:{upgrade:"upgrade"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head","inner-box"],[1,"content","inner-box"],[1,"info"],[1,"visual"],[1,"icon"],[1,"icon-border"],[3,"src"],[1,"data"],[1,"mastery"],[1,"type"],["class","genre",3,"innerHTML",4,"ngIf"],[1,"rank"],[1,"current"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"separator"],[1,"description",3,"innerHTML"],[3,"classMechanics","mechanics","buffs"],[1,"genre",3,"innerHTML"],[1,"cost",3,"innerHTML"]],template:function(s,c){1&s&&m.YNc(0,A,24,18,"div",0),2&s&&m.Q6J("ngIf",null!==c.upgrade)},directives:[e.O5,_.A],styles:[".skill[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;max-width:400px}.skill[_ngcontent-%COMP%]   .inner-box[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]:before{border-color:primary-color(400)}.skill[_ngcontent-%COMP%]  .value, .skill[_ngcontent-%COMP%]  .rank .current, .skill[_ngcontent-%COMP%]  .head{color:#ce4607}.skill[_ngcontent-%COMP%]  .mag .value{color:#bb1fe2}.skill[_ngcontent-%COMP%]  .range, .skill[_ngcontent-%COMP%]  .range .value, .skill[_ngcontent-%COMP%]  .details, .skill[_ngcontent-%COMP%]  .details .value, .skill[_ngcontent-%COMP%]  .formula, .skill[_ngcontent-%COMP%]  .formula .value{color:#686868}.skill[_ngcontent-%COMP%]  .affixes .range, .skill[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.skill[_ngcontent-%COMP%]  .life{color:#257539}.skill[_ngcontent-%COMP%]  .value.mana{color:#3397dd}.skill.mag[_ngcontent-%COMP%]  .value, .skill.mag[_ngcontent-%COMP%]  .rank .current, .skill.mag[_ngcontent-%COMP%]  .head{color:#bb1fe2}.skill.mag[_ngcontent-%COMP%]  .value.mana, .skill.mag[_ngcontent-%COMP%]  .rank .current.mana, .skill.mag[_ngcontent-%COMP%]  .head.mana{color:#3397dd}.skill.mag[_ngcontent-%COMP%]  .value.life, .skill.mag[_ngcontent-%COMP%]  .rank .current.life, .skill.mag[_ngcontent-%COMP%]  .head.life{color:#257539}.skill[_ngcontent-%COMP%]   .head.head[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.head[_ngcontent-%COMP%]{text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;gap:20px;padding:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;gap:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{display:flex;align-items:center}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border:3px solid #be871f;min-width:60px;min-height:60px;width:60px;height:60px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black;image-rendering:pixelated;width:54px;height:54px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-transform:uppercase;height:100%;flex-grow:1;padding:5px 0;gap:5px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#3155bc}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]{display:flex;flex-direction:row}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{min-width:8px;padding-right:8px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;background-color:#ce4607;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}"]}),y}()},411:function(se,ee,a){a.d(ee,{O:function(){return s}});var R=a(3144),F=a(5671),t=a(5542),m=a(9808),e=a(3874),_=a(7238);function D(c,f){if(1&c&&t._UZ(0,"div",15),2&c){var O=t.oxw(2);t.Q6J("innerHTML",O.skill.genresLabel,t.oJD)}}function Y(c,f){if(1&c&&(t.TgZ(0,"mat-icon",19),t._uU(1,"info_outline"),t.qZA()),2&c){var O=t.oxw(3);t.Q6J("matTooltip",O.skill.cooldownDetailsLabel)}}function A(c,f){if(1&c&&(t.TgZ(0,"div",16),t._UZ(1,"span",17),t.YNc(2,Y,2,1,"mat-icon",18),t.qZA()),2&c){var O=t.oxw(2);t.xp6(1),t.Q6J("innerHTML",O.skill.cooldownLabel,t.oJD),t.xp6(1),t.Q6J("ngIf",null!==O.skill.cooldownDetailsLabel)}}function L(c,f){if(1&c&&t._UZ(0,"div",20),2&c){var O=t.oxw(2);t.Q6J("innerHTML",O.skill.costLabel,t.oJD)}}function y(c,f){if(1&c&&(t.TgZ(0,"span",21),t._uU(1),t.qZA()),2&c){var O=t.oxw(2);t.xp6(1),t.hij(" + ",O.skill.bonusLevel,"")}}function u(c,f){if(1&c&&(t.TgZ(0,"div"),t._UZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._UZ(6,"img",6),t.qZA(),t.qZA(),t.TgZ(7,"div",7),t.YNc(8,D,1,1,"div",8),t.YNc(9,A,3,2,"div",9),t.YNc(10,L,1,1,"div",10),t.qZA(),t.qZA(),t._UZ(11,"div",11),t._UZ(12,"div",12),t.TgZ(13,"div",13),t._UZ(14,"img",6),t.YNc(15,y,2,1,"span",14),t.qZA(),t.qZA(),t.qZA()),2&c){var O=t.oxw();t.Gre("skill slormancer-tooltip ",O.skill.damageTypes.length>0?O.skill.damageTypes[0]:"",""),t.xp6(1),t.Q6J("innerHTML",O.skill.nameLabel,t.oJD),t.xp6(5),t.Q6J("src","assets/img/icon/"+O.skill.icon+".png",t.LSH),t.xp6(2),t.Q6J("ngIf",null!==O.skill.genresLabel),t.xp6(1),t.Q6J("ngIf",null!==O.skill.cooldownLabel),t.xp6(1),t.Q6J("ngIf",null!==O.skill.costLabel),t.xp6(2),t.Q6J("innerHTML",O.skill.description,t.oJD),t.xp6(2),t.MGl("src","assets/img/icon/",O.skill.levelIcon,".png",t.LSH),t.xp6(1),t.Q6J("ngIf",O.skill.bonusLevel>0)}}var s=function(){var c=(0,R.Z)(function f(){(0,F.Z)(this,f),this.skill=null});return c.\u0275fac=function(O){return new(O||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-skill-view"]],inputs:{skill:"skill"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head","inner-box",3,"innerHTML"],[1,"content","inner-box"],[1,"info"],[1,"visual"],[1,"icon"],[3,"src"],[1,"data"],["class","genre",3,"innerHTML",4,"ngIf"],["class","cooldown",4,"ngIf"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"separator"],[1,"description",3,"innerHTML"],[1,"bottom-level"],["class","bonus",4,"ngIf"],[1,"genre",3,"innerHTML"],[1,"cooldown"],[3,"innerHTML"],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],[1,"cost",3,"innerHTML"],[1,"bonus"]],template:function(O,Z){1&O&&t.YNc(0,u,16,11,"div",0),2&O&&t.Q6J("ngIf",null!==Z.skill)},directives:[m.O5,e.Hw,_.gM],styles:[".skill[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;max-width:400px}.skill[_ngcontent-%COMP%]   .inner-box[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]:before{border-color:primary-color(400)}.skill[_ngcontent-%COMP%]  .value, .skill[_ngcontent-%COMP%]  .rank .current{color:#ce4607}.skill[_ngcontent-%COMP%]  .range, .skill[_ngcontent-%COMP%]  .range .value, .skill[_ngcontent-%COMP%]  .details, .skill[_ngcontent-%COMP%]  .details .value, .skill[_ngcontent-%COMP%]  .formula, .skill[_ngcontent-%COMP%]  .formula .value{color:#686868}.skill[_ngcontent-%COMP%]  .affixes .range, .skill[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.skill[_ngcontent-%COMP%]  .life{color:#257539}.skill[_ngcontent-%COMP%]  .mana{color:#3397dd}.skill.mag[_ngcontent-%COMP%]  .value, .skill.mag[_ngcontent-%COMP%]  .rank .current{color:#bb1fe2}.skill.mag[_ngcontent-%COMP%]  .value.mana, .skill.mag[_ngcontent-%COMP%]  .rank .current.mana{color:#3397dd}.skill.mag[_ngcontent-%COMP%]  .value.life, .skill.mag[_ngcontent-%COMP%]  .rank .current.life{color:#257539}.skill[_ngcontent-%COMP%]   .head.head[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.head[_ngcontent-%COMP%]{text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;gap:20px;padding:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;gap:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{display:flex;align-items:center}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border:3px solid #be871f;min-width:60px;min-height:60px;width:60px;height:60px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black;image-rendering:pixelated;width:54px;height:54px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;text-transform:uppercase;height:100%;padding:5px 0;gap:5px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:4px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .cooldown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .cooldown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:14px;width:14px;font-size:14px;line-height:14px;display:inline}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}"]}),c}()},9536:function(se,ee,a){a.d(ee,{A:function(){return O}});var R=a(5671),F=a(3144),t=a(136),m=a(7777),e=a(2722),_=a(7255),D=a(2424),Y=a(6446),A=a(5542),L=a(9808),y=a(9776),u=a(8849);function s(Z,w){if(1&Z&&A._UZ(0,"app-skill-upgrade-view",8),2&Z){var l=A.oxw(3);A.Q6J("upgrade",l.upgrade)}}function c(Z,w){if(1&Z&&A.YNc(0,s,1,1,"ng-template",7),2&Z){A.oxw();var l=A.MAs(1),k=A.oxw();A.Q6J("cdkConnectedOverlayOpen",k.showOverlay)("cdkConnectedOverlayOrigin",l)}}function f(Z,w){if(1&Z&&(A.TgZ(0,"div",1,2),A.TgZ(2,"div",3),A._UZ(3,"img",4),A.qZA(),A.TgZ(4,"div",5),A._uU(5),A.qZA(),A.YNc(6,c,1,2,void 0,6),A.qZA()),2&Z){var l=A.oxw();A.ekj("hidden-search",l.hiddenBySearch)("passive",l.isPassive(l.upgrade))("readonly",l.readonly),A.xp6(2),A.ekj("equipped",l.equipped),A.xp6(1),A.Q6J("src",l.upgrade.icon,A.LSH),A.xp6(1),A.ekj("max",l.upgrade.rank===l.upgrade.maxRank),A.xp6(1),A.Oqu(l.upgrade.rank===l.upgrade.maxRank?"Max":l.upgrade.rank),A.xp6(1),A.Q6J("ngIf",l.showOverlay&&l.overlay)}}var O=function(){var Z=function(w){(0,t.Z)(k,w);var l=(0,m.Z)(k);function k(g){var P;return(0,R.Z)(this,k),(P=l.call(this)).searchService=g,P.upgrade=null,P.selected=!1,P.equipped=!1,P.overlay=!1,P.readonly=!1,P.hiddenBySearch=!1,P.showOverlay=!1,P}return(0,F.Z)(k,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"ngOnInit",value:function(){var P=this;this.searchService.searchChanged.pipe((0,e.R)(this.unsubscribe)).subscribe(function(h){return P.hiddenBySearch=null!==h&&null!==P.upgrade&&!P.searchService.upgradeMatchSearch(P.upgrade)})}},{key:"isPassive",value:function(P){return P.type===_.W.Passive}}]),k}(Y.B);return Z.\u0275fac=function(l){return new(l||Z)(A.Y36(D.o))},Z.\u0275cmp=A.Xpm({type:Z,selectors:[["app-upgrade-slot"]],hostBindings:function(l,k){1&l&&A.NdJ("mouseenter",function(){return k.onOver()})("mouseleave",function(){return k.onLeave()})},inputs:{upgrade:"upgrade",selected:"selected",equipped:"equipped",overlay:"overlay",readonly:"readonly"},features:[A.qOj],decls:1,vars:1,consts:[["class","upgrade","cdkOverlayOrigin","",3,"hidden-search","passive","readonly",4,"ngIf"],["cdkOverlayOrigin","",1,"upgrade"],["trigger","cdkOverlayOrigin"],[1,"equipped-border"],[1,"skill-icon",3,"src"],[1,"rank"],[4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"upgrade"]],template:function(l,k){1&l&&A.YNc(0,f,7,13,"div",0),2&l&&A.Q6J("ngIf",null!==k.upgrade)},directives:[L.O5,y.xu,y.pI,u.B],styles:[".upgrade[_ngcontent-%COMP%]{background-color:#101010;position:relative;z-index:1}.upgrade.hidden-search[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{opacity:.2}.upgrade.passive[_ngcontent-%COMP%], .upgrade.passive[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%], .upgrade.passive[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}.upgrade[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{position:absolute;background-color:#202020;padding:0 2px;bottom:0;right:0;font-size:10px;border-radius:4px}.upgrade[_ngcontent-%COMP%]   .rank.max[_ngcontent-%COMP%]{color:#edd371}.upgrade[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%]{width:46px;height:46px;position:relative;border:3px solid black;padding:2px;background-color:#202020}.upgrade[_ngcontent-%COMP%]   .equipped-border.equipped[_ngcontent-%COMP%]{background-color:#edd371}.upgrade[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black}.upgrade[_ngcontent-%COMP%]:not(.readonly)   .equipped-border[_ngcontent-%COMP%]{cursor:pointer}.upgrade.readonly[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%]{padding:0;border-width:4px;width:44px;height:44px}.upgrade.readonly[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-width:0}"]}),Z}()},7355:function(se,ee,a){a.d(ee,{d:function(){return D}});var R=a(5671),F=a(3144),t=a(2340),m=a(1093),e=a(2473),_=a(5542),D=function(){var Y=function(){function A(L){(0,R.Z)(this,A),this.slormancerCharacterBuilderService=L}return(0,F.Z)(A,[{key:"createBuild",value:function(y,u){return{version:t.N.version,name:u,heroClass:y,layers:[],configuration:m.g}}},{key:"createBuildWithCharacter",value:function(y,u,s){var c={version:t.N.version,name:y,heroClass:s.heroClass,layers:[],configuration:m.g},f=this.slormancerCharacterBuilderService.getCharacterClone(s);return f.importVersion=null,this.addLayer(c,u,f),c}},{key:"addLayer",value:function(y,u){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c={name:u,character:null!==s?s:this.slormancerCharacterBuilderService.getCharacter(y.heroClass)};return y.layers.push(c),c}},{key:"duplicateLayer",value:function(y,u,s){return this.addLayer(y,s,this.slormancerCharacterBuilderService.getCharacterClone(u.character))}},{key:"deleteLayer",value:function(y,u){var s=y.layers.indexOf(u);-1!==s&&y.layers.splice(s,1)}}]),A}();return Y.\u0275fac=function(L){return new(L||Y)(_.LFG(e.o))},Y.\u0275prov=_.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y}()},1671:function(se,ee,a){a.d(ee,{K:function(){return O}});var R=a(4942),F=a(7762),t=a(5671),m=a(3144),e=a(7399),_=a(4456),D=a(2107),Y=a(2206),A=a(7148),L=a(1375),y=a(5351),u=a(3790),s=a(8313),c=a(5581),f=a(5542),O=function(){var Z=function(){function w(l,k,g){(0,t.Z)(this,w),this.slormancerDataService=l,this.slormancerTranslateService=k,this.slormancerReaperService=g,this.STATS_OPTIONS_CACHE={},this.LEGENDARY_OPTIONS_CACHE={},this.ALL_STATS_OPTIONS_CACHE=[],this.ALL_REAPER_BUFF_OPTIONS_CACHE=[],this.ALL_SKILL_BUFF_OPTIONS_CACHE={0:[],1:[],2:[]},this.ALL_ATTRIBUTE_BUFF_OPTIONS_CACHE=[],this.ALL_REAPER_OPTIONS_CACHE={p:{0:[],1:[],2:[]},b:{0:[],1:[],2:[]}},this.ULTIMATUM_OPTIONS_CACHE=[],this.initStatOptionsCache(),this.initLegendaryOptionsCache(),this.initReaperBuffOptions(),this.initSkillBuffOptions(),this.initAttributeBuffOptions(),this.initReaperOptions(),this.initUltimatumOptions()}return(0,m.Z)(w,[{key:"getReaperOptions",value:function(k,g){return this.ALL_REAPER_OPTIONS_CACHE[g?"p":"b"][k]}},{key:"getAllStatsoptions",value:function(){return this.ALL_STATS_OPTIONS_CACHE}},{key:"getStatsOptions",value:function(k,g){var P=this.ALL_STATS_OPTIONS_CACHE,h=this.STATS_OPTIONS_CACHE[k];return h&&(g===Y.u.Normal?P=(0,c.Be)(h.P,[]):(g===Y.u.Magic||g===Y.u.Rare)&&(P=(0,c.Be)(h.S,[]))),P}},{key:"getLegendaryOptions",value:function(k,g){var P=[],h=this.LEGENDARY_OPTIONS_CACHE[k];return h&&(P=h[g]),P}},{key:"getReaperBuffOptions",value:function(){return this.ALL_REAPER_BUFF_OPTIONS_CACHE}},{key:"getSkillBuffOptions",value:function(k){return this.ALL_SKILL_BUFF_OPTIONS_CACHE[k]}},{key:"getAttributeBuffOptions",value:function(){return this.ALL_ATTRIBUTE_BUFF_OPTIONS_CACHE}},{key:"getUltimatumOptions",value:function(){return this.ULTIMATUM_OPTIONS_CACHE}},{key:"getBaseKey",value:function(k){return k===_.J.Body?"ARMOR":k.toUpperCase()}},{key:"initStatOptionsCache",value:function(){var k=this.slormancerDataService.getGameDataStats().filter(function(q){return"X"!==q.PERCENT});this.STATS_OPTIONS_CACHE={},this.ALL_STATS_OPTIONS_CACHE=[];var P,g=(0,F.Z)(k);try{for(g.s();!(P=g.n()).done;){var h=P.value,B={label:this.slormancerTranslateService.translate(h.REF)+("%"===h.PERCENT?" (%)":""),value:h.REF};this.ALL_STATS_OPTIONS_CACHE.push(B);var K,T=(0,F.Z)(_.l);try{for(T.s();!(K=T.n()).done;){var V=K.value,j=h[this.getBaseKey(V)];if(""!==j){var ge=this.STATS_OPTIONS_CACHE[V];void 0===ge&&(this.STATS_OPTIONS_CACHE[V]=ge={P:[],S:[]}),"P"===j&&ge.P.push(B),("P"===j||"S"===j)&&ge.S.push(B)}}}catch(q){T.e(q)}finally{T.f()}}}catch(q){g.e(q)}finally{g.f()}var ue,me=(0,F.Z)(_.l);try{for(me.s();!(ue=me.n()).done;){var fe=this.getBaseKey(ue.value),N=this.STATS_OPTIONS_CACHE[fe];if(N){var G=N.P,b=N.S;G&&G.sort(function(q,te){return(0,c.rR)(q.label,te.label)}),b&&b.sort(function(q,te){return(0,c.rR)(q.label,te.label)})}}}catch(q){me.e(q)}finally{me.f()}this.ALL_STATS_OPTIONS_CACHE.sort(function(q,te){return(0,c.rR)(q.label,te.label)})}},{key:"initLegendaryOptionsCache",value:function(){var k=this.slormancerDataService.getGameDataLegendaries().filter(function(K){return K.LOOTABLE});this.LEGENDARY_OPTIONS_CACHE={};var P,g=(0,F.Z)(k);try{for(g.s();!(P=g.n()).done;){var h=P.value,B={value:h.REF,label:h.EN_NAME},T=this.LEGENDARY_OPTIONS_CACHE[h.ITEM];void 0===T&&(this.LEGENDARY_OPTIONS_CACHE[h.ITEM]=T={0:[],1:[],2:[]}),-1===h.HERO||99===h.HERO?(T[0].push(B),T[1].push(B),T[2].push(B)):T[h.HERO].push(B)}}catch(K){g.e(K)}finally{g.f()}}},{key:"initReaperBuffOptions",value:function(){var k=this;this.ALL_REAPER_BUFF_OPTIONS_CACHE=A.c.filter(function(g){return g!==A.Q.OhmAgad&&g!==A.Q.ReapersmithBrotherhood}).map(function(g){return{value:g,label:k.slormancerTranslateService.translate("weapon_reapersmith_"+g)}})}},{key:"initSkillBuffOptions",value:function(){var k;this.ALL_SKILL_BUFF_OPTIONS_CACHE=((0,R.Z)(k={},D.i.Warrior,this.slormancerDataService.getGameDataActiveSkills(D.i.Warrior).map(function(g){return{value:g.REF,label:g.EN_NAME}})),(0,R.Z)(k,D.i.Huntress,this.slormancerDataService.getGameDataActiveSkills(D.i.Huntress).map(function(g){return{value:g.REF,label:g.EN_NAME}})),(0,R.Z)(k,D.i.Mage,this.slormancerDataService.getGameDataActiveSkills(D.i.Mage).map(function(g){return{value:g.REF,label:g.EN_NAME}})),k)}},{key:"initAttributeBuffOptions",value:function(){var k=this;this.ALL_ATTRIBUTE_BUFF_OPTIONS_CACHE=e.A.map(function(g){return{value:g,label:k.slormancerTranslateService.translate("character_trait_"+g)}})}},{key:"initReaperOptions",value:function(){this.ALL_REAPER_OPTIONS_CACHE={p:{0:[],1:[],2:[]},b:{0:[],1:[],2:[]}};var P,k=this.slormancerDataService.getGameDataAvailableReaper(),g=(0,F.Z)(k);try{for(g.s();!(P=g.n()).done;){var h=P.value;this.ALL_REAPER_OPTIONS_CACHE.p[D.i.Warrior].push({value:h.REF,label:this.slormancerReaperService.getReaperName(h.EN_NAME,!0,D.i.Warrior)}),this.ALL_REAPER_OPTIONS_CACHE.p[D.i.Huntress].push({value:h.REF,label:this.slormancerReaperService.getReaperName(h.EN_NAME,!0,D.i.Huntress)}),this.ALL_REAPER_OPTIONS_CACHE.p[D.i.Mage].push({value:h.REF,label:this.slormancerReaperService.getReaperName(h.EN_NAME,!0,D.i.Mage)}),this.ALL_REAPER_OPTIONS_CACHE.b[D.i.Warrior].push({value:h.REF,label:this.slormancerReaperService.getReaperName(h.EN_NAME,!1,D.i.Warrior)}),this.ALL_REAPER_OPTIONS_CACHE.b[D.i.Huntress].push({value:h.REF,label:this.slormancerReaperService.getReaperName(h.EN_NAME,!1,D.i.Huntress)}),this.ALL_REAPER_OPTIONS_CACHE.b[D.i.Mage].push({value:h.REF,label:this.slormancerReaperService.getReaperName(h.EN_NAME,!1,D.i.Mage)})}}catch(B){g.e(B)}finally{g.f()}}},{key:"initUltimatumOptions",value:function(){var k=this;this.ULTIMATUM_OPTIONS_CACHE=L.N.map(function(g){return{value:g,label:k.slormancerTranslateService.translate("ultimatum_"+g)}})}}]),w}();return Z.\u0275fac=function(l){return new(l||Z)(f.LFG(y.o),f.LFG(s.n),f.LFG(u.I))},Z.\u0275prov=f.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z}()},8271:function(se,ee,a){a.d(ee,{s:function(){return A}});var R=a(5671),F=a(3144),t=a(7106),m=a(5458),e=a(2473),_=a(5581),D=a(3390),Y=a(5542),A=function(){var L=function(){function y(u,s,c,f){(0,R.Z)(this,y),this.slormancerCharacterBuilderService=u,this.slormancerSaveParserService=s,this.slormancerShortDataService=c,this.jsonConverterService=f;var O=document.getElementsByTagName("base")[0],Z="/";if(void 0!==O){var w=O.getAttribute("href");null!==w&&(Z=w)}this.VIEW_BUILD_PATH=window.origin+Z+"view/build/"}return(0,F.Z)(y,[{key:"parseSaveData",value:function(s,c){var f=this.slormancerSaveParserService.parseSaveFile(s);return this.slormancerCharacterBuilderService.getCharacterFromSave(f,c)}},{key:"parseUrlData",value:function(s){var c={character:null,layer:null,planner:null},f=null;try{var Z=new URL(s).pathname.split("/");f=(0,_.lA)(Z[Z.length-1])}catch(w){}return null!==f&&(c=this.importFromShortData(f)),c}},{key:"parseJsonData",value:function(s){var c=JSON.parse(s);return this.jsonConverterService.jsonToSharedData(c)}},{key:"import",value:function(s){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,f={character:null,layer:null,planner:null};if(null!==c)try{return f.character=this.parseSaveData(s,c),f}catch(O){console.error("Error when parsing save file : ",O)}try{return this.parseJsonData(atob(s))}catch(O){}try{return this.parseJsonData(s)}catch(O){}return null===(f=this.importFromShortData(s)).character&&(f=this.parseUrlData(s)),console.log("data parsed : ",f),f}},{key:"exportCharacter",value:function(s){return btoa(JSON.stringify(this.jsonConverterService.characterToJson(s)))}},{key:"exportLayer",value:function(s){return btoa(JSON.stringify(this.jsonConverterService.layerToJson(s)))}},{key:"exportBuild",value:function(s){return btoa(JSON.stringify(this.jsonConverterService.buildToJson(s)))}},{key:"exportCharacterAsLink",value:function(s){var c=this.slormancerShortDataService.characterToShortData(s);return this.VIEW_BUILD_PATH+c}},{key:"importFromShortData",value:function(s){return{character:this.slormancerShortDataService.shortDataToCharacter(s),layer:null,planner:null}}}]),y}();return L.\u0275fac=function(u){return new(u||L)(Y.LFG(e.o),Y.LFG(t.X),Y.LFG(m.q),Y.LFG(D.D))},L.\u0275prov=Y.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L}()},7469:function(se,ee,a){a.d(ee,{v:function(){return Y}});var R=a(4902),F=a(5671),t=a(3144),m=a(1135),e=a(4456),_=a(311),D=a(5542),Y=function(){var A=function(){function L(y){(0,F.Z)(this,L),this.buildStorageService=y,this.draggingItem=new m.X(!1),this.dragCount=0,this.item=null,this.requiredBase=null,this.callback=null}return(0,t.Z)(L,[{key:"hold",value:function(u,s){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.dragCount=0,this.item=u,this.requiredBase=s,this.callback=c}},{key:"startDragging",value:function(){this.draggingItem.getValue()||(this.dragCount++,null!==this.item&&this.dragCount>5&&this.draggingItem.next(!0))}},{key:"isDragItemCompatible",value:function(u,s){return!(null!==u&&null!==this.requiredBase&&u.base!==this.requiredBase||null===this.item||null!==s&&this.item.base!==s)}},{key:"isHoldItem",value:function(u){return u===this.item&&null!==u}},{key:"getHoldItem",value:function(){return this.item}},{key:"releaseHoldItem",value:function(){this.item=null,this.requiredBase=null,this.callback=null,this.draggingItem.next(!1)}},{key:"swap",value:function(u,s,c){var f=this.item,O=this.callback,Z=this.isDragItemCompatible(u,s);this.releaseHoldItem(),u!==f&&(Z?(O&&O(!0,u),c&&c(!0,f)):(O&&O(!1,null),c&&c(!1,null)))}},{key:"moveDraggedItemToItemGroup",value:function(u){var s=this.item,c=this.callback,f=u.indexOf(null),O=u.indexOf(s);if(this.releaseHoldItem(),-1!==f||-1!==O){c&&c(!0,null);var Z=Math.min.apply(Math,(0,R.Z)([f,O].filter(function(w){return-1!==w})));u.splice(Z,1,s)}else c&&c(!1,null)}},{key:"equip",value:function(u,s){var c=this.buildStorageService.getLayer();if(null!==c&&null!==c.character){var f=u.base;switch(this.hold(u,f,s),f){case e.J.Amulet:this.swap(c.character.gear.amulet,f,function(O,Z){return O?c.character.gear.amulet=Z:null});break;case e.J.Belt:this.swap(c.character.gear.belt,f,function(O,Z){return O?c.character.gear.belt=Z:null});break;case e.J.Body:this.swap(c.character.gear.body,f,function(O,Z){return O?c.character.gear.body=Z:null});break;case e.J.Boot:this.swap(c.character.gear.boot,f,function(O,Z){return O?c.character.gear.boot=Z:null});break;case e.J.Bracer:this.swap(c.character.gear.bracer,f,function(O,Z){return O?c.character.gear.bracer=Z:null});break;case e.J.Cape:this.swap(c.character.gear.cape,f,function(O,Z){return O?c.character.gear.cape=Z:null});break;case e.J.Glove:this.swap(c.character.gear.glove,f,function(O,Z){return O?c.character.gear.glove=Z:null});break;case e.J.Helm:this.swap(c.character.gear.helm,f,function(O,Z){return O?c.character.gear.helm=Z:null});break;case e.J.Shoulder:this.swap(c.character.gear.shoulder,f,function(O,Z){return O?c.character.gear.shoulder=Z:null});break;case e.J.Ring:null===c.character.gear.ring_r?this.swap(c.character.gear.ring_r,f,function(O,Z){return O?c.character.gear.ring_r=Z:null}):this.swap(c.character.gear.ring_l,f,function(O,Z){return O?c.character.gear.ring_l=Z:null})}}}},{key:"moveToStash",value:function(u,s){var c=this.buildStorageService.getLayer();if(null!==c&&null!==c.character){var f=[c.character.inventory].concat((0,R.Z)(c.character.sharedInventory)).filter(function(O){return void 0!==O.find(function(Z){return null===Z})})[0];f&&(this.hold(u,null,s),this.moveDraggedItemToItemGroup(f))}}}]),L}();return A.\u0275fac=function(y){return new(y||A)(D.LFG(_.x))},A.\u0275prov=D.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A}()},2424:function(se,ee,a){a.d(ee,{o:function(){return Y}});var R=a(4902),F=a(7762),t=a(5671),m=a(3144),e=a(1135),_=a(5581),D=a(5542),Y=function(){var A=function(){function L(){(0,t.Z)(this,L),this.search=null,this.dom=document.createElement("div"),this.searchChanged=new e.X(null)}return(0,m.Z)(L,[{key:"hasSearch",value:function(){return null!==this.search}},{key:"setSearch",value:function(u){this.search=null!==u&&u.length>0?u:null,this.searchChanged.next(this.search)}},{key:"getCleanSearchValue",value:function(){return null===this.search?null:this.search.toLowerCase().trim()}},{key:"removeHtmlTags",value:function(u){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=u;if(null!==c){if(this.dom.innerHTML=c.toLowerCase(),s.length>0){var O,f=(0,F.Z)(s);try{for(f.s();!(O=f.n()).done;)for(var Z=O.value,w=this.dom.getElementsByClassName(Z),l=0,k=w.length;l<k;l++){var g=w.item(l);g&&g.remove()}}catch(P){f.e(P)}finally{f.f()}}c=this.dom.textContent}return c}},{key:"stringsMatchSearch",value:function(u){var s=!0,c=this.getCleanSearchValue();return null!==c&&(s=null===this.search||void 0!==u.find(function(f){return(0,_.BX)(f)&&-1!==f.toLowerCase().indexOf(c)})),s}},{key:"itemMatchSearch",value:function(u){var s=this;return this.stringsMatchSearch([u.level.toString(),u.name,u.base,u.rarity].concat((0,R.Z)(u.affixes.map(function(c){return[c.isPure?"pure":null,s.removeHtmlTags(c.valueLabel+" "+c.statLabel,["details"])]}).flat()),[null===u.legendaryEffect?null:this.removeHtmlTags(u.legendaryEffect.description,["details"]),null!==u.reaperEnchantment?this.removeHtmlTags(u.reaperEnchantment.label,["details"]):null,null!==u.skillEnchantment?this.removeHtmlTags(u.skillEnchantment.label,["details"]):null,null!==u.attributeEnchantment?this.removeHtmlTags(u.attributeEnchantment.label,["details"]):null]))}},{key:"upgradeMatchSearch",value:function(u){return this.stringsMatchSearch([u.name,u.type,this.removeHtmlTags(u.description)].concat((0,R.Z)(u.genres),[u.genresLabel,this.removeHtmlTags(u.costLabel),this.removeHtmlTags(u.costType)],(0,R.Z)(u.relatedBuffs.map(function(s){return s.name})),(0,R.Z)(u.relatedClassMechanics.map(function(s){return s.name})),(0,R.Z)(u.relatedMechanics.map(function(s){return s.name}))))}},{key:"ancestralLegacyMatchSearch",value:function(u){return this.stringsMatchSearch([u.name,u.costType].concat((0,R.Z)(u.genres),[u.isActivable?"activable":null,this.removeHtmlTags(u.description)],(0,R.Z)(u.relatedBuffs.map(function(s){return s.name})),(0,R.Z)(u.relatedMechanics.map(function(s){return s.name})),(0,R.Z)(u.types),[u.typeLabel,u.genresLabel,u.costLabel]))}},{key:"traitMatchSearch",value:function(u){return this.stringsMatchSearch([u.rankLabel,this.removeHtmlTags(u.cumulativeStats),this.removeHtmlTags(u.description),u.traitLevelLabel])}}]),L}();return A.\u0275fac=function(y){return new(y||A)},A.\u0275prov=D.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A}()},2271:function(se,ee,a){a.d(ee,{m:function(){return _}});var R=a(3144),F=a(5671),t=a(9808),m=a(9881),e=a(5542),_=function(){var D=(0,R.Z)(function Y(){(0,F.Z)(this,Y)});return D.\u0275fac=function(A){return new(A||D)},D.\u0275mod=e.oAB({type:D}),D.\u0275inj=e.cJS({providers:[],imports:[[t.ez,m.q],m.q]}),D}()}}]);