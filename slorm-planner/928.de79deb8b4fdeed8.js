"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[928],{6446:function(se,te,a){a.d(te,{B:function(){return e}});var N=a(5671),Q=a(3144),t=a(7579),m=a(5542),e=function(){var u=function(){function D(){(0,N.Z)(this,D),this.unsubscribe=new t.x}return(0,Q.Z)(D,[{key:"ngOnDestroy",value:function(){this.unsubscribe.next(),this.unsubscribe.complete()}}]),D}();return u.\u0275fac=function(Y){return new(Y||u)},u.\u0275cmp=m.Xpm({type:u,selectors:[["ng-component"]],decls:0,vars:0,template:function(Y,y){},encapsulation:2}),u}()},3662:function(se,te,a){a.d(te,{Z:function(){return C}});var N=a(4902),Q=a(5671),t=a(3144),m=a(136),e=a(7777),u=a(5542),D=a(2525),Y=a(5581),y=a(311),w=a(7469),_=a(6446),l=a(9776),r=a(9808),g=a(9065),v=a(8003);function A(Z,k){if(1&Z&&u._UZ(0,"app-ancestral-legacy-view",11),2&Z){var S=u.oxw(3);u.Q6J("ancestralLegacy",S.activable)("hideNextRank",!0)}}function L(Z,k){if(1&Z&&u._UZ(0,"app-activable-view",12),2&Z){var S=u.oxw(3);u.Q6J("activable",S.activable)}}function P(Z,k){if(1&Z&&(u.YNc(0,A,1,2,"app-ancestral-legacy-view",9),u.YNc(1,L,1,1,"app-activable-view",10)),2&Z){var S=u.oxw(2);u.Q6J("ngIf",S.isAncestralLegacy(S.activable)),u.xp6(1),u.Q6J("ngIf",S.isActivable(S.activable))}}function s(Z,k){if(1&Z&&(u.ynx(0),u._UZ(1,"img",7),u.YNc(2,P,2,2,"ng-template",8),u.BQk()),2&Z){var S=u.oxw(),W=u.MAs(1);u.xp6(1),u.Q6J("src",S.activable.icon,u.LSH),u.xp6(1),u.Q6J("cdkConnectedOverlayOpen",S.showOverlay)("cdkConnectedOverlayOrigin",W)}}function U(Z,k){if(1&Z){var S=u.EpF();u.TgZ(0,"button",13),u.NdJ("click",function(){var ue=u.CHM(S).$implicit;return u.oxw(2).updateActivable(ue)}),u.TgZ(1,"div",14),u._UZ(2,"img",19),u.TgZ(3,"div",16),u.TgZ(4,"div",20),u._uU(5),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&Z){var W=k.$implicit,V=u.oxw(2);u.xp6(1),u.ekj("selected",V.isSelectedActivable(W)),u.xp6(1),u.Q6J("src",W.icon,u.LSH),u.xp6(3),u.Oqu(W.name)}}function h(Z,k){if(1&Z){var S=u.EpF();u.TgZ(0,"button",13),u.NdJ("click",function(){return u.CHM(S),u.oxw().updateActivable(null)}),u.TgZ(1,"div",14),u._UZ(2,"div",15),u.TgZ(3,"div",16),u.TgZ(4,"div",17),u._uU(5,"Remove activable"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.YNc(6,U,6,4,"button",18)}if(2&Z){var W=u.oxw();u.xp6(6),u.Q6J("ngForOf",W.getAvailableActivables())}}var C=function(){var Z=function(k){(0,m.Z)(W,k);var S=(0,e.Z)(W);function W(V,ie){var G;return(0,Q.Z)(this,W),(G=S.call(this)).buildStorageService=V,G.itemMoveService=ie,G.activable=null,G.readonly=!1,G.changed=new u.vpe,G.menu=null,G.showOverlay=!1,G}return(0,t.Z)(W,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"onMouseContextMenu",value:function(){return this.itemMoveService.releaseHoldItem(),null!==this.menu&&!this.readonly&&this.menu.openMenu(),!1}},{key:"onMouseClick",value:function(){return this.itemMoveService.releaseHoldItem(),null!==this.menu&&!this.readonly&&this.menu.openMenu(),!1}},{key:"ngOnInit",value:function(){}},{key:"isAncestralLegacy",value:function(ie){return void 0!==ie.element}},{key:"isActivable",value:function(ie){return void 0===ie.element}},{key:"getAvailableActivables",value:function(){var ie=[],G=this.buildStorageService.getLayer();if(null!==G){var ue=[G.character.gear.amulet,G.character.gear.belt,G.character.gear.body,G.character.gear.boot,G.character.gear.bracer,G.character.gear.cape,G.character.gear.glove,G.character.gear.helm,G.character.gear.ring_l,G.character.gear.ring_r,G.character.gear.shoulder].map(function(le){return null!==le&&null!==le.legendaryEffect?le.legendaryEffect.activable:null}).filter(Y.BX).sort(function(le,ve){return-(0,Y.qu)(le.level,ve.level)}).filter(function(le,ve,H){return(0,Y.mr)(le,ve,H,function(X,b){return X.id===b.id})}),ge=null===G.character.reaper?[]:G.character.reaper.activables,pe=G.character.ancestralLegacies.activeAncestralLegacies.map(function(le){return G.character.ancestralLegacies.ancestralLegacies[le]}).filter(Y.BX).filter(function(le){return le.isActivable});ie=[].concat((0,N.Z)(ue),(0,N.Z)(ge),(0,N.Z)(pe))}return ie}},{key:"isSelectedActivable",value:function(ie){var G=this.buildStorageService.getLayer();return null!==G&&(G.character.activable1===ie||G.character.activable2===ie||G.character.activable3===ie||G.character.activable4===ie)}},{key:"updateActivable",value:function(ie){this.activable!==ie&&this.changed.emit(ie)}}]),W}(_.B);return Z.\u0275fac=function(S){return new(S||Z)(u.Y36(y.x),u.Y36(w.v))},Z.\u0275cmp=u.Xpm({type:Z,selectors:[["app-activable-slot"]],viewQuery:function(S,W){var V;1&S&&u.Gf(D.p6,7),2&S&&u.iGM(V=u.CRH())&&(W.menu=V.first)},hostBindings:function(S,W){1&S&&u.NdJ("mouseenter",function(){return W.onOver()})("mouseleave",function(){return W.onLeave()})("contextmenu",function(){return W.onMouseContextMenu()})("click",function(){return W.onMouseClick()})},inputs:{activable:"activable",readonly:"readonly"},outputs:{changed:"changed"},features:[u.qOj],decls:7,vars:2,consts:[["cdkOverlayOrigin","",1,"skill"],["trigger","cdkOverlayOrigin"],[4,"ngIf"],[3,"matMenuTriggerFor"],["yPosition","above"],["menu","matMenu"],["matMenuContent",""],[3,"src"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"ancestralLegacy","hideNextRank",4,"ngIf"],[3,"activable",4,"ngIf"],[3,"ancestralLegacy","hideNextRank"],[3,"activable"],["mat-menu-item","",3,"click"],[1,"skill-menu-entry"],[1,"skill"],[1,"description"],[1,"subtitle"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"skill",3,"src"],[1,"name"]],template:function(S,W){if(1&S&&(u.TgZ(0,"div",0,1),u.YNc(2,s,3,3,"ng-container",2),u._UZ(3,"div",3),u.TgZ(4,"mat-menu",4,5),u.YNc(6,h,7,1,"ng-template",6),u.qZA(),u.qZA()),2&S){var V=u.MAs(5);u.xp6(2),u.Q6J("ngIf",null!==W.activable),u.xp6(1),u.Q6J("matMenuTriggerFor",V)}},directives:[l.xu,r.O5,D.p6,D.VK,D.KA,l.pI,g.q,v.K,D.OP,r.sg],styles:["[_nghost-%COMP%]{min-width:42px;height:42px;min-height:42px;display:block;overflow:hidden}.skill[_ngcontent-%COMP%]{width:42px;min-width:42px;height:42px;min-height:42px;border:4px solid black;position:relative;background-color:#131313}.skill.support[_ngcontent-%COMP%]{width:84px;min-width:84px}.skill[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.skill-menu-entry[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:8px;gap:8px}.skill-menu-entry[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]{border:4px solid #353535}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{line-height:normal;font-weight:700;text-transform:uppercase}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{line-height:normal}.skill-menu-entry.selected[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]{border-color:#edd371;line-height:0}.skill-menu-entry.selected[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#edd371}app-item-view[_ngcontent-%COMP%]{width:350px}"]}),Z}()},8003:function(se,te,a){a.d(te,{K:function(){return y}});var N=a(3144),Q=a(5671),t=a(5542),m=a(9808);function e(w,_){if(1&w&&t._UZ(0,"div",11),2&w){var l=t.oxw(2);t.Q6J("innerHTML",l.activable.genresLabel,t.oJD)}}function u(w,_){if(1&w&&t._UZ(0,"div",12),2&w){var l=t.oxw(2);t.Q6J("innerHTML",l.activable.cooldownLabel,t.oJD)}}function D(w,_){if(1&w&&t._UZ(0,"div",13),2&w){var l=t.oxw(2);t.Q6J("innerHTML",l.activable.costLabel,t.oJD)}}function Y(w,_){if(1&w&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t._UZ(3,"img",4),t.qZA(),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t._uU(6),t.qZA(),t.YNc(7,e,1,1,"div",7),t.YNc(8,u,1,1,"div",8),t.YNc(9,D,1,1,"div",9),t.qZA(),t.qZA(),t._UZ(10,"div",10),t.qZA()),2&w){var l=t.oxw();t.xp6(3),t.Q6J("src",l.activable.icon,t.LSH),t.xp6(3),t.Oqu(l.activable.name),t.xp6(1),t.Q6J("ngIf",null!==l.activable.genresLabel),t.xp6(1),t.Q6J("ngIf",null!==l.activable.cooldownLabel),t.xp6(1),t.Q6J("ngIf",null!==!l.activable.costLabel),t.xp6(1),t.Q6J("innerHTML",l.activable.description,t.oJD)}}var y=function(){var w=(0,N.Z)(function _(){(0,Q.Z)(this,_),this.activable=null,this.reinforcment=0});return w.\u0275fac=function(l){return new(l||w)},w.\u0275cmp=t.Xpm({type:w,selectors:[["app-activable-view"]],inputs:{activable:"activable",reinforcment:"reinforcment"},decls:1,vars:1,consts:[["class","activable",4,"ngIf"],[1,"activable"],[1,"activable-head"],[1,"icon"],[3,"src"],[1,"info"],[1,"name"],["class","genre",3,"innerHTML",4,"ngIf"],["class","cooldown",3,"innerHTML",4,"ngIf"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"description",3,"innerHTML"],[1,"genre",3,"innerHTML"],[1,"cooldown",3,"innerHTML"],[1,"cost",3,"innerHTML"]],template:function(l,r){1&l&&t.YNc(0,Y,11,6,"div",0),2&l&&t.Q6J("ngIf",null!==r.activable)},directives:[m.O5],styles:[".activable[_ngcontent-%COMP%]{background-color:#151412;border:3px solid black;color:#fff;padding:5px;display:flex;flex-direction:column;grid-gap:5px;gap:5px}.activable[_ngcontent-%COMP%]  .value{color:#ce4607}.activable[_ngcontent-%COMP%]  .range, .activable[_ngcontent-%COMP%]  .range .value, .activable[_ngcontent-%COMP%]  .details, .activable[_ngcontent-%COMP%]  .details .value, .activable[_ngcontent-%COMP%]  .formula, .activable[_ngcontent-%COMP%]  .formula .value{color:#686868}.activable[_ngcontent-%COMP%]  .affixes .range, .activable[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.activable[_ngcontent-%COMP%]  .life{color:#257539}.activable[_ngcontent-%COMP%]  .mana{color:#3397dd}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:5px;gap:5px}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;align-items:center;border:4px solid #be871f;min-width:44px;min-height:44px;width:44px;height:44px}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid black;min-width:36px;min-height:36px;width:36px;height:36px}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:19px;color:#ce4607}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.activable[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}"]}),w}()},9713:function(se,te,a){a.d(te,{y:function(){return L}});var N=a(5671),Q=a(3144),t=a(136),m=a(7777),e=a(5542),u=a(2722),D=a(9184),Y=a(311),y=a(2424),w=a(6446),_=a(9808),l=a(9776),r=a(9065);function g(P,s){if(1&P&&e._UZ(0,"app-ancestral-legacy-view",8),2&P){var U=e.oxw(3);e.Q6J("ancestralLegacy",U.ancestralLegacy)}}function v(P,s){if(1&P&&e.YNc(0,g,1,1,"ng-template",7),2&P){e.oxw();var U=e.MAs(1),h=e.oxw();e.Q6J("cdkConnectedOverlayOpen",h.showOverlay)("cdkConnectedOverlayOrigin",U)}}function A(P,s){if(1&P){var U=e.EpF();e.TgZ(0,"div",1,2),e.NdJ("click",function(){return e.CHM(U),e.oxw().increasesRank()})("contextmenu",function(){return e.CHM(U),e.oxw().decreasesRank()}),e.TgZ(2,"div",3),e._UZ(3,"img",4),e.qZA(),e.TgZ(4,"div",5),e._uU(5),e.qZA(),e.YNc(6,v,1,2,void 0,6),e.qZA()}if(2&P){var h=e.oxw();e.ekj("ranked",h.ancestralLegacy.baseRank>0)("equipped",h.equipped)("selected",h.selected)("readonly",h.readonly)("hidden-search",h.hiddenBySearch),e.xp6(3),e.Q6J("src",h.ancestralLegacy.icon,e.LSH),e.xp6(1),e.ekj("max",h.ancestralLegacy.rank===h.ancestralLegacy.maxRank),e.xp6(1),e.Oqu(h.ancestralLegacy.rank===h.ancestralLegacy.maxRank?"Max":h.ancestralLegacy.rank),e.xp6(1),e.Q6J("ngIf",h.showOverlay&&h.overlay)}}var L=function(){var P=function(s){(0,t.Z)(h,s);var U=(0,m.Z)(h);function h(C,Z,k){var S;return(0,N.Z)(this,h),(S=U.call(this)).searchService=C,S.slormancerAncestralLegacyService=Z,S.buildStorageService=k,S.ancestralLegacy=null,S.equipped=!1,S.selected=!1,S.readonly=!1,S.overlay=!1,S.changed=new e.vpe,S.showOverlay=!1,S.hiddenBySearch=!1,S}return(0,Q.Z)(h,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"ngOnInit",value:function(){var Z=this;this.searchService.searchChanged.pipe((0,u.R)(this.unsubscribe)).subscribe(function(k){return Z.hiddenBySearch=null!==k&&null!==Z.ancestralLegacy&&!Z.searchService.ancestralLegacyMatchSearch(Z.ancestralLegacy)})}},{key:"setRank",value:function(Z,k){Z.baseRank!==k&&this.selected&&(this.slormancerAncestralLegacyService.updateAncestralLegacyModel(Z,k),this.slormancerAncestralLegacyService.updateAncestralLegacyView(Z),this.buildStorageService.saveLayer())}},{key:"increasesRank",value:function(){return null!==this.ancestralLegacy&&(this.setRank(this.ancestralLegacy,Math.max(0,this.ancestralLegacy.baseRank+1)),this.changed.emit(this.ancestralLegacy)),!1}},{key:"decreasesRank",value:function(){return null!==this.ancestralLegacy&&(this.setRank(this.ancestralLegacy,Math.max(0,this.ancestralLegacy.baseRank-1)),this.changed.emit(this.ancestralLegacy)),!1}}]),h}(w.B);return P.\u0275fac=function(U){return new(U||P)(e.Y36(y.o),e.Y36(D.O),e.Y36(Y.x))},P.\u0275cmp=e.Xpm({type:P,selectors:[["app-ancestral-legacy-slot"]],hostBindings:function(U,h){1&U&&e.NdJ("mouseenter",function(){return h.onOver()})("mouseleave",function(){return h.onLeave()})},inputs:{ancestralLegacy:"ancestralLegacy",equipped:"equipped",selected:"selected",readonly:"readonly",overlay:"overlay"},outputs:{changed:"changed"},features:[e.qOj],decls:1,vars:1,consts:[["class","ancestral-legacy","cdkOverlayOrigin","",3,"ranked","equipped","selected","readonly","hidden-search","click","contextmenu",4,"ngIf"],["cdkOverlayOrigin","",1,"ancestral-legacy",3,"click","contextmenu"],["trigger","cdkOverlayOrigin"],[1,"inner"],[3,"src"],[1,"rank"],[4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"ancestralLegacy"]],template:function(U,h){1&U&&e.YNc(0,A,7,15,"div",0),2&U&&e.Q6J("ngIf",null!==h.ancestralLegacy)},directives:[_.O5,l.xu,l.pI,r.q],styles:[".ancestral-legacy[_ngcontent-%COMP%]{position:relative;z-index:1;border-radius:50%;border:1px solid transparent}.ancestral-legacy[_ngcontent-%COMP%]:not(.readonly){cursor:pointer}.ancestral-legacy.selected[_ngcontent-%COMP%]{border:1px solid #841e06}.ancestral-legacy.hidden-search[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{opacity:.1}.ancestral-legacy.ranked.equipped[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{background-color:#d5ad48}.ancestral-legacy[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{position:absolute;background-color:#202020;padding:0 2px;bottom:0;right:0;font-size:4px;border-radius:4px}.ancestral-legacy[_ngcontent-%COMP%]   .rank.max[_ngcontent-%COMP%]{color:#edd371}.ancestral-legacy[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:#202020;border:1px solid black;border-radius:50%;width:16px;height:16px}.ancestral-legacy[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid black;width:12px;height:12px;border-radius:50%;overflow:hidden}.ancestral-legacy.readonly[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{width:40px;height:40px;border-width:4px}.ancestral-legacy.readonly[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-width:0;width:34px;height:34px}.ancestral-legacy.readonly[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{font-size:10px}"]}),P}()},9065:function(se,te,a){a.d(te,{q:function(){return _}});var N=a(5671),Q=a(3144),t=a(8313),m=a(5542),e=a(9808),u=a(5895);function D(l,r){if(1&l&&m._UZ(0,"div",17),2&l){var g=m.oxw(2);m.Q6J("innerHTML",g.ancestralLegacy.genresLabel,m.oJD)}}function Y(l,r){if(1&l&&m._UZ(0,"div",18),2&l){var g=m.oxw(2);m.Q6J("innerHTML",g.ancestralLegacy.cooldownLabel,m.oJD)}}function y(l,r){if(1&l&&m._UZ(0,"div",19),2&l){var g=m.oxw(2);m.Q6J("innerHTML",g.ancestralLegacy.costLabel,m.oJD)}}function w(l,r){if(1&l&&(m.TgZ(0,"div"),m.TgZ(1,"div",1),m._uU(2),m.qZA(),m.TgZ(3,"div",2),m.TgZ(4,"div",3),m.TgZ(5,"div",4),m.TgZ(6,"div",5),m._UZ(7,"div",6),m._UZ(8,"img",7),m.qZA(),m.qZA(),m.TgZ(9,"div",8),m._UZ(10,"div",9),m.YNc(11,D,1,1,"div",10),m.YNc(12,Y,1,1,"div",11),m._UZ(13,"div",12),m.YNc(14,y,1,1,"div",13),m.qZA(),m.qZA(),m._UZ(15,"div",14),m._UZ(16,"div",15),m._UZ(17,"app-mechanics-view",16),m.qZA(),m.qZA()),2&l){var g=m.oxw();m.Gre("ancestral-legacy ",g.ancestralLegacy.damageTypes.length>0?g.ancestralLegacy.damageTypes[0]:"",""),m.xp6(2),m.Oqu(g.ancestralLegacy.name),m.xp6(6),m.Q6J("src",g.ancestralLegacy.icon,m.LSH),m.xp6(2),m.Q6J("innerHTML",g.ancestralLegacy.typeLabel,m.oJD),m.xp6(1),m.Q6J("ngIf",null!==g.ancestralLegacy.genresLabel),m.xp6(1),m.Q6J("ngIf",null!==g.ancestralLegacy.cooldownLabel),m.xp6(1),m.Q6J("innerHTML",g.ancestralLegacy.rankLabel,m.oJD),m.xp6(1),m.Q6J("ngIf",null!==g.ancestralLegacy.costLabel),m.xp6(2),m.Q6J("innerHTML",g.ancestralLegacy.description,m.oJD),m.xp6(1),m.Q6J("mechanics",g.ancestralLegacy.relatedMechanics)("buffs",g.ancestralLegacy.relatedBuffs)}}var _=function(){var l=function(){function r(g){(0,N.Z)(this,r),this.slormancerTranslateService=g,this.NEXT_RANK_LABEL=this.slormancerTranslateService.translate("tt_next_rank"),this.MAX_RANK_LABEL=this.slormancerTranslateService.translate("tt_max_rank"),this.ancestralLegacy=null,this.hideNextRank=!1}return(0,Q.Z)(r,[{key:"getCostLabel",value:function(v){return this.slormancerTranslateService.translate("tt_"+v)}},{key:"getElementLabel",value:function(v){return this.slormancerTranslateService.translate("element_"+v)}}]),r}();return l.\u0275fac=function(g){return new(g||l)(m.Y36(t.n))},l.\u0275cmp=m.Xpm({type:l,selectors:[["app-ancestral-legacy-view"]],inputs:{ancestralLegacy:"ancestralLegacy",hideNextRank:"hideNextRank"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head"],[1,"content"],[1,"info"],[1,"visual"],[1,"icon"],[1,"icon-border"],[3,"src"],[1,"data"],[1,"type",3,"innerHTML"],["class","genre",3,"innerHTML",4,"ngIf"],["class","cooldown",3,"innerHTML",4,"ngIf"],[1,"rank",3,"innerHTML"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"separator"],[1,"description",3,"innerHTML"],[3,"mechanics","buffs"],[1,"genre",3,"innerHTML"],[1,"cooldown",3,"innerHTML"],[1,"cost",3,"innerHTML"]],template:function(g,v){1&g&&m.YNc(0,w,18,13,"div",0),2&g&&m.Q6J("ngIf",null!==v.ancestralLegacy)},directives:[e.O5,u.A],styles:[".ancestral-legacy[_ngcontent-%COMP%]{background-color:#090909;border:3px solid black;color:#fff;display:flex;flex-direction:column;max-width:400px}.ancestral-legacy[_ngcontent-%COMP%]  .description .value{color:#ce4607}.ancestral-legacy[_ngcontent-%COMP%]  .next-rank .value, .ancestral-legacy[_ngcontent-%COMP%]  .head, .ancestral-legacy[_ngcontent-%COMP%]  .rank .current, .ancestral-legacy[_ngcontent-%COMP%]  .cooldown .value{color:#bb1fe2}.ancestral-legacy[_ngcontent-%COMP%]  .range, .ancestral-legacy[_ngcontent-%COMP%]  .range .value, .ancestral-legacy[_ngcontent-%COMP%]  .details, .ancestral-legacy[_ngcontent-%COMP%]  .details .value, .ancestral-legacy[_ngcontent-%COMP%]  .formula, .ancestral-legacy[_ngcontent-%COMP%]  .formula .value{color:#686868}.ancestral-legacy[_ngcontent-%COMP%]  .affixes .range, .ancestral-legacy[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.ancestral-legacy[_ngcontent-%COMP%]  .life{color:#257539}.ancestral-legacy[_ngcontent-%COMP%]  .mana{color:#3397dd}.ancestral-legacy.mag[_ngcontent-%COMP%]  .value:not(.mana){color:#bb1fe2}.ancestral-legacy[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:3px solid #3c3931}.ancestral-legacy[_ngcontent-%COMP%]   .head.head[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.head[_ngcontent-%COMP%]{text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:20px;gap:20px;padding:10px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:10px;gap:10px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{display:flex;align-items:center}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border:3px solid #be871f;min-width:60px;min-height:60px;width:60px;height:60px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black;image-rendering:pixelated;width:54px;height:54px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-transform:uppercase;height:100%;flex-grow:1;padding:5px 0;grid-gap:5px;gap:5px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#3155bc}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]{display:flex;flex-direction:row}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{min-width:8px;padding-right:8px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;background-color:#ce4607;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}"]}),l}()},3729:function(se,te,a){a.d(te,{g:function(){return ve}});var N=a(5671),Q=a(3144),t=a(2652),m=a(311),e=a(5542),u=a(9808),D=a(9776),Y=a(136),y=a(7777),w=a(2722),_=a(2031),l=a(2424),r=a(6446);function g(H,X){if(1&H&&e._UZ(0,"div",9),2&H){var b=e.oxw(2);e.Q6J("innerHTML",b.trait.cumulativeStats,e.oJD)}}function v(H,X){if(1&H&&e._UZ(0,"div",9),2&H){var b=e.oxw(2);e.Q6J("innerHTML",b.trait.description,e.oJD)}}function A(H,X){if(1&H&&(e.ynx(0),e._UZ(1,"div",10),e._UZ(2,"div",11),e.BQk()),2&H){var b=e.oxw(2);e.xp6(2),e.Q6J("innerHTML",b.trait.unlockLabel,e.oJD)}}function L(H,X){if(1&H&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"span",4),e._uU(6),e.qZA(),e._uU(7," - "),e.TgZ(8,"span",5),e._uU(9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",6),e.YNc(11,g,1,1,"div",7),e.YNc(12,v,1,1,"div",7),e.YNc(13,A,3,1,"ng-container",8),e.qZA(),e.qZA()),2&H){var b=e.oxw();e.Gre("trait attribute-",b.trait.attribute,""),e.xp6(3),e.Oqu(b.trait.attributeName),e.xp6(3),e.Oqu(b.trait.rankLabel),e.xp6(3),e.Oqu(b.trait.traitLevelLabel),e.xp6(2),e.Q6J("ngIf",null!==b.trait.cumulativeStats),e.xp6(1),e.Q6J("ngIf",null!==b.trait.description),e.xp6(1),e.Q6J("ngIf",null!==b.trait.unlockLabel)}}var P=function(){var H=(0,Q.Z)(function X(){(0,N.Z)(this,X),this.trait=null});return H.\u0275fac=function(b){return new(b||H)},H.\u0275cmp=e.Xpm({type:H,selectors:[["app-trait-view"]],inputs:{trait:"trait"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head"],[1,"attribute"],[1,"subtitle"],[1,"rank"],[1,"level"],[1,"content"],["class","description",3,"innerHTML",4,"ngIf"],[4,"ngIf"],[1,"description",3,"innerHTML"],[1,"separator"],[1,"unlock",3,"innerHTML"]],template:function(b,K){1&b&&e.YNc(0,L,14,9,"div",0),2&b&&e.Q6J("ngIf",null!==K.trait)},directives:[u.O5],styles:[".trait[_ngcontent-%COMP%]{background-color:#151412;border:3px solid black;color:#fff;display:flex;flex-direction:column;grid-gap:5px;gap:5px;min-width:250px}.trait.attribute-0[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]     .value{color:#2f5996}.trait.attribute-1[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]     .value{color:#a83007}.trait.attribute-2[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]     .value{color:#79b549}.trait.attribute-3[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]     .value{color:#d0b545}.trait.attribute-4[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]     .value{color:#4bc1b2}.trait.attribute-5[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]     .value{color:#753098}.trait.attribute-6[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]     .value{color:#cd7028}.trait.attribute-7[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]     .value{color:#bf3c59}.trait[_ngcontent-%COMP%]  .range, .trait[_ngcontent-%COMP%]  .range .value, .trait[_ngcontent-%COMP%]  .details, .trait[_ngcontent-%COMP%]  .details .value, .trait[_ngcontent-%COMP%]  .formula, .trait[_ngcontent-%COMP%]  .formula .value{color:#686868}.trait[_ngcontent-%COMP%]  .affixes .range, .trait[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:3px solid #3c3931}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-transform:uppercase;padding:10px;grid-gap:2px;gap:2px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .attribute[_ngcontent-%COMP%]{font-size:19px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px 10px;grid-gap:20px;gap:20px;text-align:center}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}"]}),H}();function s(H,X){1&H&&e._UZ(0,"div",7)}function U(H,X){if(1&H&&e._UZ(0,"app-trait-view",9),2&H){var b=e.oxw(3);e.Q6J("trait",b.trait)}}function h(H,X){if(1&H&&e.YNc(0,U,1,1,"ng-template",8),2&H){e.oxw();var b=e.MAs(1),K=e.oxw();e.Q6J("cdkConnectedOverlayOpen",K.isMouseOver)("cdkConnectedOverlayOrigin",b)}}function C(H,X){if(1&H&&(e.TgZ(0,"div",1,2),e.YNc(2,s,1,0,"div",3),e.TgZ(3,"div",4),e._UZ(4,"div",5),e.qZA(),e.YNc(5,h,1,2,void 0,6),e.qZA()),2&H){var b=e.oxw();e.Gre("trait attribute-",b.trait.attribute,""),e.ekj("first",b.first)("last",b.last)("minor",b.isMinor(b.trait))("major",b.isMajor(b.trait))("greater",b.isGreater(b.trait))("active",b.unlocked)("bonus",b.bonus)("highlight",b.highlight)("hidden-by-search",b.isHiddenBySearch),e.xp6(2),e.Q6J("ngIf",b.trait.additive),e.xp6(3),e.Q6J("ngIf",b.isMouseOver)}}var Z=function(){var H=function(X){(0,Y.Z)(K,X);var b=(0,y.Z)(K);function K(x){var q;return(0,N.Z)(this,K),(q=b.call(this)).searchService=x,q.trait=null,q.first=!1,q.last=!1,q.highlight=!1,q.unlocked=!1,q.bonus=!1,q.isMouseOver=!1,q.isHiddenBySearch=!1,q}return(0,Q.Z)(K,[{key:"onMouseEnter",value:function(){this.isMouseOver=!0}},{key:"onMouseLeave",value:function(){this.isMouseOver=!1}},{key:"ngOnInit",value:function(){var q=this;this.searchService.searchChanged.pipe((0,w.R)(this.unsubscribe)).subscribe(function(){return q.isHiddenBySearch=null!==q.trait&&!q.searchService.traitMatchSearch(q.trait)})}},{key:"isMinor",value:function(q){return q.traitLevel===_.y.Minor}},{key:"isMajor",value:function(q){return q.traitLevel===_.y.Major}},{key:"isGreater",value:function(q){return q.traitLevel===_.y.Greater}}]),K}(r.B);return H.\u0275fac=function(b){return new(b||H)(e.Y36(l.o))},H.\u0275cmp=e.Xpm({type:H,selectors:[["app-trait"]],hostBindings:function(b,K){1&b&&e.NdJ("mouseenter",function(){return K.onMouseEnter()})("mouseleave",function(){return K.onMouseLeave()})},inputs:{trait:"trait",first:"first",last:"last",highlight:"highlight",unlocked:"unlocked",bonus:"bonus"},features:[e.qOj],decls:1,vars:1,consts:[["cdkOverlayOrigin","",3,"class","first","last","minor","major","greater","active","bonus","highlight","hidden-by-search",4,"ngIf"],["cdkOverlayOrigin",""],["trigger","cdkOverlayOrigin"],["class","additive",4,"ngIf"],[1,"content"],[1,"node"],[4,"ngIf"],[1,"additive"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"trait"]],template:function(b,K){1&b&&e.YNc(0,C,6,23,"div",0),2&b&&e.Q6J("ngIf",null!==K.trait)},directives:[u.O5,D.xu,D.pI,P],styles:[".trait[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;position:relative;height:54px;width:8px;overflow:hidden;cursor:pointer}.trait.hidden-by-search[_ngcontent-%COMP%]{opacity:.2}.trait[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{position:absolute;width:4px;height:36px;left:4px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;border:4px solid black;background-color:#353535;overflow:hidden;border-left-width:0;border-right-width:0;height:30px;z-index:1}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{border:2px solid black;background-color:#202020;height:14px}.trait.attribute-0.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#2f5996}.trait.attribute-0.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#2f59964d}.trait.attribute-1.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#a83007}.trait.attribute-1.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#a830074d}.trait.attribute-2.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#79b549}.trait.attribute-2.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#79b5494d}.trait.attribute-3.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#d0b545}.trait.attribute-3.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#d0b5454d}.trait.attribute-4.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#4bc1b2}.trait.attribute-4.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#4bc1b24d}.trait.attribute-5.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#753098}.trait.attribute-5.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#7530984d}.trait.attribute-6.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#cd7028}.trait.attribute-6.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#cd70284d}.trait.attribute-7.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#bf3c59}.trait.attribute-7.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#bf3c594d}.trait.bonus[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#61f18f}.trait.bonus.highlight[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#61f18f4d}.trait[_ngcontent-%COMP%]:not(.greater)   .content[_ngcontent-%COMP%]{border-left-width:2px;border-right-width:2px}.trait.minor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .trait.greater[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-left-width:0;border-right-width:0}.trait.minor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.greater[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{width:8px}.trait.minor.first[_ngcontent-%COMP%]{width:10px}.trait.minor.first[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{border-left-width:4px;width:10px}.trait.major[_ngcontent-%COMP%]{width:12px}.trait.major[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-left-width:0;border-right-width:0}.trait.major[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{width:12px}.trait.greater[_ngcontent-%COMP%]{width:16px;position:relative}.trait.greater[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;position:absolute;transform:rotate(45deg);border-width:4px;height:36px;width:36px;left:-10px}.trait.greater[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{border-width:2px;width:14px;height:14px}.trait.greater[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{left:6px;height:54px}.trait.greater.last[_ngcontent-%COMP%]{width:32px}"]}),H}();function k(H,X){if(1&H&&e._UZ(0,"div",7),2&H){var b=e.oxw(2);e.Q6J("innerHTML",b.attributeTraits.summary,e.oJD)}}function S(H,X){if(1&H&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e._uU(8),e.qZA(),e.YNc(9,k,1,1,"div",6),e.qZA(),e.qZA()),2&H){var b=e.oxw();e.Gre("trait attribute-",b.attributeTraits.attribute,""),e.xp6(3),e.Oqu(b.attributeTraits.attributeName),e.xp6(2),e.Oqu(b.attributeTraits.title),e.xp6(3),e.Oqu(b.attributeTraits.recapLabel),e.xp6(1),e.Q6J("ngIf",null!==b.attributeTraits.summary)}}var W=function(){var H=(0,Q.Z)(function X(){(0,N.Z)(this,X),this.attributeTraits=null});return H.\u0275fac=function(b){return new(b||H)},H.\u0275cmp=e.Xpm({type:H,selectors:[["app-attribute-summary-view"]],inputs:{attributeTraits:"attributeTraits"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head"],[1,"attribute"],[1,"subtitle"],[1,"content"],[1,"info"],["class","description",3,"innerHTML",4,"ngIf"],[1,"description",3,"innerHTML"]],template:function(b,K){1&b&&e.YNc(0,S,10,7,"div",0),2&b&&e.Q6J("ngIf",null!==K.attributeTraits)},directives:[u.O5],styles:[".trait[_ngcontent-%COMP%]{background-color:#151412;border:3px solid black;color:#fff;display:flex;flex-direction:column;grid-gap:5px;gap:5px;min-width:250px}.trait.attribute-0[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]     .value{color:#2f5996}.trait.attribute-1[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]     .value{color:#a83007}.trait.attribute-2[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]     .value{color:#79b549}.trait.attribute-3[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]     .value{color:#d0b545}.trait.attribute-4[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]     .value{color:#4bc1b2}.trait.attribute-5[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]     .value{color:#753098}.trait.attribute-6[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]     .value{color:#cd7028}.trait.attribute-7[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]     .value{color:#bf3c59}.trait[_ngcontent-%COMP%]  .locked{color:#686868}.trait[_ngcontent-%COMP%]  .range, .trait[_ngcontent-%COMP%]  .range .value, .trait[_ngcontent-%COMP%]  .details, .trait[_ngcontent-%COMP%]  .details .value, .trait[_ngcontent-%COMP%]  .formula, .trait[_ngcontent-%COMP%]  .formula .value, .trait[_ngcontent-%COMP%]  .max, .trait[_ngcontent-%COMP%]  .max .value{color:#686868}.trait[_ngcontent-%COMP%]  .affixes .range, .trait[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:3px solid #3c3931}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-transform:uppercase;padding:10px;grid-gap:2px;gap:2px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .attribute[_ngcontent-%COMP%]{font-size:19px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px 10px;grid-gap:20px;gap:20px;text-align:center}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}"]}),H}(),V=a(7423),ie=a(3874);function G(H,X){if(1&H){var b=e.EpF();e.TgZ(0,"app-trait",9),e.NdJ("mouseenter",function(){var z=e.CHM(b).index;return e.oxw(2).nodeEnter(z)})("mouseleave",function(){return e.CHM(b),e.oxw(2).nodeLeave()})("click",function(){return e.CHM(b),e.oxw(2).nodeClick()}),e.qZA()}if(2&H){var K=X.$implicit,x=X.index,q=e.oxw(2);e.Q6J("trait",K)("first",0===x)("last",x===q.attribute.traits.length-1)("highlight",q.isHighlight(x))("bonus",q.isBonus(x))("unlocked",q.isUnlocked(x))}}function ue(H,X){if(1&H&&e._UZ(0,"app-attribute-summary-view",10),2&H){var b=e.oxw(2);e.Q6J("attributeTraits",b.attribute)}}function ge(H,X){if(1&H){var b=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(q){return e.CHM(b),e.oxw(2).addPoint(q)}),e.TgZ(1,"mat-icon"),e._uU(2,"add"),e.qZA(),e.qZA()}if(2&H){var K=e.oxw(2);e.Q6J("disabled",0===K.remainingPoints)}}function pe(H,X){if(1&H){var b=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(q){return e.CHM(b),e.oxw(2).removePoint(q)}),e.TgZ(1,"mat-icon"),e._uU(2,"remove"),e.qZA(),e.qZA()}if(2&H){var K=e.oxw(2);e.Q6J("disabled",0===K.attribute.rank)}}function le(H,X){if(1&H){var b=e.EpF();e.TgZ(0,"div",1,2),e.TgZ(2,"img",3),e.NdJ("mouseenter",function(){return e.CHM(b),e.oxw().showSummary=!0})("mouseleave",function(){return e.CHM(b),e.oxw().showSummary=!1}),e.qZA(),e.TgZ(3,"div",4),e.NdJ("mouseenter",function(){return e.CHM(b),e.oxw().nodeEnter(-1)})("mouseleave",function(){return e.CHM(b),e.oxw().nodeLeave()})("click",function(){return e.CHM(b),e.oxw().nodeClick()}),e.qZA(),e.YNc(4,G,1,6,"app-trait",5),e.TgZ(5,"div",6),e._uU(6),e.qZA(),e.YNc(7,ue,1,1,"ng-template",7),e.YNc(8,ge,3,1,"button",8),e.YNc(9,pe,3,1,"button",8),e.qZA()}if(2&H){var K=e.MAs(1),x=e.oxw();e.Gre("bar attribute-",x.attribute.attribute,""),e.ekj("icon-shift",x.iconShift)("readonly",x.readonly)("short",x.short),e.xp6(2),e.Q6J("src",x.attribute.icon,e.LSH),e.xp6(2),e.Q6J("ngForOf",x.attribute.traits),e.xp6(2),e.AsE(" +",x.attribute.rank+x.attribute.bonusRank," ",x.attribute.attributeName," "),e.xp6(1),e.Q6J("cdkConnectedOverlayOpen",x.showSummary)("cdkConnectedOverlayOrigin",K),e.xp6(1),e.Q6J("ngIf",!x.readonly),e.xp6(1),e.Q6J("ngIf",!x.readonly)}}var ve=function(){var H=function(){function X(b,K){(0,N.Z)(this,X),this.slormancerAttributeService=b,this.buildStorageService=K,this.attribute=null,this.remainingPoints=0,this.iconShift=!1,this.short=!1,this.readonly=!1,this.unlockedRange={min:0,max:0},this.highlightRange={min:0,max:0},this.bonusRange={min:0,max:0},this.cappedCursor=0,this.showSummary=!1}return(0,Q.Z)(X,[{key:"ngOnInit",value:function(){this.updateCursor()}},{key:"updateCursor",value:function(){var K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==this.attribute&&(null===K?(this.cappedCursor=this.attribute.rank,this.highlightRange={min:0,max:0},this.unlockedRange={min:0,max:this.attribute.rank},this.bonusRange={min:this.attribute.rank,max:this.attribute.rank+this.attribute.bonusRank}):(this.cappedCursor=Math.min(this.attribute.rank+this.remainingPoints,K+1),this.bonusRange={min:Math.max(this.cappedCursor,this.attribute.rank),max:this.attribute.rank+this.attribute.bonusRank},this.highlightRange=K<this.attribute.rank?{min:K+1,max:Math.max(this.attribute.rank,K+1)}:{min:this.attribute.rank,max:this.cappedCursor}))}},{key:"nodeEnter",value:function(K){this.updateCursor(K)}},{key:"nodeLeave",value:function(){this.updateCursor()}},{key:"setRank",value:function(K){null!==this.attribute&&this.attribute.rank!==K&&!this.readonly&&(this.attribute.rank=K,this.slormancerAttributeService.updateAttributeTraits(this.attribute),this.buildStorageService.saveLayer(),this.updateCursor())}},{key:"nodeClick",value:function(){null!==this.attribute&&this.setRank(this.cappedCursor)}},{key:"isUnlocked",value:function(K){return K>=this.unlockedRange.min&&K<this.unlockedRange.max}},{key:"isHighlight",value:function(K){return K>=this.highlightRange.min&&K<this.highlightRange.max}},{key:"isBonus",value:function(K){return K>=this.bonusRange.min&&K<this.bonusRange.max}},{key:"addPoint",value:function(K){null!==this.attribute&&this.remainingPoints>0&&this.setRank(this.attribute.rank+Math.min(this.remainingPoints,K.shiftKey?10:1))}},{key:"removePoint",value:function(K){null!==this.attribute&&this.attribute.rank>0&&this.setRank(this.attribute.rank-Math.min(this.attribute.rank,K.shiftKey?10:1))}}]),X}();return H.\u0275fac=function(b){return new(b||H)(e.Y36(t.Q),e.Y36(m.x))},H.\u0275cmp=e.Xpm({type:H,selectors:[["app-attribute-line"]],inputs:{attribute:"attribute",remainingPoints:"remainingPoints",iconShift:"iconShift",short:"short",readonly:"readonly"},decls:1,vars:1,consts:[["cdkOverlayOrigin","",3,"class","icon-shift","readonly","short",4,"ngIf"],["cdkOverlayOrigin",""],["trigger","cdkOverlayOrigin"],[3,"src","mouseenter","mouseleave"],[1,"pre-bar",3,"mouseenter","mouseleave","click"],[3,"trait","first","last","highlight","bonus","unlocked","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],[1,"total"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],["mat-icon-button","","color","primary",3,"disabled","click",4,"ngIf"],[3,"trait","first","last","highlight","bonus","unlocked","mouseenter","mouseleave","click"],[3,"attributeTraits"],["mat-icon-button","","color","primary",3,"disabled","click"]],template:function(b,K){1&b&&e.YNc(0,le,10,17,"div",0),2&b&&e.Q6J("ngIf",null!==K.attribute)},directives:[u.O5,D.xu,u.sg,D.pI,Z,W,V.lW,ie.Hw],styles:['.bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:4px 0;position:relative;height:60px}.bar.icon-shift[_ngcontent-%COMP%]{margin-left:16px}.bar[_ngcontent-%COMP%]:before{content:" ";position:absolute;background-color:#353535;border:4px solid black;transform:rotate(45deg);width:38px;height:38px}.bar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:2;padding-left:1px}.bar[_ngcontent-%COMP%]   .pre-bar[_ngcontent-%COMP%]{background-color:#353535;border:4px solid black;margin-left:-6px;border-left:0;border-right:0;min-width:20px;width:20px;height:30px;z-index:1}.bar[_ngcontent-%COMP%]:not(.readonly)   .pre-bar[_ngcontent-%COMP%]{cursor:pointer}.bar[_ngcontent-%COMP%]:not(.icon-shift)   .pre-bar[_ngcontent-%COMP%]{width:36px}.bar[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{display:none;background-color:#353535;border:4px solid black;font-weight:700;border-left:0;width:130px;height:30px}.bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}.bar.short[_ngcontent-%COMP%]   app-trait[_ngcontent-%COMP%]{display:none}.bar.short[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}@media (max-width: 768px){.bar[_ngcontent-%COMP%]   app-trait[_ngcontent-%COMP%]{display:none}.bar[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}}.bar.attribute-0[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#2f5996}.bar.attribute-1[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#a83007}.bar.attribute-2[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#79b549}.bar.attribute-3[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#d0b545}.bar.attribute-4[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#4bc1b2}.bar.attribute-5[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#753098}.bar.attribute-6[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#cd7028}.bar.attribute-7[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#bf3c59}']}),H}()},7614:function(se,te,a){a.d(te,{q:function(){return Ge}});var N=a(5671),Q=a(3144),t=a(5542),m=a(4456),e=a(648),u=a(9808),D=a(6538),Y=["animation"],y=function(){var O=function(){function R(){(0,N.Z)(this,R),this.heroClass=null,this.suffix="",this.flipAnimation=!1,this.animation=null}return(0,Q.Z)(R,[{key:"mouseMoved",value:function(c){if(null!==this.animation){var J=this.animation.nativeElement.getBoundingClientRect().left+this.animation.nativeElement.clientWidth/2<c.clientX;this.flipAnimation!==J&&(this.flipAnimation=J)}}},{key:"ngOnInit",value:function(){}}]),R}();return O.\u0275fac=function(d){return new(d||O)},O.\u0275cmp=t.Xpm({type:O,selectors:[["app-character-animation"]],viewQuery:function(d,c){var I;1&d&&t.Gf(Y,5),2&d&&t.iGM(I=t.CRH())&&(c.animation=I.first)},hostBindings:function(d,c){1&d&&t.NdJ("mousemove",function(T){return c.mouseMoved(T)},!1,t.Jf7)},inputs:{heroClass:"heroClass",suffix:"suffix"},decls:6,vars:10,consts:[[1,"character-animation"],["animation",""],[1,"idle-1",3,"src"],[1,"idle-2",3,"src"],[1,"idle-3",3,"src"],[1,"idle-4",3,"src"]],template:function(d,c){1&d&&(t.TgZ(0,"div",0,1),t._UZ(2,"img",2),t._UZ(3,"img",3),t._UZ(4,"img",4),t._UZ(5,"img",5),t.qZA()),2&d&&(t.ekj("flip",c.flipAnimation),t.xp6(2),t.hYB("src","assets/img/character/idle/",c.heroClass,"/0",c.suffix?"_"+c.suffix:c.suffix,".png",t.LSH),t.xp6(1),t.hYB("src","assets/img/character/idle/",c.heroClass,"/1",c.suffix?"_"+c.suffix:c.suffix,".png",t.LSH),t.xp6(1),t.hYB("src","assets/img/character/idle/",c.heroClass,"/2",c.suffix?"_"+c.suffix:c.suffix,".png",t.LSH),t.xp6(1),t.hYB("src","assets/img/character/idle/",c.heroClass,"/3",c.suffix?"_"+c.suffix:c.suffix,".png",t.LSH))},styles:[".character-animation[_ngcontent-%COMP%]{position:relative;height:144px;width:88px}.character-animation.flip[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scaleX(-1)}.character-animation[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;image-rendering:pixelated;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear}.character-animation[_ngcontent-%COMP%]   img.idle-1[_ngcontent-%COMP%]{animation-name:idle-1}.character-animation[_ngcontent-%COMP%]   img.idle-2[_ngcontent-%COMP%]{animation-name:idle-2}.character-animation[_ngcontent-%COMP%]   img.idle-3[_ngcontent-%COMP%]{animation-name:idle-3}.character-animation[_ngcontent-%COMP%]   img.idle-4[_ngcontent-%COMP%]{animation-name:idle-4}@keyframes idle-1{0%{opacity:1}25%{opacity:1}26%{opacity:0}99%{opacity:0}to{opacity:1}}@keyframes idle-2{0%{opacity:0}24%{opacity:0}25%{opacity:1}50%{opacity:1}51%{opacity:0}to{opacity:0}}@keyframes idle-3{0%{opacity:0}49%{opacity:0}50%{opacity:1}75%{opacity:1}76%{opacity:0}to{opacity:0}}@keyframes idle-4{0%{opacity:1}1%{opacity:0}74%{opacity:0}75%{opacity:1}to{opacity:1}}"]}),O}(),w=a(7469),_=a(3075),l=a(8966),r=a(4373),g=a(1375),v=a(1682),A=a(3300);function L(O,R){if(1&O&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t._UZ(2,"div",3),t._UZ(3,"div",4),t.qZA(),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t.TgZ(6,"div",7),t.TgZ(7,"div",8),t.TgZ(8,"div",9),t.TgZ(9,"div",10),t._UZ(10,"img",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",12),t.TgZ(12,"div",13),t.TgZ(13,"div",14),t._uU(14),t.qZA(),t._UZ(15,"div",15),t.qZA(),t.TgZ(16,"div",16),t.TgZ(17,"div",14),t._uU(18),t.qZA(),t._UZ(19,"div",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",17),t._UZ(21,"img",11),t.qZA(),t.qZA(),t.qZA()),2&O){var d=t.oxw();t.xp6(2),t.Q6J("innerHTML",d.ultimatum.title,t.oJD),t.xp6(1),t.Q6J("innerHTML",d.ultimatum.levelLabel,t.oJD),t.xp6(7),t.MGl("src","assets/img/icon/",d.ultimatum.icon,".png",t.LSH),t.xp6(4),t.Oqu(d.ultimatum.bonusTitle),t.xp6(1),t.Q6J("innerHTML",d.ultimatum.bonusLabel,t.oJD),t.xp6(3),t.Oqu(d.ultimatum.malusTitle),t.xp6(1),t.Q6J("innerHTML",d.ultimatum.malusLabel,t.oJD),t.xp6(2),t.MGl("src","assets/img/icon/",d.ultimatum.levelIcon,".png",t.LSH)}}var P=function(){var O=(0,Q.Z)(function R(){(0,N.Z)(this,R),this.ultimatum=null});return O.\u0275fac=function(d){return new(d||O)},O.\u0275cmp=t.Xpm({type:O,selectors:[["app-ultimatum-view"]],inputs:{ultimatum:"ultimatum"},decls:1,vars:1,consts:[["class","ultimatum slormancer-tooltip",4,"ngIf"],[1,"ultimatum","slormancer-tooltip"],[1,"head","inner-box"],[1,"title",3,"innerHTML"],[1,"level",3,"innerHTML"],[1,"content","inner-box"],[1,"data"],[1,"visual"],[1,"background"],[1,"inner-background"],[1,"ultimatum"],[3,"src"],[1,"info"],[1,"bonus"],[1,"title"],[3,"innerHTML"],[1,"malus"],[1,"bottom-level"]],template:function(d,c){1&d&&t.YNc(0,L,22,8,"div",0),2&d&&t.Q6J("ngIf",null!==c.ultimatum)},directives:[u.O5],styles:[".ultimatum[_ngcontent-%COMP%]{width:350px}.ultimatum[_ngcontent-%COMP%]  .value, .ultimatum[_ngcontent-%COMP%]  .rank .current{color:#ce4607}.ultimatum[_ngcontent-%COMP%]  .range, .ultimatum[_ngcontent-%COMP%]  .range .value, .ultimatum[_ngcontent-%COMP%]  .details, .ultimatum[_ngcontent-%COMP%]  .details .value, .ultimatum[_ngcontent-%COMP%]  .formula, .ultimatum[_ngcontent-%COMP%]  .formula .value{color:#686868}.ultimatum[_ngcontent-%COMP%]  .affixes .range, .ultimatum[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.ultimatum[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase}.ultimatum[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{font-size:80%}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:16px;gap:16px;padding:20px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:16px;gap:16px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{border:3px solid black;background-color:#3c3c3c;border-radius:10%;padding:3px;width:60px;height:70px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;border:3px solid black;background-color:#471712;border-radius:10%;width:100%;height:100%}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]{width:0;height:0}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:translate(-50%,-50%);width:72px;height:72px;image-rendering:pixelated}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:16px;gap:16px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:105%}"]}),O}(),s=a(7322),U=a(7531),h=a(4102),C=a(7423),Z=a(508);function k(O,R){if(1&O&&(t.TgZ(0,"mat-option",15),t._UZ(1,"span",16),t.qZA()),2&O){var d=R.$implicit;t.Q6J("value",d.value),t.xp6(1),t.Q6J("innerHTML",d.label,t.oJD)}}function S(O,R){if(1&O){var d=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){return t.CHM(d),t.oxw().submit()}),t._UZ(1,"input",2),t.TgZ(2,"mat-dialog-content"),t.TgZ(3,"div",3),t._UZ(4,"app-ultimatum-view",4),t.qZA(),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"mat-form-field",7),t.TgZ(8,"mat-label"),t._uU(9,"Ultimatum level"),t.qZA(),t._UZ(10,"input",8),t.TgZ(11,"mat-error"),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",6),t.TgZ(14,"mat-form-field",9),t.TgZ(15,"mat-label"),t._uU(16,"Ultimatum type"),t.qZA(),t.TgZ(17,"mat-select",10),t.YNc(18,k,2,2,"mat-option",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"mat-dialog-actions"),t.TgZ(20,"button",12),t._uU(21,"Cancel"),t.qZA(),t.TgZ(22,"button",13),t.NdJ("click",function(){return t.CHM(d),t.oxw().reset()}),t._uU(23,"Reset"),t.qZA(),t.TgZ(24,"button",14),t._uU(25,"Submit"),t.qZA(),t.qZA(),t.qZA()}if(2&O){var c=t.oxw();t.Q6J("formGroup",c.form),t.xp6(4),t.Q6J("ultimatum",c.ultimatum),t.xp6(8),t.hij("Level must be between 1 and ",c.ULTIMATUM_MAX_LEVEL,""),t.xp6(6),t.Q6J("ngForOf",c.options)}}var W=function(){var O=function(){function R(d,c,I,T){(0,N.Z)(this,R),this.dialogRef=d,this.slormancerUltimatumService=c,this.formOptionsService=I,this.ULTIMATUM_MAX_LEVEL=r.cK,this.options=[],this.originalUltimatum=null===T.ultimatum?this.slormancerUltimatumService.getUltimatum(g.R.AdamantAbundance,1):this.slormancerUltimatumService.getUltimatumClone(T.ultimatum),this.ultimatum=this.originalUltimatum,this.options=this.formOptionsService.getUltimatumOptions(),this.reset()}return(0,Q.Z)(R,[{key:"reset",value:function(){Object.assign(this.ultimatum,this.originalUltimatum),this.form=this.buildForm()}},{key:"submit",value:function(){this.form.valid&&this.dialogRef.close(this.ultimatum)}},{key:"updatePreview",value:function(c){if(c.valid){var I=c.value;this.ultimatum=this.slormancerUltimatumService.getUltimatum(I.type,I.level)}}},{key:"buildForm",value:function(){var c=this,I=new _.cw({level:new _.NI(this.ultimatum.level,[_.kI.required,_.kI.min(1),_.kI.max(r.cK)]),type:new _.NI(this.ultimatum.type,[_.kI.required])});return I.valueChanges.subscribe(function(){c.updatePreview(I)}),this.updatePreview(I),I}}]),R}();return O.\u0275fac=function(d){return new(d||O)(t.Y36(l.so),t.Y36(v.h),t.Y36(A.K),t.Y36(l.WI))},O.\u0275cmp=t.Xpm({type:O,selectors:[["app-ultimatum-edit-modal"]],decls:1,vars:1,consts:[["autocomplete","off",3,"formGroup","submit",4,"ngIf"],["autocomplete","off",3,"formGroup","submit"],["autocomplete","false","name","hidden","type","text",2,"display","none"],[1,"preview"],[3,"ultimatum"],[1,"form"],[1,"stat-line"],["appearance","outline"],["matInput","","type","number","step","1","formControlName","level"],["appearance","outline","color","primary",1,"no-error-padding"],["formControlName","type","color","primary"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","button","color","primary",3,"click"],["mat-flat-button","","type","submit","color","primary"],[3,"value"],[3,"innerHTML"]],template:function(d,c){1&d&&t.YNc(0,S,26,4,"form",0),2&d&&t.Q6J("ngIf",null!==c.form&&null!==c.ultimatum)},directives:[u.O5,_._Y,_.JL,_.sg,l.xY,P,s.KE,s.hX,U.Nt,_.wV,_.Fj,_.JJ,_.u,s.TO,h.gD,u.sg,l.H8,C.lW,l.ZT,Z.ey],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:20px;gap:20px;flex-grow:1}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]{flex-direction:column}}mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{max-width:350px}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{display:none;visibility:hidden}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;align-items:stretch;flex-grow:1;width:200px}"]}),O}(),V=a(9776);function ie(O,R){if(1&O&&t._UZ(0,"app-ultimatum-view",8),2&O){var d=t.oxw(3);t.Q6J("ultimatum",d.ultimatum)}}function G(O,R){if(1&O&&t.YNc(0,ie,1,1,"ng-template",7),2&O){t.oxw(2);var d=t.MAs(1);t.Q6J("cdkConnectedOverlayOpen",!0)("cdkConnectedOverlayOrigin",d)}}function ue(O,R){if(1&O&&(t.TgZ(0,"div",4),t._UZ(1,"img",5),t.YNc(2,G,1,2,void 0,6),t.qZA()),2&O){var d=t.oxw();t.xp6(1),t.MGl("src","assets/img/icon/",d.ultimatum.icon,".png",t.LSH),t.xp6(1),t.Q6J("ngIf",d.overlay&&d.showOverlay)}}var ge=function(){var O=function(){function R(d,c){(0,N.Z)(this,R),this.dialog=d,this.itemMoveService=c,this.ultimatum=null,this.overlay=!0,this.readonly=!1,this.changed=new t.vpe,this.showOverlay=!1}return(0,Q.Z)(R,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"onMouseContextMenu",value:function(){return this.readonly||this.itemMoveService.releaseHoldItem(),!1}},{key:"edit",value:function(){var c=this;this.readonly||this.dialog.open(W,{data:{ultimatum:this.ultimatum}}).afterClosed().subscribe(function(T){T&&c.changed.emit(T)})}}]),R}();return O.\u0275fac=function(d){return new(d||O)(t.Y36(l.uw),t.Y36(w.v))},O.\u0275cmp=t.Xpm({type:O,selectors:[["app-ultimatum-slot"]],hostBindings:function(d,c){1&d&&t.NdJ("mouseenter",function(){return c.onOver()})("mouseleave",function(){return c.onLeave()})("contextmenu",function(){return c.onMouseContextMenu()})},inputs:{ultimatum:"ultimatum",overlay:"overlay",readonly:"readonly"},outputs:{changed:"changed"},decls:4,vars:3,consts:[["cdkOverlayOrigin","",1,"background",3,"click"],["trigger","cdkOverlayOrigin"],[1,"inner-background"],["class","ultimatum",4,"ngIf"],[1,"ultimatum"],[3,"src"],[4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"ultimatum"]],template:function(d,c){1&d&&(t.TgZ(0,"div",0,1),t.NdJ("click",function(){return!c.readonly&&c.edit()}),t.TgZ(2,"div",2),t.YNc(3,ue,3,2,"div",3),t.qZA(),t.qZA()),2&d&&(t.ekj("readonly",c.readonly),t.xp6(3),t.Q6J("ngIf",null!==c.ultimatum))},directives:[V.xu,u.O5,V.pI,P],styles:[".background[_ngcontent-%COMP%]{border:3px solid black;background-color:#3c3c3c;border-radius:10%;padding:3px;width:60px;height:70px}.background[_ngcontent-%COMP%]:not(.readonly){cursor:pointer}.background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;border:3px solid black;background-color:#471712;border-radius:10%;width:100%;height:100%}.background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]{width:0;height:0}.background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:translate(-50%,-50%);width:72px;height:72px;image-rendering:pixelated}"]}),O}(),pe=a(4902),le=a(136),ve=a(7777),H=a(2525),X=a(2722),b=a(7399),K=a(5832),x=a(5581),q=a(311),E=a(6446);function j(O,R){if(1&O){var d=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){return t.CHM(d),t.oxw().submit()}),t.TgZ(1,"h2",2),t._uU(2,"Choose your hero level"),t.qZA(),t.TgZ(3,"mat-dialog-content"),t.TgZ(4,"mat-form-field",3),t.TgZ(5,"mat-label"),t._uU(6,"Hero level"),t.qZA(),t._UZ(7,"input",4),t.TgZ(8,"mat-error"),t._uU(9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"mat-dialog-actions"),t.TgZ(11,"button",5),t._uU(12,"Cancel"),t.qZA(),t.TgZ(13,"button",6),t._uU(14,"Submit"),t.qZA(),t.qZA(),t.qZA()}if(2&O){var c=t.oxw();t.Q6J("formGroup",c.form),t.xp6(9),t.hij("Level must be between 1 and ",c.MAX_HERO_LEVEL,""),t.xp6(2),t.Q6J("mat-dialog-close",null)}}var z=function(){var O=function(){function R(d,c){(0,N.Z)(this,R),this.dialogRef=d,this.MAX_HERO_LEVEL=r.AR,this.form=new _.cw({level:new _.NI(c.level,[_.kI.min(1),_.kI.max(r.AR)])})}return(0,Q.Z)(R,[{key:"submit",value:function(){this.form.markAllAsTouched(),this.form.valid&&this.dialogRef.close(this.form.value.level)}}]),R}();return O.\u0275fac=function(d){return new(d||O)(t.Y36(l.so),t.Y36(l.WI))},O.\u0275cmp=t.Xpm({type:O,selectors:[["app-character-level-edit-modal"]],decls:1,vars:1,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],["mat-dialog-title",""],["appearance","outline"],["matInput","","type","number","step","1","formControlName","level"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary"]],template:function(d,c){1&d&&t.YNc(0,j,15,3,"form",0),2&d&&t.Q6J("ngIf",null!==c.form)},directives:[u.O5,_._Y,_.JL,_.sg,l.uh,l.xY,s.KE,s.hX,U.Nt,_.wV,_.Fj,_.JJ,_.u,s.TO,l.H8,C.lW,l.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:8px;gap:8px}"]}),O}();function me(O,R){if(1&O){var d=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){return t.CHM(d),t.oxw().submit()}),t.TgZ(1,"h2",2),t._uU(2,"Choose the new item reinforcment"),t.qZA(),t.TgZ(3,"mat-dialog-content"),t.TgZ(4,"mat-form-field",3),t.TgZ(5,"mat-label"),t._uU(6,"Reinforcment"),t.qZA(),t._UZ(7,"input",4),t.TgZ(8,"mat-error"),t._uU(9,"Reinforcment must be positive"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"mat-dialog-actions"),t.TgZ(11,"button",5),t._uU(12,"Cancel"),t.qZA(),t.TgZ(13,"button",6),t._uU(14,"Submit"),t.qZA(),t.qZA(),t.qZA()}if(2&O){var c=t.oxw();t.Q6J("formGroup",c.form),t.xp6(11),t.Q6J("mat-dialog-close",null)}}var F=function(){var O=function(){function R(d,c){(0,N.Z)(this,R),this.dialogRef=d,this.MAX_HERO_LEVEL=r.AR,this.form=new _.cw({reinforcment:new _.NI(c.reinforcment,[_.kI.min(0)])})}return(0,Q.Z)(R,[{key:"submit",value:function(){this.form.markAllAsTouched(),this.form.valid&&this.dialogRef.close(this.form.value.reinforcment)}}]),R}();return O.\u0275fac=function(d){return new(d||O)(t.Y36(l.so),t.Y36(l.WI))},O.\u0275cmp=t.Xpm({type:O,selectors:[["app-item-reinforcment-edit-modal"]],decls:1,vars:1,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],["mat-dialog-title",""],["appearance","outline"],["matInput","","type","number","step","1","formControlName","reinforcment"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary"]],template:function(d,c){1&d&&t.YNc(0,me,15,2,"form",0),2&d&&t.Q6J("ngIf",null!==c.form)},directives:[u.O5,_._Y,_.JL,_.sg,l.uh,l.xY,s.KE,s.hX,U.Nt,_.wV,_.Fj,_.JJ,_.u,s.TO,l.H8,C.lW,l.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),O}(),fe=a(7762),he=a(4942),ce=a(2206),He=a(9377),Ne=a(7795);function Oe(O,R){if(1&O){var d=t.EpF();t.TgZ(0,"p",7),t.NdJ("click",function(){var ne=t.CHM(d).index;return t.oxw().removeStat(ne)}),t._uU(1),t.qZA()}if(2&O){var c=R.$implicit,I=R.index;t.xp6(1),t.AsE("#",I+1," : ",c.label,"")}}function Pe(O,R){if(1&O&&(t.TgZ(0,"mat-option",8),t._uU(1),t.qZA()),2&O){var d=R.$implicit;t.Q6J("value",d),t.xp6(1),t.Oqu(d.label)}}var de=function(){var O=function(){function R(d,c,I,T,J,ne){var oe=this;(0,N.Z)(this,R),this.dialogRef=d,this.slormancerItemService=I,this.slormancerDataService=T,this.slormancerAffixService=J,this.formOptionsService=ne,this.options=this.formOptionsService.getAllStatsoptions(),this.selectedStats=[],this.statControl=new _.NI,this.items=c.items,this.statControl.valueChanges.subscribe(function(_e){null!==_e&&(oe.selectedStats.push(_e),oe.updateOptions(),oe.statControl.setValue(null))})}return(0,Q.Z)(R,[{key:"updateOptions",value:function(){var c=this;this.options=this.formOptionsService.getAllStatsoptions().filter(function(I){return!c.selectedStats.includes(I)})}},{key:"applyStatsToItem",value:function(c){var I,T,J=this,ne=[ce.u.Normal,ce.u.Magic,ce.u.Rare,ce.u.Epic],oe=((0,he.Z)(I={},ce.u.Normal,this.slormancerDataService.getBaseMaxBasicStat(c.base)),(0,he.Z)(I,ce.u.Magic,1),(0,he.Z)(I,ce.u.Rare,1),(0,he.Z)(I,ce.u.Epic,3),I),_e=((0,he.Z)(T={},ce.u.Normal,this.formOptionsService.getStatsOptions(c.base,ce.u.Normal)),(0,he.Z)(T,ce.u.Magic,this.formOptionsService.getStatsOptions(c.base,ce.u.Magic)),(0,he.Z)(T,ce.u.Rare,this.formOptionsService.getStatsOptions(c.base,ce.u.Rare)),(0,he.Z)(T,ce.u.Epic,this.formOptionsService.getStatsOptions(c.base,ce.u.Epic)),T);c.affixes=[];var Le,Ee=(0,fe.Z)(this.selectedStats);try{for(Ee.s();!(Le=Ee.n()).done;){var Ue,we=Le.value,Ae=(0,fe.Z)(ne);try{var Xe=function(){var be=Ue.value;if(c.affixes.filter(function(tt){return tt.rarity===be}).length<oe[be]&&_e[be].includes(we)){var Re=J.slormancerAffixService.getAffixFromStat(we.value,c.level,c.reinforcment,be);if(null!==Re)return c.affixes.push(Re),"break"}};for(Ae.s();!(Ue=Ae.n()).done&&"break"!==Xe(););}catch(Ce){Ae.e(Ce)}finally{Ae.f()}}}catch(Ce){Ee.e(Ce)}finally{Ee.f()}for(;c.affixes.filter(function(Ce){return Ce.rarity===ce.u.Normal}).length<oe[ce.u.Normal];){var Je=_e[ce.u.Normal].find(function(Ce){return void 0===c.affixes.find(function(be){return be.craftedEffect.effect.stat===Ce.value})});if(void 0!==Je){var De=this.slormancerAffixService.getAffixFromStat(Je.value,c.level,c.reinforcment,ce.u.Normal);null!==De&&c.affixes.push(De)}}this.slormancerItemService.updateEquipableItemModel(c),this.slormancerItemService.updateEquipableItemView(c)}},{key:"applyStats",value:function(){var I,c=(0,fe.Z)(this.items);try{for(c.s();!(I=c.n()).done;)this.applyStatsToItem(I.value)}catch(J){c.e(J)}finally{c.f()}this.dialogRef.close(!0)}},{key:"removeStat",value:function(c){this.selectedStats.splice(c,1),this.updateOptions()}}]),R}();return O.\u0275fac=function(d){return new(d||O)(t.Y36(l.so),t.Y36(l.WI),t.Y36(K.S),t.Y36(Ne.o),t.Y36(He.l),t.Y36(A.K))},O.\u0275cmp=t.Xpm({type:O,selectors:[["app-optimize-items-stats-modal"]],decls:18,vars:7,consts:[["mat-dialog-title",""],["class","stat",3,"click",4,"ngFor","ngForOf"],["appearance","outline","color","primary",1,"no-error-padding"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","button","color","primary",3,"disabled","click"],[1,"stat",3,"click"],[3,"value"]],template:function(d,c){1&d&&(t.TgZ(0,"h2",0),t._uU(1,"Choose the stats you want for your items"),t.qZA(),t.TgZ(2,"mat-dialog-content"),t.TgZ(3,"p"),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6,"Items will loose their affixes before being updated."),t.qZA(),t.YNc(7,Oe,2,2,"p",1),t.TgZ(8,"mat-form-field",2),t.TgZ(9,"mat-label"),t._uU(10),t.qZA(),t.TgZ(11,"mat-select",3),t.YNc(12,Pe,2,2,"mat-option",4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"mat-dialog-actions"),t.TgZ(14,"button",5),t._uU(15,"Cancel"),t.qZA(),t.TgZ(16,"button",6),t.NdJ("click",function(){return c.applyStats()}),t._uU(17,"Apply"),t.qZA(),t.qZA()),2&d&&(t.xp6(4),t.hij("Each stat below will be applied in order to the ",c.items.length>1?c.items.length+" selected items":"selected item"," (at maximum crafting value) using the first available affix slot."),t.xp6(3),t.Q6J("ngForOf",c.selectedStats),t.xp6(3),t.Oqu(c.selectedStats.length>0?"Add another stat":"Choose a stat"),t.xp6(1),t.Q6J("formControl",c.statControl),t.xp6(1),t.Q6J("ngForOf",c.options),t.xp6(2),t.Q6J("mat-dialog-close",!1),t.xp6(2),t.Q6J("disabled",0===c.selectedStats.length))},directives:[l.uh,l.xY,u.sg,s.KE,s.hX,h.gD,_.JJ,_.oH,l.H8,C.lW,l.ZT,Z.ey],styles:[".stat[_ngcontent-%COMP%]{cursor:pointer;padding-left:4px}@media (max-width: 768px){.stat[_ngcontent-%COMP%]{padding-left:0}}.stat[_ngcontent-%COMP%]:hover{opacity:.6}mat-form-field[_ngcontent-%COMP%]{width:200px}@media (max-width: 768px){mat-form-field[_ngcontent-%COMP%]{width:100%}}"]}),O}(),Be=a(8223),Ie=a(3874);function Me(O,R){if(1&O){var d=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(d),t.oxw(2).optimizeReaperEnchantments()}),t._uU(1,"Optimize items for Reaper"),t.qZA()}}function ye(O,R){if(1&O&&(t.TgZ(0,"button",11),t._uU(1,"Optimize items for Attribute"),t.qZA()),2&O){t.oxw(2);var d=t.MAs(6);t.Q6J("matMenuTriggerFor",d)}}function xe(O,R){if(1&O&&(t.TgZ(0,"button",11),t._uU(1,"Optimize items for Skill"),t.qZA()),2&O){t.oxw(2);var d=t.MAs(9);t.Q6J("matMenuTriggerFor",d)}}function Te(O,R){if(1&O){var d=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(d),t.oxw(2).optimizeItemsStats()}),t._uU(1,"Optimise items stats"),t.qZA()}}function qe(O,R){if(1&O){var d=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(d),t.oxw(2).maximizeItemsLevel()}),t._uU(1,"Maximize items level"),t.qZA()}}function Qe(O,R){if(1&O){var d=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(d),t.oxw(2).changeReinforcmentLevel()}),t._uU(1,"Change items reinforcment level"),t.qZA()}}function Fe(O,R){if(1&O){var d=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(d),t.oxw().editCharacterLevel()}),t._uU(1,"Change hero level"),t.qZA(),t.YNc(2,Me,2,0,"button",9),t.YNc(3,ye,2,1,"button",10),t.YNc(4,xe,2,1,"button",10),t.YNc(5,Te,2,0,"button",9),t.YNc(6,qe,2,0,"button",9),t.YNc(7,Qe,2,0,"button",9)}if(2&O){var c=t.oxw();t.xp6(2),t.Q6J("ngIf",null!==c.character&&null!==c.character.reaper&&c.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==c.character&&c.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==c.character&&c.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==c.character&&c.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==c.character&&c.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==c.character&&c.hasItems())}}function Ye(O,R){if(1&O){var d=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){var J=t.CHM(d).$implicit;return t.oxw().optimizeAttributeEnchantments(J)}),t._UZ(1,"img",13),t._UZ(2,"div",14),t.qZA()}if(2&O){var c=R.$implicit;t.xp6(1),t.Q6J("src",c.icon,t.LSH),t.xp6(1),t.Q6J("innerHTML",c.attributeName,t.oJD)}}function Ve(O,R){if(1&O){var d=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){var J=t.CHM(d).$implicit;return t.oxw().optimizeSkillEnchantments(J)}),t._UZ(1,"img",15),t._UZ(2,"div",14),t.qZA()}if(2&O){var c=R.$implicit;t.xp6(1),t.Q6J("src","assets/img/icon/"+c.icon+".png",t.LSH),t.xp6(1),t.Q6J("innerHTML",c.name,t.oJD)}}var Ke=function(){var O=function(R){(0,le.Z)(c,R);var d=(0,ve.Z)(c);function c(I,T,J,ne){var oe;return(0,N.Z)(this,c),(oe=d.call(this)).buildStorageService=I,oe.dialog=T,oe.messageService=J,oe.slormancerItemService=ne,oe.character=null,oe.menu=null,oe}return(0,Q.Z)(c,[{key:"ngOnInit",value:function(){var T=this;this.buildStorageService.layerChanged.pipe((0,X.R)(this.unsubscribe)).subscribe(function(J){return T.character=null===J?null:J.character})}},{key:"openCharacterSettings",value:function(){return null!==this.menu&&this.menu.openMenu(),!1}},{key:"editCharacterLevel",value:function(){var T=this;null!==this.character&&this.dialog.open(z,{data:{level:this.character.level}}).afterClosed().subscribe(function(J){J&&null!==T.character&&(T.character.level=J)})}},{key:"getGearItems",value:function(){var T=[],J=this.character;return null!==J&&(T=e.PL.map(function(ne){return J.gear[ne]}).filter(x.BX)),T}},{key:"hasItems",value:function(){return this.getGearItems().length>0}},{key:"optimizeReaperEnchantments",value:function(){var T=this;if(null!==this.character){var J=this.slormancerItemService.getReaperEnchantment(this.character.reaper.smith.id,5),ne="";this.getGearItems().forEach(function(oe){oe.reaperEnchantment=T.slormancerItemService.getReaperEnchantmentClone(J),T.slormancerItemService.updateEquipableItemModel(oe),T.slormancerItemService.updateEquipableItemView(oe),ne=oe.reaperEnchantment.icon}),this.buildStorageService.saveLayer(),this.messageService.message('All equipped items optimized for <img src="'+ne+'"> '+this.character.reaper.smith.name)}}},{key:"getTraits",value:function(){var T=[],J=this.character;return null!==J&&(T=b.A.map(function(ne){return J.attributes.allocated[ne]})),T}},{key:"optimizeAttributeEnchantments",value:function(T){var J=this;if(null!==this.character&&null!==this.character.reaper){var ne=this.slormancerItemService.getAttributeEnchantment(T.attribute,3),oe="";this.getGearItems().forEach(function(_e){_e.attributeEnchantment=J.slormancerItemService.getAttributeEnchantmentClone(ne),J.slormancerItemService.updateEquipableItemModel(_e),J.slormancerItemService.updateEquipableItemView(_e),oe=_e.attributeEnchantment.icon}),this.buildStorageService.saveLayer(),this.messageService.message('All equipped items optimized for <img src="'+oe+'"> '+T.attributeName)}}},{key:"getSkills",value:function(){var T=[],J=this.character;return null!==J&&(T=J.skills.map(function(ne){return ne.skill})),T}},{key:"optimizeSkillEnchantments",value:function(T){var J=this;if(null!==this.character){var ne=this.slormancerItemService.getSkillEnchantment(T.id,2),oe="";this.getGearItems().forEach(function(_e){_e.skillEnchantment=J.slormancerItemService.getSkillEnchantmentClone(ne),J.slormancerItemService.updateEquipableItemModel(_e),J.slormancerItemService.updateEquipableItemView(_e),oe=_e.skillEnchantment.icon}),this.buildStorageService.saveLayer(),this.messageService.message('All equipped items optimized for <img src="'+oe+'"> '+T.name)}}},{key:"maximizeItemsLevel",value:function(){var T=this;if(null!==this.character){var J=this.character.level;this.getGearItems().forEach(function(ne){ne.level=J,T.slormancerItemService.updateEquipableItemModel(ne),T.slormancerItemService.updateEquipableItemView(ne)}),this.buildStorageService.saveLayer(),this.messageService.message("All equipped items level raised to "+J)}}},{key:"changeReinforcmentLevel",value:function(){var T=this;if(null!==this.character){var J=Math.max.apply(Math,(0,pe.Z)(this.getGearItems().map(function(ne){return ne.reinforcment})));this.dialog.open(F,{data:{reinforcment:J}}).afterClosed().subscribe(function(ne){"number"==typeof ne&&(T.getGearItems().forEach(function(oe){oe.reinforcment=ne,T.slormancerItemService.updateEquipableItemModel(oe),T.slormancerItemService.updateEquipableItemView(oe)}),T.buildStorageService.saveLayer(),T.messageService.message("All equipped items reinforcment raised to "+ne))})}}},{key:"optimizeItemsStats",value:function(){var T=this;if(null!==this.character){var J={items:this.getGearItems()};this.dialog.open(de,{data:J}).afterClosed().subscribe(function(ne){ne&&(T.buildStorageService.saveLayer(),T.messageService.message("All equipped items have been updated"))})}}}]),c}(E.B);return O.\u0275fac=function(d){return new(d||O)(t.Y36(q.x),t.Y36(l.uw),t.Y36(Be.e),t.Y36(K.S))},O.\u0275cmp=t.Xpm({type:O,selectors:[["app-character-settings-menu"]],viewQuery:function(d,c){var I;1&d&&t.Gf(H.p6,7),2&d&&t.iGM(I=t.CRH())&&(c.menu=I.first)},features:[t.qOj],decls:11,vars:4,consts:[[3,"matMenuTriggerFor","contextmenu"],["color","primary","xPosition","after",3,"overlapTrigger"],["menu","matMenu"],["matMenuContent",""],["color","primary"],["attributes","matMenu"],["mat-menu-item","","color","primary","class","menu-entry",3,"click",4,"ngFor","ngForOf"],["skills","matMenu"],["mat-menu-item","","color","primary",3,"click"],["mat-menu-item","","color","primary",3,"click",4,"ngIf"],["mat-menu-item","","color","primary",3,"matMenuTriggerFor",4,"ngIf"],["mat-menu-item","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","","color","primary",1,"menu-entry",3,"click"],[3,"src"],[3,"innerHTML"],[1,"skill-icon",3,"src"]],template:function(d,c){if(1&d&&(t.TgZ(0,"mat-icon",0),t.NdJ("contextmenu",function(){return c.openCharacterSettings()}),t._uU(1,"settings"),t.qZA(),t.TgZ(2,"mat-menu",1,2),t.YNc(4,Fe,8,6,"ng-template",3),t.TgZ(5,"mat-menu",4,5),t.YNc(7,Ye,3,2,"button",6),t.qZA(),t.TgZ(8,"mat-menu",4,7),t.YNc(10,Ve,3,2,"button",6),t.qZA(),t.qZA()),2&d){var I=t.MAs(3);t.Q6J("matMenuTriggerFor",I),t.xp6(2),t.Q6J("overlapTrigger",!0),t.xp6(5),t.Q6J("ngForOf",c.getTraits()),t.xp6(3),t.Q6J("ngForOf",c.getSkills())}},directives:[Ie.Hw,H.p6,H.VK,H.KA,u.sg,H.OP,u.O5],styles:["mat-icon[_ngcontent-%COMP%]{cursor:pointer;color:#353535}.menu-entry[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:8px;gap:8px}"]}),O}();function We(O,R){1&O&&t._UZ(0,"app-character-settings-menu")}function je(O,R){if(1&O){var d=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"app-item-slot",3),t.NdJ("changed",function(T){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.Helm,T)}),t.qZA(),t.TgZ(3,"app-item-slot",4),t.NdJ("changed",function(T){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.Amulet,T)}),t.qZA(),t.qZA(),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t.TgZ(6,"app-item-slot",7),t.NdJ("changed",function(T){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.Shoulder,T)}),t.qZA(),t.TgZ(7,"app-item-slot",8),t.NdJ("changed",function(T){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.Bracer,T)}),t.qZA(),t.TgZ(8,"app-item-slot",9),t.NdJ("changed",function(T){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.Glove,T)}),t.qZA(),t.qZA(),t.TgZ(9,"div",10),t.TgZ(10,"div",11),t.YNc(11,We,1,0,"app-character-settings-menu",12),t.qZA(),t._UZ(12,"app-character-animation",13),t.qZA(),t.TgZ(13,"div",14),t.TgZ(14,"app-item-slot",15),t.NdJ("changed",function(T){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.Body,T)}),t.qZA(),t.TgZ(15,"app-item-slot",16),t.NdJ("changed",function(T){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.Cape,T)}),t.qZA(),t.TgZ(16,"app-item-slot",17),t.NdJ("changed",function(T){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.Belt,T)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",18),t._UZ(18,"div",19),t.TgZ(19,"app-item-slot",20),t.NdJ("changed",function(T){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.LeftRing,T)}),t.qZA(),t.TgZ(20,"app-item-slot",21),t.NdJ("changed",function(T){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.Boot,T)}),t.qZA(),t.TgZ(21,"app-item-slot",22),t.NdJ("changed",function(T){t.CHM(d);var J=t.oxw();return J.updateItem(J.gearSlot.RightRing,T)}),t.qZA(),t.TgZ(22,"app-ultimatum-slot",23),t.NdJ("changed",function(T){return t.CHM(d),t.oxw().updateUltimatum(T)}),t.qZA(),t.qZA(),t.qZA()}if(2&O){var c=t.oxw();t.xp6(2),t.Q6J("readonly",c.readonly)("base",c.bases.Helm)("item",c.character.gear[c.gearSlot.Helm])("character",c.character),t.xp6(1),t.Q6J("readonly",c.readonly)("base",c.bases.Amulet)("item",c.character.gear[c.gearSlot.Amulet])("character",c.character),t.xp6(3),t.Q6J("readonly",c.readonly)("base",c.bases.Shoulder)("item",c.character.gear[c.gearSlot.Shoulder])("character",c.character),t.xp6(1),t.Q6J("readonly",c.readonly)("base",c.bases.Bracer)("item",c.character.gear[c.gearSlot.Bracer])("character",c.character),t.xp6(1),t.Q6J("readonly",c.readonly)("base",c.bases.Glove)("item",c.character.gear[c.gearSlot.Glove])("character",c.character),t.xp6(3),t.Q6J("ngIf",!c.readonly),t.xp6(1),t.Q6J("heroClass",c.character.heroClass),t.xp6(2),t.Q6J("readonly",c.readonly)("base",c.bases.Body)("item",c.character.gear[c.gearSlot.Body])("character",c.character),t.xp6(1),t.Q6J("readonly",c.readonly)("base",c.bases.Cape)("item",c.character.gear[c.gearSlot.Cape])("character",c.character),t.xp6(1),t.Q6J("readonly",c.readonly)("base",c.bases.Belt)("item",c.character.gear[c.gearSlot.Belt])("character",c.character),t.xp6(3),t.Q6J("readonly",c.readonly)("base",c.bases.Ring)("item",c.character.gear[c.gearSlot.LeftRing])("character",c.character),t.xp6(1),t.Q6J("readonly",c.readonly)("base",c.bases.Boot)("item",c.character.gear[c.gearSlot.Boot])("character",c.character),t.xp6(1),t.Q6J("readonly",c.readonly)("base",c.bases.Ring)("item",c.character.gear[c.gearSlot.RightRing])("character",c.character),t.xp6(1),t.Q6J("readonly",c.readonly)("ultimatum",c.character.ultimatum)}}var Ge=function(){var O=function(){function R(){(0,N.Z)(this,R),this.gearSlot=e.SH,this.bases=m.J,this.character=null,this.readonly=!1,this.changed=new t.vpe}return(0,Q.Z)(R,[{key:"updateItem",value:function(c,I){null!==this.character&&(this.character.gear[c]=I,this.changed.emit(this.character))}},{key:"updateUltimatum",value:function(c){null!==this.character&&(this.character.ultimatum=c,this.changed.emit(this.character))}}]),R}();return O.\u0275fac=function(d){return new(d||O)},O.\u0275cmp=t.Xpm({type:O,selectors:[["app-character-equipment"]],inputs:{character:"character",readonly:"readonly"},outputs:{changed:"changed"},decls:1,vars:1,consts:[["class","equipment",4,"ngIf"],[1,"equipment"],[1,"top-equipment"],[1,"helm",3,"readonly","base","item","character","changed"],[1,"amulet",3,"readonly","base","item","character","changed"],[1,"center-equipment"],[1,"left-equipment"],[1,"shoulder",3,"readonly","base","item","character","changed"],[1,"bracer",3,"readonly","base","item","character","changed"],[1,"glove",3,"readonly","base","item","character","changed"],[1,"character-preview"],[1,"actions"],[4,"ngIf"],[3,"heroClass"],[1,"right-equipment"],[1,"body",3,"readonly","base","item","character","changed"],[1,"cape",3,"readonly","base","item","character","changed"],[1,"belt",3,"readonly","base","item","character","changed"],[1,"bottom-equipment"],[1,"empty"],[1,"ring_l",3,"readonly","base","item","character","changed"],[1,"boot",3,"readonly","base","item","character","changed"],[1,"ring_r",3,"readonly","base","item","character","changed"],[3,"readonly","ultimatum","changed"]],template:function(d,c){1&d&&t.YNc(0,je,23,48,"div",0),2&d&&t.Q6J("ngIf",null!==c.character)},directives:[u.O5,D.y,y,ge,Ke],styles:[".equipment[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:space-between;min-height:380px}.equipment[_ngcontent-%COMP%]   .top-equipment[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;grid-gap:20px;gap:20px;flex-grow:1}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:space-between}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .left-equipment[_ngcontent-%COMP%], .equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .right-equipment[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;grid-gap:8px;gap:8px;flex-grow:1}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .character-preview[_ngcontent-%COMP%]{width:150px;height:200px;border:3px solid #3c3c3c;padding:8px;background-color:#000;display:flex;flex-direction:column;align-items:center;justify-content:space-between}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .character-preview[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;width:100%}.equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;grid-gap:16px;gap:16px;flex-grow:1;overflow:hidden}.equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]   .ring_l[_ngcontent-%COMP%], .equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]   .ring_r[_ngcontent-%COMP%]{margin-bottom:20px}.equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]   .boot[_ngcontent-%COMP%]{margin-top:20px}.equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{width:56px}"]}),O}()},4425:function(se,te,a){a.d(te,{$:function(){return y}});var N=a(5671),Q=a(3144),t=a(5542),m=a(9808),e=a(7238);function u(w,_){if(1&w&&(t.TgZ(0,"div",4),t.TgZ(1,"div",5),t._uU(2),t.qZA(),t.TgZ(3,"div",6),t.TgZ(4,"span",7),t._uU(5),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"div",8),t._uU(8),t.qZA(),t.qZA()),2&w){var l=t.oxw().$implicit,r=t.oxw();t.ekj("increase",l.difference>0)("decrease",l.difference<0),t.xp6(1),t.Q6J("matTooltip",r.valueToString(l.left,!0)),t.xp6(1),t.Oqu(r.valueToString(l.left)),t.xp6(3),t.Oqu(r.changeToString(l.difference)),t.xp6(1),t.hij(" ",l.name,""),t.xp6(1),t.Q6J("matTooltip",r.valueToString(l.right,!0)),t.xp6(1),t.Oqu(r.valueToString(l.right))}}function D(w,_){if(1&w&&(t.ynx(0),t.YNc(1,u,9,10,"div",3),t.BQk()),2&w){var l=_.$implicit;t.xp6(1),t.Q6J("ngIf",0!==l.difference)}}function Y(w,_){1&w&&(t.TgZ(0,"div",9),t._uU(1,"No differences"),t.qZA())}var y=function(){var w=function(){function _(){(0,N.Z)(this,_),this.differences=[]}return(0,Q.Z)(_,[{key:"valueToString",value:function(r){var g=arguments.length>1&&void 0!==arguments[1]&&arguments[1],v="";return v+("number"==typeof r?r>1e4&&!g?Math.floor(r/1e3)+"k":r:r.min>1e4&&r.max>1e4&&!g?Math.floor(r.min/1e3)+"k - "+Math.floor(r.max/1e3)+"k":r.min+" - "+r.max)}},{key:"changeToString",value:function(r){var g="";return Number.isFinite(r)&&(r>0&&(g="+"),g+=r+"%"),g}}]),_}();return w.\u0275fac=function(l){return new(l||w)},w.\u0275cmp=t.Xpm({type:w,selectors:[["app-compare-view"]],inputs:{differences:"differences"},decls:3,vars:2,consts:[[1,"differences"],[4,"ngFor","ngForOf"],["class","no-differences",4,"ngIf"],["class","difference",3,"increase","decrease",4,"ngIf"],[1,"difference"],[1,"left",3,"matTooltip"],[1,"change"],[1,"value"],[1,"right",3,"matTooltip"],[1,"no-differences"]],template:function(l,r){1&l&&(t.TgZ(0,"div",0),t.YNc(1,D,2,1,"ng-container",1),t.YNc(2,Y,2,0,"div",2),t.qZA()),2&l&&(t.xp6(1),t.Q6J("ngForOf",r.differences),t.xp6(1),t.Q6J("ngIf",0===r.differences.length))},directives:[m.sg,m.O5,e.gM],styles:[".differences[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;grid-gap:8px;gap:8px;min-width:350px}@media (max-width: 374px){.differences[_ngcontent-%COMP%]{min-width:auto}}.differences[_ngcontent-%COMP%]   .no-differences[_ngcontent-%COMP%]{text-align:center}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-gap:8px;gap:8px}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0}@media not all and (min-resolution: .001dpcm){@supports (-webkit-appearance: none){.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex-basis:auto}}}@media (max-width: 374px){.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:none}}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{flex-grow:2;flex-basis:0;text-align:center}@media not all and (min-resolution: .001dpcm){@supports (-webkit-appearance: none){.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{flex-basis:auto}}}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{text-align:left}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.differences[_ngcontent-%COMP%]   .difference.increase[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:green}.differences[_ngcontent-%COMP%]   .difference.decrease[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:red}"]}),w}()},6538:function(se,te,a){a.d(te,{y:function(){return wt}});var N=a(5671),Q=a(3144),t=a(136),m=a(7777),e=a(5542),u=a(2525),D=a(2722),Y=a(648),y=a(2473),w=a(5832),_=a(311),l=a(7469),r=a(2424),g=a(6446),v=a(8966),A=a(9635),L=a(5457),P=a(2206),s=a(9808),U=a(8003);function h(o,f){1&o&&(e.TgZ(0,"div",20),e._uU(1,"Equipped"),e.qZA())}function C(o,f){if(1&o&&(e.TgZ(0,"li"),e.TgZ(1,"div",24),e._UZ(2,"div"),e.qZA(),e._UZ(3,"div",25),e._UZ(4,"div",26),e.qZA()),2&o){var n=f.$implicit;e.ekj("pure",n.isPure),e.xp6(2),e.Tol(n.rarity),e.xp6(1),e.Q6J("innerHTML",n.valueLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",n.statLabel,e.oJD)}}function Z(o,f){if(1&o&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e._uU(2,"Base Stats:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,C,5,7,"li",23),e.qZA(),e.qZA()),2&o){var n=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",n.getNormalAffixes())}}function k(o,f){if(1&o&&(e.TgZ(0,"li"),e.TgZ(1,"div",24),e._UZ(2,"div"),e.qZA(),e._UZ(3,"div",25),e._UZ(4,"div",26),e.qZA()),2&o){var n=f.$implicit;e.ekj("pure",n.isPure),e.xp6(2),e.Tol(n.rarity),e.xp6(1),e.Q6J("innerHTML",n.valueLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",n.statLabel,e.oJD)}}function S(o,f){if(1&o&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e._uU(2,"Magic Stats:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,k,5,7,"li",23),e.qZA(),e.qZA()),2&o){var n=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",n.getMagicAffixes())}}function W(o,f){if(1&o&&(e.TgZ(0,"li"),e.TgZ(1,"div",24),e._UZ(2,"div"),e.qZA(),e._UZ(3,"div",25),e._UZ(4,"div",26),e.qZA()),2&o){var n=f.$implicit;e.ekj("pure",n.isPure),e.xp6(2),e.Tol(n.rarity),e.xp6(1),e.Q6J("innerHTML",n.valueLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",n.statLabel,e.oJD)}}function V(o,f){if(1&o&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e._uU(2,"Rare Stats:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,W,5,7,"li",23),e.qZA(),e.qZA()),2&o){var n=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",n.getRareAffixes())}}function ie(o,f){if(1&o&&(e.TgZ(0,"li"),e.TgZ(1,"div",24),e._UZ(2,"div"),e.qZA(),e._UZ(3,"div",25),e._UZ(4,"div",26),e.qZA()),2&o){var n=f.$implicit;e.ekj("pure",n.isPure),e.xp6(2),e.Tol(n.rarity),e.xp6(1),e.Q6J("innerHTML",n.valueLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",n.statLabel,e.oJD)}}function G(o,f){if(1&o&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e._uU(2,"Epic Stats:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,ie,5,7,"li",23),e.qZA(),e.qZA()),2&o){var n=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",n.getEpicAffixes())}}function ue(o,f){if(1&o&&(e.TgZ(0,"span",35),e._uU(1),e.qZA()),2&o){var n=e.oxw(3);e.xp6(1),e.hij(" ",n.item.legendaryEffect.activable.name,"")}}function ge(o,f){if(1&o&&(e.TgZ(0,"div",6),e._UZ(1,"img",8),e.qZA()),2&o){var n=e.oxw(3);e.xp6(1),e.Q6J("src",n.item.legendaryEffect.skillIcon,e.LSH)}}function pe(o,f){if(1&o&&(e.TgZ(0,"div",27),e.TgZ(1,"div",28),e.TgZ(2,"div",29),e.TgZ(3,"div",22),e.TgZ(4,"div",24),e._UZ(5,"div",30),e.qZA(),e._uU(6),e.TgZ(7,"div",24),e._UZ(8,"div",30),e.qZA(),e.qZA(),e.TgZ(9,"div",31),e._UZ(10,"span",32),e.YNc(11,ue,2,1,"span",33),e.qZA(),e.YNc(12,ge,2,1,"div",34),e.qZA(),e.qZA(),e.qZA()),2&o){var n=e.oxw(2);e.xp6(6),e.hij(" ",n.item.legendaryEffect.title," "),e.xp6(4),e.Q6J("innerHTML",n.item.legendaryEffect.description,e.oJD),e.xp6(1),e.Q6J("ngIf",null!==n.item.legendaryEffect.activable),e.xp6(1),e.Q6J("ngIf",null!==n.item.legendaryEffect.skillIcon)}}function le(o,f){if(1&o&&e._UZ(0,"app-activable-view",36),2&o){var n=e.oxw(2);e.Q6J("activable",n.item.legendaryEffect.activable)("reinforcment",n.item.reinforcment)}}function ve(o,f){if(1&o&&(e.TgZ(0,"div",37),e._UZ(1,"img",8),e._UZ(2,"div",38),e.qZA()),2&o){var n=e.oxw(2);e.xp6(1),e.Q6J("src",n.item.reaperEnchantment.icon,e.LSH),e.xp6(1),e.Q6J("innerHTML",n.item.reaperEnchantment.label,e.oJD)}}function H(o,f){if(1&o&&(e.TgZ(0,"div",39),e._UZ(1,"img",8),e._UZ(2,"div",38),e.qZA()),2&o){var n=e.oxw(2);e.xp6(1),e.Q6J("src",n.item.skillEnchantment.icon,e.LSH),e.xp6(1),e.Q6J("innerHTML",n.item.skillEnchantment.label,e.oJD)}}function X(o,f){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"img",8),e._UZ(2,"div",38),e.qZA()),2&o){var n=e.oxw(2);e.Gre("buff attribute atr-",n.item.attributeEnchantment.craftedAttribute,""),e.xp6(1),e.Q6J("src",n.item.attributeEnchantment.icon,e.LSH),e.xp6(1),e.Q6J("innerHTML",n.item.attributeEnchantment.label,e.oJD)}}function b(o,f){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"div",1),e.TgZ(2,"div",2),e.YNc(3,h,2,0,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e._UZ(7,"img",7),e._UZ(8,"img",8),e.qZA(),e.TgZ(9,"div",9),e._uU(10),e.qZA(),e.TgZ(11,"div",10),e._uU(12,"-"),e.qZA(),e.TgZ(13,"div",11),e._uU(14),e.qZA(),e.TgZ(15,"div"),e._uU(16),e.qZA(),e.qZA(),e._UZ(17,"div",12),e.TgZ(18,"div",13),e.YNc(19,Z,5,1,"div",14),e.YNc(20,S,5,1,"div",14),e.YNc(21,V,5,1,"div",14),e.YNc(22,G,5,1,"div",14),e.qZA(),e.qZA(),e.YNc(23,pe,13,4,"div",15),e.YNc(24,le,1,2,"app-activable-view",16),e.YNc(25,ve,3,2,"div",17),e.YNc(26,H,3,2,"div",18),e.YNc(27,X,3,5,"div",19),e.qZA(),e.qZA()),2&o){var n=e.oxw();e.Gre("item ",n.item.rarity,""),e.ekj("nodetails",!n.details),e.xp6(1),e.Q6J("innerHTML",n.item.name,e.oJD),e.xp6(2),e.Q6J("ngIf",n.equipped),e.xp6(4),e.Q6J("src",n.item.itemIconBackground,e.LSH),e.xp6(1),e.Q6J("src",n.item.icon,e.LSH),e.xp6(2),e.Oqu(n.item.rarityLabel),e.xp6(4),e.Oqu(n.item.baseLabel),e.xp6(2),e.Oqu(n.item.levelLabel),e.xp6(3),e.Q6J("ngIf",n.getNormalAffixes().length>0),e.xp6(1),e.Q6J("ngIf",n.getMagicAffixes().length>0),e.xp6(1),e.Q6J("ngIf",n.getRareAffixes().length>0),e.xp6(1),e.Q6J("ngIf",n.getEpicAffixes().length>0),e.xp6(1),e.Q6J("ngIf",null!==n.item.legendaryEffect),e.xp6(1),e.Q6J("ngIf",null!==n.item.legendaryEffect&&null!==n.item.legendaryEffect.activable),e.xp6(1),e.Q6J("ngIf",null!==n.item.reaperEnchantment),e.xp6(1),e.Q6J("ngIf",null!==n.item.skillEnchantment),e.xp6(1),e.Q6J("ngIf",null!==n.item.attributeEnchantment)}}var K=function(){var o=function(){function f(){(0,N.Z)(this,f),this.item=null,this.equipped=!1,this.details=!0}return(0,Q.Z)(f,[{key:"getNormalAffixes",value:function(){return null===this.item?[]:this.item.affixes.filter(function(i){return i.rarity===P.u.Normal})}},{key:"getMagicAffixes",value:function(){return null===this.item?[]:this.item.affixes.filter(function(i){return i.rarity===P.u.Magic})}},{key:"getRareAffixes",value:function(){return null===this.item?[]:this.item.affixes.filter(function(i){return i.rarity===P.u.Rare})}},{key:"getEpicAffixes",value:function(){return null===this.item?[]:this.item.affixes.filter(function(i){return i.rarity===P.u.Epic})}}]),f}();return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-view"]],inputs:{item:"item",equipped:"equipped",details:"details"},decls:1,vars:1,consts:[[3,"class","nodetails",4,"ngIf"],[1,"head",3,"innerHTML"],[1,"content"],["class","equipped",4,"ngIf"],[1,"main"],[1,"info"],[1,"icon"],[1,"background",3,"src"],[3,"src"],[1,"rarity"],[1,"split"],[1,"base"],[1,"separator"],[1,"stats"],["class","affixes",4,"ngIf"],["class","legendary-effect outer-border",4,"ngIf"],[3,"activable","reinforcment",4,"ngIf"],["class","buff reaper",4,"ngIf"],["class","buff skill",4,"ngIf"],[3,"class",4,"ngIf"],[1,"equipped"],[1,"affixes"],[1,"title"],[3,"pure",4,"ngFor","ngForOf"],[1,"bullet"],[1,"value",3,"innerHTML"],[1,"name",3,"innerHTML"],[1,"legendary-effect","outer-border"],[1,"border"],[1,"inner-border","legendary-description"],[1,"legendary"],[1,"description"],[3,"innerHTML"],["class","value",4,"ngIf"],["class","icon",4,"ngIf"],[1,"value"],[3,"activable","reinforcment"],[1,"buff","reaper"],[1,"info",3,"innerHTML"],[1,"buff","skill"]],template:function(n,i){1&n&&e.YNc(0,b,28,21,"div",0),2&n&&e.Q6J("ngIf",null!==i.item)},directives:[s.O5,s.sg,U.K],styles:['.item.normal[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#898989}.item.magic[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#2e8726}.item.rare[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#176ab1}.item.epic[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#c68d20}.item.legendary[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#ce4607}.item.normal[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#59513c}.item.magic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#61462d}.item.rare[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#7791a1}.item.epic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#efc65c}.item.legendary[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#f5b250}.bullet[_ngcontent-%COMP%]{min-width:8px}.bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}.bullet[_ngcontent-%COMP%]   div.normal[_ngcontent-%COMP%]{background-color:#898989}.bullet[_ngcontent-%COMP%]   div.magic[_ngcontent-%COMP%]{background-color:#2e8726}.bullet[_ngcontent-%COMP%]   div.rare[_ngcontent-%COMP%]{background-color:#176ab1}.bullet[_ngcontent-%COMP%]   div.epic[_ngcontent-%COMP%]{background-color:#c68d20}.bullet[_ngcontent-%COMP%]   div.legendary[_ngcontent-%COMP%]{background-color:#ce4607}.item[_ngcontent-%COMP%]{background-color:#151412;color:#fff;border:2px solid black;min-width:350px}.item[_ngcontent-%COMP%]  .legendary-effect .value, .item[_ngcontent-%COMP%]  .buff .value{color:#fff}.item[_ngcontent-%COMP%]  .range, .item[_ngcontent-%COMP%]  .range .value, .item[_ngcontent-%COMP%]  .details, .item[_ngcontent-%COMP%]  .details .value, .item[_ngcontent-%COMP%]  .formula, .item[_ngcontent-%COMP%]  .formula .value, .item[_ngcontent-%COMP%]  .pure-info, .item[_ngcontent-%COMP%]  .pure-info .value{color:#686868}.item[_ngcontent-%COMP%]  .affixes .range, .item[_ngcontent-%COMP%]  .affixes .value, .item[_ngcontent-%COMP%]  .pure-info{word-break:keep-all;white-space:nowrap}.item.nodetails[_ngcontent-%COMP%]     .details, .item.nodetails[_ngcontent-%COMP%]     .formula{display:none}.item[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%], .item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{border:2px solid}.item[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%]{margin-bottom:2px;text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;padding:15px 10px;grid-gap:15px;gap:15px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;text-transform:capitalize}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:10px;gap:10px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{min-width:80px;width:80px;display:flex;flex-direction:column;align-items:center}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{text-transform:capitalize;text-align:center}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{min-width:56px;min-height:56px;width:56px;height:56px;border:4px solid black;margin-bottom:10px;position:relative}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{background-color:#686868;min-width:2px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;grid-gap:10px;gap:10px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#686868}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;list-style:disc inside;padding-left:0}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:flex;flex-direction:row;padding-left:5px;grid-gap:5px;gap:5px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pure[_ngcontent-%COMP%]{color:#46e7b0;background:linear-gradient(90deg,rgba(70,231,176,.3) 0%,rgba(70,231,176,0) 100%)}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pure[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:after{content:" !!"}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex-grow:1}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-effect.outer-border[_ngcontent-%COMP%]{border:3px solid black}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-effect.outer-border[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{border:2px solid #2e2c25}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-effect.outer-border[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]{border:3px solid black}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px 30px;grid-gap:5px;gap:5px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;grid-gap:5px;gap:5px;color:#686868}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:center}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-top:5px;min-width:36px;min-height:36px;width:36px;height:36px;border:3px solid black;padding:2px;background-color:#2e2c25}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff[_ngcontent-%COMP%]{border:3px solid #3b3831;padding:5px 36px;text-align:center;position:relative}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:-6px;top:50%;margin-top:-22px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.reaper[_ngcontent-%COMP%]{color:#148e89}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.skill[_ngcontent-%COMP%]{color:#ce4607}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-0[_ngcontent-%COMP%]{color:#2f5996}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-1[_ngcontent-%COMP%]{color:#a83007}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-2[_ngcontent-%COMP%]{color:#79b549}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-3[_ngcontent-%COMP%]{color:#d0b545}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-4[_ngcontent-%COMP%]{color:#4bc1b2}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-5[_ngcontent-%COMP%]{color:#753098}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-6[_ngcontent-%COMP%]{color:#cd7028}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-7[_ngcontent-%COMP%]{color:#bf3c59}']}),o}(),x=a(4425),q=function(){var o=(0,Q.Z)(function f(n,i,p,M,B){(0,N.Z)(this,f),this.slormancerItemService=i,this.slormancerCharacterBuilderService=p,this.slormancerCharacterUpdaterService=M,this.slormancerCharacterComparatorService=B;var $=this.slormancerCharacterBuilderService.getCharacterClone(n.character),ae=this.slormancerCharacterBuilderService.getCharacterClone(n.character);$.gear[n.slot]=this.slormancerItemService.getEquipableItemClone(n.left),ae.gear[n.slot]=this.slormancerItemService.getEquipableItemClone(n.right),this.slormancerCharacterUpdaterService.updateCharacter($,n.config),this.slormancerCharacterUpdaterService.updateCharacter(ae,n.config),this.left=n.left,this.right=n.right,this.differences=this.slormancerCharacterComparatorService.compareCharacters($,ae)});return o.\u0275fac=function(n){return new(n||o)(e.Y36(v.WI),e.Y36(w.S),e.Y36(y.o),e.Y36(L.P),e.Y36(A.P))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-compare-item-modal"]],decls:8,vars:6,consts:[["mat-dialog-title",""],[1,"item"],[3,"item","equipped"],[3,"differences"],[3,"item"]],template:function(n,i){1&n&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"div",1),e._UZ(4,"app-item-view",2),e.qZA(),e._UZ(5,"app-compare-view",3),e.TgZ(6,"div",1),e._UZ(7,"app-item-view",4),e.qZA(),e.qZA()),2&n&&(e.xp6(1),e.AsE("",i.left.name," - ",i.right.name,""),e.xp6(3),e.Q6J("item",i.left)("equipped",!0),e.xp6(1),e.Q6J("differences",i.differences),e.xp6(2),e.Q6J("item",i.right))},directives:[v.uh,v.xY,K,x.$],styles:["h2[_ngcontent-%COMP%]{display:none;text-align:center}@media (max-width: 992px){h2[_ngcontent-%COMP%]{display:block}}mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:20px;gap:20px}@media (max-width: 992px){mat-dialog-content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:none}mat-dialog-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:block}}@media (max-width: 374px){mat-dialog-content[_ngcontent-%COMP%]   app-compare-view[_ngcontent-%COMP%]{width:100%}}mat-dialog-content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:370px;min-width:380px;overflow-y:auto}"]}),o}(),E=a(4456),j=a(7423);function z(o,f){if(1&o&&(e.TgZ(0,"button",3),e._uU(1),e.qZA()),2&o){var n=f.$implicit;e.Q6J("mat-dialog-close",n),e.xp6(1),e.Oqu(n)}}var me=function(){var o=function(){function f(n){(0,N.Z)(this,f),this.dialogRef=n,this.EQUIPABLE_ITEM_BASE_VALUES=E.l}return(0,Q.Z)(f,[{key:"selectBase",value:function(i){this.dialogRef.close(i)}}]),f}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(v.so))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-base-choice-modal"]],decls:7,vars:2,consts:[["mat-dialog-title",""],["mat-flat-button","","color","primary",3,"mat-dialog-close",4,"ngFor","ngForOf"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","color","primary",3,"mat-dialog-close"]],template:function(n,i){1&n&&(e.TgZ(0,"h2",0),e._uU(1,"Choose a base for your item"),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.YNc(3,z,2,2,"button",1),e.qZA(),e.TgZ(4,"mat-dialog-actions"),e.TgZ(5,"button",2),e._uU(6,"Cancel"),e.qZA(),e.qZA()),2&n&&(e.xp6(3),e.Q6J("ngForOf",i.EQUIPABLE_ITEM_BASE_VALUES),e.xp6(2),e.Q6J("mat-dialog-close",null))},directives:[v.uh,v.xY,s.sg,v.H8,j.lW,v.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:8px;gap:8px}"]}),o}(),F=a(3075),fe=a(4373),he=a(1093),ce=a(9377),He=a(7795),Ne=a(7189),Oe=a(5581),Pe=a(3300),de=a(7322),Be=a(7531),Ie=a(2107),Me=a(3874),ye=a(4102),xe=a(508),Te=a(8029);function qe(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().addLegendaryEffect()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function Qe(o,f){if(1&o&&(e.TgZ(0,"mat-option",16),e._UZ(1,"span",17),e.qZA()),2&o){var n=f.$implicit;e.Q6J("value",n.value),e.xp6(1),e.Q6J("innerHTML",n.label,e.oJD)}}function Fe(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"mat-slider",18),e.NdJ("input",function(p){return e.CHM(n),e.oxw(2).updateSliderValue(p)}),e.qZA()}2&o&&e.Q6J("min",75)("max",100)("step",1)}function Ye(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"mat-form-field",8),e.TgZ(3,"mat-label"),e._uU(4,"Legendary effect"),e.qZA(),e.TgZ(5,"mat-select",9),e.YNc(6,Qe,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",11),e.YNc(8,Fe,1,3,"mat-slider",12),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"div",14),e._uU(11),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){return e.CHM(n),e.oxw().removeLegendaryEffect()}),e.TgZ(13,"mat-icon"),e._uU(14,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("ngIf",i.hasLegendaryValues()),e.xp6(3),e.hij(" ",i.displayedValue," ")}}var Ve=function(){var o=function(){function f(n){(0,N.Z)(this,f),this.itemFormService=n,this.base=E.J.Amulet,this.heroClass=Ie.i.Huntress,this.legendaryEffect=null,this.form=null,this.reinforcment=null,this.options=[],this.displayedValue=""}return(0,Q.Z)(f,[{key:"ngOnChanges",value:function(){this.options=this.itemFormService.getLegendaryOptions(this.base,this.heroClass),null!==this.legendaryEffect&&this.updateLegendaryValueLabel(this.legendaryEffect.value)}},{key:"updateLegendaryValueLabel",value:function(i){this.displayedValue="",null!==this.legendaryEffect&&null!==i&&(this.displayedValue=this.legendaryEffect.effects.filter(function(p){return p.possibleCraftedValues.length>1}).map(function(p){var M=p.effect.percent?"%":"";return(0,Oe.AW)(p,i)+M}).join(" / "))}},{key:"hasLegendaryValues",value:function(){return null!==this.legendaryEffect&&this.legendaryEffect.effects.filter(function(i){return i.possibleCraftedValues.length>1}).length>0}},{key:"updateSliderValue",value:function(i){this.displayedValue="";var p=i.value;null!==this.legendaryEffect&&null!==p&&this.updateLegendaryValueLabel(p)}},{key:"removeLegendaryEffect",value:function(){null!==this.form&&this.form.patchValue({id:null})}},{key:"addLegendaryEffect",value:function(){var i=this.options[0];null!==this.form&&i&&this.form.patchValue({id:i.value,value:100})}}]),f}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(Pe.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-legendary-effect"]],inputs:{base:"base",heroClass:"heroClass",legendaryEffect:"legendaryEffect",form:"form",reinforcment:"reinforcment"},features:[e.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","id"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input",4,"ngIf"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"],["color","primary","formControlName","value",3,"min","max","step","input"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"Legendary effect :"),e.qZA(),e.YNc(3,qe,4,0,"div",2),e.qZA(),e.YNc(4,Ye,15,4,"div",3)),2&n&&(e.xp6(3),e.Q6J("ngIf",null!==i.form&&null===i.legendaryEffect),e.xp6(1),e.Q6J("ngIf",null!==i.form&&null!==i.legendaryEffect))},directives:[s.O5,j.lW,Me.Hw,F.JL,F.sg,de.KE,de.hX,ye.gD,F.JJ,F.u,s.sg,xe.ey,Te.pH],styles:[""]}),o}();function Ke(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().addReaperEnchantment()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function We(o,f){if(1&o&&(e.TgZ(0,"mat-option",16),e._UZ(1,"span",17),e.qZA()),2&o){var n=f.$implicit;e.Q6J("value",n.value),e.xp6(1),e.Q6J("innerHTML",n.label,e.oJD)}}function je(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"mat-form-field",8),e.TgZ(3,"mat-label"),e._uU(4,"Reaper Enchantment"),e.qZA(),e.TgZ(5,"mat-select",9),e.YNc(6,We,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",11),e.TgZ(8,"mat-slider",12),e.NdJ("input",function(M){return e.CHM(n),e.oxw().updateSliderValue(M)}),e.qZA(),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"div",14),e._uU(11),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){return e.CHM(n),e.oxw().removeReaperEnchantment()}),e.TgZ(13,"mat-icon"),e._uU(14,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("min",1)("max",5)("step",1),e.xp6(3),e.hij(" ",i.displayedValue," ")}}var Ge=function(){var o=function(){function f(n){(0,N.Z)(this,f),this.itemFormService=n,this.reaperEnchantment=null,this.form=null,this.options=[],this.displayedValue=""}return(0,Q.Z)(f,[{key:"ngOnChanges",value:function(){this.options=this.itemFormService.getReaperBuffOptions(),null!==this.reaperEnchantment&&this.updateReaperEnchantmentValueLabel(this.reaperEnchantment.effect.value)}},{key:"updateReaperEnchantmentValueLabel",value:function(i){this.displayedValue="",null!==this.reaperEnchantment&&null!==i&&(this.displayedValue="+"+(0,Oe.Be)(this.reaperEnchantment.craftableValues[i],0))}},{key:"updateSliderValue",value:function(i){this.displayedValue="";var p=i.value;null!==this.reaperEnchantment&&null!==p&&this.updateReaperEnchantmentValueLabel(p)}},{key:"removeReaperEnchantment",value:function(){null!==this.form&&this.form.patchValue({smith:null})}},{key:"addReaperEnchantment",value:function(){var i=this.options[0];null!==this.form&&i&&this.form.patchValue({smith:i.value,value:5})}}]),f}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(Pe.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-buff-reaper"]],inputs:{reaperEnchantment:"reaperEnchantment",form:"form"},features:[e.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","form-add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"form-add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","smith"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"Reaper Enchantment :"),e.qZA(),e.YNc(3,Ke,4,0,"div",2),e.qZA(),e.YNc(4,je,15,6,"div",3)),2&n&&(e.xp6(3),e.Q6J("ngIf",null!==i.form&&null===i.reaperEnchantment),e.xp6(1),e.Q6J("ngIf",null!==i.form&&null!==i.reaperEnchantment))},directives:[s.O5,j.lW,Me.Hw,F.JL,F.sg,de.KE,de.hX,ye.gD,F.JJ,F.u,s.sg,Te.pH,xe.ey],styles:[""]}),o}();function O(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().addSkillEnchantment()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function R(o,f){if(1&o&&(e.TgZ(0,"mat-option",16),e._UZ(1,"span",17),e.qZA()),2&o){var n=f.$implicit;e.Q6J("value",n.value),e.xp6(1),e.Q6J("innerHTML",n.label,e.oJD)}}function d(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"mat-form-field",8),e.TgZ(3,"mat-label"),e._uU(4,"Skill Enchantment"),e.qZA(),e.TgZ(5,"mat-select",9),e.YNc(6,R,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",11),e.TgZ(8,"mat-slider",12),e.NdJ("input",function(M){return e.CHM(n),e.oxw().updateSliderValue(M)}),e.qZA(),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"div",14),e._uU(11),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){return e.CHM(n),e.oxw().removeSkillEnchantment()}),e.TgZ(13,"mat-icon"),e._uU(14,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("min",1)("max",2)("step",1),e.xp6(3),e.hij(" ",i.displayedValue," ")}}var c=function(){var o=function(){function f(n){(0,N.Z)(this,f),this.itemFormService=n,this.heroClass=Ie.i.Huntress,this.skillEnchantment=null,this.form=null,this.options=[],this.displayedValue=""}return(0,Q.Z)(f,[{key:"ngOnChanges",value:function(){this.options=this.itemFormService.getSkillBuffOptions(this.heroClass),null!==this.skillEnchantment&&this.updateSkillEnchantmentValueLabel(this.skillEnchantment.effect.value)}},{key:"updateSkillEnchantmentValueLabel",value:function(i){this.displayedValue="",null!==this.skillEnchantment&&null!==i&&(this.displayedValue="+"+(0,Oe.Be)(this.skillEnchantment.craftableValues[i],0))}},{key:"updateSliderValue",value:function(i){this.displayedValue="";var p=i.value;null!==this.skillEnchantment&&null!==p&&this.updateSkillEnchantmentValueLabel(p)}},{key:"removeSkillEnchantment",value:function(){null!==this.form&&this.form.patchValue({skill:null})}},{key:"addSkillEnchantment",value:function(){var i=this.options[0];null!==this.form&&i&&this.form.patchValue({skill:i.value,value:2})}}]),f}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(Pe.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-buff-skill"]],inputs:{heroClass:"heroClass",skillEnchantment:"skillEnchantment",form:"form"},features:[e.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","skill"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"Skill Enchantment :"),e.qZA(),e.YNc(3,O,4,0,"div",2),e.qZA(),e.YNc(4,d,15,6,"div",3)),2&n&&(e.xp6(3),e.Q6J("ngIf",null!==i.form&&null===i.skillEnchantment),e.xp6(1),e.Q6J("ngIf",null!==i.form&&null!==i.skillEnchantment))},directives:[s.O5,j.lW,Me.Hw,F.JL,F.sg,de.KE,de.hX,ye.gD,F.JJ,F.u,s.sg,Te.pH,xe.ey],styles:[""]}),o}();function I(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().addAttributeEnchantment()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function T(o,f){if(1&o&&(e.TgZ(0,"mat-option",16),e._UZ(1,"span",17),e.qZA()),2&o){var n=f.$implicit;e.Q6J("value",n.value),e.xp6(1),e.Q6J("innerHTML",n.label,e.oJD)}}function J(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"mat-form-field",8),e.TgZ(3,"mat-label"),e._uU(4,"Attribute Enchantment"),e.qZA(),e.TgZ(5,"mat-select",9),e.YNc(6,T,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",11),e.TgZ(8,"mat-slider",12),e.NdJ("input",function(M){return e.CHM(n),e.oxw().updateSliderValue(M)}),e.qZA(),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"div",14),e._uU(11),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){return e.CHM(n),e.oxw().removeAttributeEnchantment()}),e.TgZ(13,"mat-icon"),e._uU(14,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("min",1)("max",3)("step",1),e.xp6(3),e.hij(" ",i.displayedValue," ")}}var ne=function(){var o=function(){function f(n){(0,N.Z)(this,f),this.itemFormService=n,this.attributeEnchantment=null,this.form=null,this.options=[],this.displayedValue=""}return(0,Q.Z)(f,[{key:"ngOnChanges",value:function(){this.options=this.itemFormService.getAttributeBuffOptions(),null!==this.attributeEnchantment&&this.updateAttributeEnchantmentValueLabel(this.attributeEnchantment.effect.value)}},{key:"updateAttributeEnchantmentValueLabel",value:function(i){this.displayedValue="",null!==this.attributeEnchantment&&null!==i&&(this.displayedValue="+"+(0,Oe.Be)(this.attributeEnchantment.craftableValues[i],0))}},{key:"updateSliderValue",value:function(i){this.displayedValue="";var p=i.value;null!==this.attributeEnchantment&&null!==p&&this.updateAttributeEnchantmentValueLabel(p)}},{key:"removeAttributeEnchantment",value:function(){null!==this.form&&this.form.patchValue({attribute:null})}},{key:"addAttributeEnchantment",value:function(){var i=this.options[0];null!==this.form&&i&&this.form.patchValue({attribute:i.value,value:3})}}]),f}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(Pe.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-buff-attribute"]],inputs:{attributeEnchantment:"attributeEnchantment",form:"form"},features:[e.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","attribute"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"Attribute Enchantment :"),e.qZA(),e.YNc(3,I,4,0,"div",2),e.qZA(),e.YNc(4,J,15,6,"div",3)),2&n&&(e.xp6(3),e.Q6J("ngIf",null!==i.form&&null===i.attributeEnchantment),e.xp6(1),e.Q6J("ngIf",null!==i.form&&null!==i.attributeEnchantment))},directives:[s.O5,j.lW,Me.Hw,F.JL,F.sg,de.KE,de.hX,ye.gD,F.JJ,F.u,s.sg,Te.pH,xe.ey],styles:[""]}),o}(),oe=a(7446);function _e(o,f){if(1&o&&(e.TgZ(0,"mat-option",13),e._UZ(1,"span",14),e.qZA()),2&o){var n=f.$implicit,i=e.oxw(2);e.Q6J("disabled",i.isOptionDisabled(n.value))("value",n.value),e.xp6(1),e.Q6J("innerHTML",n.label,e.oJD)}}function Ee(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"mat-slider",15),e.NdJ("input",function(M){return e.CHM(n),e.oxw(2).updateSliderStat(M)}),e.qZA()}if(2&o){var i=e.oxw(2);e.Q6J("min",i.affix.craftedEffect.minPossibleCraftedValue)("max",i.affix.craftedEffect.maxPossibleCraftedValue)("step",1)}}function Le(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"mat-slider",16),e.NdJ("input",function(p){return e.CHM(n),e.oxw(2).updateSliderPurity(p)}),e.qZA()}2&o&&e.Q6J("min",101)("max",200)("step",1)}function we(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"mat-form-field",3),e.TgZ(3,"mat-label"),e._uU(4,"Stat"),e.qZA(),e.TgZ(5,"mat-select",4),e.YNc(6,_e,2,3,"mat-option",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",6),e.YNc(8,Ee,1,3,"mat-slider",7),e.YNc(9,Le,1,3,"mat-slider",8),e.qZA(),e.TgZ(10,"div",9),e.TgZ(11,"div",10),e._uU(12),e.qZA(),e.TgZ(13,"mat-checkbox",11),e.NdJ("change",function(M){return e.CHM(n),e.oxw().purityChanged(M)}),e._uU(14,"Pure"),e.qZA(),e.TgZ(15,"button",12),e.NdJ("click",function(){return e.CHM(n),e.oxw().removeStat()}),e.TgZ(16,"mat-icon"),e._uU(17,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("ngIf",!i.affix.isPure),e.xp6(1),e.Q6J("ngIf",i.affix.isPure),e.xp6(2),e.ekj("pure",i.affix.isPure),e.xp6(1),e.hij(" ",i.displayedValue," "),e.xp6(1),e.Q6J("checked",i.affix.isPure),e.xp6(2),e.Q6J("disabled",!i.removable)}}var Ae=function(){var o=function(){function f(n){(0,N.Z)(this,f),this.itemFormService=n,this.base=E.J.Amulet,this.alreadyUsedStats=[],this.affix=null,this.form=null,this.removable=!1,this.remove=new e.vpe,this.options=[],this.displayedValue=""}return(0,Q.Z)(f,[{key:"ngOnChanges",value:function(){null!==this.affix&&(this.options=this.itemFormService.getStatsOptions(this.base,this.affix.rarity),this.affix.isPure?this.setPuritylabel(this.affix.pure):this.setStatLabel(this.affix.craftedEffect.craftedValue))}},{key:"isOptionDisabled",value:function(i){return-1!==this.alreadyUsedStats.indexOf(i)&&null!==this.affix&&i!==this.affix.craftedEffect.effect.stat}},{key:"purityChanged",value:function(i){null!==this.affix&&null!==this.form&&this.form.patchValue(i.checked?{purity:101}:{purity:100})}},{key:"updateSliderPurity",value:function(i){null!==i.value&&this.setPuritylabel(i.value)}},{key:"updateSliderStat",value:function(i){null!==i.value&&this.setStatLabel(i.value)}},{key:"setPuritylabel",value:function(i){this.displayedValue=Math.round(i-100)+"%"}},{key:"setStatLabel",value:function(i){if(this.displayedValue="",null!==this.affix){var p=this.affix.craftedEffect.effect.percent?"%":"";this.displayedValue=null===this.affix?"":"+"+((0,Oe.AW)(this.affix.craftedEffect,i)+p)}}},{key:"removeStat",value:function(){this.remove.emit()}}]),f}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(Pe.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-stat"]],inputs:{base:"base",alreadyUsedStats:"alreadyUsedStats",affix:"affix",form:"form",removable:"removable"},outputs:{remove:"remove"},features:[e.TTD],decls:1,vars:1,consts:[["class","stat-line",3,"formGroup",4,"ngIf"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline","color","primary",1,"no-error-padding"],["formControlName","stat","color","primary"],[3,"disabled","value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input",4,"ngIf"],["color","accent","formControlName","purity",3,"min","max","step","input",4,"ngIf"],[1,"additional"],[1,"value"],["color","primary",3,"checked","change"],["mat-icon-button","","color","primary","type","button",3,"disabled","click"],[3,"disabled","value"],[3,"innerHTML"],["color","primary","formControlName","value",3,"min","max","step","input"],["color","accent","formControlName","purity",3,"min","max","step","input"]],template:function(n,i){1&n&&e.YNc(0,we,18,9,"div",0),2&n&&e.Q6J("ngIf",null!==i.form&&null!==i.affix)},directives:[s.O5,F.JL,F.sg,de.KE,de.hX,ye.gD,F.JJ,F.u,s.sg,oe.oG,j.lW,Me.Hw,xe.ey,Te.pH],styles:[".pure[_ngcontent-%COMP%]{color:#20d787}"]}),o}();function Ue(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).addBasicAffix()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function Xe(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"app-item-edit-stat",25),e.NdJ("remove",function(){e.CHM(n);var ae=e.oxw().index;return e.oxw(3).removeAffix(ae)}),e.qZA()}if(2&o){var i=e.oxw(),p=i.$implicit,M=i.index,B=e.oxw(3);e.Q6J("form",p)("base",B.item.base)("alreadyUsedStats",B.alreadyUsedStats)("affix",B.getAffix(M))("removable",!1)}}function ze(o,f){if(1&o&&(e.ynx(0),e.YNc(1,Xe,1,5,"app-item-edit-stat",24),e.BQk()),2&o){var n=f.$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",i.isBasicStat(n))}}function Je(o,f){if(1&o&&(e.ynx(0),e.YNc(1,ze,2,1,"ng-container",14),e.BQk()),2&o){var n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.getAffixControls())}}function De(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).addMagicAffix()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function Ce(o,f){if(1&o&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e._uU(2," Magic Stats : "),e.qZA(),e.YNc(3,De,4,0,"div",11),e.qZA()),2&o){var n=e.oxw(2);e.xp6(3),e.Q6J("ngIf",n.hasBasicStats()&&!n.hasMaximumMagicStats())}}function be(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"app-item-edit-stat",25),e.NdJ("remove",function(){e.CHM(n);var ae=e.oxw().index;return e.oxw(2).removeAffix(ae)}),e.qZA()}if(2&o){var i=e.oxw(),p=i.$implicit,M=i.index,B=e.oxw(2);e.Q6J("form",p)("base",B.item.base)("alreadyUsedStats",B.alreadyUsedStats)("affix",B.getAffix(M))("removable",!B.hasRareStats()&&!B.hasEpicStats())}}function $e(o,f){if(1&o&&(e.ynx(0),e.YNc(1,be,1,5,"app-item-edit-stat",24),e.BQk()),2&o){var n=f.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.isMagicStat(n))}}function et(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).addRareAffix()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function Re(o,f){if(1&o&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e._uU(2," Rare Stats : "),e.qZA(),e.YNc(3,et,4,0,"div",11),e.qZA()),2&o){var n=e.oxw(2);e.xp6(3),e.Q6J("ngIf",n.hasMagicStats()&&!n.hasMaximumRareStats())}}function tt(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"app-item-edit-stat",25),e.NdJ("remove",function(){e.CHM(n);var ae=e.oxw().index;return e.oxw(2).removeAffix(ae)}),e.qZA()}if(2&o){var i=e.oxw(),p=i.$implicit,M=i.index,B=e.oxw(2);e.Q6J("form",p)("base",B.item.base)("alreadyUsedStats",B.alreadyUsedStats)("affix",B.getAffix(M))("removable",!B.hasEpicStats())}}function ut(o,f){if(1&o&&(e.ynx(0),e.YNc(1,tt,1,5,"app-item-edit-stat",24),e.BQk()),2&o){var n=f.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.isRareStat(n))}}function gt(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).addEpicAffix()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function _t(o,f){if(1&o&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e._uU(2," Epic Stats : "),e.qZA(),e.YNc(3,gt,4,0,"div",11),e.qZA()),2&o){var n=e.oxw(2);e.xp6(3),e.Q6J("ngIf",n.hasRareStats()&&!n.hasMaximumEpicStats())}}function dt(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"app-item-edit-stat",25),e.NdJ("remove",function(){e.CHM(n);var ae=e.oxw().index;return e.oxw(2).removeAffix(ae)}),e.qZA()}if(2&o){var i=e.oxw(),p=i.$implicit,M=i.index,B=e.oxw(2);e.Q6J("form",p)("base",B.item.base)("alreadyUsedStats",B.alreadyUsedStats)("affix",B.getAffix(M))("removable",!0)}}function pt(o,f){if(1&o&&(e.ynx(0),e.YNc(1,dt,1,5,"app-item-edit-stat",24),e.BQk()),2&o){var n=f.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.isEpicStat(n))}}function ft(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"form",1),e.NdJ("submit",function(){return e.CHM(n),e.oxw().submit()}),e.TgZ(1,"mat-dialog-content"),e.TgZ(2,"div",2),e._UZ(3,"app-item-view",3),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"mat-form-field",6),e.TgZ(7,"mat-label"),e._uU(8,"Item level"),e.qZA(),e._UZ(9,"input",7),e.TgZ(10,"mat-error"),e._uU(11),e.qZA(),e.qZA(),e.TgZ(12,"mat-form-field",6),e.TgZ(13,"mat-label"),e._uU(14,"Item reinforcment"),e.qZA(),e._UZ(15,"input",8),e.TgZ(16,"mat-error"),e._uU(17,"Reinforcment must be >= 0"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",9),e.TgZ(19,"div",10),e._uU(20," Base Stats : "),e.qZA(),e.YNc(21,Ue,4,0,"div",11),e.qZA(),e.YNc(22,Je,2,1,"ng-container",12),e.YNc(23,Ce,4,1,"div",13),e.YNc(24,$e,2,1,"ng-container",14),e.YNc(25,Re,4,1,"div",13),e.YNc(26,ut,2,1,"ng-container",14),e.YNc(27,_t,4,1,"div",13),e.YNc(28,pt,2,1,"ng-container",14),e._UZ(29,"app-item-edit-legendary-effect",15),e._UZ(30,"app-item-edit-buff-reaper",16),e._UZ(31,"app-item-edit-buff-skill",17),e._UZ(32,"app-item-edit-buff-attribute",18),e.qZA(),e.qZA(),e.TgZ(33,"mat-dialog-actions"),e.TgZ(34,"button",19),e._uU(35,"Cancel"),e.qZA(),e.TgZ(36,"button",20),e.NdJ("click",function(){return e.CHM(n),e.oxw().reset()}),e._uU(37,"Reset"),e.qZA(),e.TgZ(38,"button",21),e._uU(39,"Submit"),e.qZA(),e.qZA(),e.qZA()}if(2&o){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(3),e.Q6J("item",i.item)("details",!0),e.xp6(8),e.hij("Level must be between 1 and ",i.MAX_ITEM_LEVEL,""),e.xp6(10),e.Q6J("ngIf",!i.hasMaximumBasicStats()),e.xp6(1),e.Q6J("ngIf",i.hasBasicStats()),e.xp6(1),e.Q6J("ngIf",i.hasBasicStats()),e.xp6(1),e.Q6J("ngForOf",i.getAffixControls()),e.xp6(1),e.Q6J("ngIf",i.hasMagicStats()),e.xp6(1),e.Q6J("ngForOf",i.getAffixControls()),e.xp6(1),e.Q6J("ngIf",i.hasRareStats()),e.xp6(1),e.Q6J("ngForOf",i.getAffixControls()),e.xp6(1),e.Q6J("base",i.item.base)("reinforcment",i.item.reinforcment)("heroClass",i.item.heroClass)("legendaryEffect",i.item.legendaryEffect)("form",i.getLegendaryEffectForm()),e.xp6(1),e.Q6J("reaperEnchantment",i.item.reaperEnchantment)("form",i.getReaperEnchantmentForm()),e.xp6(1),e.Q6J("heroClass",i.item.heroClass)("skillEnchantment",i.item.skillEnchantment)("form",i.getSkillEnchantmentForm()),e.xp6(1),e.Q6J("attributeEnchantment",i.item.attributeEnchantment)("form",i.getAttributeEnchantmentForm())}}var vt=function(){var o=function(){function f(n,i,p,M,B,$,ae,re,ee){(0,N.Z)(this,f),this.dialogRef=n,this.slormancerCharacterUpdaterService=i,this.slormancerItemService=p,this.slormancerDataService=M,this.slormancerAffixService=B,this.slormancerLegendaryEffectService=$,this.formOptionsService=ae,this.buildStorageService=re,this.MAX_ITEM_LEVEL=fe.Sb,this.maxBasicStats=0,this.alreadyUsedStats=[],this.originalItem=ee.item,this.maxLevel=ee.maxLevel,this.character=ee.character,this.item=ee.item,this.reset()}return(0,Q.Z)(f,[{key:"reset",value:function(){Object.assign(this.item,this.slormancerItemService.getEquipableItemClone(this.originalItem)),this.form=this.buildForm()}},{key:"submit",value:function(){this.form.valid&&this.dialogRef.close(this.item)}},{key:"updatePreview",value:function(i){var p=this,M=this.item;if(i.valid){var B=i.value;if(M.level=B.level,M.reinforcment=B.reinforcment,M.affixes.forEach(function(Se,ct){var ke=i.get("affixes."+ct);if(null!==ke){var Ut=ke.get("purity").value,st=ke.get("value").value,mt=ke.get("stat").value,Jt=ke.get("rarity").value;if(Se.craftedEffect.effect.stat!==mt){var at=p.slormancerAffixService.getAffixFromStat(mt,M.level,M.reinforcment,Jt,st);null!==at&&(M.affixes[ct]=at,Se=at)}Se.craftedEffect.craftedValue=st,Se.pure=Ut}}),null!==B.legendaryEffect){var $=B.legendaryEffect.id,ae=B.legendaryEffect.value;null===$?M.legendaryEffect=null:null===M.legendaryEffect||M.legendaryEffect.id!==$?M.legendaryEffect=this.slormancerLegendaryEffectService.getLegendaryEffectById($,ae,M.reinforcment,M.heroClass):M.legendaryEffect.value=ae}if(null!==B.reaper){var re=B.reaper.smith,ee=B.reaper.value;null===re?M.reaperEnchantment=null:null===M.reaperEnchantment||M.reaperEnchantment.craftedReaperSmith!==re?M.reaperEnchantment=this.slormancerItemService.getReaperEnchantment(re,ee):M.reaperEnchantment.craftedValue=ee}if(null!==B.skill){var Ze=B.skill.skill,ot=B.skill.value;null===Ze?M.skillEnchantment=null:null===M.skillEnchantment||M.skillEnchantment.craftedSkill!==Ze?M.skillEnchantment=this.slormancerItemService.getSkillEnchantment(Ze,ot):M.skillEnchantment.craftedValue=ot}if(null!==B.attribute){var nt=B.attribute.attribute,rt=B.attribute.value;null===nt?M.attributeEnchantment=null:null===M.attributeEnchantment||M.attributeEnchantment.craftedAttribute!==nt?M.attributeEnchantment=this.slormancerItemService.getAttributeEnchantment(nt,rt):M.attributeEnchantment.craftedValue=rt}this.alreadyUsedStats=M.affixes.map(function(Se){return Se.craftedEffect.effect.stat}),this.slormancerItemService.updateEquipableItemModel(M);var lt=this.buildStorageService.getBuild();this.slormancerCharacterUpdaterService.updateCharacter(this.character,null!==lt?lt.configuration:he.g,!1,M),this.slormancerItemService.updateEquipableItemView(M)}}},{key:"affixToForm",value:function(i){return new F.cw({rarity:new F.NI(i.rarity),value:new F.NI(i.craftedEffect.craftedValue),purity:new F.NI(i.pure),stat:new F.NI(i.craftedEffect.effect.stat)})}},{key:"legendaryEffectToForm",value:function(i){return new F.cw({id:new F.NI(null===i?null:i.id),value:new F.NI(null===i?100:i.value)})}},{key:"buildForm",value:function(){var i=this,M=new F.cw({level:new F.NI(this.item.level,[F.kI.required,F.kI.min(1),F.kI.max(this.MAX_ITEM_LEVEL),F.kI.pattern(/^[0-9]+$/)]),reinforcment:new F.NI(this.item.reinforcment,[F.kI.required,F.kI.min(0),F.kI.pattern(/^[0-9]+$/)]),affixes:new F.Oe(this.item.affixes.map(function(B){return i.affixToForm(B)})),legendaryEffect:this.legendaryEffectToForm(this.item.legendaryEffect),reaper:new F.cw({smith:new F.NI(null===this.item.reaperEnchantment?null:this.item.reaperEnchantment.craftedReaperSmith),value:new F.NI(null===this.item.reaperEnchantment?5:this.item.reaperEnchantment.craftedValue)}),skill:new F.cw({skill:new F.NI(null===this.item.skillEnchantment?null:this.item.skillEnchantment.craftedSkill),value:new F.NI(null===this.item.skillEnchantment?2:this.item.skillEnchantment.craftedValue)}),attribute:new F.cw({attribute:new F.NI(null===this.item.attributeEnchantment?null:this.item.attributeEnchantment.craftedAttribute),value:new F.NI(null===this.item.attributeEnchantment?2:this.item.attributeEnchantment.craftedValue)})});return M.valueChanges.subscribe(function(){i.updatePreview(M)}),this.updatePreview(M),this.maxBasicStats=this.slormancerDataService.getBaseMaxBasicStat(this.item.base),M}},{key:"getAffixControls",value:function(){var i=this.form.get("affixes");return null!==i?i.controls:[]}},{key:"isBasicStat",value:function(i){var p=i.get("rarity");return null!==p&&p.value===P.u.Normal}},{key:"hasBasicStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isBasicStat(p)}).length>0}},{key:"hasMaximumBasicStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isBasicStat(p)}).length>=this.maxBasicStats}},{key:"isMagicStat",value:function(i){var p=i.get("rarity");return null!==p&&p.value===P.u.Magic}},{key:"hasMagicStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isMagicStat(p)}).length>0}},{key:"hasMaximumMagicStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isMagicStat(p)}).length>=fe.aH}},{key:"isRareStat",value:function(i){var p=i.get("rarity");return null!==p&&p.value===P.u.Rare}},{key:"hasRareStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isRareStat(p)}).length>0}},{key:"hasMaximumRareStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isRareStat(p)}).length>=fe.bm}},{key:"isEpicStat",value:function(i){var p=i.get("rarity");return null!==p&&p.value===P.u.Epic}},{key:"hasEpicStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isEpicStat(p)}).length>0}},{key:"hasMaximumEpicStats",value:function(){var i=this;return this.getAffixControls().filter(function(p){return i.isEpicStat(p)}).length>=fe.hc}},{key:"getAffix",value:function(i){return null===this.item?null:(0,Oe.lA)(this.item.affixes[i])}},{key:"removeAffix",value:function(i){var p=this.form.get("affixes");null!==p&&(p.removeAt(i),this.item.affixes.splice(i,1),this.updatePreview(this.form))}},{key:"addAffix",value:function(i){var p=this,M=this.form.get("affixes"),$=this.formOptionsService.getStatsOptions(this.item.base,i).filter(function(re){return-1===p.alreadyUsedStats.indexOf(re.value)})[0];if($&&null!==M){var ae=this.slormancerAffixService.getAffixFromStat($.value,this.item.level,this.item.reinforcment,i,1e3);null!==ae&&(this.item.affixes.push(ae),M.push(this.affixToForm(ae)),this.updatePreview(this.form))}}},{key:"addBasicAffix",value:function(){this.addAffix(P.u.Normal)}},{key:"addMagicAffix",value:function(){this.addAffix(P.u.Magic)}},{key:"addRareAffix",value:function(){this.addAffix(P.u.Rare)}},{key:"addEpicAffix",value:function(){this.addAffix(P.u.Epic)}},{key:"getLegendaryEffectForm",value:function(){return null===this.form?null:this.form.get("legendaryEffect")}},{key:"getReaperEnchantmentForm",value:function(){return null===this.form?null:this.form.get("reaper")}},{key:"getSkillEnchantmentForm",value:function(){return null===this.form?null:this.form.get("skill")}},{key:"getAttributeEnchantmentForm",value:function(){return null===this.form?null:this.form.get("attribute")}}]),f}();return o.\u0275fac=function(n){return new(n||o)(e.Y36(v.so),e.Y36(L.P),e.Y36(w.S),e.Y36(He.o),e.Y36(ce.l),e.Y36(Ne.A),e.Y36(Pe.K),e.Y36(_.x),e.Y36(v.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-edit-modal"]],decls:1,vars:1,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"preview"],[3,"item","details"],[1,"form"],[1,"form-line"],["appearance","outline"],["matInput","","type","number","step","1","formControlName","level"],["matInput","","type","number","step","1","formControlName","reinforcment"],[1,"form-info"],[1,"label"],["class","add",4,"ngIf"],[4,"ngIf"],["class","form-info",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"base","reinforcment","heroClass","legendaryEffect","form"],[3,"reaperEnchantment","form"],[3,"heroClass","skillEnchantment","form"],[3,"attributeEnchantment","form"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","button","color","primary",3,"click"],["mat-flat-button","","type","submit","color","primary"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[3,"form","base","alreadyUsedStats","affix","removable","remove",4,"ngIf"],[3,"form","base","alreadyUsedStats","affix","removable","remove"]],template:function(n,i){1&n&&e.YNc(0,ft,40,24,"form",0),2&n&&e.Q6J("ngIf",null!==i.form&&null!==i.item)},directives:[s.O5,F._Y,F.JL,F.sg,v.xY,K,de.KE,de.hX,Be.Nt,F.wV,F.Fj,F.JJ,F.u,de.TO,s.sg,Ve,Ge,c,ne,v.H8,j.lW,v.ZT,Me.Hw,Ae],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:20px;gap:20px;flex-grow:1;overflow:auto}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]{flex-direction:column}}mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{max-width:370px}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{display:none;visibility:hidden}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;align-items:stretch;flex-grow:1}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:space-between;grid-gap:16px;gap:16px}@media (max-width: 992px){mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 992px){mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]{align-items:stretch}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0}@media not all and (min-resolution: .001dpcm){@supports (-webkit-appearance: none){mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex-basis:auto}}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;min-height:40px}"]}),o}(),ht=function(){var o=(0,Q.Z)(function f(){(0,N.Z)(this,f)});return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-remove-confirm-modal"]],decls:7,vars:2,consts:[["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary",3,"mat-dialog-close"]],template:function(n,i){1&n&&(e.TgZ(0,"mat-dialog-content"),e._uU(1," Are you sure you want to remove this item ?\n"),e.qZA(),e.TgZ(2,"mat-dialog-actions"),e.TgZ(3,"button",0),e._uU(4,"Cancel"),e.qZA(),e.TgZ(5,"button",1),e._uU(6,"Remove"),e.qZA(),e.qZA()),2&n&&(e.xp6(3),e.Q6J("mat-dialog-close",!1),e.xp6(2),e.Q6J("mat-dialog-close",!0))},directives:[v.xY,v.H8,j.lW,v.ZT],styles:[""]}),o}(),it=a(9776);function Ct(o,f){if(1&o&&(e.ynx(0),e._UZ(1,"img",4),e._UZ(2,"img",4),e.BQk()),2&o){var n=e.oxw();e.xp6(1),e.Q6J("src",n.item.itemIconBackground,e.LSH),e.xp6(1),e.Q6J("src",n.item.icon,e.LSH)}}function Mt(o,f){if(1&o&&e._UZ(0,"img",4),2&o){var n=e.oxw();e.MGl("src","assets/img/icon/item/",n.base,"/empty.png",e.LSH)}}function Ot(o,f){if(1&o&&e._UZ(0,"app-item-view",10),2&o){var n=e.oxw(2);e.Q6J("item",n.item)("details",!1)}}function Pt(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).equip()}),e.TgZ(1,"mat-icon"),e._uU(2,"arrow_back"),e.qZA(),e._uU(3,"Equip item"),e.qZA()}}function bt(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).unequip()}),e.TgZ(1,"mat-icon"),e._uU(2,"arrow_forward"),e.qZA(),e._uU(3,"Unequip item"),e.qZA()}}function yt(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).edit()}),e.TgZ(1,"mat-icon"),e._uU(2,"add"),e.qZA(),e._uU(3,"Create item"),e.qZA()}}function xt(o,f){1&o&&(e.TgZ(0,"span"),e._uU(1,"(Left slot)"),e.qZA())}function Tt(o,f){1&o&&(e.TgZ(0,"span"),e._uU(1,"(Right slot)"),e.qZA())}function Zt(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){var $=e.CHM(n).$implicit;return e.oxw(3).compareWithSlot($)}),e.TgZ(1,"mat-icon"),e._uU(2,"compare_arrows"),e.qZA(),e._uU(3,"Compare "),e.YNc(4,xt,2,0,"span",2),e.YNc(5,Tt,2,0,"span",2),e.qZA()}if(2&o){var i=f.$implicit,p=e.oxw(3);e.xp6(4),e.Q6J("ngIf",i===p.GearSlot.LeftRing),e.xp6(1),e.Q6J("ngIf",i===p.GearSlot.RightRing)}}function Et(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).edit()}),e.TgZ(1,"mat-icon"),e._uU(2,"edit"),e.qZA(),e._uU(3,"Edit item"),e.qZA()}}function At(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).take()}),e.TgZ(1,"mat-icon"),e._uU(2,"content_cut"),e.qZA(),e._uU(3,"Move item"),e.qZA()}}function St(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).copy()}),e.TgZ(1,"mat-icon"),e._uU(2,"content_copy"),e.qZA(),e._uU(3,"Copy item"),e.qZA()}}function kt(o,f){if(1&o){var n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).remove()}),e.TgZ(1,"mat-icon"),e._uU(2,"delete"),e.qZA(),e._uU(3,"Remove item"),e.qZA()}}function It(o,f){if(1&o&&(e.YNc(0,Pt,4,0,"button",11),e.YNc(1,bt,4,0,"button",11),e.YNc(2,yt,4,0,"button",11),e.YNc(3,Zt,6,2,"button",12),e.YNc(4,Et,4,0,"button",11),e.YNc(5,At,4,0,"button",11),e.YNc(6,St,4,0,"button",11),e.YNc(7,kt,4,0,"button",11)),2&o){var n=e.oxw(2);e.Q6J("ngIf",null!==n.item&&null===n.base),e.xp6(1),e.Q6J("ngIf",null!==n.item&&null!==n.base),e.xp6(1),e.Q6J("ngIf",null===n.item),e.xp6(1),e.Q6J("ngForOf",n.comparableGearSlots),e.xp6(1),e.Q6J("ngIf",null!==n.item),e.xp6(1),e.Q6J("ngIf",null!==n.item),e.xp6(1),e.Q6J("ngIf",null!==n.item),e.xp6(1),e.Q6J("ngIf",null!==n.item)}}function Lt(o,f){if(1&o&&(e.ynx(0),e.YNc(1,Ot,1,2,"ng-template",5),e._UZ(2,"div",6),e.TgZ(3,"mat-menu",7,8),e.YNc(5,It,8,8,"ng-template",9),e.qZA(),e.BQk()),2&o){var n=e.MAs(4),i=e.oxw(),p=e.MAs(1);e.xp6(1),e.Q6J("cdkConnectedOverlayOpen",!i.isDragging&&i.isMouseOver)("cdkConnectedOverlayOrigin",p),e.xp6(1),e.Q6J("matMenuTriggerFor",n),e.xp6(1),e.Q6J("overlapTrigger",!0)}}var wt=function(){var o=function(f){(0,t.Z)(i,f);var n=(0,m.Z)(i);function i(p,M,B,$,ae,re){var ee;return(0,N.Z)(this,i),(ee=n.call(this)).dialog=p,ee.itemMoveService=M,ee.searchService=B,ee.slormancerCharacterBuilderService=$,ee.slormancerItemService=ae,ee.buildStorageService=re,ee.GearSlot=Y.SH,ee.character=null,ee.item=null,ee.base=null,ee.readonly=!1,ee.changed=new e.vpe,ee.menu=null,ee.isDragging=!1,ee.isMouseOver=!1,ee.isItemCompatible=!1,ee.isDraggedItem=!1,ee.hiddenBySearch=!1,ee.comparableGearSlots=[],ee.itemMoveService.draggingItem.pipe((0,D.R)(ee.unsubscribe)).subscribe(function(Ze){ee.isDragging=Ze,ee.isDraggedItem=ee.itemMoveService.isHoldItem(ee.item),ee.isItemCompatible=ee.itemMoveService.isDragItemCompatible(ee.item,ee.base)}),ee.searchService.searchChanged.pipe((0,D.R)(ee.unsubscribe)).subscribe(function(){return ee.updateSearch()}),ee}return(0,Q.Z)(i,[{key:"onMouseOver",value:function(){this.isMouseOver=!0}},{key:"onMouseLeave",value:function(){this.isMouseOver=!1}},{key:"onMouseDown",value:function(M){return 0===M.button&&!this.readonly&&this.take(),!1}},{key:"onMouseUp",value:function(M){var B=this;return 0===M.button&&!this.readonly&&(this.isDragging?this.itemMoveService.swap(this.item,this.base,function($,ae){return B.moveCallback($,ae)}):this.edit()),!1}},{key:"onMouseContextMenu",value:function(){return this.itemMoveService.releaseHoldItem(),this.menu&&!this.readonly&&(this.updateComparableSlots(),this.menu.openMenu()),!1}},{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){this.updateSearch()}},{key:"isMenuOpen",value:function(){return null!=this.menu&&this.menu.menuOpen}},{key:"updateComparableSlots",value:function(){this.comparableGearSlots=[];var M=this.character,B=this.item;null!==M&&null!==B&&null===this.base&&(this.comparableGearSlots=Y.PL.filter(function($){var ae=M.gear[$];return null!==ae&&ae.base===B.base}))}},{key:"updateSearch",value:function(){this.hiddenBySearch=null!==this.item&&this.searchService.hasSearch()&&!this.searchService.itemMatchSearch(this.item)}},{key:"moveCallback",value:function(M,B){M&&this.changed.emit(B),this.isDraggedItem=!1,this.isItemCompatible=!1}},{key:"getItemEditModalData",value:function(M,B){var $=this.slormancerCharacterBuilderService.getCharacterClone(M),ae=Y.PL.find(function(Ze){return M.gear[Ze]===B}),re=ae?$.gear[ae]:null;return{character:$,item:null!==re?re:this.slormancerItemService.getEquipableItemClone(B),maxLevel:$.level}}},{key:"edit",value:function(){var M=this,B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.item,$=this.character;if(null!==$)if(null===B)null!==this.base?this.edit(this.slormancerItemService.getEmptyEquipableItem(this.base,$.heroClass,$.level)):this.dialog.open(me).afterClosed().subscribe(function(re){null!=re&&M.edit(M.slormancerItemService.getEmptyEquipableItem(re,$.heroClass,$.level))});else{var ae=this.getItemEditModalData($,B);this.dialog.open(vt,{data:ae,width:"80vw",maxWidth:"1000px"}).afterClosed().subscribe(function(re){void 0!==re&&M.changed.emit(re)})}}},{key:"take",value:function(){var M=this;null!==this.item&&this.itemMoveService.hold(this.item,this.base,function(B,$){return M.moveCallback(B,$)})}},{key:"copy",value:function(){if(null!==this.item){var M=this.slormancerItemService.getEquipableItemClone(this.item);this.itemMoveService.hold(M,M.base)}}},{key:"remove",value:function(){var M=this;this.dialog.open(ht).afterClosed().subscribe(function(B){!0===B&&M.changed.emit(null)})}},{key:"equip",value:function(){var M=this;null!==this.item&&this.itemMoveService.equip(this.item,function(B,$){return M.moveCallback(B,$)})}},{key:"unequip",value:function(){var M=this;null!==this.item&&this.itemMoveService.moveToStash(this.item,function(B,$){return M.moveCallback(B,$)})}},{key:"compareWithSlot",value:function(M){if(null!==this.item&&null!==this.character){var B=this.character.gear[M],$=this.buildStorageService.getBuild();null!==B&&null!==$&&null!==$.configuration&&this.dialog.open(q,{data:{character:this.character,slot:M,config:$.configuration,left:B,right:this.item}})}}}]),i}(g.B);return o.\u0275fac=function(n){return new(n||o)(e.Y36(v.uw),e.Y36(l.v),e.Y36(r.o),e.Y36(y.o),e.Y36(w.S),e.Y36(_.x))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-slot"]],viewQuery:function(n,i){var p;1&n&&e.Gf(u.p6,5),2&n&&e.iGM(p=e.CRH())&&(i.menu=p.first)},hostBindings:function(n,i){1&n&&e.NdJ("mouseenter",function(){return i.onMouseOver()})("mouseleave",function(){return i.onMouseLeave()})("mousedown",function(M){return i.onMouseDown(M)})("mouseup",function(M){return i.onMouseUp(M)})("contextmenu",function(){return i.onMouseContextMenu()})},inputs:{character:"character",item:"item",base:"base",readonly:"readonly"},outputs:{changed:"changed"},features:[e.qOj,e.TTD],decls:5,vars:15,consts:[["cdkOverlayOrigin","",1,"item"],["trigger","cdkOverlayOrigin"],[4,"ngIf"],[3,"src",4,"ngIf"],[3,"src"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"matMenuTriggerFor"],["xPosition","after",3,"overlapTrigger"],["menu","matMenu"],["matMenuContent",""],[3,"item","details"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0,1),e.YNc(2,Ct,3,2,"ng-container",2),e.YNc(3,Mt,1,1,"img",3),e.YNc(4,Lt,6,4,"ng-container",2),e.qZA()),2&n&&(e.ekj("readonly",i.readonly)("forced-base-compatible",i.isItemCompatible&&null!==i.base)("drop-compatible",!i.isDraggedItem&&i.isMouseOver&&i.isDragging&&i.isItemCompatible)("drop-incompatible",!i.isDraggedItem&&i.isMouseOver&&i.isDragging&&!i.isItemCompatible)("is-being-dragged",i.isDraggedItem&&i.isDragging)("hidden-search",i.hiddenBySearch),e.xp6(2),e.Q6J("ngIf",null!==i.item),e.xp6(1),e.Q6J("ngIf",null===i.item&&null!==i.base),e.xp6(1),e.Q6J("ngIf",i.isMouseOver||i.isMenuOpen()))},directives:[it.xu,s.O5,it.pI,u.p6,u.VK,u.KA,K,s.sg,u.OP,Me.Hw],styles:["[_nghost-%COMP%]{width:56px;min-width:56px;height:56px;min-height:56px}.item[_ngcontent-%COMP%]{width:56px;min-width:56px;min-height:56px;border:4px solid black;position:relative;background-color:#131313}.item[_ngcontent-%COMP%]:not(.readonly){cursor:pointer}.item.forced-base-compatible[_ngcontent-%COMP%]{border-color:#b7ffd2b3}.item.drop-compatible[_ngcontent-%COMP%]{border-color:#b7ffd2}.item.drop-incompatible[_ngcontent-%COMP%]{border-color:#f44336}.item.is-being-dragged[_ngcontent-%COMP%]{opacity:.3}.item.hidden-search[_ngcontent-%COMP%]{opacity:.2}.item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;right:0}app-item-view[_ngcontent-%COMP%]{width:350px}"]}),o}()},4440:function(se,te,a){a.d(te,{w:function(){return r}});var N=a(5671),Q=a(3144),t=a(136),m=a(7777),e=a(5542),u=a(8313),D=a(6446),Y=a(9808),y=a(7238);function w(g,v){if(1&g){var A=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){var h=e.CHM(A).$implicit,C=e.oxw(3);return C.select(C.stats,h)}),e.TgZ(1,"div",6),e._uU(2),e.qZA(),e.TgZ(3,"div",7),e._uU(4),e.qZA(),e.qZA()}if(2&g){var L=v.$implicit,P=e.oxw(3);e.ekj("selected",P.isSelected(L)),e.xp6(2),e.Oqu(L.name),e.xp6(1),e.Q6J("matTooltip",P.getTooltip(P.stats,L)),e.xp6(1),e.Oqu(P.getValue(P.stats,L))}}function _(g,v){if(1&g&&(e.ynx(0),e.TgZ(1,"h3",3),e._uU(2),e.qZA(),e.YNc(3,w,5,5,"div",4),e.BQk()),2&g){var A=v.$implicit;e.xp6(2),e.Oqu(A.section),e.xp6(1),e.Q6J("ngForOf",A.stats)}}function l(g,v){if(1&g&&(e.TgZ(0,"div",1),e.YNc(1,_,4,2,"ng-container",2),e.qZA()),2&g){var A=e.oxw();e.xp6(1),e.Q6J("ngForOf",A.SECTIONS)}}var r=function(){var g=function(v){(0,t.Z)(L,v);var A=(0,m.Z)(L);function L(P){var s;return(0,N.Z)(this,L),(s=A.call(this)).slormancerTranslateService=P,s.SECTIONS=[{section:s.slormancerTranslateService.translate("cat_adventure"),stats:[{name:s.slormancerTranslateService.translate("essence_find"),stat:"essence_find",sign:!0},{name:s.slormancerTranslateService.translate("xp_find"),stat:"xp_find",sign:!0},{name:s.slormancerTranslateService.translate("influence_gain"),stat:"influence_gain",sign:!0},{name:s.slormancerTranslateService.translate("mf_find"),stat:"mf_find",sign:!0},{name:s.slormancerTranslateService.translate("mf_qual"),stat:"mf_qual",sign:!0}]},{section:s.slormancerTranslateService.translate("cat_health"),stats:[{name:s.slormancerTranslateService.translate("max_health"),stat:"max_health",sign:!1},{name:s.slormancerTranslateService.translate("health_regeneration"),stat:"health_regeneration",sign:!0},{name:s.slormancerTranslateService.translate("health_leech_percent"),stat:"health_leech_percent",sign:!1},{name:s.slormancerTranslateService.translate("life_on_hit"),stat:"life_on_hit",sign:!0},{name:s.slormancerTranslateService.translate("life_on_kill"),stat:"life_on_kill",sign:!0}]},{section:s.slormancerTranslateService.translate("cat_mana"),stats:[{name:s.slormancerTranslateService.translate("max_mana"),stat:"max_mana",sign:!1},{name:s.slormancerTranslateService.translate("mana_regeneration"),stat:"mana_regeneration",sign:!0},{name:s.slormancerTranslateService.translate("mana_leech_percent"),stat:"mana_leech_percent",sign:!1},{name:s.slormancerTranslateService.translate("mana_on_hit"),stat:"mana_on_hit",sign:!0},{name:s.slormancerTranslateService.translate("mana_on_kill"),stat:"mana_on_kill",sign:!0}]},{section:s.slormancerTranslateService.translate("cat_movement"),stats:[{name:s.slormancerTranslateService.translate("movement_speed"),stat:"movement_speed",sign:!1}]},{section:s.slormancerTranslateService.translate("cat_attack"),stats:[{name:s.slormancerTranslateService.translate("attack_speed"),stat:"attack_speed",sign:!1},{name:s.slormancerTranslateService.translate("basic_damage"),stat:"basic_damage",sign:!1},{name:s.slormancerTranslateService.translate("weapon_damage"),stat:"weapon_damage",sign:!1},{name:s.slormancerTranslateService.translate("physical_damage"),stat:"physical_damage",sign:!1},{name:s.slormancerTranslateService.translate("elemental_damage"),stat:"elemental_damage",sign:!1},{name:s.slormancerTranslateService.translate("critical_chance"),stat:"critical_chance",sign:!1},{name:s.slormancerTranslateService.translate("critical_damage"),stat:"critical_damage",sign:!1},{name:s.slormancerTranslateService.translate("ancestral_chance"),stat:"ancestral_chance",sign:!1},{name:s.slormancerTranslateService.translate("ancestral_damage"),stat:"ancestral_damage",sign:!1},{name:s.slormancerTranslateService.translate("armor_penetration"),stat:"armor_penetration",sign:!1},{name:s.slormancerTranslateService.translate("elemental_penetration"),stat:"elemental_penetration",sign:!1},{name:s.slormancerTranslateService.translate("dot_increased_damage"),stat:"dot_increased_damage",sign:!0},{name:s.slormancerTranslateService.translate("increased_on_elite"),stat:"increased_on_elite",sign:!1}]},{section:s.slormancerTranslateService.translate("cat_defense"),stats:[{name:s.slormancerTranslateService.translate("armor"),stat:"armor",sign:!1},{name:s.slormancerTranslateService.translate("elemental_resist"),stat:"elemental_resist",sign:!1},{name:s.slormancerTranslateService.translate("fire_resistance"),stat:"fire_resistance",sign:!1},{name:s.slormancerTranslateService.translate("ice_resistance"),stat:"ice_resistance",sign:!1},{name:s.slormancerTranslateService.translate("lightning_resistance"),stat:"lightning_resistance",sign:!1},{name:s.slormancerTranslateService.translate("light_resistance"),stat:"light_resistance",sign:!1},{name:s.slormancerTranslateService.translate("shadow_resistance"),stat:"shadow_resistance",sign:!1},{name:s.slormancerTranslateService.translate("dodge"),stat:"dodge",sign:!1},{name:s.slormancerTranslateService.translate("thorns"),stat:"thorns",sign:!1},{name:s.slormancerTranslateService.translate("retaliate"),stat:"retaliate",sign:!1},{name:s.slormancerTranslateService.translate("tenacity"),stat:"tenacity",sign:!1},{name:s.slormancerTranslateService.translate("reduced_on_all"),stat:"reduced_on_all",sign:!1},{name:s.slormancerTranslateService.translate("reduced_by_elite"),stat:"reduced_by_elite",sign:!1},{name:s.slormancerTranslateService.translate("reduced_on_melee"),stat:"reduced_on_melee",sign:!1},{name:s.slormancerTranslateService.translate("reduced_on_projectile"),stat:"reduced_on_projectile",sign:!1},{name:s.slormancerTranslateService.translate("reduced_on_area"),stat:"reduced_on_area",sign:!1}]},{section:s.slormancerTranslateService.translate("cat_secondary_resources"),stats:[{name:s.slormancerTranslateService.translate("gold_find"),stat:"gold_find",sign:!0},{name:s.slormancerTranslateService.translate("scrap_find"),stat:"scrap_find",sign:!0},{name:s.slormancerTranslateService.translate("slormite_find"),stat:"slormite_find",sign:!0},{name:s.slormancerTranslateService.translate("slormeline_find"),stat:"slormeline_find",sign:!0},{name:s.slormancerTranslateService.translate("reaper_find"),stat:"reaper_find",sign:!0},{name:s.slormancerTranslateService.translate("skill_mastery_gain"),stat:"skill_mastery_gain",sign:!0}]},{section:s.slormancerTranslateService.translate("cat_secondary_melee"),stats:[{name:s.slormancerTranslateService.translate("inner_fire_chance"),stat:"inner_fire_chance",sign:!1},{name:s.slormancerTranslateService.translate("inner_fire_max_number"),stat:"inner_fire_max_number",sign:!1},{name:s.slormancerTranslateService.translate("inner_fire_duration"),stat:"inner_fire_duration",sign:!1},{name:s.slormancerTranslateService.translate("inner_fire_damage"),stat:"inner_fire_damage",sign:!1},{name:s.slormancerTranslateService.translate("overdrive_chance"),stat:"overdrive_chance",sign:!1},{name:s.slormancerTranslateService.translate("overdrive_bounce_number"),stat:"overdrive_bounce_number",sign:!1},{name:s.slormancerTranslateService.translate("overdrive_damage"),stat:"overdrive_damage",sign:!1},{name:s.slormancerTranslateService.translate("recast_chance"),stat:"recast_chance",sign:!1},{name:s.slormancerTranslateService.translate("knockback_melee"),stat:"knockback_melee",sign:!1}]},{section:s.slormancerTranslateService.translate("cat_secondary_projectile"),stats:[{name:s.slormancerTranslateService.translate("additional_projectile"),stat:"additional_projectile",sign:!0},{name:s.slormancerTranslateService.translate("chance_to_pierce"),stat:"chance_to_pierce",sign:!1},{name:s.slormancerTranslateService.translate("fork_chance"),stat:"fork_chance",sign:!1},{name:s.slormancerTranslateService.translate("chance_to_rebound"),stat:"chance_to_rebound",sign:!1},{name:s.slormancerTranslateService.translate("projectile_speed"),stat:"projectile_speed",sign:!0},{name:s.slormancerTranslateService.translate("knockback_projectile"),stat:"knockback_projectile",sign:!1}]},{section:s.slormancerTranslateService.translate("cat_secondary_aoe"),stats:[{name:s.slormancerTranslateService.translate("aoe_increased_size"),stat:"aoe_increased_size",sign:!1},{name:s.slormancerTranslateService.translate("aoe_increased_effect"),stat:"aoe_increased_effect",sign:!1}]},{section:s.slormancerTranslateService.translate("cat_secondary_extras"),stats:[{name:s.slormancerTranslateService.translate("totem_increased_effect"),stat:"totem_increased_effect",sign:!0},{name:s.slormancerTranslateService.translate("aura_increased_effect"),stat:"aura_increased_effect",sign:!0},{name:s.slormancerTranslateService.translate("minion_increased_damage"),stat:"minion_increased_damage",sign:!0}]}],s.stats=null,s.selectedMergedStat=null,s.selected=new e.vpe,s}return(0,Q.Z)(L,[{key:"ngOnInit",value:function(){}},{key:"valueToString",value:function(s,U,h){return"number"==typeof s?(s<0?"-":U?"+":"")+s+h:(s.min<0?"-":U?"+":"")+s.min+h+" - "+(s.max<0?"-":U?"+":"")+s.max+h}},{key:"getValue",value:function(s,U){var h=s.find(function(Z){return Z.stat===U.stat}),C="0";return h&&(C=this.valueToString(h.total,U.sign,h.suffix)),C}},{key:"select",value:function(s,U){var h=s.find(function(C){return C.stat===U.stat});h&&(this.selectedMergedStat=h,this.selected.emit(h))}},{key:"getTooltip",value:function(s,U){var h=this,C=s.find(function(S){return S.stat===U.stat}),Z="No details found";if(C){var k="number"!=typeof C.total;Z="Flat: "+C.values.flat.map(function(S){return h.valueToString(S.value,!1,C.suffix)}).join(", ")+"\n",k&&(Z+="Flat (max): "+C.values.max.map(function(S){return h.valueToString(S.value,!1,C.suffix)}).join(", ")+"\n"),Z+="Percent: "+C.values.percent.map(function(S){return h.valueToString(S.value,!1,"%")}).join(", ")+"\n",k&&(Z+="Percent (max) : "+C.values.maxPercent.map(function(S){return h.valueToString(S.value,!1,"%")}).join(", ")+"\n"),Z+="Multiplier: "+C.values.multiplier.map(function(S){return h.valueToString(S.value,!1,"%")}).join(", ")}return Z}},{key:"translate",value:function(s){return this.slormancerTranslateService.translate(s)}},{key:"isSelected",value:function(s){return null!==this.selectedMergedStat&&this.selectedMergedStat.stat===s.stat}}]),L}(D.B);return g.\u0275fac=function(A){return new(A||g)(e.Y36(u.n))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-main-stats"]],inputs:{stats:"stats"},outputs:{selected:"selected"},features:[e.qOj],decls:1,vars:1,consts:[["class","sections",4,"ngIf"],[1,"sections"],[4,"ngFor","ngForOf"],[1,"section"],["class","stat",3,"selected","click",4,"ngFor","ngForOf"],[1,"stat",3,"click"],[1,"label"],[1,"value",3,"matTooltip"]],template:function(A,L){1&A&&e.YNc(0,l,2,1,"div",0),2&A&&e.Q6J("ngIf",null!==L.stats)},directives:[Y.O5,Y.sg,y.gM],styles:[".sections[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;grid-gap:4px;gap:4px}.sections[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding-left:8px;cursor:pointer}.sections[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.sections[_ngcontent-%COMP%]   .stat.selected[_ngcontent-%COMP%]{background-color:#ffffff4d}"]}),g}()},5895:function(se,te,a){a.d(te,{A:function(){return l}});var N=a(5671),Q=a(3144),t=a(5542),m=a(9808),e=a(9776);function u(r,g){if(1&r){var v=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("mouseenter",function(){var s=t.CHM(v).$implicit,U=t.MAs(1);return t.oxw(2).showOverlay(U,s)})("mouseleave",function(){return t.CHM(v),t.oxw(2).hideOverlay()}),t.TgZ(2,"div",6),t._UZ(3,"img",7),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA(),t.qZA()}if(2&r){var A=g.$implicit;t.xp6(3),t.MGl("src","assets/img/icon/",A.icon,".png",t.LSH),t.xp6(2),t.Oqu(A.name)}}function D(r,g){if(1&r){var v=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("mouseenter",function(){var s=t.CHM(v).$implicit,U=t.MAs(1);return t.oxw(2).showOverlay(U,s)})("mouseleave",function(){return t.CHM(v),t.oxw(2).hideOverlay()}),t.TgZ(2,"div",6),t._UZ(3,"img",7),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA(),t.qZA()}if(2&r){var A=g.$implicit;t.xp6(3),t.MGl("src","assets/img/icon/",A.icon,".png",t.LSH),t.xp6(2),t.Oqu(A.name)}}function Y(r,g){if(1&r){var v=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("mouseenter",function(){var s=t.CHM(v).$implicit,U=t.MAs(1);return t.oxw(2).showOverlay(U,s)})("mouseleave",function(){return t.CHM(v),t.oxw(2).hideOverlay()}),t.TgZ(2,"div",6),t._UZ(3,"img",7),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA(),t.qZA()}if(2&r){var A=g.$implicit;t.xp6(3),t.MGl("src","assets/img/icon/",A.icon,".png",t.LSH),t.xp6(2),t.Oqu(A.name)}}function y(r,g){if(1&r&&(t.TgZ(0,"div",10),t.TgZ(1,"div",11),t._UZ(2,"h3",12),t._UZ(3,"p",12),t.qZA(),t.qZA()),2&r){var v=t.oxw(3);t.xp6(2),t.Q6J("innerHTML",v.overlayMechanic.name,t.oJD),t.xp6(1),t.Q6J("innerHTML",v.overlayMechanic.description,t.oJD)}}function w(r,g){if(1&r&&t.YNc(0,y,4,2,"ng-template",9),2&r){var v=t.oxw(2);t.Q6J("cdkConnectedOverlayOpen",!0)("cdkConnectedOverlayOrigin",v.overlayTrigger)}}function _(r,g){if(1&r&&(t.TgZ(0,"div",1),t.YNc(1,u,6,2,"div",2),t.YNc(2,D,6,2,"div",2),t.YNc(3,Y,6,2,"div",2),t.YNc(4,w,1,2,void 0,3),t.qZA()),2&r){var v=t.oxw();t.xp6(1),t.Q6J("ngForOf",v.classMechanics),t.xp6(1),t.Q6J("ngForOf",v.mechanics),t.xp6(1),t.Q6J("ngForOf",v.buffs),t.xp6(1),t.Q6J("ngIf",null!==v.overlayMechanic&&null!==v.overlayTrigger)}}var l=function(){var r=function(){function g(){(0,N.Z)(this,g),this.classMechanics=[],this.mechanics=[],this.buffs=[],this.overlayTrigger=null,this.overlayMechanic=null}return(0,Q.Z)(g,[{key:"showOverlay",value:function(A,L){this.overlayMechanic=L,this.overlayTrigger=A}},{key:"hideOverlay",value:function(){this.overlayTrigger=null,this.overlayMechanic=null}}]),g}();return r.\u0275fac=function(v){return new(v||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-mechanics-view"]],inputs:{classMechanics:"classMechanics",mechanics:"mechanics",buffs:"buffs"},decls:1,vars:1,consts:[["class","mechanics",4,"ngIf"],[1,"mechanics"],["class","mechanic","cdkOverlayOrigin","",3,"mouseenter","mouseleave",4,"ngFor","ngForOf"],[4,"ngIf"],["cdkOverlayOrigin","",1,"mechanic",3,"mouseenter","mouseleave"],["trigger","cdkOverlayOrigin"],[1,"mechanic-icon"],[3,"src"],[1,"mechanic-name"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[1,"slormancer-tooltip"],[1,"inner-box"],[3,"innerHTML"]],template:function(v,A){1&v&&t.YNc(0,_,5,4,"div",0),2&v&&t.Q6J("ngIf",A.classMechanics.length>0||A.mechanics.length>0||A.buffs.length>0)},directives:[m.O5,m.sg,e.xu,e.pI],styles:[".mechanics[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;grid-gap:4px;gap:4px}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;background-color:#000;padding:4px;grid-gap:4px;gap:4px}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]   .mechanic-icon[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]   .mechanic-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:36px;min-height:36px;width:36px;height:36px}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]   .mechanic-name[_ngcontent-%COMP%]{background-color:#141310;padding:8px;display:flex;flex-direction:row;align-items:center;flex-grow:1}.slormancer-tooltip[_ngcontent-%COMP%]{max-width:350px}.slormancer-tooltip[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:8px 0;font-weight:400;color:#ce4607}.slormancer-tooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0}.slormancer-tooltip[_ngcontent-%COMP%]     .value{color:#ce4607}"]}),r}()},916:function(se,te,a){a.d(te,{R:function(){return K}});var N=a(5671),Q=a(3144),t=a(5542),m=a(2473),e=a(7469),u=a(3075),D=a(8966),Y=a(1093),y=a(3790),w=a(5457),_=a(311),l=a(3300),r=a(9808),g=a(8003);function v(x,q){if(1&x&&(t.TgZ(0,"div",26),t.TgZ(1,"div",27),t.TgZ(2,"div",28),t._UZ(3,"div"),t.qZA(),t._uU(4),t.TgZ(5,"div",28),t._UZ(6,"div"),t.qZA(),t.qZA(),t._UZ(7,"div",20),t.qZA()),2&x){var E=t.oxw(2);t.xp6(4),t.Oqu(E.reaper.benedictionTitleLabel),t.xp6(3),t.Q6J("innerHTML",E.reaper.benediction,t.oJD)}}function A(x,q){if(1&x&&(t.TgZ(0,"div",29),t.TgZ(1,"div",27),t.TgZ(2,"div",28),t._UZ(3,"div"),t.qZA(),t._uU(4),t.TgZ(5,"div",28),t._UZ(6,"div"),t.qZA(),t.qZA(),t._UZ(7,"div",20),t.qZA()),2&x){var E=t.oxw(2);t.xp6(4),t.Oqu(E.reaper.maledictionTitleLabel),t.xp6(3),t.Q6J("innerHTML",E.reaper.malediction,t.oJD)}}function L(x,q){1&x&&t._UZ(0,"app-activable-view",30),2&x&&t.Q6J("activable",q.$implicit)}function P(x,q){if(1&x&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t._uU(2),t.qZA(),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._UZ(6,"img",6),t.TgZ(7,"div",7),t._UZ(8,"div",8),t.qZA(),t.qZA(),t.TgZ(9,"div",9),t.TgZ(10,"div",10),t.TgZ(11,"div",11),t._uU(12),t.qZA(),t._UZ(13,"div",12),t.qZA(),t.TgZ(14,"div",13),t.TgZ(15,"div",14),t._uU(16),t.qZA(),t._UZ(17,"div",15),t.TgZ(18,"div",16),t._uU(19),t.qZA(),t.qZA(),t.TgZ(20,"div",17),t._UZ(21,"div",18),t._UZ(22,"div",19),t.qZA(),t.qZA(),t.qZA(),t._UZ(23,"div",20),t.YNc(24,v,8,2,"div",21),t.YNc(25,A,8,2,"div",22),t.YNc(26,L,1,1,"app-activable-view",23),t._UZ(27,"div",24),t._UZ(28,"div",25),t.qZA(),t.qZA()),2&x){var E=t.oxw();t.xp6(2),t.Oqu(E.reaper.name),t.xp6(4),t.ekj("primordial-effect",E.reaper.primordial),t.Q6J("src",E.reaper.icon,t.LSH),t.xp6(6),t.Oqu(E.reaper.type),t.xp6(1),t.Q6J("innerHTML",E.reaper.smithLabel,t.oJD),t.xp6(3),t.AsE("",E.reaper.damages.min,"-",E.reaper.damages.max,""),t.xp6(1),t.Q6J("innerHTML",E.reaper.damageTypeLabel,t.oJD),t.xp6(2),t.lnq("",E.reaper.maxDamagesWithBonuses.min,"-",E.reaper.maxDamagesWithBonuses.max," at level ",E.reaper.maxLevelWithBonuses,""),t.xp6(2),t.Q6J("innerHTML",E.reaper.victimsLabel,t.oJD),t.xp6(1),t.Q6J("innerHTML",E.reaper.levelLabel,t.oJD),t.xp6(1),t.Q6J("innerHTML",E.reaper.description,t.oJD),t.xp6(1),t.Q6J("ngIf",null!==E.reaper.benediction),t.xp6(1),t.Q6J("ngIf",null!==E.reaper.malediction),t.xp6(1),t.Q6J("ngForOf",E.reaper.activables),t.xp6(2),t.Q6J("innerHTML",E.reaper.lore,t.oJD)}}var s=function(){var x=(0,Q.Z)(function q(){(0,N.Z)(this,q),this.reaper=null});return x.\u0275fac=function(E){return new(E||x)},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-reaper-view"]],inputs:{reaper:"reaper"},decls:1,vars:1,consts:[["class","reaper",4,"ngIf"],[1,"reaper"],[1,"head"],[1,"content"],[1,"info"],[1,"icon"],[3,"src"],[1,"background-outer"],[1,"background"],[1,"summary"],[1,"base"],[1,"type"],[1,"builder",3,"innerHTML"],[1,"damages"],[1,"current-damage"],[1,"type",3,"innerHTML"],[1,"max-damage"],[1,"stats"],[1,"victim",3,"innerHTML"],[1,"level",3,"innerHTML"],[1,"description",3,"innerHTML"],["class","benediction",4,"ngIf"],["class","malediction",4,"ngIf"],[3,"activable",4,"ngFor","ngForOf"],[1,"separator"],[1,"lore",3,"innerHTML"],[1,"benediction"],[1,"title"],[1,"bullet"],[1,"malediction"],[3,"activable"]],template:function(E,j){1&E&&t.YNc(0,P,29,19,"div",0),2&E&&t.Q6J("ngIf",null!==j.reaper)},directives:[r.O5,r.sg,g.K],styles:[".reaper[_ngcontent-%COMP%]{background-color:#090909;color:#fff;border:2px solid black;width:350px}.reaper[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%], .reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{border:2px solid #79b7a4}.reaper[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%]{margin-bottom:2px;text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;padding:15px 10px;grid-gap:15px;gap:15px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:10px;gap:10px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:130px;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:stretch}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .background-outer[_ngcontent-%COMP%]{border:3px solid #3b3831;flex-grow:1;display:flex;flex-direction:column}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .background-outer[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{border:3px solid #12100e;background-color:#22201c;flex-grow:1;height:150px;width:85px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;margin-top:-12.5%;margin-left:-12.5%;image-rendering:pixelated;transform:scale(4)}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;flex-grow:1;text-align:left;grid-gap:10px;gap:10px;font-size:16px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{text-transform:uppercase}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .current-damage[_ngcontent-%COMP%]{font-size:30px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{font-size:20px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]     .bonus-level{color:#148f8a}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .max-damage[_ngcontent-%COMP%]{color:#686868}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{min-width:8px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:center}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]     .value{color:#148f8a}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]     .details{color:#686868}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]{color:#148f8a}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#61f7b7}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]{color:#ff4722}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#d13001}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;grid-gap:5px;gap:5px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]     .value, .reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]     .value{color:#fff}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{background-color:#3b3831;margin:0 30px;height:4px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .lore[_ngcontent-%COMP%]{color:#b8b8b8;text-align:center}"]}),x}(),U=a(7322),h=a(7531),C=a(4102),Z=a(7446),k=a(7423),S=a(508);function W(x,q){if(1&x&&(t.TgZ(0,"mat-option",19),t._UZ(1,"span",20),t.qZA()),2&x){var E=q.$implicit;t.Q6J("value",E.value),t.xp6(1),t.Q6J("innerHTML",E.label,t.oJD)}}function V(x,q){if(1&x){var E=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){return t.CHM(E),t.oxw().submit()}),t._UZ(1,"input",2),t.TgZ(2,"mat-dialog-content"),t.TgZ(3,"div",3),t._UZ(4,"app-reaper-view",4),t.qZA(),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"mat-form-field",7),t.TgZ(8,"mat-label"),t._uU(9,"Reaper level (base)"),t.qZA(),t._UZ(10,"input",8),t.TgZ(11,"mat-error"),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"mat-form-field",7),t.TgZ(14,"mat-label"),t._uU(15,"Reaper kills (base)"),t.qZA(),t._UZ(16,"input",9),t.TgZ(17,"mat-error"),t._uU(18,"Kills must be >= 0"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",6),t.TgZ(20,"mat-form-field",7),t.TgZ(21,"mat-label"),t._uU(22,"Raper level (primordial)"),t.qZA(),t._UZ(23,"input",10),t.TgZ(24,"mat-error"),t._uU(25),t.qZA(),t.qZA(),t.TgZ(26,"mat-form-field",7),t.TgZ(27,"mat-label"),t._uU(28,"Reaper kills (primordial)"),t.qZA(),t._UZ(29,"input",11),t.TgZ(30,"mat-error"),t._uU(31,"Kills must be >= 0"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",6),t.TgZ(33,"mat-form-field",12),t.TgZ(34,"mat-label"),t._uU(35,"Reaper base"),t.qZA(),t.TgZ(36,"mat-select",13),t.YNc(37,W,2,2,"mat-option",14),t.qZA(),t.qZA(),t.TgZ(38,"mat-checkbox",15),t._uU(39,"Primordial"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"mat-dialog-actions"),t.TgZ(41,"button",16),t._uU(42,"Cancel"),t.qZA(),t.TgZ(43,"button",17),t.NdJ("click",function(){return t.CHM(E),t.oxw().reset()}),t._uU(44,"Reset"),t.qZA(),t.TgZ(45,"button",18),t._uU(46,"Submit"),t.qZA(),t.qZA(),t.qZA()}if(2&x){var j=t.oxw();t.Q6J("formGroup",j.form),t.xp6(4),t.Q6J("reaper",j.reaper),t.xp6(8),t.hij("Level must be between 1 and ",j.reaper.maxLevel,""),t.xp6(13),t.hij("Level must be between 1 and ",j.reaper.maxLevel,""),t.xp6(12),t.Q6J("ngForOf",j.options)}}var ie=function(){var x=function(){function q(E,j,z,me,F,fe){(0,N.Z)(this,q),this.dialogRef=E,this.slormancerReaperService=j,this.slormancerCharacterUpdaterService=z,this.formOptionsService=me,this.buildStorageService=F,this.options=[],this.originalReaper=this.slormancerReaperService.getReaperClone(fe.reaper),this.character=fe.character,this.reaper=fe.reaper,this.reset()}return(0,Q.Z)(q,[{key:"reset",value:function(){Object.assign(this.reaper,this.originalReaper),this.form=this.buildForm()}},{key:"submit",value:function(){this.form.valid&&this.dialogRef.close(this.reaper)}},{key:"updatePreview",value:function(j){if(j.valid){var z=j.value;if(z.reaper===this.reaper.id)this.reaper.id=z.reaper,this.reaper.primordial=z.primordial,this.reaper.baseInfo.level=z.baseLevel,this.reaper.primordialInfo.level=z.primordialLevel,this.reaper.baseInfo.kills=z.baseKills,this.reaper.primordialInfo.kills=z.primordialKills;else{var me=this.slormancerReaperService.getReaperById(z.reaper,this.reaper.weaponClass,z.primordial,z.baseLevel,z.primordialLevel,z.baseKills,z.primordialKills,this.reaper.bonusLevel);null!==me&&Object.assign(this.reaper,me)}var F=this.buildStorageService.getBuild();this.slormancerReaperService.updateReaperModel(this.reaper),this.slormancerCharacterUpdaterService.updateCharacter(this.character,null!==F?F.configuration:Y.g,!1),this.slormancerReaperService.updateReaperView(this.reaper),this.options=this.formOptionsService.getReaperOptions(this.reaper.weaponClass,this.reaper.primordial),z.baseLevel!==this.reaper.baseInfo.level&&j.patchValue({baseLevel:this.reaper.baseInfo.level},{emitEvent:!1}),z.primordialLevel!==this.reaper.primordialInfo.level&&j.patchValue({primordialLevel:this.reaper.primordialInfo.level},{emitEvent:!1})}}},{key:"getReaperMaxLevelValidator",value:function(){var j=this;return function(z){return u.kI.max(j.reaper.maxLevel)(z)}}},{key:"buildForm",value:function(){var j=this,z=new u.cw({baseLevel:new u.NI(this.reaper.baseInfo.level,[u.kI.required,u.kI.min(1),this.getReaperMaxLevelValidator()]),baseKills:new u.NI(this.reaper.baseInfo.kills,[u.kI.required,u.kI.min(0)]),primordialLevel:new u.NI(this.reaper.primordialInfo.level,[u.kI.required,u.kI.min(1),this.getReaperMaxLevelValidator()]),primordialKills:new u.NI(this.reaper.primordialInfo.kills,[u.kI.required,u.kI.min(0)]),primordial:new u.NI(this.reaper.primordial,u.kI.required),reaper:new u.NI(this.reaper.id,u.kI.required)});return z.valueChanges.subscribe(function(){j.updatePreview(z)}),this.updatePreview(z),z}}]),q}();return x.\u0275fac=function(E){return new(E||x)(t.Y36(D.so),t.Y36(y.I),t.Y36(w.P),t.Y36(l.K),t.Y36(_.x),t.Y36(D.WI))},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-reaper-edit-modal"]],decls:1,vars:1,consts:[["autocomplete","off",3,"formGroup","submit",4,"ngIf"],["autocomplete","off",3,"formGroup","submit"],["autocomplete","false","name","hidden","type","text",2,"display","none"],[1,"preview"],[3,"reaper"],[1,"form"],[1,"stat-line"],["appearance","outline"],["matInput","","type","number","step","1","formControlName","baseLevel"],["matInput","","type","number","step","1","formControlName","baseKills"],["matInput","","type","number","step","1","formControlName","primordialLevel"],["matInput","","type","number","step","1","formControlName","primordialKills"],["appearance","outline","color","primary",1,"no-error-padding"],["formControlName","reaper","color","primary"],[3,"value",4,"ngFor","ngForOf"],["color","primary","formControlName","primordial"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","button","color","primary",3,"click"],["mat-flat-button","","type","submit","color","primary"],[3,"value"],[3,"innerHTML"]],template:function(E,j){1&E&&t.YNc(0,V,47,5,"form",0),2&E&&t.Q6J("ngIf",null!==j.form&&null!==j.reaper)},directives:[r.O5,u._Y,u.JL,u.sg,D.xY,s,U.KE,U.hX,h.Nt,u.wV,u.Fj,u.JJ,u.u,U.TO,C.gD,r.sg,Z.oG,D.H8,k.lW,D.ZT,S.ey],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:20px;gap:20px;flex-grow:1}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]{flex-direction:column}}mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{max-width:350px}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{display:none;visibility:hidden}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;align-items:stretch;flex-grow:1}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{padding:8px 0}"]}),x}(),G=a(9776),ue=a(2525),ge=a(3874);function pe(x,q){if(1&x&&t._UZ(0,"app-reaper-view",11),2&x){var E=t.oxw(2);t.Q6J("reaper",E.character.reaper)}}function le(x,q){if(1&x){var E=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){return t.CHM(E),t.oxw(3).edit()}),t.TgZ(1,"mat-icon"),t._uU(2,"add_circle_outline"),t.qZA(),t._uU(3,"Add reaper"),t.qZA()}}function ve(x,q){if(1&x){var E=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){return t.CHM(E),t.oxw(3).edit()}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA(),t._uU(3,"Edit reaper"),t.qZA()}}function H(x,q){if(1&x&&(t.YNc(0,le,4,0,"button",12),t.YNc(1,ve,4,0,"button",12)),2&x){var E=t.oxw(2);t.Q6J("ngIf",null===E.character.reaper),t.xp6(1),t.Q6J("ngIf",null!==E.character.reaper)}}function X(x,q){if(1&x){var E=t.EpF();t.TgZ(0,"div",2,3),t.NdJ("click",function(){return t.CHM(E),t.oxw().edit()}),t._UZ(2,"div",4),t.ynx(3),t._UZ(4,"img",5),t.YNc(5,pe,1,1,"ng-template",6),t.BQk(),t._UZ(6,"div",7),t.TgZ(7,"mat-menu",8,9),t.YNc(9,H,2,2,"ng-template",10),t.qZA(),t.qZA()}if(2&x){var j=t.MAs(1),z=t.MAs(8),me=t.oxw();t.ekj("readonly",me.readonly),t.xp6(4),t.ekj("primordial-effect",me.character.reaper.primordial),t.Q6J("src",me.character.reaper.icon,t.LSH),t.xp6(1),t.Q6J("cdkConnectedOverlayOpen",me.showOverlay)("cdkConnectedOverlayOrigin",j),t.xp6(1),t.Q6J("matMenuTriggerFor",z),t.xp6(1),t.Q6J("overlapTrigger",!0)}}function b(x,q){if(1&x&&t._UZ(0,"div",14),2&x){var E=t.oxw();t.Q6J("innerHTML",E.character.reaper.levelLabel,t.oJD)}}var K=function(){var x=function(){function q(E,j,z){(0,N.Z)(this,q),this.dialog=E,this.slormancerCharacterBuilderService=j,this.itemMoveService=z,this.character=null,this.readonly=!1,this.changed=new t.vpe,this.showOverlay=!1}return(0,Q.Z)(q,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"onMouseContextMenu",value:function(){return this.readonly||this.itemMoveService.releaseHoldItem(),!1}},{key:"ngOnInit",value:function(){}},{key:"edit",value:function(){var j=this;if(null!==this.character&&!this.readonly){var z=this.slormancerCharacterBuilderService.getCharacterClone(this.character);this.dialog.open(ie,{data:{reaper:z.reaper,character:z}}).afterClosed().subscribe(function(F){F&&j.changed.emit(F)})}}}]),q}();return x.\u0275fac=function(E){return new(E||x)(t.Y36(D.uw),t.Y36(m.o),t.Y36(e.v))},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-reaper-slot"]],hostBindings:function(E,j){1&E&&t.NdJ("mouseenter",function(){return j.onOver()})("mouseleave",function(){return j.onLeave()})("contextmenu",function(){return j.onMouseContextMenu()})},inputs:{character:"character",readonly:"readonly"},outputs:{changed:"changed"},decls:2,vars:2,consts:[["class","reaper","cdkOverlayOrigin","",3,"readonly","click",4,"ngIf"],["class","reaper-level",3,"innerHTML",4,"ngIf"],["cdkOverlayOrigin","",1,"reaper",3,"click"],["trigger","cdkOverlayOrigin"],[1,"inner-slot"],[3,"src"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"matMenuTriggerFor"],["xPosition","after",3,"overlapTrigger"],["menu","matMenu"],["matMenuContent",""],[3,"reaper"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"reaper-level",3,"innerHTML"]],template:function(E,j){1&E&&(t.YNc(0,X,10,9,"div",0),t.YNc(1,b,1,1,"div",1)),2&E&&(t.Q6J("ngIf",null!==j.character),t.xp6(1),t.Q6J("ngIf",null!==j.character))},directives:[r.O5,G.xu,G.pI,ue.p6,ue.VK,ue.KA,s,ue.OP,ge.Hw],styles:[".reaper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:124px;min-height:124px;position:relative}.reaper[_ngcontent-%COMP%]:not(.readonly){cursor:pointer}.reaper[_ngcontent-%COMP%]   .inner-slot[_ngcontent-%COMP%]{width:80px;height:80px;background-color:#1e1e1e;border:3px solid #3c3c3c}.reaper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;margin-top:-12.5%;margin-left:-12.5%;image-rendering:pixelated;transform:scale(4)}.reaper-level[_ngcontent-%COMP%]{color:#fff;text-align:center;text-transform:uppercase}app-reaper-view[_ngcontent-%COMP%]{width:350px}"]}),x}()},4591:function(se,te,a){a.d(te,{X:function(){return U}});var N=a(5671),Q=a(3144),t=a(136),m=a(7777),e=a(5542),u=a(2525),D=a(4373),Y=a(7255),y=a(8313),w=a(311),_=a(6446),l=a(9776),r=a(9808),g=a(411);function v(h,C){if(1&h&&e._UZ(0,"app-skill-view",9),2&h){var Z=e.oxw(2);e.Q6J("skill",Z.skill)}}function A(h,C){if(1&h&&(e.ynx(0),e._UZ(1,"img",7),e.YNc(2,v,1,1,"ng-template",8),e.BQk()),2&h){var Z=e.oxw(),k=e.MAs(1);e.xp6(1),e.Q6J("src","assets/img/icon/"+(Z.support?Z.skill.iconLarge:Z.skill.icon)+".png",e.LSH),e.xp6(1),e.Q6J("cdkConnectedOverlayOpen",Z.showOverlay)("cdkConnectedOverlayOrigin",k)}}function L(h,C){if(1&h&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&h){var Z=e.oxw().$implicit;e.xp6(1),e.Oqu(Z.specializationName)}}function P(h,C){if(1&h){var Z=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){var ie=e.CHM(Z).$implicit;return e.oxw(2).updateSkill(ie)}),e.TgZ(1,"div",12),e._UZ(2,"img",13),e.TgZ(3,"div",14),e.TgZ(4,"div",15),e._uU(5),e.qZA(),e.YNc(6,L,2,1,"div",16),e.TgZ(7,"div",17),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&h){var k=C.$implicit,S=e.oxw(2);e.xp6(1),e.ekj("selected",S.isSelectedSkill(k)),e.xp6(1),e.ekj("support",S.support),e.Q6J("src","assets/img/icon/"+(S.support?k.iconLarge:k.icon)+".png",e.LSH),e.xp6(3),e.Oqu(k.name),e.xp6(1),e.Q6J("ngIf",null!==k.specializationName),e.xp6(2),e.lnq("",S.MASTERY_LABEL,": ",k.level," / ",S.SKILL_MAX_MASTERY,"")}}function s(h,C){if(1&h&&e.YNc(0,P,9,10,"button",10),2&h){var Z=e.oxw();e.Q6J("ngForOf",Z.getAvailableSkills())}}var U=function(){var h=function(C){(0,t.Z)(k,C);var Z=(0,m.Z)(k);function k(S,W){var V;return(0,N.Z)(this,k),(V=Z.call(this)).buildStorageService=S,V.slormancerTranslateService=W,V.SKILL_MAX_MASTERY=D.DA,V.MASTERY_LABEL=V.slormancerTranslateService.translate("tt_mastery"),V.skill=null,V.support=!1,V.readonly=!1,V.changed=new e.vpe,V.menu=null,V.showOverlay=!1,V}return(0,Q.Z)(k,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"ngOnInit",value:function(){}},{key:"getAvailableSkills",value:function(){var W=this.buildStorageService.getLayer(),V=[];if(null!==W&&null!==W.character){var ie=this.support?Y.W.Support:Y.W.Active;V=W.character.skills.map(function(G){return G.skill}).filter(function(G){return ie===G.type})}return V}},{key:"isSelectedSkill",value:function(W){var V=this.buildStorageService.getLayer();return null!==V&&null!==V.character&&(V.character.primarySkill===W||V.character.secondarySkill===W||V.character.supportSkill===W)}},{key:"updateSkill",value:function(W){this.skill!==W&&this.changed.emit(W)}},{key:"openMenu",value:function(){return null!==this.menu&&!this.readonly&&this.menu.openMenu(),!1}}]),k}(_.B);return h.\u0275fac=function(Z){return new(Z||h)(e.Y36(w.x),e.Y36(y.n))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-skill-slot"]],viewQuery:function(Z,k){var S;1&Z&&e.Gf(u.p6,7),2&Z&&e.iGM(S=e.CRH())&&(k.menu=S.first)},hostBindings:function(Z,k){1&Z&&e.NdJ("mouseenter",function(){return k.onOver()})("mouseleave",function(){return k.onLeave()})},inputs:{skill:"skill",support:"support",readonly:"readonly"},outputs:{changed:"changed"},features:[e.qOj],decls:7,vars:6,consts:[["cdkOverlayOrigin","",1,"skill",3,"contextmenu","click"],["trigger","cdkOverlayOrigin"],[4,"ngIf"],[3,"matMenuTriggerFor"],["yPosition","above",1,"skill-menu"],["menu","matMenu"],["matMenuContent",""],[3,"src"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"skill"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],[1,"skill-menu-entry"],[1,"skill",3,"src"],[1,"description"],[1,"name"],["class","specialization",4,"ngIf"],[1,"mastery"],[1,"specialization"]],template:function(Z,k){if(1&Z&&(e.TgZ(0,"div",0,1),e.NdJ("contextmenu",function(){return k.openMenu()})("click",function(){return k.openMenu()}),e.YNc(2,A,3,3,"ng-container",2),e._UZ(3,"div",3),e.TgZ(4,"mat-menu",4,5),e.YNc(6,s,1,1,"ng-template",6),e.qZA(),e.qZA()),2&Z){var S=e.MAs(5);e.ekj("support",k.support)("readonly",k.readonly),e.xp6(2),e.Q6J("ngIf",null!==k.skill),e.xp6(1),e.Q6J("matMenuTriggerFor",S)}},directives:[l.xu,r.O5,u.p6,u.VK,u.KA,l.pI,g.O,r.sg,u.OP],styles:["[_nghost-%COMP%]{min-width:42px;height:42px;min-height:42px;overflow:hidden}.skill[_ngcontent-%COMP%]{width:42px;min-width:42px;height:42px;min-height:42px;border:4px solid black;position:relative;background-color:#131313}.skill.support[_ngcontent-%COMP%]{width:84px;min-width:84px}.skill[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.skill[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{text-transform:uppercase}.skill[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:-8px;left:0}.skill-menu-entry[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:8px;gap:8px}.skill-menu-entry[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]{border:4px solid #353535}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .specialization[_ngcontent-%COMP%]{line-height:normal;font-weight:700;text-transform:uppercase}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .mastery[_ngcontent-%COMP%]{line-height:normal}.skill-menu-entry.selected[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]{border-color:#edd371}.skill-menu-entry.selected[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .skill-menu-entry.selected[_ngcontent-%COMP%]   .specialization[_ngcontent-%COMP%]{color:#edd371}app-item-view[_ngcontent-%COMP%]{width:350px}"]}),h}()},8849:function(se,te,a){a.d(te,{B:function(){return w}});var N=a(5671),Q=a(3144),t=a(8313),m=a(5542),e=a(9808),u=a(5895);function D(_,l){if(1&_&&m._UZ(0,"div",18),2&_){var r=m.oxw(2);m.Q6J("innerHTML",r.upgrade.genresLabel,m.oJD)}}function Y(_,l){if(1&_&&m._UZ(0,"div",19),2&_){var r=m.oxw(2);m.Q6J("innerHTML",r.upgrade.costLabel,m.oJD)}}function y(_,l){if(1&_&&(m.TgZ(0,"div"),m.TgZ(1,"div",1),m._uU(2),m.qZA(),m.TgZ(3,"div",2),m.TgZ(4,"div",3),m.TgZ(5,"div",4),m.TgZ(6,"div",5),m._UZ(7,"div",6),m._UZ(8,"img",7),m.qZA(),m.qZA(),m.TgZ(9,"div",8),m.TgZ(10,"div",9),m._uU(11),m.qZA(),m.TgZ(12,"div",10),m._uU(13),m.qZA(),m.YNc(14,D,1,1,"div",11),m.TgZ(15,"div",12),m._uU(16),m.TgZ(17,"span",13),m._uU(18),m.qZA(),m._uU(19),m.qZA(),m.YNc(20,Y,1,1,"div",14),m.qZA(),m.qZA(),m._UZ(21,"div",15),m._UZ(22,"div",16),m._UZ(23,"app-mechanics-view",17),m.qZA(),m.qZA()),2&_){var r=m.oxw();m.Gre("skill slormancer-tooltip ",r.upgrade.damageTypes.length>0?r.upgrade.damageTypes[0]:"",""),m.xp6(2),m.AsE("",r.getTypeLabel(r.upgrade.type),": ",r.upgrade.name,""),m.xp6(6),m.Q6J("src",r.upgrade.icon,m.LSH),m.xp6(3),m.AsE("",r.translate(r.MASTERY_LABEL)," ",r.upgrade.masteryRequired,""),m.xp6(2),m.Oqu(r.getTypeLabel(r.upgrade.type)),m.xp6(1),m.Q6J("ngIf",null!==r.upgrade.genresLabel),m.xp6(2),m.hij("",r.translate(r.RANK_LABEL),": "),m.xp6(2),m.Oqu(r.upgrade.rank),m.xp6(1),m.hij("/",r.upgrade.maxRank,""),m.xp6(1),m.Q6J("ngIf",null!==r.upgrade.costLabel),m.xp6(2),m.Q6J("innerHTML",r.upgrade.description,m.oJD),m.xp6(1),m.Q6J("classMechanics",r.upgrade.relatedClassMechanics)("mechanics",r.upgrade.relatedMechanics)("buffs",r.upgrade.relatedBuffs)}}var w=function(){var _=function(){function l(r){(0,N.Z)(this,l),this.slormancerTranslateService=r,this.RANK_LABEL="tt_rank",this.MASTERY_LABEL="tt_mastery",this.NEXT_RANK_LABEL="tt_next_rank",this.MAX_RANK_LABEL="tt_max_rank",this.upgrade=null,this.mouseOverElement=null}return(0,Q.Z)(l,[{key:"getCostLabel",value:function(g){return this.slormancerTranslateService.translate("tt_"+g)}},{key:"getGenresLabel",value:function(g){var v=this;return g.map(function(A){return v.slormancerTranslateService.translate(A)}).join(", ")}},{key:"getTypeLabel",value:function(g){return this.slormancerTranslateService.translate("tt_"+g)}},{key:"translate",value:function(g){return this.slormancerTranslateService.translate(g)}},{key:"showMechanicOverlay",value:function(g){this.mouseOverElement=g}},{key:"hideMechanicOverlay",value:function(){this.mouseOverElement=null}}]),l}();return _.\u0275fac=function(r){return new(r||_)(m.Y36(t.n))},_.\u0275cmp=m.Xpm({type:_,selectors:[["app-skill-upgrade-view"]],inputs:{upgrade:"upgrade"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head","inner-box"],[1,"content","inner-box"],[1,"info"],[1,"visual"],[1,"icon"],[1,"icon-border"],[3,"src"],[1,"data"],[1,"mastery"],[1,"type"],["class","genre",3,"innerHTML",4,"ngIf"],[1,"rank"],[1,"current"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"separator"],[1,"description",3,"innerHTML"],[3,"classMechanics","mechanics","buffs"],[1,"genre",3,"innerHTML"],[1,"cost",3,"innerHTML"]],template:function(r,g){1&r&&m.YNc(0,y,24,18,"div",0),2&r&&m.Q6J("ngIf",null!==g.upgrade)},directives:[e.O5,u.A],styles:[".skill[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;max-width:400px}.skill[_ngcontent-%COMP%]   .inner-box[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]:before{border-color:primary-color(400)}.skill[_ngcontent-%COMP%]  .value, .skill[_ngcontent-%COMP%]  .rank .current, .skill[_ngcontent-%COMP%]  .head{color:#ce4607}.skill[_ngcontent-%COMP%]  .mag .value{color:#bb1fe2}.skill[_ngcontent-%COMP%]  .range, .skill[_ngcontent-%COMP%]  .range .value, .skill[_ngcontent-%COMP%]  .details, .skill[_ngcontent-%COMP%]  .details .value, .skill[_ngcontent-%COMP%]  .formula, .skill[_ngcontent-%COMP%]  .formula .value{color:#686868}.skill[_ngcontent-%COMP%]  .affixes .range, .skill[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.skill[_ngcontent-%COMP%]  .life{color:#257539}.skill[_ngcontent-%COMP%]  .mana{color:#3397dd}.skill.mag[_ngcontent-%COMP%]  .value, .skill.mag[_ngcontent-%COMP%]  .rank .current, .skill.mag[_ngcontent-%COMP%]  .head{color:#bb1fe2}.skill[_ngcontent-%COMP%]   .head.head[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.head[_ngcontent-%COMP%]{text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;grid-gap:20px;gap:20px;padding:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:10px;gap:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{display:flex;align-items:center}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border:3px solid #be871f;min-width:60px;min-height:60px;width:60px;height:60px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black;image-rendering:pixelated;width:54px;height:54px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-transform:uppercase;height:100%;flex-grow:1;padding:5px 0;grid-gap:5px;gap:5px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#3155bc}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]{display:flex;flex-direction:row}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{min-width:8px;padding-right:8px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;background-color:#ce4607;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}"]}),_}()},411:function(se,te,a){a.d(te,{O:function(){return w}});var N=a(3144),Q=a(5671),t=a(5542),m=a(9808);function e(_,l){if(1&_&&t._UZ(0,"div",15),2&_){var r=t.oxw(2);t.Q6J("innerHTML",r.skill.genresLabel,t.oJD)}}function u(_,l){if(1&_&&t._UZ(0,"div",16),2&_){var r=t.oxw(2);t.Q6J("innerHTML",r.skill.cooldownLabel,t.oJD)}}function D(_,l){if(1&_&&t._UZ(0,"div",17),2&_){var r=t.oxw(2);t.Q6J("innerHTML",r.skill.costLabel,t.oJD)}}function Y(_,l){if(1&_&&(t.TgZ(0,"span",18),t._uU(1),t.qZA()),2&_){var r=t.oxw(2);t.xp6(1),t.hij(" + ",r.skill.bonusLevel,"")}}function y(_,l){if(1&_&&(t.TgZ(0,"div"),t._UZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._UZ(6,"img",6),t.qZA(),t.qZA(),t.TgZ(7,"div",7),t.YNc(8,e,1,1,"div",8),t.YNc(9,u,1,1,"div",9),t.YNc(10,D,1,1,"div",10),t.qZA(),t.qZA(),t._UZ(11,"div",11),t._UZ(12,"div",12),t.TgZ(13,"div",13),t._UZ(14,"img",6),t.YNc(15,Y,2,1,"span",14),t.qZA(),t.qZA(),t.qZA()),2&_){var r=t.oxw();t.Gre("skill slormancer-tooltip ",r.skill.damageTypes.length>0?r.skill.damageTypes[0]:"",""),t.xp6(1),t.Q6J("innerHTML",r.skill.nameLabel,t.oJD),t.xp6(5),t.Q6J("src","assets/img/icon/"+r.skill.icon+".png",t.LSH),t.xp6(2),t.Q6J("ngIf",null!==r.skill.genresLabel),t.xp6(1),t.Q6J("ngIf",null!==r.skill.cooldownLabel),t.xp6(1),t.Q6J("ngIf",null!==r.skill.costLabel),t.xp6(2),t.Q6J("innerHTML",r.skill.description,t.oJD),t.xp6(2),t.MGl("src","assets/img/icon/",r.skill.levelIcon,".png",t.LSH),t.xp6(1),t.Q6J("ngIf",r.skill.bonusLevel>0)}}var w=function(){var _=(0,N.Z)(function l(){(0,Q.Z)(this,l),this.skill=null});return _.\u0275fac=function(r){return new(r||_)},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-skill-view"]],inputs:{skill:"skill"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head","inner-box",3,"innerHTML"],[1,"content","inner-box"],[1,"info"],[1,"visual"],[1,"icon"],[3,"src"],[1,"data"],["class","genre",3,"innerHTML",4,"ngIf"],["class","cooldown",3,"innerHTML",4,"ngIf"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"separator"],[1,"description",3,"innerHTML"],[1,"bottom-level"],["class","bonus",4,"ngIf"],[1,"genre",3,"innerHTML"],[1,"cooldown",3,"innerHTML"],[1,"cost",3,"innerHTML"],[1,"bonus"]],template:function(r,g){1&r&&t.YNc(0,y,16,11,"div",0),2&r&&t.Q6J("ngIf",null!==g.skill)},directives:[m.O5],styles:[".skill[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;max-width:400px}.skill[_ngcontent-%COMP%]   .inner-box[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]:before{border-color:primary-color(400)}.skill[_ngcontent-%COMP%]  .value, .skill[_ngcontent-%COMP%]  .rank .current{color:#ce4607}.skill[_ngcontent-%COMP%]  .range, .skill[_ngcontent-%COMP%]  .range .value, .skill[_ngcontent-%COMP%]  .details, .skill[_ngcontent-%COMP%]  .details .value, .skill[_ngcontent-%COMP%]  .formula, .skill[_ngcontent-%COMP%]  .formula .value{color:#686868}.skill[_ngcontent-%COMP%]  .affixes .range, .skill[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.skill[_ngcontent-%COMP%]  .life{color:#257539}.skill[_ngcontent-%COMP%]  .mana{color:#3397dd}.skill.mag[_ngcontent-%COMP%]  .value, .skill.mag[_ngcontent-%COMP%]  .rank .current{color:#bb1fe2}.skill[_ngcontent-%COMP%]   .head.head[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.head[_ngcontent-%COMP%]{text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;grid-gap:20px;gap:20px;padding:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:10px;gap:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{display:flex;align-items:center}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border:3px solid #be871f;min-width:60px;min-height:60px;width:60px;height:60px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black;image-rendering:pixelated;width:54px;height:54px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-transform:uppercase;height:100%;flex-grow:1;padding:5px 0;grid-gap:5px;gap:5px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}"]}),_}()},9536:function(se,te,a){a.d(te,{A:function(){return A}});var N=a(5671),Q=a(3144),t=a(136),m=a(7777),e=a(2722),u=a(7255),D=a(2424),Y=a(6446),y=a(5542),w=a(9808),_=a(9776),l=a(8849);function r(L,P){if(1&L&&y._UZ(0,"app-skill-upgrade-view",8),2&L){var s=y.oxw(3);y.Q6J("upgrade",s.upgrade)}}function g(L,P){if(1&L&&y.YNc(0,r,1,1,"ng-template",7),2&L){y.oxw();var s=y.MAs(1),U=y.oxw();y.Q6J("cdkConnectedOverlayOpen",U.showOverlay)("cdkConnectedOverlayOrigin",s)}}function v(L,P){if(1&L&&(y.TgZ(0,"div",1,2),y.TgZ(2,"div",3),y._UZ(3,"img",4),y.qZA(),y.TgZ(4,"div",5),y._uU(5),y.qZA(),y.YNc(6,g,1,2,void 0,6),y.qZA()),2&L){var s=y.oxw();y.ekj("hidden-search",s.hiddenBySearch)("passive",s.isPassive(s.upgrade))("readonly",s.readonly),y.xp6(2),y.ekj("equipped",s.equipped),y.xp6(1),y.Q6J("src",s.upgrade.icon,y.LSH),y.xp6(1),y.ekj("max",s.upgrade.rank===s.upgrade.maxRank),y.xp6(1),y.Oqu(s.upgrade.rank===s.upgrade.maxRank?"Max":s.upgrade.rank),y.xp6(1),y.Q6J("ngIf",s.showOverlay&&s.overlay)}}var A=function(){var L=function(P){(0,t.Z)(U,P);var s=(0,m.Z)(U);function U(h){var C;return(0,N.Z)(this,U),(C=s.call(this)).searchService=h,C.upgrade=null,C.selected=!1,C.equipped=!1,C.overlay=!1,C.readonly=!1,C.hiddenBySearch=!1,C.showOverlay=!1,C}return(0,Q.Z)(U,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"ngOnInit",value:function(){var C=this;this.searchService.searchChanged.pipe((0,e.R)(this.unsubscribe)).subscribe(function(Z){return C.hiddenBySearch=null!==Z&&null!==C.upgrade&&!C.searchService.upgradeMatchSearch(C.upgrade)})}},{key:"isPassive",value:function(C){return C.type===u.W.Passive}}]),U}(Y.B);return L.\u0275fac=function(s){return new(s||L)(y.Y36(D.o))},L.\u0275cmp=y.Xpm({type:L,selectors:[["app-upgrade-slot"]],hostBindings:function(s,U){1&s&&y.NdJ("mouseenter",function(){return U.onOver()})("mouseleave",function(){return U.onLeave()})},inputs:{upgrade:"upgrade",selected:"selected",equipped:"equipped",overlay:"overlay",readonly:"readonly"},features:[y.qOj],decls:1,vars:1,consts:[["class","upgrade","cdkOverlayOrigin","",3,"hidden-search","passive","readonly",4,"ngIf"],["cdkOverlayOrigin","",1,"upgrade"],["trigger","cdkOverlayOrigin"],[1,"equipped-border"],[1,"skill-icon",3,"src"],[1,"rank"],[4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"upgrade"]],template:function(s,U){1&s&&y.YNc(0,v,7,13,"div",0),2&s&&y.Q6J("ngIf",null!==U.upgrade)},directives:[w.O5,_.xu,_.pI,l.B],styles:[".upgrade[_ngcontent-%COMP%]{background-color:#101010;position:relative;z-index:1}.upgrade.hidden-search[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{opacity:.2}.upgrade.passive[_ngcontent-%COMP%], .upgrade.passive[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%], .upgrade.passive[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}.upgrade[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{position:absolute;background-color:#202020;padding:0 2px;bottom:0;right:0;font-size:10px;border-radius:4px}.upgrade[_ngcontent-%COMP%]   .rank.max[_ngcontent-%COMP%]{color:#edd371}.upgrade[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%]{width:46px;height:46px;position:relative;border:3px solid black;padding:2px;background-color:#202020}.upgrade[_ngcontent-%COMP%]   .equipped-border.equipped[_ngcontent-%COMP%]{background-color:#edd371}.upgrade[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black}.upgrade[_ngcontent-%COMP%]:not(.readonly)   .equipped-border[_ngcontent-%COMP%]{cursor:pointer}.upgrade.readonly[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%]{padding:0;border-width:4px;width:44px;height:44px}.upgrade.readonly[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-width:0}"]}),L}()},7355:function(se,te,a){a.d(te,{d:function(){return D}});var N=a(5671),Q=a(3144),t=a(2340),m=a(1093),e=a(2473),u=a(5542),D=function(){var Y=function(){function y(w){(0,N.Z)(this,y),this.slormancerCharacterBuilderService=w}return(0,Q.Z)(y,[{key:"createBuild",value:function(_,l){return{version:t.N.version,name:l,heroClass:_,layers:[],configuration:m.g}}},{key:"createBuildWithCharacter",value:function(_,l,r){var g={version:t.N.version,name:_,heroClass:r.heroClass,layers:[],configuration:m.g};return this.addLayer(g,l,this.slormancerCharacterBuilderService.getCharacterClone(r)),g}},{key:"addLayer",value:function(_,l){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,g={name:l,character:null!==r?r:this.slormancerCharacterBuilderService.getCharacter(_.heroClass)};return _.layers.push(g),g}},{key:"duplicateLayer",value:function(_,l,r){return this.addLayer(_,r,this.slormancerCharacterBuilderService.getCharacterClone(l.character))}},{key:"deleteLayer",value:function(_,l){var r=_.layers.indexOf(l);-1!==r&&_.layers.splice(r,1)}}]),y}();return Y.\u0275fac=function(w){return new(w||Y)(u.LFG(e.o))},Y.\u0275prov=u.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y}()},3300:function(se,te,a){a.d(te,{K:function(){return L}});var N=a(4942),Q=a(7762),t=a(5671),m=a(3144),e=a(7399),u=a(4456),D=a(2107),Y=a(2206),y=function(){return(P=y||(y={}))[P.Astorias=0]="Astorias",P[P.Adrianne=1]="Adrianne",P[P.Beigarth=2]="Beigarth",P[P.CoryIronbender=3]="CoryIronbender",P[P.Smaloron=4]="Smaloron",P[P.Fulgurorn=5]="Fulgurorn",P[P.Hagan=6]="Hagan",P[P.OhmAgad=7]="OhmAgad",y;var P}(),w=[y.Astorias,y.Adrianne,y.Beigarth,y.CoryIronbender,y.Smaloron,y.Fulgurorn,y.Hagan,y.OhmAgad],_=a(1375),l=a(7795),r=a(3790),g=a(8313),v=a(5581),A=a(5542),L=function(){var P=function(){function s(U,h,C){(0,t.Z)(this,s),this.slormancerDataService=U,this.slormancerTranslateService=h,this.slormancerReaperService=C,this.STATS_OPTIONS_CACHE={},this.LEGENDARY_OPTIONS_CACHE={},this.ALL_STATS_OPTIONS_CACHE=[],this.ALL_REAPER_BUFF_OPTIONS_CACHE=[],this.ALL_SKILL_BUFF_OPTIONS_CACHE={0:[],1:[],2:[]},this.ALL_ATTRIBUTE_BUFF_OPTIONS_CACHE=[],this.ALL_REAPER_OPTIONS_CACHE={p:{0:[],1:[],2:[]},b:{0:[],1:[],2:[]}},this.ULTIMATUM_OPTIONS_CACHE=[],this.initStatOptionsCache(),this.initLegendaryOptionsCache(),this.initReaperBuffOptions(),this.initSkillBuffOptions(),this.initAttributeBuffOptions(),this.initReaperOptions(),this.initUltimatumOptions()}return(0,m.Z)(s,[{key:"getReaperOptions",value:function(h,C){return this.ALL_REAPER_OPTIONS_CACHE[C?"p":"b"][h]}},{key:"getAllStatsoptions",value:function(){return this.ALL_STATS_OPTIONS_CACHE}},{key:"getStatsOptions",value:function(h,C){var Z=this.ALL_STATS_OPTIONS_CACHE,k=this.STATS_OPTIONS_CACHE[h];return k&&(C===Y.u.Normal?Z=(0,v.Be)(k.P,[]):(C===Y.u.Magic||C===Y.u.Rare)&&(Z=(0,v.Be)(k.S,[]))),Z}},{key:"getLegendaryOptions",value:function(h,C){var Z=[],k=this.LEGENDARY_OPTIONS_CACHE[h];return k&&(Z=k[C]),Z}},{key:"getReaperBuffOptions",value:function(){return this.ALL_REAPER_BUFF_OPTIONS_CACHE}},{key:"getSkillBuffOptions",value:function(h){return this.ALL_SKILL_BUFF_OPTIONS_CACHE[h]}},{key:"getAttributeBuffOptions",value:function(){return this.ALL_ATTRIBUTE_BUFF_OPTIONS_CACHE}},{key:"getUltimatumOptions",value:function(){return this.ULTIMATUM_OPTIONS_CACHE}},{key:"getBaseKey",value:function(h){return h===u.J.Body?"ARMOR":h.toUpperCase()}},{key:"initStatOptionsCache",value:function(){var h=this.slormancerDataService.getGameDataStats().filter(function(x){return"X"!==x.PERCENT});this.STATS_OPTIONS_CACHE={},this.ALL_STATS_OPTIONS_CACHE=[];var Z,C=(0,Q.Z)(h);try{for(C.s();!(Z=C.n()).done;){var k=Z.value,S={label:this.slormancerTranslateService.translate(k.REF)+("%"===k.PERCENT?" (%)":""),value:k.REF};this.ALL_STATS_OPTIONS_CACHE.push(S);var V,W=(0,Q.Z)(u.l);try{for(W.s();!(V=W.n()).done;){var ie=V.value,ue=k[this.getBaseKey(ie)];if(""!==ue){var ge=this.STATS_OPTIONS_CACHE[ie];void 0===ge&&(this.STATS_OPTIONS_CACHE[ie]=ge={P:[],S:[]}),"P"===ue&&ge.P.push(S),("P"===ue||"S"===ue)&&ge.S.push(S)}}}catch(x){W.e(x)}finally{W.f()}}}catch(x){C.e(x)}finally{C.f()}var le,pe=(0,Q.Z)(u.l);try{for(pe.s();!(le=pe.n()).done;){var H=this.getBaseKey(le.value),X=this.STATS_OPTIONS_CACHE[H];if(X){var b=X.P,K=X.S;b&&b.sort(function(x,q){return(0,v.rR)(x.label,q.label)}),K&&K.sort(function(x,q){return(0,v.rR)(x.label,q.label)})}}}catch(x){pe.e(x)}finally{pe.f()}this.ALL_STATS_OPTIONS_CACHE.sort(function(x,q){return(0,v.rR)(x.label,q.label)})}},{key:"initLegendaryOptionsCache",value:function(){var h=this.slormancerDataService.getGameDataLegendaries().filter(function(V){return V.LOOTABLE});this.LEGENDARY_OPTIONS_CACHE={};var Z,C=(0,Q.Z)(h);try{for(C.s();!(Z=C.n()).done;){var k=Z.value,S={value:k.REF,label:k.EN_NAME},W=this.LEGENDARY_OPTIONS_CACHE[k.ITEM];void 0===W&&(this.LEGENDARY_OPTIONS_CACHE[k.ITEM]=W={0:[],1:[],2:[]}),-1===k.HERO||99===k.HERO?(W[0].push(S),W[1].push(S),W[2].push(S)):W[k.HERO].push(S)}}catch(V){C.e(V)}finally{C.f()}}},{key:"initReaperBuffOptions",value:function(){var h=this;this.ALL_REAPER_BUFF_OPTIONS_CACHE=w.filter(function(C){return C!==y.OhmAgad}).map(function(C){return{value:C,label:h.slormancerTranslateService.translate("weapon_reapersmith_"+C)}})}},{key:"initSkillBuffOptions",value:function(){var h;this.ALL_SKILL_BUFF_OPTIONS_CACHE=((0,N.Z)(h={},D.i.Warrior,this.slormancerDataService.getGameDataActiveSkills(D.i.Warrior).map(function(C){return{value:C.REF,label:C.EN_NAME}})),(0,N.Z)(h,D.i.Huntress,this.slormancerDataService.getGameDataActiveSkills(D.i.Huntress).map(function(C){return{value:C.REF,label:C.EN_NAME}})),(0,N.Z)(h,D.i.Mage,this.slormancerDataService.getGameDataActiveSkills(D.i.Mage).map(function(C){return{value:C.REF,label:C.EN_NAME}})),h)}},{key:"initAttributeBuffOptions",value:function(){var h=this;this.ALL_ATTRIBUTE_BUFF_OPTIONS_CACHE=e.A.map(function(C){return{value:C,label:h.slormancerTranslateService.translate("character_trait_"+C)}})}},{key:"initReaperOptions",value:function(){this.ALL_REAPER_OPTIONS_CACHE={p:{0:[],1:[],2:[]},b:{0:[],1:[],2:[]}};var Z,h=this.slormancerDataService.getGameDataAvailableReaper(),C=(0,Q.Z)(h);try{for(C.s();!(Z=C.n()).done;){var k=Z.value;this.ALL_REAPER_OPTIONS_CACHE.p[D.i.Warrior].push({value:k.REF,label:this.slormancerReaperService.getReaperName(k.EN_NAME,!0,D.i.Warrior)}),this.ALL_REAPER_OPTIONS_CACHE.p[D.i.Huntress].push({value:k.REF,label:this.slormancerReaperService.getReaperName(k.EN_NAME,!0,D.i.Huntress)}),this.ALL_REAPER_OPTIONS_CACHE.p[D.i.Mage].push({value:k.REF,label:this.slormancerReaperService.getReaperName(k.EN_NAME,!0,D.i.Mage)}),this.ALL_REAPER_OPTIONS_CACHE.b[D.i.Warrior].push({value:k.REF,label:this.slormancerReaperService.getReaperName(k.EN_NAME,!1,D.i.Warrior)}),this.ALL_REAPER_OPTIONS_CACHE.b[D.i.Huntress].push({value:k.REF,label:this.slormancerReaperService.getReaperName(k.EN_NAME,!1,D.i.Huntress)}),this.ALL_REAPER_OPTIONS_CACHE.b[D.i.Mage].push({value:k.REF,label:this.slormancerReaperService.getReaperName(k.EN_NAME,!1,D.i.Mage)})}}catch(S){C.e(S)}finally{C.f()}}},{key:"initUltimatumOptions",value:function(){var h=this;this.ULTIMATUM_OPTIONS_CACHE=_.N.map(function(C){return{value:C,label:h.slormancerTranslateService.translate("ultimatum_"+C)}})}}]),s}();return P.\u0275fac=function(U){return new(U||P)(A.LFG(l.o),A.LFG(g.n),A.LFG(r.I))},P.\u0275prov=A.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P}()},8271:function(se,te,a){a.d(te,{s:function(){return y}});var N=a(5671),Q=a(3144),t=a(7106),m=a(5458),e=a(2473),u=a(5581),D=a(3390),Y=a(5542),y=function(){var w=function(){function _(l,r,g,v){(0,N.Z)(this,_),this.slormancerCharacterBuilderService=l,this.slormancerSaveParserService=r,this.slormancerShortDataService=g,this.jsonConverterService=v;var A=document.getElementsByTagName("base")[0],L="/";if(void 0!==A){var P=A.getAttribute("href");null!==P&&(L=P)}this.VIEW_BUILD_PATH=window.origin+L+"view/build/"}return(0,Q.Z)(_,[{key:"parseSaveData",value:function(r,g){var v=this.slormancerSaveParserService.parseSaveFile(r);return this.slormancerCharacterBuilderService.getCharacterFromSave(v,g)}},{key:"parseUrlData",value:function(r){var g={character:null,layer:null,planner:null},v=null;try{var L=new URL(r).pathname.split("/");v=(0,u.lA)(L[L.length-1]),console.log("parse url fragment : ",v)}catch(P){}return null!==v&&(g=this.importFromShortData(v),console.log("parsed from url : ",g)),g}},{key:"parseJsonData",value:function(r){var g=JSON.parse(r);return this.jsonConverterService.jsonToSharedData(g)}},{key:"import",value:function(r){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,v={character:null,layer:null,planner:null};if(null!==g)try{return v.character=this.parseSaveData(r,g),v}catch(A){console.error("Error when parsing save file : ",A)}try{return this.parseJsonData(atob(r))}catch(A){}try{return this.parseJsonData(r)}catch(A){}return null===(v=this.importFromShortData(r)).character&&(v=this.parseUrlData(r)),console.log("data parsed : ",v),v}},{key:"exportCharacter",value:function(r){return btoa(JSON.stringify(this.jsonConverterService.characterToJson(r)))}},{key:"exportLayer",value:function(r){return btoa(JSON.stringify(this.jsonConverterService.layerToJson(r)))}},{key:"exportBuild",value:function(r){return btoa(JSON.stringify(this.jsonConverterService.buildToJson(r)))}},{key:"exportCharacterAsLink",value:function(r){var g=this.slormancerShortDataService.characterToShortData(r);return this.VIEW_BUILD_PATH+g}},{key:"importFromShortData",value:function(r){return{character:this.slormancerShortDataService.shortDataToCharacter(r),layer:null,planner:null}}}]),_}();return w.\u0275fac=function(l){return new(l||w)(Y.LFG(e.o),Y.LFG(t.X),Y.LFG(m.q),Y.LFG(D.D))},w.\u0275prov=Y.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w}()},7469:function(se,te,a){a.d(te,{v:function(){return Y}});var N=a(4902),Q=a(5671),t=a(3144),m=a(1135),e=a(4456),u=a(311),D=a(5542),Y=function(){var y=function(){function w(_){(0,Q.Z)(this,w),this.buildStorageService=_,this.draggingItem=new m.X(!1),this.dragCount=0,this.item=null,this.requiredBase=null,this.callback=null}return(0,t.Z)(w,[{key:"hold",value:function(l,r){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.dragCount=0,this.item=l,this.requiredBase=r,this.callback=g}},{key:"startDragging",value:function(){this.draggingItem.getValue()||(this.dragCount++,null!==this.item&&this.dragCount>5&&this.draggingItem.next(!0))}},{key:"isDragItemCompatible",value:function(l,r){return!(null!==l&&null!==this.requiredBase&&l.base!==this.requiredBase||null===this.item||null!==r&&this.item.base!==r)}},{key:"isHoldItem",value:function(l){return l===this.item&&null!==l}},{key:"getHoldItem",value:function(){return this.item}},{key:"releaseHoldItem",value:function(){this.item=null,this.requiredBase=null,this.callback=null,this.draggingItem.next(!1)}},{key:"swap",value:function(l,r,g){var v=this.item,A=this.callback,L=this.isDragItemCompatible(l,r);this.releaseHoldItem(),l!==v&&(L?(A&&A(!0,l),g&&g(!0,v)):(A&&A(!1,null),g&&g(!1,null)))}},{key:"moveDraggedItemToItemGroup",value:function(l){var r=this.item,g=this.callback,v=l.indexOf(null),A=l.indexOf(r);if(this.releaseHoldItem(),-1!==v||-1!==A){g&&g(!0,null);var L=Math.min.apply(Math,(0,N.Z)([v,A].filter(function(P){return-1!==P})));l.splice(L,1,r)}else g&&g(!1,null)}},{key:"equip",value:function(l,r){var g=this.buildStorageService.getLayer();if(null!==g&&null!==g.character){var v=l.base;switch(this.hold(l,v,r),v){case e.J.Amulet:this.swap(g.character.gear.amulet,v,function(A,L){return A?g.character.gear.amulet=L:null});break;case e.J.Belt:this.swap(g.character.gear.belt,v,function(A,L){return A?g.character.gear.belt=L:null});break;case e.J.Body:this.swap(g.character.gear.body,v,function(A,L){return A?g.character.gear.body=L:null});break;case e.J.Boot:this.swap(g.character.gear.boot,v,function(A,L){return A?g.character.gear.boot=L:null});break;case e.J.Bracer:this.swap(g.character.gear.bracer,v,function(A,L){return A?g.character.gear.bracer=L:null});break;case e.J.Cape:this.swap(g.character.gear.cape,v,function(A,L){return A?g.character.gear.cape=L:null});break;case e.J.Glove:this.swap(g.character.gear.glove,v,function(A,L){return A?g.character.gear.glove=L:null});break;case e.J.Helm:this.swap(g.character.gear.helm,v,function(A,L){return A?g.character.gear.helm=L:null});break;case e.J.Shoulder:this.swap(g.character.gear.shoulder,v,function(A,L){return A?g.character.gear.shoulder=L:null});break;case e.J.Ring:null===g.character.gear.ring_r?this.swap(g.character.gear.ring_r,v,function(A,L){return A?g.character.gear.ring_r=L:null}):this.swap(g.character.gear.ring_l,v,function(A,L){return A?g.character.gear.ring_l=L:null})}}}},{key:"moveToStash",value:function(l,r){var g=this.buildStorageService.getLayer();if(null!==g&&null!==g.character){var v=[g.character.inventory].concat((0,N.Z)(g.character.sharedInventory)).filter(function(A){return void 0!==A.find(function(L){return null===L})})[0];v&&(this.hold(l,null,r),this.moveDraggedItemToItemGroup(v))}}}]),w}();return y.\u0275fac=function(_){return new(_||y)(D.LFG(u.x))},y.\u0275prov=D.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y}()},2424:function(se,te,a){a.d(te,{o:function(){return Y}});var N=a(4902),Q=a(7762),t=a(5671),m=a(3144),e=a(1135),u=a(5581),D=a(5542),Y=function(){var y=function(){function w(){(0,t.Z)(this,w),this.search=null,this.dom=document.createElement("div"),this.searchChanged=new e.X(null)}return(0,m.Z)(w,[{key:"hasSearch",value:function(){return null!==this.search}},{key:"setSearch",value:function(l){this.search=null!==l&&l.length>0?l:null,this.searchChanged.next(this.search)}},{key:"getCleanSearchValue",value:function(){return null===this.search?null:this.search.toLowerCase().trim()}},{key:"removeHtmlTags",value:function(l){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],g=l;if(null!==g){if(this.dom.innerHTML=g.toLowerCase(),r.length>0){var A,v=(0,Q.Z)(r);try{for(v.s();!(A=v.n()).done;)for(var L=A.value,P=this.dom.getElementsByClassName(L),s=0,U=P.length;s<U;s++){var h=P.item(s);h&&h.remove()}}catch(C){v.e(C)}finally{v.f()}}g=this.dom.textContent}return g}},{key:"stringsMatchSearch",value:function(l){var r=!0,g=this.getCleanSearchValue();return null!==g&&(r=null===this.search||void 0!==l.find(function(v){return(0,u.BX)(v)&&-1!==v.toLowerCase().indexOf(g)})),r}},{key:"itemMatchSearch",value:function(l){var r=this;return this.stringsMatchSearch([l.level.toString(),l.name,l.base,l.rarity].concat((0,N.Z)(l.affixes.map(function(g){return[g.isPure?"pure":null,r.removeHtmlTags(g.valueLabel+" "+g.statLabel,["details"])]}).flat()),[null===l.legendaryEffect?null:this.removeHtmlTags(l.legendaryEffect.description,["details"]),null!==l.reaperEnchantment?this.removeHtmlTags(l.reaperEnchantment.label,["details"]):null,null!==l.skillEnchantment?this.removeHtmlTags(l.skillEnchantment.label,["details"]):null,null!==l.attributeEnchantment?this.removeHtmlTags(l.attributeEnchantment.label,["details"]):null]))}},{key:"upgradeMatchSearch",value:function(l){return this.stringsMatchSearch([l.name,l.type,this.removeHtmlTags(l.description)].concat((0,N.Z)(l.genres),[l.genresLabel,this.removeHtmlTags(l.costLabel),this.removeHtmlTags(l.costType)],(0,N.Z)(l.relatedBuffs.map(function(r){return r.name})),(0,N.Z)(l.relatedClassMechanics.map(function(r){return r.name})),(0,N.Z)(l.relatedMechanics.map(function(r){return r.name}))))}},{key:"ancestralLegacyMatchSearch",value:function(l){return this.stringsMatchSearch([l.name,l.costType].concat((0,N.Z)(l.genres),[l.isActivable?"activable":null,this.removeHtmlTags(l.description)],(0,N.Z)(l.relatedBuffs.map(function(r){return r.name})),(0,N.Z)(l.relatedMechanics.map(function(r){return r.name})),(0,N.Z)(l.types),[l.typeLabel,l.genresLabel,l.costLabel]))}},{key:"traitMatchSearch",value:function(l){return this.stringsMatchSearch([l.rankLabel,this.removeHtmlTags(l.cumulativeStats),this.removeHtmlTags(l.description),l.traitLevelLabel])}}]),w}();return y.\u0275fac=function(_){return new(_||y)},y.\u0275prov=D.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y}()},2271:function(se,te,a){a.d(te,{m:function(){return u}});var N=a(3144),Q=a(5671),t=a(9808),m=a(9881),e=a(5542),u=function(){var D=(0,N.Z)(function Y(){(0,Q.Z)(this,Y)});return D.\u0275fac=function(y){return new(y||D)},D.\u0275mod=e.oAB({type:D}),D.\u0275inj=e.cJS({providers:[],imports:[[t.ez,m.q],m.q]}),D}()}}]);