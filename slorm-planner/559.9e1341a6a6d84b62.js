"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[559],{6446:function(ge,ne,a){a.d(ne,{B:function(){return e}});var F=a(5671),K=a(3144),t=a(7579),n=a(5542),e=function(){var g=function(){function Q(){(0,F.Z)(this,Q),this.unsubscribe=new t.x}return(0,K.Z)(Q,[{key:"ngOnDestroy",value:function(){this.unsubscribe.next(),this.unsubscribe.complete()}}]),Q}();return g.\u0275fac=function($){return new($||g)},g.\u0275cmp=n.Xpm({type:g,selectors:[["ng-component"]],decls:0,vars:0,template:function($,L){},encapsulation:2}),g}()},3662:function(ge,ne,a){a.d(ne,{Z:function(){return G}});var F=a(4902),K=a(5671),t=a(3144),n=a(136),e=a(7777),g=a(5542),Q=a(2525),$=a(2722),L=a(5581),q=a(7469),p=a(4917),l=a(6446),r=a(9776),_=a(9808),x=a(9065),R=a(8003);function w(k,v){if(1&k&&g._UZ(0,"app-ancestral-legacy-view",11),2&k){var J=g.oxw(3);g.Q6J("ancestralLegacy",J.activable)("hideNextRank",!0)}}function H(k,v){if(1&k&&g._UZ(0,"app-activable-view",12),2&k){var J=g.oxw(3);g.Q6J("activable",J.activable)}}function u(k,v){if(1&k&&(g.YNc(0,w,1,2,"app-ancestral-legacy-view",9),g.YNc(1,H,1,1,"app-activable-view",10)),2&k){var J=g.oxw(2);g.Q6J("ngIf",J.isAncestralLegacy(J.activable)),g.xp6(1),g.Q6J("ngIf",J.isActivable(J.activable))}}function N(k,v){if(1&k&&(g.ynx(0),g._UZ(1,"img",7),g.YNc(2,u,2,2,"ng-template",8),g.BQk()),2&k){var J=g.oxw(),M=g.MAs(1);g.xp6(1),g.Q6J("src",J.activable.icon,g.LSH),g.xp6(1),g.Q6J("cdkConnectedOverlayOpen",J.showOverlay)("cdkConnectedOverlayOrigin",M)}}function I(k,v){if(1&k){var J=g.EpF();g.TgZ(0,"button",13),g.NdJ("click",function(){var ce=g.CHM(J).$implicit;return g.oxw(2).updateActivable(ce)}),g.TgZ(1,"div",14),g._UZ(2,"img",19),g.TgZ(3,"div",16),g.TgZ(4,"div",20),g._uU(5),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&k){var M=v.$implicit,Z=g.oxw(2);g.xp6(1),g.ekj("selected",Z.isSelectedActivable(M)),g.xp6(1),g.Q6J("src",M.icon,g.LSH),g.xp6(3),g.Oqu(M.name)}}function O(k,v){if(1&k){var J=g.EpF();g.TgZ(0,"button",13),g.NdJ("click",function(){return g.CHM(J),g.oxw().updateActivable(null)}),g.TgZ(1,"div",14),g._UZ(2,"div",15),g.TgZ(3,"div",16),g.TgZ(4,"div",17),g._uU(5,"Remove activable"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(6,I,6,4,"button",18)}if(2&k){var M=g.oxw();g.xp6(6),g.Q6J("ngForOf",M.getAvailableActivables())}}var G=function(){var k=function(v){(0,n.Z)(M,v);var J=(0,e.Z)(M);function M(Z,oe){var te;return(0,K.Z)(this,M),(te=J.call(this)).plannerService=Z,te.itemMoveService=oe,te.activable=null,te.readonly=!1,te.changed=new g.vpe,te.menu=null,te.character=null,te.showOverlay=!1,te.plannerService.characterChanged.pipe((0,$.R)(te.unsubscribe)).subscribe(function(ce){return te.character=ce}),te}return(0,t.Z)(M,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"onMouseContextMenu",value:function(){return this.itemMoveService.releaseHoldItem(),null!==this.menu&&!this.readonly&&this.menu.openMenu(),!1}},{key:"onMouseClick",value:function(){return this.itemMoveService.releaseHoldItem(),null!==this.menu&&!this.readonly&&this.menu.openMenu(),!1}},{key:"ngOnInit",value:function(){}},{key:"isAncestralLegacy",value:function(oe){return void 0!==oe.element}},{key:"isActivable",value:function(oe){return void 0===oe.element}},{key:"getAvailableActivables",value:function(){var oe=[],te=this.character;if(null!==te){var ce=[te.gear.amulet,te.gear.belt,te.gear.body,te.gear.boot,te.gear.bracer,te.gear.cape,te.gear.glove,te.gear.helm,te.gear.ring_l,te.gear.ring_r,te.gear.shoulder].map(function(A){return null!==A&&null!==A.legendaryEffect?A.legendaryEffect.activable:null}).filter(L.BX).sort(function(A,m){return-(0,L.qu)(A.level,m.level)}).filter(function(A,m,C){return(0,L.mr)(A,m,C,function(c,h){return c.id===h.id})}),_e=null===te.reaper?[]:te.reaper.activables,T=te.ancestralLegacies.activeAncestralLegacies.map(function(A){return te.ancestralLegacies.ancestralLegacies[A]}).filter(L.BX).filter(function(A){return A.isActivable});oe=[].concat((0,F.Z)(ce),(0,F.Z)(_e),(0,F.Z)(T))}return oe}},{key:"isSelectedActivable",value:function(oe){return null!==this.character&&(this.character.activable1===oe||this.character.activable2===oe||this.character.activable3===oe||this.character.activable4===oe)}},{key:"updateActivable",value:function(oe){this.activable!==oe&&this.changed.emit(oe)}}]),M}(l.B);return k.\u0275fac=function(J){return new(J||k)(g.Y36(p.q),g.Y36(q.v))},k.\u0275cmp=g.Xpm({type:k,selectors:[["app-activable-slot"]],viewQuery:function(J,M){var Z;1&J&&g.Gf(Q.p6,7),2&J&&g.iGM(Z=g.CRH())&&(M.menu=Z.first)},hostBindings:function(J,M){1&J&&g.NdJ("mouseenter",function(){return M.onOver()})("mouseleave",function(){return M.onLeave()})("contextmenu",function(){return M.onMouseContextMenu()})("click",function(){return M.onMouseClick()})},inputs:{activable:"activable",readonly:"readonly"},outputs:{changed:"changed"},features:[g.qOj],decls:7,vars:2,consts:[["cdkOverlayOrigin","",1,"skill"],["trigger","cdkOverlayOrigin"],[4,"ngIf"],[3,"matMenuTriggerFor"],["yPosition","above"],["menu","matMenu"],["matMenuContent",""],[3,"src"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"ancestralLegacy","hideNextRank",4,"ngIf"],[3,"activable",4,"ngIf"],[3,"ancestralLegacy","hideNextRank"],[3,"activable"],["mat-menu-item","",3,"click"],[1,"skill-menu-entry"],[1,"skill"],[1,"description"],[1,"subtitle"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"skill",3,"src"],[1,"name"]],template:function(J,M){if(1&J&&(g.TgZ(0,"div",0,1),g.YNc(2,N,3,3,"ng-container",2),g._UZ(3,"div",3),g.TgZ(4,"mat-menu",4,5),g.YNc(6,O,7,1,"ng-template",6),g.qZA(),g.qZA()),2&J){var Z=g.MAs(5);g.xp6(2),g.Q6J("ngIf",null!==M.activable),g.xp6(1),g.Q6J("matMenuTriggerFor",Z)}},directives:[r.xu,_.O5,Q.p6,Q.VK,Q.KA,r.pI,x.q,R.K,Q.OP,_.sg],styles:["[_nghost-%COMP%]{min-width:42px;height:42px;min-height:42px;display:block;overflow:hidden}.skill[_ngcontent-%COMP%]{width:42px;min-width:42px;height:42px;min-height:42px;border:4px solid black;position:relative;background-color:#131313}.skill.support[_ngcontent-%COMP%]{width:84px;min-width:84px}.skill[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.skill-menu-entry[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:8px;gap:8px}.skill-menu-entry[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]{border:4px solid #353535}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{line-height:normal;font-weight:700;text-transform:uppercase}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{line-height:normal}.skill-menu-entry.selected[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]{border-color:#edd371;line-height:0}.skill-menu-entry.selected[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#edd371}app-item-view[_ngcontent-%COMP%]{width:350px}"]}),k}()},8003:function(ge,ne,a){a.d(ne,{K:function(){return L}});var F=a(3144),K=a(5671),t=a(5542),n=a(9808);function e(q,p){if(1&q&&t._UZ(0,"div",11),2&q){var l=t.oxw(2);t.Q6J("innerHTML",l.activable.genresLabel,t.oJD)}}function g(q,p){if(1&q&&t._UZ(0,"div",12),2&q){var l=t.oxw(2);t.Q6J("innerHTML",l.activable.cooldownLabel,t.oJD)}}function Q(q,p){if(1&q&&t._UZ(0,"div",13),2&q){var l=t.oxw(2);t.Q6J("innerHTML",l.activable.costLabel,t.oJD)}}function $(q,p){if(1&q&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t._UZ(3,"img",4),t.qZA(),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t._uU(6),t.qZA(),t.YNc(7,e,1,1,"div",7),t.YNc(8,g,1,1,"div",8),t.YNc(9,Q,1,1,"div",9),t.qZA(),t.qZA(),t._UZ(10,"div",10),t.qZA()),2&q){var l=t.oxw();t.xp6(3),t.Q6J("src",l.activable.icon,t.LSH),t.xp6(3),t.Oqu(l.activable.name),t.xp6(1),t.Q6J("ngIf",null!==l.activable.genresLabel),t.xp6(1),t.Q6J("ngIf",null!==l.activable.cooldownLabel),t.xp6(1),t.Q6J("ngIf",null!==!l.activable.costLabel),t.xp6(1),t.Q6J("innerHTML",l.activable.description,t.oJD)}}var L=function(){var q=(0,F.Z)(function p(){(0,K.Z)(this,p),this.activable=null,this.reinforcment=0});return q.\u0275fac=function(l){return new(l||q)},q.\u0275cmp=t.Xpm({type:q,selectors:[["app-activable-view"]],inputs:{activable:"activable",reinforcment:"reinforcment"},decls:1,vars:1,consts:[["class","activable",4,"ngIf"],[1,"activable"],[1,"activable-head"],[1,"icon"],[3,"src"],[1,"info"],[1,"name"],["class","genre",3,"innerHTML",4,"ngIf"],["class","cooldown",3,"innerHTML",4,"ngIf"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"description",3,"innerHTML"],[1,"genre",3,"innerHTML"],[1,"cooldown",3,"innerHTML"],[1,"cost",3,"innerHTML"]],template:function(l,r){1&l&&t.YNc(0,$,11,6,"div",0),2&l&&t.Q6J("ngIf",null!==r.activable)},directives:[n.O5],styles:[".activable[_ngcontent-%COMP%]{background-color:#151412;border:3px solid black;color:#fff;padding:5px;display:flex;flex-direction:column;grid-gap:5px;gap:5px}.activable[_ngcontent-%COMP%]  .value{color:#ce4607}.activable[_ngcontent-%COMP%]  .range, .activable[_ngcontent-%COMP%]  .range .value, .activable[_ngcontent-%COMP%]  .details, .activable[_ngcontent-%COMP%]  .details .value, .activable[_ngcontent-%COMP%]  .formula, .activable[_ngcontent-%COMP%]  .formula .value{color:#686868}.activable[_ngcontent-%COMP%]  .affixes .range, .activable[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.activable[_ngcontent-%COMP%]  .life{color:#257539}.activable[_ngcontent-%COMP%]  .mana{color:#3397dd}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:5px;gap:5px}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;align-items:center;border:4px solid #be871f;min-width:44px;min-height:44px;width:44px;height:44px}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid black;min-width:36px;min-height:36px;width:36px;height:36px}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:19px;color:#ce4607}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.activable[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}"]}),q}()},9713:function(ge,ne,a){a.d(ne,{y:function(){return w}});var F=a(5671),K=a(3144),t=a(136),n=a(7777),e=a(5542),g=a(2722),Q=a(9184),$=a(4917),L=a(2424),q=a(6446),p=a(9808),l=a(9776),r=a(9065);function _(H,u){if(1&H&&e._UZ(0,"app-ancestral-legacy-view",8),2&H){var N=e.oxw(3);e.Q6J("ancestralLegacy",N.ancestralLegacy)}}function x(H,u){if(1&H&&e.YNc(0,_,1,1,"ng-template",7),2&H){e.oxw();var N=e.MAs(1),I=e.oxw();e.Q6J("cdkConnectedOverlayOpen",I.showOverlay)("cdkConnectedOverlayOrigin",N)}}function R(H,u){if(1&H){var N=e.EpF();e.TgZ(0,"div",1,2),e.NdJ("click",function(){return e.CHM(N),e.oxw().increasesRank()})("contextmenu",function(){return e.CHM(N),e.oxw().decreasesRank()}),e.TgZ(2,"div",3),e._UZ(3,"img",4),e.qZA(),e.TgZ(4,"div",5),e._uU(5),e.qZA(),e.YNc(6,x,1,2,void 0,6),e.qZA()}if(2&H){var I=e.oxw();e.ekj("ranked",I.ancestralLegacy.baseRank>0)("equipped",I.equipped)("selected",I.selected)("readonly",I.readonly)("hidden-search",I.hiddenBySearch),e.xp6(3),e.Q6J("src",I.ancestralLegacy.icon,e.LSH),e.xp6(1),e.ekj("max",I.ancestralLegacy.rank===I.ancestralLegacy.maxRank),e.xp6(1),e.Oqu(I.ancestralLegacy.rank===I.ancestralLegacy.maxRank?"Max":I.ancestralLegacy.rank),e.xp6(1),e.Q6J("ngIf",I.showOverlay&&I.overlay)}}var w=function(){var H=function(u){(0,t.Z)(I,u);var N=(0,n.Z)(I);function I(O,G,k){var v;return(0,F.Z)(this,I),(v=N.call(this)).searchService=O,v.slormancerAncestralLegacyService=G,v.plannerService=k,v.ancestralLegacy=null,v.equipped=!1,v.selected=!1,v.readonly=!1,v.overlay=!1,v.changed=new e.vpe,v.showOverlay=!1,v.hiddenBySearch=!1,v}return(0,K.Z)(I,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"ngOnInit",value:function(){var G=this;this.searchService.searchChanged.pipe((0,g.R)(this.unsubscribe)).subscribe(function(k){return G.hiddenBySearch=null!==k&&null!==G.ancestralLegacy&&!G.searchService.ancestralLegacyMatchSearch(G.ancestralLegacy)})}},{key:"setRank",value:function(G,k){G.baseRank!==k&&this.selected&&(this.slormancerAncestralLegacyService.updateAncestralLegacyModel(G,k),this.slormancerAncestralLegacyService.updateAncestralLegacyView(G),this.plannerService.updateCurrentCharacter())}},{key:"increasesRank",value:function(){return null!==this.ancestralLegacy&&(this.setRank(this.ancestralLegacy,Math.max(0,this.ancestralLegacy.baseRank+1)),this.changed.emit(this.ancestralLegacy)),!1}},{key:"decreasesRank",value:function(){return null!==this.ancestralLegacy&&(this.setRank(this.ancestralLegacy,Math.max(0,this.ancestralLegacy.baseRank-1)),this.changed.emit(this.ancestralLegacy)),!1}}]),I}(q.B);return H.\u0275fac=function(N){return new(N||H)(e.Y36(L.o),e.Y36(Q.O),e.Y36($.q))},H.\u0275cmp=e.Xpm({type:H,selectors:[["app-ancestral-legacy-slot"]],hostBindings:function(N,I){1&N&&e.NdJ("mouseenter",function(){return I.onOver()})("mouseleave",function(){return I.onLeave()})},inputs:{ancestralLegacy:"ancestralLegacy",equipped:"equipped",selected:"selected",readonly:"readonly",overlay:"overlay"},outputs:{changed:"changed"},features:[e.qOj],decls:1,vars:1,consts:[["class","ancestral-legacy","cdkOverlayOrigin","",3,"ranked","equipped","selected","readonly","hidden-search","click","contextmenu",4,"ngIf"],["cdkOverlayOrigin","",1,"ancestral-legacy",3,"click","contextmenu"],["trigger","cdkOverlayOrigin"],[1,"inner"],[3,"src"],[1,"rank"],[4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"ancestralLegacy"]],template:function(N,I){1&N&&e.YNc(0,R,7,15,"div",0),2&N&&e.Q6J("ngIf",null!==I.ancestralLegacy)},directives:[p.O5,l.xu,l.pI,r.q],styles:[".ancestral-legacy[_ngcontent-%COMP%]{position:relative;z-index:1;border-radius:50%;border:1px solid transparent}.ancestral-legacy[_ngcontent-%COMP%]:not(.readonly){cursor:pointer}.ancestral-legacy.selected[_ngcontent-%COMP%]{border:1px solid #841e06}.ancestral-legacy.hidden-search[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{opacity:.1}.ancestral-legacy.ranked.equipped[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{background-color:#d5ad48}.ancestral-legacy[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{position:absolute;background-color:#202020;padding:0 2px;bottom:0;right:0;font-size:4px;border-radius:4px}.ancestral-legacy[_ngcontent-%COMP%]   .rank.max[_ngcontent-%COMP%]{color:#edd371}.ancestral-legacy[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:#202020;border:1px solid black;border-radius:50%;width:16px;height:16px}.ancestral-legacy[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid black;width:12px;height:12px;border-radius:50%;overflow:hidden}.ancestral-legacy.readonly[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{width:40px;height:40px;border-width:4px}.ancestral-legacy.readonly[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-width:0;width:34px;height:34px}.ancestral-legacy.readonly[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{font-size:10px}"]}),H}()},9065:function(ge,ne,a){a.d(ne,{q:function(){return p}});var F=a(5671),K=a(3144),t=a(8313),n=a(5542),e=a(9808),g=a(5895);function Q(l,r){if(1&l&&n._UZ(0,"div",17),2&l){var _=n.oxw(2);n.Q6J("innerHTML",_.ancestralLegacy.genresLabel,n.oJD)}}function $(l,r){if(1&l&&n._UZ(0,"div",18),2&l){var _=n.oxw(2);n.Q6J("innerHTML",_.ancestralLegacy.cooldownLabel,n.oJD)}}function L(l,r){if(1&l&&n._UZ(0,"div",19),2&l){var _=n.oxw(2);n.Q6J("innerHTML",_.ancestralLegacy.costLabel,n.oJD)}}function q(l,r){if(1&l&&(n.TgZ(0,"div"),n.TgZ(1,"div",1),n._uU(2),n.qZA(),n.TgZ(3,"div",2),n.TgZ(4,"div",3),n.TgZ(5,"div",4),n.TgZ(6,"div",5),n._UZ(7,"div",6),n._UZ(8,"img",7),n.qZA(),n.qZA(),n.TgZ(9,"div",8),n._UZ(10,"div",9),n.YNc(11,Q,1,1,"div",10),n.YNc(12,$,1,1,"div",11),n._UZ(13,"div",12),n.YNc(14,L,1,1,"div",13),n.qZA(),n.qZA(),n._UZ(15,"div",14),n._UZ(16,"div",15),n._UZ(17,"app-mechanics-view",16),n.qZA(),n.qZA()),2&l){var _=n.oxw();n.Gre("ancestral-legacy ",_.ancestralLegacy.damageTypes.length>0?_.ancestralLegacy.damageTypes[0]:"",""),n.xp6(2),n.Oqu(_.ancestralLegacy.name),n.xp6(6),n.Q6J("src",_.ancestralLegacy.icon,n.LSH),n.xp6(2),n.Q6J("innerHTML",_.ancestralLegacy.typeLabel,n.oJD),n.xp6(1),n.Q6J("ngIf",null!==_.ancestralLegacy.genresLabel),n.xp6(1),n.Q6J("ngIf",null!==_.ancestralLegacy.cooldownLabel),n.xp6(1),n.Q6J("innerHTML",_.ancestralLegacy.rankLabel,n.oJD),n.xp6(1),n.Q6J("ngIf",null!==_.ancestralLegacy.costLabel),n.xp6(2),n.Q6J("innerHTML",_.ancestralLegacy.description,n.oJD),n.xp6(1),n.Q6J("mechanics",_.ancestralLegacy.relatedMechanics)("buffs",_.ancestralLegacy.relatedBuffs)}}var p=function(){var l=function(){function r(_){(0,F.Z)(this,r),this.slormancerTranslateService=_,this.NEXT_RANK_LABEL=this.slormancerTranslateService.translate("tt_next_rank"),this.MAX_RANK_LABEL=this.slormancerTranslateService.translate("tt_max_rank"),this.ancestralLegacy=null,this.hideNextRank=!1}return(0,K.Z)(r,[{key:"getCostLabel",value:function(x){return this.slormancerTranslateService.translate("tt_"+x)}},{key:"getElementLabel",value:function(x){return this.slormancerTranslateService.translate("element_"+x)}}]),r}();return l.\u0275fac=function(_){return new(_||l)(n.Y36(t.n))},l.\u0275cmp=n.Xpm({type:l,selectors:[["app-ancestral-legacy-view"]],inputs:{ancestralLegacy:"ancestralLegacy",hideNextRank:"hideNextRank"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head"],[1,"content"],[1,"info"],[1,"visual"],[1,"icon"],[1,"icon-border"],[3,"src"],[1,"data"],[1,"type",3,"innerHTML"],["class","genre",3,"innerHTML",4,"ngIf"],["class","cooldown",3,"innerHTML",4,"ngIf"],[1,"rank",3,"innerHTML"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"separator"],[1,"description",3,"innerHTML"],[3,"mechanics","buffs"],[1,"genre",3,"innerHTML"],[1,"cooldown",3,"innerHTML"],[1,"cost",3,"innerHTML"]],template:function(_,x){1&_&&n.YNc(0,q,18,13,"div",0),2&_&&n.Q6J("ngIf",null!==x.ancestralLegacy)},directives:[e.O5,g.A],styles:[".ancestral-legacy[_ngcontent-%COMP%]{background-color:#090909;border:3px solid black;color:#fff;display:flex;flex-direction:column;max-width:400px}.ancestral-legacy[_ngcontent-%COMP%]  .description .value{color:#ce4607}.ancestral-legacy[_ngcontent-%COMP%]  .next-rank .value, .ancestral-legacy[_ngcontent-%COMP%]  .head, .ancestral-legacy[_ngcontent-%COMP%]  .rank .current, .ancestral-legacy[_ngcontent-%COMP%]  .cooldown .value{color:#bb1fe2}.ancestral-legacy[_ngcontent-%COMP%]  .range, .ancestral-legacy[_ngcontent-%COMP%]  .range .value, .ancestral-legacy[_ngcontent-%COMP%]  .details, .ancestral-legacy[_ngcontent-%COMP%]  .details .value, .ancestral-legacy[_ngcontent-%COMP%]  .formula, .ancestral-legacy[_ngcontent-%COMP%]  .formula .value{color:#686868}.ancestral-legacy[_ngcontent-%COMP%]  .affixes .range, .ancestral-legacy[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.ancestral-legacy[_ngcontent-%COMP%]  .life{color:#257539}.ancestral-legacy[_ngcontent-%COMP%]  .mana{color:#3397dd}.ancestral-legacy.mag[_ngcontent-%COMP%]  .value:not(.mana){color:#bb1fe2}.ancestral-legacy[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:3px solid #3c3931}.ancestral-legacy[_ngcontent-%COMP%]   .head.head[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.head[_ngcontent-%COMP%]{text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:20px;gap:20px;padding:10px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:10px;gap:10px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{display:flex;align-items:center}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border:3px solid #be871f;min-width:60px;min-height:60px;width:60px;height:60px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black;image-rendering:pixelated;width:54px;height:54px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-transform:uppercase;height:100%;flex-grow:1;padding:5px 0;grid-gap:5px;gap:5px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#3155bc}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]{display:flex;flex-direction:row}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{min-width:8px;padding-right:8px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;background-color:#ce4607;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}"]}),l}()},3729:function(ge,ne,a){a.d(ne,{g:function(){return A}});var F=a(5671),K=a(3144),t=a(2652),n=a(4917),e=a(5542),g=a(9808),Q=a(9776),$=a(136),L=a(7777),q=a(2722),p=a(2031),l=a(2424),r=a(6446);function _(m,C){if(1&m&&e._UZ(0,"div",9),2&m){var c=e.oxw(2);e.Q6J("innerHTML",c.trait.cumulativeStats,e.oJD)}}function x(m,C){if(1&m&&e._UZ(0,"div",9),2&m){var c=e.oxw(2);e.Q6J("innerHTML",c.trait.description,e.oJD)}}function R(m,C){if(1&m&&(e.ynx(0),e._UZ(1,"div",10),e._UZ(2,"div",11),e.BQk()),2&m){var c=e.oxw(2);e.xp6(2),e.Q6J("innerHTML",c.trait.unlockLabel,e.oJD)}}function w(m,C){if(1&m&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"span",4),e._uU(6),e.qZA(),e._uU(7," - "),e.TgZ(8,"span",5),e._uU(9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",6),e.YNc(11,_,1,1,"div",7),e.YNc(12,x,1,1,"div",7),e.YNc(13,R,3,1,"ng-container",8),e.qZA(),e.qZA()),2&m){var c=e.oxw();e.Gre("trait attribute-",c.trait.attribute,""),e.xp6(3),e.Oqu(c.trait.attributeName),e.xp6(3),e.Oqu(c.trait.rankLabel),e.xp6(3),e.Oqu(c.trait.traitLevelLabel),e.xp6(2),e.Q6J("ngIf",null!==c.trait.cumulativeStats),e.xp6(1),e.Q6J("ngIf",null!==c.trait.description),e.xp6(1),e.Q6J("ngIf",null!==c.trait.unlockLabel)}}var H=function(){var m=(0,K.Z)(function C(){(0,F.Z)(this,C),this.trait=null});return m.\u0275fac=function(c){return new(c||m)},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-trait-view"]],inputs:{trait:"trait"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head"],[1,"attribute"],[1,"subtitle"],[1,"rank"],[1,"level"],[1,"content"],["class","description",3,"innerHTML",4,"ngIf"],[4,"ngIf"],[1,"description",3,"innerHTML"],[1,"separator"],[1,"unlock",3,"innerHTML"]],template:function(c,h){1&c&&e.YNc(0,w,14,9,"div",0),2&c&&e.Q6J("ngIf",null!==h.trait)},directives:[g.O5],styles:[".trait[_ngcontent-%COMP%]{background-color:#151412;border:3px solid black;color:#fff;display:flex;flex-direction:column;grid-gap:5px;gap:5px;min-width:250px}.trait.attribute-0[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]     .value{color:#2f5996}.trait.attribute-1[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]     .value{color:#a83007}.trait.attribute-2[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]     .value{color:#79b549}.trait.attribute-3[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]     .value{color:#d0b545}.trait.attribute-4[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]     .value{color:#4bc1b2}.trait.attribute-5[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]     .value{color:#753098}.trait.attribute-6[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]     .value{color:#cd7028}.trait.attribute-7[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]     .value{color:#bf3c59}.trait[_ngcontent-%COMP%]  .range, .trait[_ngcontent-%COMP%]  .range .value, .trait[_ngcontent-%COMP%]  .details, .trait[_ngcontent-%COMP%]  .details .value, .trait[_ngcontent-%COMP%]  .formula, .trait[_ngcontent-%COMP%]  .formula .value{color:#686868}.trait[_ngcontent-%COMP%]  .affixes .range, .trait[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:3px solid #3c3931}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-transform:uppercase;padding:10px;grid-gap:2px;gap:2px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .attribute[_ngcontent-%COMP%]{font-size:19px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px 10px;grid-gap:20px;gap:20px;text-align:center}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}"]}),m}();function u(m,C){1&m&&e._UZ(0,"div",7)}function N(m,C){if(1&m&&e._UZ(0,"app-trait-view",9),2&m){var c=e.oxw(3);e.Q6J("trait",c.trait)}}function I(m,C){if(1&m&&e.YNc(0,N,1,1,"ng-template",8),2&m){e.oxw();var c=e.MAs(1),h=e.oxw();e.Q6J("cdkConnectedOverlayOpen",h.isMouseOver)("cdkConnectedOverlayOrigin",c)}}function O(m,C){if(1&m&&(e.TgZ(0,"div",1,2),e.YNc(2,u,1,0,"div",3),e.TgZ(3,"div",4),e._UZ(4,"div",5),e.qZA(),e.YNc(5,I,1,2,void 0,6),e.qZA()),2&m){var c=e.oxw();e.Gre("trait attribute-",c.trait.attribute,""),e.ekj("first",c.first)("last",c.last)("minor",c.isMinor(c.trait))("major",c.isMajor(c.trait))("greater",c.isGreater(c.trait))("active",c.unlocked)("bonus",c.bonus)("highlight",c.highlight)("hidden-by-search",c.isHiddenBySearch),e.xp6(2),e.Q6J("ngIf",c.trait.additive),e.xp6(3),e.Q6J("ngIf",c.isMouseOver)}}var G=function(){var m=function(C){(0,$.Z)(h,C);var c=(0,L.Z)(h);function h(U){var b;return(0,F.Z)(this,h),(b=c.call(this)).searchService=U,b.trait=null,b.first=!1,b.last=!1,b.highlight=!1,b.unlocked=!1,b.bonus=!1,b.isMouseOver=!1,b.isHiddenBySearch=!1,b}return(0,K.Z)(h,[{key:"onMouseEnter",value:function(){this.isMouseOver=!0}},{key:"onMouseLeave",value:function(){this.isMouseOver=!1}},{key:"ngOnInit",value:function(){var b=this;this.searchService.searchChanged.pipe((0,q.R)(this.unsubscribe)).subscribe(function(){return b.isHiddenBySearch=null!==b.trait&&!b.searchService.traitMatchSearch(b.trait)})}},{key:"isMinor",value:function(b){return b.traitLevel===p.y.Minor}},{key:"isMajor",value:function(b){return b.traitLevel===p.y.Major}},{key:"isGreater",value:function(b){return b.traitLevel===p.y.Greater}}]),h}(r.B);return m.\u0275fac=function(c){return new(c||m)(e.Y36(l.o))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-trait"]],hostBindings:function(c,h){1&c&&e.NdJ("mouseenter",function(){return h.onMouseEnter()})("mouseleave",function(){return h.onMouseLeave()})},inputs:{trait:"trait",first:"first",last:"last",highlight:"highlight",unlocked:"unlocked",bonus:"bonus"},features:[e.qOj],decls:1,vars:1,consts:[["cdkOverlayOrigin","",3,"class","first","last","minor","major","greater","active","bonus","highlight","hidden-by-search",4,"ngIf"],["cdkOverlayOrigin",""],["trigger","cdkOverlayOrigin"],["class","additive",4,"ngIf"],[1,"content"],[1,"node"],[4,"ngIf"],[1,"additive"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"trait"]],template:function(c,h){1&c&&e.YNc(0,O,6,23,"div",0),2&c&&e.Q6J("ngIf",null!==h.trait)},directives:[g.O5,Q.xu,Q.pI,H],styles:[".trait[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;position:relative;height:54px;width:8px;overflow:hidden;cursor:pointer}.trait.hidden-by-search[_ngcontent-%COMP%]{opacity:.2}.trait[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{position:absolute;width:4px;height:36px;left:4px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;border:4px solid black;background-color:#353535;overflow:hidden;border-left-width:0;border-right-width:0;height:30px;z-index:1}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{border:2px solid black;background-color:#202020;height:14px}.trait.attribute-0.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#2f5996}.trait.attribute-0.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#2f59964d}.trait.attribute-1.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#a83007}.trait.attribute-1.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#a830074d}.trait.attribute-2.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#79b549}.trait.attribute-2.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#79b5494d}.trait.attribute-3.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#d0b545}.trait.attribute-3.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#d0b5454d}.trait.attribute-4.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#4bc1b2}.trait.attribute-4.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#4bc1b24d}.trait.attribute-5.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#753098}.trait.attribute-5.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#7530984d}.trait.attribute-6.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#cd7028}.trait.attribute-6.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#cd70284d}.trait.attribute-7.active[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{background-color:#bf3c59}.trait.attribute-7.highlight[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#bf3c594d}.trait.bonus[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#61f18f}.trait.bonus.highlight[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{background-color:#61f18f4d}.trait[_ngcontent-%COMP%]:not(.greater)   .content[_ngcontent-%COMP%]{border-left-width:2px;border-right-width:2px}.trait.minor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .trait.greater[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-left-width:0;border-right-width:0}.trait.minor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .trait.greater[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{width:8px}.trait.minor.first[_ngcontent-%COMP%]{width:10px}.trait.minor.first[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{border-left-width:4px;width:10px}.trait.major[_ngcontent-%COMP%]{width:12px}.trait.major[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-left-width:0;border-right-width:0}.trait.major[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{width:12px}.trait.greater[_ngcontent-%COMP%]{width:16px;position:relative}.trait.greater[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;position:absolute;transform:rotate(45deg);border-width:4px;height:36px;width:36px;left:-10px}.trait.greater[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{border-width:2px;width:14px;height:14px}.trait.greater[_ngcontent-%COMP%]   .additive[_ngcontent-%COMP%]{left:6px;height:54px}.trait.greater.last[_ngcontent-%COMP%]{width:32px}"]}),m}();function k(m,C){if(1&m&&e._UZ(0,"div",7),2&m){var c=e.oxw(2);e.Q6J("innerHTML",c.attributeTraits.summary,e.oJD)}}function v(m,C){if(1&m&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e._uU(8),e.qZA(),e.YNc(9,k,1,1,"div",6),e.qZA(),e.qZA()),2&m){var c=e.oxw();e.Gre("trait attribute-",c.attributeTraits.attribute,""),e.xp6(3),e.Oqu(c.attributeTraits.attributeName),e.xp6(2),e.Oqu(c.attributeTraits.title),e.xp6(3),e.Oqu(c.attributeTraits.recapLabel),e.xp6(1),e.Q6J("ngIf",null!==c.attributeTraits.summary)}}var J=function(){var m=(0,K.Z)(function C(){(0,F.Z)(this,C),this.attributeTraits=null});return m.\u0275fac=function(c){return new(c||m)},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-attribute-summary-view"]],inputs:{attributeTraits:"attributeTraits"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head"],[1,"attribute"],[1,"subtitle"],[1,"content"],[1,"info"],["class","description",3,"innerHTML",4,"ngIf"],[1,"description",3,"innerHTML"]],template:function(c,h){1&c&&e.YNc(0,v,10,7,"div",0),2&c&&e.Q6J("ngIf",null!==h.attributeTraits)},directives:[g.O5],styles:[".trait[_ngcontent-%COMP%]{background-color:#151412;border:3px solid black;color:#fff;display:flex;flex-direction:column;grid-gap:5px;gap:5px;min-width:250px}.trait.attribute-0[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]     .value{color:#2f5996}.trait.attribute-1[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]     .value{color:#a83007}.trait.attribute-2[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]     .value{color:#79b549}.trait.attribute-3[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]     .value{color:#d0b545}.trait.attribute-4[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]     .value{color:#4bc1b2}.trait.attribute-5[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]     .value{color:#753098}.trait.attribute-6[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]     .value{color:#cd7028}.trait.attribute-7[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]     .value{color:#bf3c59}.trait[_ngcontent-%COMP%]  .locked{color:#686868}.trait[_ngcontent-%COMP%]  .range, .trait[_ngcontent-%COMP%]  .range .value, .trait[_ngcontent-%COMP%]  .details, .trait[_ngcontent-%COMP%]  .details .value, .trait[_ngcontent-%COMP%]  .formula, .trait[_ngcontent-%COMP%]  .formula .value, .trait[_ngcontent-%COMP%]  .max, .trait[_ngcontent-%COMP%]  .max .value{color:#686868}.trait[_ngcontent-%COMP%]  .affixes .range, .trait[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:3px solid #3c3931}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-transform:uppercase;padding:10px;grid-gap:2px;gap:2px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .attribute[_ngcontent-%COMP%]{font-size:19px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px 10px;grid-gap:20px;gap:20px;text-align:center}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}"]}),m}(),M=a(7423),Z=a(3874);function oe(m,C){if(1&m){var c=e.EpF();e.TgZ(0,"app-trait",9),e.NdJ("mouseenter",function(){var z=e.CHM(c).index;return e.oxw(2).nodeEnter(z)})("mouseleave",function(){return e.CHM(c),e.oxw(2).nodeLeave()})("click",function(){return e.CHM(c),e.oxw(2).nodeClick()}),e.qZA()}if(2&m){var h=C.$implicit,U=C.index,b=e.oxw(2);e.Q6J("trait",h)("first",0===U)("last",U===b.attribute.traits.length-1)("highlight",b.isHighlight(U))("bonus",b.isBonus(U))("unlocked",b.isUnlocked(U))}}function te(m,C){if(1&m&&e._UZ(0,"app-attribute-summary-view",10),2&m){var c=e.oxw(2);e.Q6J("attributeTraits",c.attribute)}}function ce(m,C){if(1&m){var c=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(b){return e.CHM(c),e.oxw(2).addPoint(b)}),e.TgZ(1,"mat-icon"),e._uU(2,"add"),e.qZA(),e.qZA()}if(2&m){var h=e.oxw(2);e.Q6J("disabled",0===h.remainingPoints)}}function _e(m,C){if(1&m){var c=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(b){return e.CHM(c),e.oxw(2).removePoint(b)}),e.TgZ(1,"mat-icon"),e._uU(2,"remove"),e.qZA(),e.qZA()}if(2&m){var h=e.oxw(2);e.Q6J("disabled",0===h.attribute.rank)}}function T(m,C){if(1&m){var c=e.EpF();e.TgZ(0,"div",1,2),e.TgZ(2,"img",3),e.NdJ("mouseenter",function(){return e.CHM(c),e.oxw().showSummary=!0})("mouseleave",function(){return e.CHM(c),e.oxw().showSummary=!1}),e.qZA(),e.TgZ(3,"div",4),e.NdJ("mouseenter",function(){return e.CHM(c),e.oxw().nodeEnter(-1)})("mouseleave",function(){return e.CHM(c),e.oxw().nodeLeave()})("click",function(){return e.CHM(c),e.oxw().nodeClick()}),e.qZA(),e.YNc(4,oe,1,6,"app-trait",5),e.TgZ(5,"div",6),e._uU(6),e.qZA(),e.YNc(7,te,1,1,"ng-template",7),e.YNc(8,ce,3,1,"button",8),e.YNc(9,_e,3,1,"button",8),e.qZA()}if(2&m){var h=e.MAs(1),U=e.oxw();e.Gre("bar attribute-",U.attribute.attribute,""),e.ekj("icon-shift",U.iconShift)("readonly",U.readonly)("short",U.short),e.xp6(2),e.Q6J("src",U.attribute.icon,e.LSH),e.xp6(2),e.Q6J("ngForOf",U.attribute.traits),e.xp6(2),e.AsE(" +",U.attribute.rank+U.attribute.bonusRank," ",U.attribute.attributeName," "),e.xp6(1),e.Q6J("cdkConnectedOverlayOpen",U.showSummary)("cdkConnectedOverlayOrigin",h),e.xp6(1),e.Q6J("ngIf",!U.readonly),e.xp6(1),e.Q6J("ngIf",!U.readonly)}}var A=function(){var m=function(){function C(c,h){(0,F.Z)(this,C),this.slormancerAttributeService=c,this.plannerService=h,this.attribute=null,this.remainingPoints=0,this.iconShift=!1,this.short=!1,this.readonly=!1,this.unlockedRange={min:0,max:0},this.highlightRange={min:0,max:0},this.bonusRange={min:0,max:0},this.cappedCursor=0,this.showSummary=!1}return(0,K.Z)(C,[{key:"ngOnInit",value:function(){this.updateCursor()}},{key:"updateCursor",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==this.attribute&&(null===h?(this.cappedCursor=this.attribute.rank,this.highlightRange={min:0,max:0},this.unlockedRange={min:0,max:this.attribute.rank},this.bonusRange={min:this.attribute.rank,max:this.attribute.rank+this.attribute.bonusRank}):(this.cappedCursor=Math.min(this.attribute.rank+this.remainingPoints,h+1),this.bonusRange={min:Math.max(this.cappedCursor,this.attribute.rank),max:this.attribute.rank+this.attribute.bonusRank},this.highlightRange=h<this.attribute.rank?{min:h+1,max:Math.max(this.attribute.rank,h+1)}:{min:this.attribute.rank,max:this.cappedCursor}))}},{key:"nodeEnter",value:function(h){this.updateCursor(h)}},{key:"nodeLeave",value:function(){this.updateCursor()}},{key:"setRank",value:function(h){null!==this.attribute&&this.attribute.rank!==h&&!this.readonly&&(this.attribute.rank=h,this.slormancerAttributeService.updateAttributeTraits(this.attribute),this.plannerService.updateCurrentCharacter(),this.updateCursor())}},{key:"nodeClick",value:function(){null!==this.attribute&&this.setRank(this.cappedCursor)}},{key:"isUnlocked",value:function(h){return h>=this.unlockedRange.min&&h<this.unlockedRange.max}},{key:"isHighlight",value:function(h){return h>=this.highlightRange.min&&h<this.highlightRange.max}},{key:"isBonus",value:function(h){return h>=this.bonusRange.min&&h<this.bonusRange.max}},{key:"addPoint",value:function(h){null!==this.attribute&&this.remainingPoints>0&&this.setRank(this.attribute.rank+Math.min(this.remainingPoints,h.shiftKey?10:1))}},{key:"removePoint",value:function(h){null!==this.attribute&&this.attribute.rank>0&&this.setRank(this.attribute.rank-Math.min(this.attribute.rank,h.shiftKey?10:1))}}]),C}();return m.\u0275fac=function(c){return new(c||m)(e.Y36(t.Q),e.Y36(n.q))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-attribute-line"]],inputs:{attribute:"attribute",remainingPoints:"remainingPoints",iconShift:"iconShift",short:"short",readonly:"readonly"},decls:1,vars:1,consts:[["cdkOverlayOrigin","",3,"class","icon-shift","readonly","short",4,"ngIf"],["cdkOverlayOrigin",""],["trigger","cdkOverlayOrigin"],[3,"src","mouseenter","mouseleave"],[1,"pre-bar",3,"mouseenter","mouseleave","click"],[3,"trait","first","last","highlight","bonus","unlocked","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],[1,"total"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],["mat-icon-button","","color","primary",3,"disabled","click",4,"ngIf"],[3,"trait","first","last","highlight","bonus","unlocked","mouseenter","mouseleave","click"],[3,"attributeTraits"],["mat-icon-button","","color","primary",3,"disabled","click"]],template:function(c,h){1&c&&e.YNc(0,T,10,17,"div",0),2&c&&e.Q6J("ngIf",null!==h.attribute)},directives:[g.O5,Q.xu,g.sg,Q.pI,G,J,M.lW,Z.Hw],styles:['.bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:4px 0;position:relative;height:60px}.bar.icon-shift[_ngcontent-%COMP%]{margin-left:16px}.bar[_ngcontent-%COMP%]:before{content:" ";position:absolute;background-color:#353535;border:4px solid black;transform:rotate(45deg);width:38px;height:38px}.bar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:2;padding-left:1px}.bar[_ngcontent-%COMP%]   .pre-bar[_ngcontent-%COMP%]{background-color:#353535;border:4px solid black;margin-left:-6px;border-left:0;border-right:0;min-width:20px;width:20px;height:30px;z-index:1}.bar[_ngcontent-%COMP%]:not(.readonly)   .pre-bar[_ngcontent-%COMP%]{cursor:pointer}.bar[_ngcontent-%COMP%]:not(.icon-shift)   .pre-bar[_ngcontent-%COMP%]{width:36px}.bar[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{display:none;background-color:#353535;border:4px solid black;font-weight:700;border-left:0;width:130px;height:30px}.bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}.bar.short[_ngcontent-%COMP%]   app-trait[_ngcontent-%COMP%]{display:none}.bar.short[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}@media (max-width: 768px){.bar[_ngcontent-%COMP%]   app-trait[_ngcontent-%COMP%]{display:none}.bar[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}}.bar.attribute-0[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#2f5996}.bar.attribute-1[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#a83007}.bar.attribute-2[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#79b549}.bar.attribute-3[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#d0b545}.bar.attribute-4[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#4bc1b2}.bar.attribute-5[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#753098}.bar.attribute-6[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#cd7028}.bar.attribute-7[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#bf3c59}']}),m}()},4322:function(ge,ne,a){a.d(ne,{q:function(){return we}});var F=a(5671),K=a(3144),t=a(5542),n=a(4456),e=a(648),g=a(9808),Q=a(7375),$=["animation"],L=function(){var D=function(){function j(){(0,F.Z)(this,j),this.heroClass=null,this.suffix="",this.flipAnimation=!1,this.animation=null}return(0,K.Z)(j,[{key:"mouseMoved",value:function(d){if(null!==this.animation){var V=this.animation.nativeElement.getBoundingClientRect().left+this.animation.nativeElement.clientWidth/2<d.clientX;this.flipAnimation!==V&&(this.flipAnimation=V)}}},{key:"ngOnInit",value:function(){}}]),j}();return D.\u0275fac=function(P){return new(P||D)},D.\u0275cmp=t.Xpm({type:D,selectors:[["app-character-animation"]],viewQuery:function(P,d){var W;1&P&&t.Gf($,5),2&P&&t.iGM(W=t.CRH())&&(d.animation=W.first)},hostBindings:function(P,d){1&P&&t.NdJ("mousemove",function(B){return d.mouseMoved(B)},!1,t.Jf7)},inputs:{heroClass:"heroClass",suffix:"suffix"},decls:6,vars:10,consts:[[1,"character-animation"],["animation",""],[1,"idle-1",3,"src"],[1,"idle-2",3,"src"],[1,"idle-3",3,"src"],[1,"idle-4",3,"src"]],template:function(P,d){1&P&&(t.TgZ(0,"div",0,1),t._UZ(2,"img",2),t._UZ(3,"img",3),t._UZ(4,"img",4),t._UZ(5,"img",5),t.qZA()),2&P&&(t.ekj("flip",d.flipAnimation),t.xp6(2),t.hYB("src","assets/img/character/idle/",d.heroClass,"/0",d.suffix?"_"+d.suffix:d.suffix,".png",t.LSH),t.xp6(1),t.hYB("src","assets/img/character/idle/",d.heroClass,"/1",d.suffix?"_"+d.suffix:d.suffix,".png",t.LSH),t.xp6(1),t.hYB("src","assets/img/character/idle/",d.heroClass,"/2",d.suffix?"_"+d.suffix:d.suffix,".png",t.LSH),t.xp6(1),t.hYB("src","assets/img/character/idle/",d.heroClass,"/3",d.suffix?"_"+d.suffix:d.suffix,".png",t.LSH))},styles:[".character-animation[_ngcontent-%COMP%]{position:relative;height:144px;width:88px}.character-animation.flip[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scaleX(-1)}.character-animation[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;image-rendering:pixelated;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear}.character-animation[_ngcontent-%COMP%]   img.idle-1[_ngcontent-%COMP%]{animation-name:idle-1}.character-animation[_ngcontent-%COMP%]   img.idle-2[_ngcontent-%COMP%]{animation-name:idle-2}.character-animation[_ngcontent-%COMP%]   img.idle-3[_ngcontent-%COMP%]{animation-name:idle-3}.character-animation[_ngcontent-%COMP%]   img.idle-4[_ngcontent-%COMP%]{animation-name:idle-4}@keyframes idle-1{0%{opacity:1}25%{opacity:1}26%{opacity:0}99%{opacity:0}to{opacity:1}}@keyframes idle-2{0%{opacity:0}24%{opacity:0}25%{opacity:1}50%{opacity:1}51%{opacity:0}to{opacity:0}}@keyframes idle-3{0%{opacity:0}49%{opacity:0}50%{opacity:1}75%{opacity:1}76%{opacity:0}to{opacity:0}}@keyframes idle-4{0%{opacity:1}1%{opacity:0}74%{opacity:0}75%{opacity:1}to{opacity:1}}"]}),D}(),q=a(7469),p=a(3075),l=a(8966),r=a(4373),_=a(1375),x=a(1682),R=a(3300);function w(D,j){if(1&D&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t._UZ(2,"div",3),t._UZ(3,"div",4),t.qZA(),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t.TgZ(6,"div",7),t.TgZ(7,"div",8),t.TgZ(8,"div",9),t.TgZ(9,"div",10),t._UZ(10,"img",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",12),t.TgZ(12,"div",13),t.TgZ(13,"div",14),t._uU(14),t.qZA(),t._UZ(15,"div",15),t.qZA(),t.TgZ(16,"div",16),t.TgZ(17,"div",14),t._uU(18),t.qZA(),t._UZ(19,"div",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",17),t._UZ(21,"img",11),t.qZA(),t.qZA(),t.qZA()),2&D){var P=t.oxw();t.xp6(2),t.Q6J("innerHTML",P.ultimatum.title,t.oJD),t.xp6(1),t.Q6J("innerHTML",P.ultimatum.levelLabel,t.oJD),t.xp6(7),t.MGl("src","assets/img/icon/",P.ultimatum.icon,".png",t.LSH),t.xp6(4),t.Oqu(P.ultimatum.bonusTitle),t.xp6(1),t.Q6J("innerHTML",P.ultimatum.bonusLabel,t.oJD),t.xp6(3),t.Oqu(P.ultimatum.malusTitle),t.xp6(1),t.Q6J("innerHTML",P.ultimatum.malusLabel,t.oJD),t.xp6(2),t.MGl("src","assets/img/icon/",P.ultimatum.levelIcon,".png",t.LSH)}}var H=function(){var D=(0,K.Z)(function j(){(0,F.Z)(this,j),this.ultimatum=null});return D.\u0275fac=function(P){return new(P||D)},D.\u0275cmp=t.Xpm({type:D,selectors:[["app-ultimatum-view"]],inputs:{ultimatum:"ultimatum"},decls:1,vars:1,consts:[["class","ultimatum slormancer-tooltip",4,"ngIf"],[1,"ultimatum","slormancer-tooltip"],[1,"head","inner-box"],[1,"title",3,"innerHTML"],[1,"level",3,"innerHTML"],[1,"content","inner-box"],[1,"data"],[1,"visual"],[1,"background"],[1,"inner-background"],[1,"ultimatum"],[3,"src"],[1,"info"],[1,"bonus"],[1,"title"],[3,"innerHTML"],[1,"malus"],[1,"bottom-level"]],template:function(P,d){1&P&&t.YNc(0,w,22,8,"div",0),2&P&&t.Q6J("ngIf",null!==d.ultimatum)},directives:[g.O5],styles:[".ultimatum[_ngcontent-%COMP%]{width:350px}.ultimatum[_ngcontent-%COMP%]  .value, .ultimatum[_ngcontent-%COMP%]  .rank .current{color:#ce4607}.ultimatum[_ngcontent-%COMP%]  .range, .ultimatum[_ngcontent-%COMP%]  .range .value, .ultimatum[_ngcontent-%COMP%]  .details, .ultimatum[_ngcontent-%COMP%]  .details .value, .ultimatum[_ngcontent-%COMP%]  .formula, .ultimatum[_ngcontent-%COMP%]  .formula .value{color:#686868}.ultimatum[_ngcontent-%COMP%]  .affixes .range, .ultimatum[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.ultimatum[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase}.ultimatum[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{font-size:80%}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:16px;gap:16px;padding:20px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:16px;gap:16px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{border:3px solid black;background-color:#3c3c3c;border-radius:10%;padding:3px;width:60px;height:70px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;border:3px solid black;background-color:#471712;border-radius:10%;width:100%;height:100%}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]{width:0;height:0}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:translate(-50%,-50%);width:72px;height:72px;image-rendering:pixelated}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:16px;gap:16px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:105%}"]}),D}(),u=a(7322),N=a(7531),I=a(4102),O=a(7423),G=a(508);function k(D,j){if(1&D&&(t.TgZ(0,"mat-option",15),t._UZ(1,"span",16),t.qZA()),2&D){var P=j.$implicit;t.Q6J("value",P.value),t.xp6(1),t.Q6J("innerHTML",P.label,t.oJD)}}function v(D,j){if(1&D){var P=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){return t.CHM(P),t.oxw().submit()}),t._UZ(1,"input",2),t.TgZ(2,"mat-dialog-content"),t.TgZ(3,"div",3),t._UZ(4,"app-ultimatum-view",4),t.qZA(),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"mat-form-field",7),t.TgZ(8,"mat-label"),t._uU(9,"Ultimatum level"),t.qZA(),t._UZ(10,"input",8),t.TgZ(11,"mat-error"),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",6),t.TgZ(14,"mat-form-field",9),t.TgZ(15,"mat-label"),t._uU(16,"Ultimatum type"),t.qZA(),t.TgZ(17,"mat-select",10),t.YNc(18,k,2,2,"mat-option",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"mat-dialog-actions"),t.TgZ(20,"button",12),t._uU(21,"Cancel"),t.qZA(),t.TgZ(22,"button",13),t.NdJ("click",function(){return t.CHM(P),t.oxw().reset()}),t._uU(23,"Reset"),t.qZA(),t.TgZ(24,"button",14),t._uU(25,"Submit"),t.qZA(),t.qZA(),t.qZA()}if(2&D){var d=t.oxw();t.Q6J("formGroup",d.form),t.xp6(4),t.Q6J("ultimatum",d.ultimatum),t.xp6(6),t.Q6J("max",d.ULTIMATUM_MAX_LEVEL),t.xp6(2),t.hij("Level must be between 1 and ",d.ULTIMATUM_MAX_LEVEL,""),t.xp6(6),t.Q6J("ngForOf",d.options)}}var J=function(){var D=function(){function j(P,d,W,B){(0,F.Z)(this,j),this.dialogRef=P,this.slormancerUltimatumService=d,this.formOptionsService=W,this.ULTIMATUM_MAX_LEVEL=r.cK,this.options=[],this.originalUltimatum=null===B.ultimatum?this.slormancerUltimatumService.getUltimatum(_.R.AdamantAbundance,1):this.slormancerUltimatumService.getUltimatumClone(B.ultimatum),this.ultimatum=this.originalUltimatum,this.options=this.formOptionsService.getUltimatumOptions(),this.reset()}return(0,K.Z)(j,[{key:"reset",value:function(){Object.assign(this.ultimatum,this.originalUltimatum),this.form=this.buildForm()}},{key:"submit",value:function(){this.form.valid&&this.dialogRef.close(this.ultimatum)}},{key:"updatePreview",value:function(d){if(d.valid){var W=d.value;this.ultimatum=this.slormancerUltimatumService.getUltimatum(W.type,W.level)}}},{key:"buildForm",value:function(){var d=this,W=new p.cw({level:new p.NI(this.ultimatum.level,[p.kI.required,p.kI.min(1),p.kI.max(r.cK)]),type:new p.NI(this.ultimatum.type,[p.kI.required])});return W.valueChanges.subscribe(function(){d.updatePreview(W)}),this.updatePreview(W),W}}]),j}();return D.\u0275fac=function(P){return new(P||D)(t.Y36(l.so),t.Y36(x.h),t.Y36(R.K),t.Y36(l.WI))},D.\u0275cmp=t.Xpm({type:D,selectors:[["app-ultimatum-edit-modal"]],decls:1,vars:1,consts:[["autocomplete","off",3,"formGroup","submit",4,"ngIf"],["autocomplete","off",3,"formGroup","submit"],["autocomplete","false","name","hidden","type","text",2,"display","none"],[1,"preview"],[3,"ultimatum"],[1,"form"],[1,"stat-line"],["appearance","outline"],["matInput","","type","number","min","1","step","1","formControlName","level",3,"max"],["appearance","outline","color","primary",1,"no-error-padding"],["formControlName","type","color","primary"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","button","color","primary",3,"click"],["mat-flat-button","","type","submit","color","primary"],[3,"value"],[3,"innerHTML"]],template:function(P,d){1&P&&t.YNc(0,v,26,5,"form",0),2&P&&t.Q6J("ngIf",null!==d.form&&null!==d.ultimatum)},directives:[g.O5,p._Y,p.JL,p.sg,l.xY,H,u.KE,u.hX,N.Nt,p.qQ,p.wV,p.Fd,p.Fj,p.JJ,p.u,u.TO,I.gD,g.sg,l.H8,O.lW,l.ZT,G.ey],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:20px;gap:20px;flex-grow:1}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]{flex-direction:column}}mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{max-width:350px}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{display:none;visibility:hidden}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;align-items:stretch;flex-grow:1;width:200px}"]}),D}(),M=a(9776);function Z(D,j){if(1&D&&t._UZ(0,"app-ultimatum-view",8),2&D){var P=t.oxw(3);t.Q6J("ultimatum",P.ultimatum)}}function oe(D,j){if(1&D&&t.YNc(0,Z,1,1,"ng-template",7),2&D){t.oxw(2);var P=t.MAs(1);t.Q6J("cdkConnectedOverlayOpen",!0)("cdkConnectedOverlayOrigin",P)}}function te(D,j){if(1&D&&(t.TgZ(0,"div",4),t._UZ(1,"img",5),t.YNc(2,oe,1,2,void 0,6),t.qZA()),2&D){var P=t.oxw();t.xp6(1),t.MGl("src","assets/img/icon/",P.ultimatum.icon,".png",t.LSH),t.xp6(1),t.Q6J("ngIf",P.overlay&&P.showOverlay)}}var ce=function(){var D=function(){function j(P,d){(0,F.Z)(this,j),this.dialog=P,this.itemMoveService=d,this.ultimatum=null,this.overlay=!0,this.readonly=!1,this.changed=new t.vpe,this.showOverlay=!1}return(0,K.Z)(j,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"onMouseContextMenu",value:function(){return this.readonly||this.itemMoveService.releaseHoldItem(),!1}},{key:"edit",value:function(){var d=this;this.readonly||this.dialog.open(J,{data:{ultimatum:this.ultimatum}}).afterClosed().subscribe(function(B){B&&d.changed.emit(B)})}}]),j}();return D.\u0275fac=function(P){return new(P||D)(t.Y36(l.uw),t.Y36(q.v))},D.\u0275cmp=t.Xpm({type:D,selectors:[["app-ultimatum-slot"]],hostBindings:function(P,d){1&P&&t.NdJ("mouseenter",function(){return d.onOver()})("mouseleave",function(){return d.onLeave()})("contextmenu",function(){return d.onMouseContextMenu()})},inputs:{ultimatum:"ultimatum",overlay:"overlay",readonly:"readonly"},outputs:{changed:"changed"},decls:4,vars:3,consts:[["cdkOverlayOrigin","",1,"background",3,"click"],["trigger","cdkOverlayOrigin"],[1,"inner-background"],["class","ultimatum",4,"ngIf"],[1,"ultimatum"],[3,"src"],[4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"ultimatum"]],template:function(P,d){1&P&&(t.TgZ(0,"div",0,1),t.NdJ("click",function(){return!d.readonly&&d.edit()}),t.TgZ(2,"div",2),t.YNc(3,te,3,2,"div",3),t.qZA(),t.qZA()),2&P&&(t.ekj("readonly",d.readonly),t.xp6(3),t.Q6J("ngIf",null!==d.ultimatum))},directives:[M.xu,g.O5,M.pI,H],styles:[".background[_ngcontent-%COMP%]{border:3px solid black;background-color:#3c3c3c;border-radius:10%;padding:3px;width:60px;height:70px}.background[_ngcontent-%COMP%]:not(.readonly){cursor:pointer}.background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;border:3px solid black;background-color:#471712;border-radius:10%;width:100%;height:100%}.background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]{width:0;height:0}.background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:translate(-50%,-50%);width:72px;height:72px;image-rendering:pixelated}"]}),D}(),_e=a(4902),T=a(136),A=a(7777),m=a(2525),C=a(2722),c=a(7399),h=a(5832),U=a(5581),b=a(4917),X=a(6446);function y(D,j){if(1&D){var P=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){return t.CHM(P),t.oxw().submit()}),t.TgZ(1,"h2",2),t._uU(2,"Choose your hero level"),t.qZA(),t.TgZ(3,"mat-dialog-content"),t.TgZ(4,"mat-form-field",3),t.TgZ(5,"mat-label"),t._uU(6,"Hero level"),t.qZA(),t._UZ(7,"input",4),t.TgZ(8,"mat-error"),t._uU(9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"mat-dialog-actions"),t.TgZ(11,"button",5),t._uU(12,"Cancel"),t.qZA(),t.TgZ(13,"button",6),t._uU(14,"Submit"),t.qZA(),t.qZA(),t.qZA()}if(2&D){var d=t.oxw();t.Q6J("formGroup",d.form),t.xp6(7),t.Q6J("max",d.MAX_HERO_LEVEL),t.xp6(2),t.hij("Level must be between 1 and ",d.MAX_HERO_LEVEL,""),t.xp6(2),t.Q6J("mat-dialog-close",null)}}var z=function(){var D=function(){function j(P,d){(0,F.Z)(this,j),this.dialogRef=P,this.MAX_HERO_LEVEL=r.AR,this.form=new p.cw({level:new p.NI(d.level,[p.kI.min(1),p.kI.max(r.AR)])})}return(0,K.Z)(j,[{key:"submit",value:function(){this.form.markAllAsTouched(),this.form.valid&&this.dialogRef.close(this.form.value.level)}}]),j}();return D.\u0275fac=function(P){return new(P||D)(t.Y36(l.so),t.Y36(l.WI))},D.\u0275cmp=t.Xpm({type:D,selectors:[["app-character-level-edit-modal"]],decls:1,vars:1,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],["mat-dialog-title",""],["appearance","outline"],["matInput","","type","number","min","1","step","1","formControlName","level",3,"max"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary"]],template:function(P,d){1&P&&t.YNc(0,y,15,4,"form",0),2&P&&t.Q6J("ngIf",null!==d.form)},directives:[g.O5,p._Y,p.JL,p.sg,l.uh,l.xY,u.KE,u.hX,N.Nt,p.qQ,p.wV,p.Fd,p.Fj,p.JJ,p.u,u.TO,l.H8,O.lW,l.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:8px;gap:8px}"]}),D}();function ee(D,j){if(1&D){var P=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){return t.CHM(P),t.oxw().submit()}),t.TgZ(1,"h2",2),t._uU(2,"Choose the new item reinforcment"),t.qZA(),t.TgZ(3,"mat-dialog-content"),t.TgZ(4,"mat-form-field",3),t.TgZ(5,"mat-label"),t._uU(6,"Reinforcment"),t.qZA(),t._UZ(7,"input",4),t.TgZ(8,"mat-error"),t._uU(9,"Reinforcment must be positive"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"mat-dialog-actions"),t.TgZ(11,"button",5),t._uU(12,"Cancel"),t.qZA(),t.TgZ(13,"button",6),t._uU(14,"Submit"),t.qZA(),t.qZA(),t.qZA()}if(2&D){var d=t.oxw();t.Q6J("formGroup",d.form),t.xp6(11),t.Q6J("mat-dialog-close",null)}}var re=function(){var D=function(){function j(P,d){(0,F.Z)(this,j),this.dialogRef=P,this.MAX_HERO_LEVEL=r.AR,this.form=new p.cw({reinforcment:new p.NI(d.reinforcment,[p.kI.min(0)])})}return(0,K.Z)(j,[{key:"submit",value:function(){this.form.markAllAsTouched(),this.form.valid&&this.dialogRef.close(this.form.value.reinforcment)}}]),j}();return D.\u0275fac=function(P){return new(P||D)(t.Y36(l.so),t.Y36(l.WI))},D.\u0275cmp=t.Xpm({type:D,selectors:[["app-item-reinforcment-edit-modal"]],decls:1,vars:1,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],["mat-dialog-title",""],["appearance","outline"],["matInput","","type","number","min","0","step","1","formControlName","reinforcment"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary"]],template:function(P,d){1&P&&t.YNc(0,ee,15,2,"form",0),2&P&&t.Q6J("ngIf",null!==d.form)},directives:[g.O5,p._Y,p.JL,p.sg,l.uh,l.xY,u.KE,u.hX,N.Nt,p.qQ,p.wV,p.Fj,p.JJ,p.u,u.TO,l.H8,O.lW,l.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),D}(),de=a(8223),pe=a(3874);function Me(D,j){if(1&D){var P=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(P),t.oxw(2).optimizeReaperEnchantments()}),t._uU(1,"Optimize items for Reaper"),t.qZA()}}function ye(D,j){if(1&D&&(t.TgZ(0,"button",10),t._uU(1,"Optimize items for Attribute"),t.qZA()),2&D){t.oxw(2);var P=t.MAs(6);t.Q6J("matMenuTriggerFor",P)}}function xe(D,j){if(1&D&&(t.TgZ(0,"button",10),t._uU(1,"Optimize items for Skill"),t.qZA()),2&D){t.oxw(2);var P=t.MAs(9);t.Q6J("matMenuTriggerFor",P)}}function Te(D,j){if(1&D){var P=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(P),t.oxw(2).maximizeItemsLevel()}),t._uU(1,"Maximize items level"),t.qZA()}}function Ze(D,j){if(1&D){var P=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(P),t.oxw(2).changeReinforcmentLevel()}),t._uU(1,"Change items reinforcment level"),t.qZA()}}function Ee(D,j){if(1&D){var P=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(P),t.oxw().editCharacterLevel()}),t._uU(1,"Change hero level"),t.qZA(),t.YNc(2,Me,2,0,"button",8),t.YNc(3,ye,2,1,"button",9),t.YNc(4,xe,2,1,"button",9),t.YNc(5,Te,2,0,"button",8),t.YNc(6,Ze,2,0,"button",8)}if(2&D){var d=t.oxw();t.xp6(2),t.Q6J("ngIf",null!==d.character&&null!==d.character.reaper&&d.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==d.character&&d.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==d.character&&d.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==d.character&&d.hasItems()),t.xp6(1),t.Q6J("ngIf",null!==d.character&&d.hasItems())}}function Ae(D,j){if(1&D){var P=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){var V=t.CHM(P).$implicit;return t.oxw().optimizeAttributeEnchantments(V)}),t._UZ(1,"img",12),t._UZ(2,"div",13),t.qZA()}if(2&D){var d=j.$implicit;t.xp6(1),t.Q6J("src",d.icon,t.LSH),t.xp6(1),t.Q6J("innerHTML",d.attributeName,t.oJD)}}function Se(D,j){if(1&D){var P=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){var V=t.CHM(P).$implicit;return t.oxw().optimizeSkillEnchantments(V)}),t._UZ(1,"img",14),t._UZ(2,"div",13),t.qZA()}if(2&D){var d=j.$implicit;t.xp6(1),t.Q6J("src","assets/img/icon/"+d.icon+".png",t.LSH),t.xp6(1),t.Q6J("innerHTML",d.name,t.oJD)}}var ke=function(){var D=function(j){(0,T.Z)(d,j);var P=(0,A.Z)(d);function d(W,B,V,se){var ue;return(0,F.Z)(this,d),(ue=P.call(this)).plannerService=W,ue.dialog=B,ue.messageService=V,ue.slormancerItemService=se,ue.character=null,ue.menu=null,ue}return(0,K.Z)(d,[{key:"ngOnInit",value:function(){var B=this;this.plannerService.characterChanged.pipe((0,C.R)(this.unsubscribe)).subscribe(function(V){return B.character=V})}},{key:"openCharacterSettings",value:function(){return null!==this.menu&&this.menu.openMenu(),!1}},{key:"editCharacterLevel",value:function(){var B=this;null!==this.character&&this.dialog.open(z,{data:{level:this.character.level}}).afterClosed().subscribe(function(V){V&&null!==B.character&&(B.character.level=V)})}},{key:"getGearItems",value:function(){var B=[],V=this.character;return null!==V&&(B=e.PL.map(function(se){return V.gear[se]}).filter(U.BX)),B}},{key:"hasItems",value:function(){return this.getGearItems().length>0}},{key:"optimizeReaperEnchantments",value:function(){var B=this;if(null!==this.character&&null!==this.character.reaper){var V=this.slormancerItemService.getReaperEnchantment(this.character.reaper.smith.id,5),se="";this.getGearItems().forEach(function(ue){ue.reaperEnchantment=B.slormancerItemService.getReaperEnchantmentClone(V),B.slormancerItemService.updateEquipableItemModel(ue),B.slormancerItemService.updateEquipableItemView(ue),se=ue.reaperEnchantment.icon}),this.plannerService.updateCurrentCharacter(),this.messageService.message('All equipped items optimized for <img src="'+se+'"> '+this.character.reaper.smith.name)}}},{key:"getTraits",value:function(){var B=[],V=this.character;return null!==V&&(B=c.A.map(function(se){return V.attributes.allocated[se]})),B}},{key:"optimizeAttributeEnchantments",value:function(B){var V=this;if(null!==this.character&&null!==this.character.reaper){var se=this.slormancerItemService.getAttributeEnchantment(B.attribute,3),ue="";this.getGearItems().forEach(function(fe){fe.attributeEnchantment=V.slormancerItemService.getAttributeEnchantmentClone(se),V.slormancerItemService.updateEquipableItemModel(fe),V.slormancerItemService.updateEquipableItemView(fe),ue=fe.attributeEnchantment.icon}),this.plannerService.updateCurrentCharacter(),this.messageService.message('All equipped items optimized for <img src="'+ue+'"> '+B.attributeName)}}},{key:"getSkills",value:function(){var B=[],V=this.character;return null!==V&&(B=V.skills.map(function(se){return se.skill})),B}},{key:"optimizeSkillEnchantments",value:function(B){var V=this;if(null!==this.character){var se=this.slormancerItemService.getSkillEnchantment(B.id,2),ue="";this.getGearItems().forEach(function(fe){fe.skillEnchantment=V.slormancerItemService.getSkillEnchantmentClone(se),V.slormancerItemService.updateEquipableItemModel(fe),V.slormancerItemService.updateEquipableItemView(fe),ue=fe.skillEnchantment.icon}),this.plannerService.updateCurrentCharacter(),this.messageService.message('All equipped items optimized for <img src="'+ue+'"> '+B.name)}}},{key:"maximizeItemsLevel",value:function(){var B=this;if(null!==this.character){var V=this.character.level;this.getGearItems().forEach(function(se){se.level=V,B.slormancerItemService.updateEquipableItemModel(se),B.slormancerItemService.updateEquipableItemView(se)}),this.plannerService.updateCurrentCharacter(),this.messageService.message("All equipped items level raised to "+V)}}},{key:"changeReinforcmentLevel",value:function(){var B=this;if(null!==this.character){var V=Math.max.apply(Math,(0,_e.Z)(this.getGearItems().map(function(se){return se.reinforcment})));this.dialog.open(re,{data:{reinforcment:V}}).afterClosed().subscribe(function(se){"number"==typeof se&&(B.getGearItems().forEach(function(ue){ue.reinforcment=se,B.slormancerItemService.updateEquipableItemModel(ue),B.slormancerItemService.updateEquipableItemView(ue)}),B.plannerService.updateCurrentCharacter(),B.messageService.message("All equipped items reinforcment raised to "+se))})}}}]),d}(X.B);return D.\u0275fac=function(P){return new(P||D)(t.Y36(b.q),t.Y36(l.uw),t.Y36(de.e),t.Y36(h.S))},D.\u0275cmp=t.Xpm({type:D,selectors:[["app-settings-menu"]],viewQuery:function(P,d){var W;1&P&&t.Gf(m.p6,7),2&P&&t.iGM(W=t.CRH())&&(d.menu=W.first)},features:[t.qOj],decls:11,vars:4,consts:[[3,"matMenuTriggerFor","contextmenu"],["xPosition","after",3,"overlapTrigger"],["menu","matMenu"],["matMenuContent",""],["attributes","matMenu"],["mat-menu-item","","class","menu-entry",3,"click",4,"ngFor","ngForOf"],["skills","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"matMenuTriggerFor",4,"ngIf"],["mat-menu-item","",3,"matMenuTriggerFor"],["mat-menu-item","",1,"menu-entry",3,"click"],[3,"src"],[3,"innerHTML"],[1,"skill-icon",3,"src"]],template:function(P,d){if(1&P&&(t.TgZ(0,"mat-icon",0),t.NdJ("contextmenu",function(){return d.openCharacterSettings()}),t._uU(1,"settings"),t.qZA(),t.TgZ(2,"mat-menu",1,2),t.YNc(4,Ee,7,5,"ng-template",3),t.TgZ(5,"mat-menu",null,4),t.YNc(7,Ae,3,2,"button",5),t.qZA(),t.TgZ(8,"mat-menu",null,6),t.YNc(10,Se,3,2,"button",5),t.qZA(),t.qZA()),2&P){var W=t.MAs(3);t.Q6J("matMenuTriggerFor",W),t.xp6(2),t.Q6J("overlapTrigger",!0),t.xp6(5),t.Q6J("ngForOf",d.getTraits()),t.xp6(3),t.Q6J("ngForOf",d.getSkills())}},directives:[pe.Hw,m.p6,m.VK,m.KA,g.sg,m.OP,g.O5],styles:["mat-icon[_ngcontent-%COMP%]{cursor:pointer;color:#353535}.menu-entry[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:8px;gap:8px}"]}),D}();function Ie(D,j){1&D&&t._UZ(0,"app-settings-menu")}function Le(D,j){if(1&D){var P=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"app-item-slot",3),t.NdJ("changed",function(B){t.CHM(P);var V=t.oxw();return V.updateItem(V.gearSlot.Helm,B)}),t.qZA(),t.TgZ(3,"app-item-slot",4),t.NdJ("changed",function(B){t.CHM(P);var V=t.oxw();return V.updateItem(V.gearSlot.Amulet,B)}),t.qZA(),t.qZA(),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t.TgZ(6,"app-item-slot",7),t.NdJ("changed",function(B){t.CHM(P);var V=t.oxw();return V.updateItem(V.gearSlot.Shoulder,B)}),t.qZA(),t.TgZ(7,"app-item-slot",8),t.NdJ("changed",function(B){t.CHM(P);var V=t.oxw();return V.updateItem(V.gearSlot.Bracer,B)}),t.qZA(),t.TgZ(8,"app-item-slot",9),t.NdJ("changed",function(B){t.CHM(P);var V=t.oxw();return V.updateItem(V.gearSlot.Glove,B)}),t.qZA(),t.qZA(),t.TgZ(9,"div",10),t.TgZ(10,"div",11),t.YNc(11,Ie,1,0,"app-settings-menu",12),t.qZA(),t._UZ(12,"app-character-animation",13),t.qZA(),t.TgZ(13,"div",14),t.TgZ(14,"app-item-slot",15),t.NdJ("changed",function(B){t.CHM(P);var V=t.oxw();return V.updateItem(V.gearSlot.Body,B)}),t.qZA(),t.TgZ(15,"app-item-slot",16),t.NdJ("changed",function(B){t.CHM(P);var V=t.oxw();return V.updateItem(V.gearSlot.Cape,B)}),t.qZA(),t.TgZ(16,"app-item-slot",17),t.NdJ("changed",function(B){t.CHM(P);var V=t.oxw();return V.updateItem(V.gearSlot.Belt,B)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",18),t._UZ(18,"div",19),t.TgZ(19,"app-item-slot",20),t.NdJ("changed",function(B){t.CHM(P);var V=t.oxw();return V.updateItem(V.gearSlot.LeftRing,B)}),t.qZA(),t.TgZ(20,"app-item-slot",21),t.NdJ("changed",function(B){t.CHM(P);var V=t.oxw();return V.updateItem(V.gearSlot.Boot,B)}),t.qZA(),t.TgZ(21,"app-item-slot",22),t.NdJ("changed",function(B){t.CHM(P);var V=t.oxw();return V.updateItem(V.gearSlot.RightRing,B)}),t.qZA(),t.TgZ(22,"app-ultimatum-slot",23),t.NdJ("changed",function(B){return t.CHM(P),t.oxw().updateUltimatum(B)}),t.qZA(),t.qZA(),t.qZA()}if(2&D){var d=t.oxw();t.xp6(2),t.Q6J("readonly",d.readonly)("base",d.bases.Helm)("item",d.character.gear[d.gearSlot.Helm])("character",d.character),t.xp6(1),t.Q6J("readonly",d.readonly)("base",d.bases.Amulet)("item",d.character.gear[d.gearSlot.Amulet])("character",d.character),t.xp6(3),t.Q6J("readonly",d.readonly)("base",d.bases.Shoulder)("item",d.character.gear[d.gearSlot.Shoulder])("character",d.character),t.xp6(1),t.Q6J("readonly",d.readonly)("base",d.bases.Bracer)("item",d.character.gear[d.gearSlot.Bracer])("character",d.character),t.xp6(1),t.Q6J("readonly",d.readonly)("base",d.bases.Glove)("item",d.character.gear[d.gearSlot.Glove])("character",d.character),t.xp6(3),t.Q6J("ngIf",!d.readonly),t.xp6(1),t.Q6J("heroClass",d.character.heroClass),t.xp6(2),t.Q6J("readonly",d.readonly)("base",d.bases.Body)("item",d.character.gear[d.gearSlot.Body])("character",d.character),t.xp6(1),t.Q6J("readonly",d.readonly)("base",d.bases.Cape)("item",d.character.gear[d.gearSlot.Cape])("character",d.character),t.xp6(1),t.Q6J("readonly",d.readonly)("base",d.bases.Belt)("item",d.character.gear[d.gearSlot.Belt])("character",d.character),t.xp6(3),t.Q6J("readonly",d.readonly)("base",d.bases.Ring)("item",d.character.gear[d.gearSlot.LeftRing])("character",d.character),t.xp6(1),t.Q6J("readonly",d.readonly)("base",d.bases.Boot)("item",d.character.gear[d.gearSlot.Boot])("character",d.character),t.xp6(1),t.Q6J("readonly",d.readonly)("base",d.bases.Ring)("item",d.character.gear[d.gearSlot.RightRing])("character",d.character),t.xp6(1),t.Q6J("readonly",d.readonly)("ultimatum",d.character.ultimatum)}}var we=function(){var D=function(){function j(){(0,F.Z)(this,j),this.gearSlot=e.SH,this.bases=n.J,this.character=null,this.readonly=!1,this.changed=new t.vpe}return(0,K.Z)(j,[{key:"updateItem",value:function(d,W){null!==this.character&&(this.character.gear[d]=W,this.changed.emit(this.character))}},{key:"updateUltimatum",value:function(d){null!==this.character&&(this.character.ultimatum=d,this.changed.emit(this.character))}}]),j}();return D.\u0275fac=function(P){return new(P||D)},D.\u0275cmp=t.Xpm({type:D,selectors:[["app-character-equipment"]],inputs:{character:"character",readonly:"readonly"},outputs:{changed:"changed"},decls:1,vars:1,consts:[["class","equipment",4,"ngIf"],[1,"equipment"],[1,"top-equipment"],[1,"helm",3,"readonly","base","item","character","changed"],[1,"amulet",3,"readonly","base","item","character","changed"],[1,"center-equipment"],[1,"left-equipment"],[1,"shoulder",3,"readonly","base","item","character","changed"],[1,"bracer",3,"readonly","base","item","character","changed"],[1,"glove",3,"readonly","base","item","character","changed"],[1,"character-preview"],[1,"actions"],[4,"ngIf"],[3,"heroClass"],[1,"right-equipment"],[1,"body",3,"readonly","base","item","character","changed"],[1,"cape",3,"readonly","base","item","character","changed"],[1,"belt",3,"readonly","base","item","character","changed"],[1,"bottom-equipment"],[1,"empty"],[1,"ring_l",3,"readonly","base","item","character","changed"],[1,"boot",3,"readonly","base","item","character","changed"],[1,"ring_r",3,"readonly","base","item","character","changed"],[3,"readonly","ultimatum","changed"]],template:function(P,d){1&P&&t.YNc(0,Le,23,48,"div",0),2&P&&t.Q6J("ngIf",null!==d.character)},directives:[g.O5,Q.y,L,ce,ke],styles:[".equipment[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:space-between;min-height:380px}.equipment[_ngcontent-%COMP%]   .top-equipment[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;grid-gap:20px;gap:20px;flex-grow:1}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:space-between}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .left-equipment[_ngcontent-%COMP%], .equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .right-equipment[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;grid-gap:8px;gap:8px;flex-grow:1}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .character-preview[_ngcontent-%COMP%]{width:150px;height:200px;border:3px solid #3c3c3c;padding:8px;background-color:#000;display:flex;flex-direction:column;align-items:center;justify-content:space-between}.equipment[_ngcontent-%COMP%]   .center-equipment[_ngcontent-%COMP%]   .character-preview[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;width:100%}.equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;grid-gap:16px;gap:16px;flex-grow:1;overflow:hidden}.equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]   .ring_l[_ngcontent-%COMP%], .equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]   .ring_r[_ngcontent-%COMP%]{margin-bottom:20px}.equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]   .boot[_ngcontent-%COMP%]{margin-top:20px}.equipment[_ngcontent-%COMP%]   .bottom-equipment[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{width:56px}"]}),D}()},4425:function(ge,ne,a){a.d(ne,{$:function(){return L}});var F=a(5671),K=a(3144),t=a(5542),n=a(9808),e=a(7238);function g(q,p){if(1&q&&(t.TgZ(0,"div",4),t.TgZ(1,"div",5),t._uU(2),t.qZA(),t.TgZ(3,"div",6),t.TgZ(4,"span",7),t._uU(5),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"div",8),t._uU(8),t.qZA(),t.qZA()),2&q){var l=t.oxw().$implicit,r=t.oxw();t.ekj("increase",l.difference>0)("decrease",l.difference<0),t.xp6(1),t.Q6J("matTooltip",r.valueToString(l.left,!0)),t.xp6(1),t.Oqu(r.valueToString(l.left)),t.xp6(3),t.Oqu(r.changeToString(l.difference)),t.xp6(1),t.hij(" ",l.name,""),t.xp6(1),t.Q6J("matTooltip",r.valueToString(l.right,!0)),t.xp6(1),t.Oqu(r.valueToString(l.right))}}function Q(q,p){if(1&q&&(t.ynx(0),t.YNc(1,g,9,10,"div",3),t.BQk()),2&q){var l=p.$implicit;t.xp6(1),t.Q6J("ngIf",0!==l.difference)}}function $(q,p){1&q&&(t.TgZ(0,"div",9),t._uU(1,"No differences"),t.qZA())}var L=function(){var q=function(){function p(){(0,F.Z)(this,p),this.differences=[]}return(0,K.Z)(p,[{key:"valueToString",value:function(r){var _=arguments.length>1&&void 0!==arguments[1]&&arguments[1],x="";return x+("number"==typeof r?r>1e4&&!_?Math.floor(r/1e3)+"k":r:r.min>1e4&&r.max>1e4&&!_?Math.floor(r.min/1e3)+"k - "+Math.floor(r.max/1e3)+"k":r.min+" - "+r.max)}},{key:"changeToString",value:function(r){var _="";return Number.isFinite(r)&&(r>0&&(_="+"),_+=r+"%"),_}}]),p}();return q.\u0275fac=function(l){return new(l||q)},q.\u0275cmp=t.Xpm({type:q,selectors:[["app-compare-view"]],inputs:{differences:"differences"},decls:3,vars:2,consts:[[1,"differences"],[4,"ngFor","ngForOf"],["class","no-differences",4,"ngIf"],["class","difference",3,"increase","decrease",4,"ngIf"],[1,"difference"],[1,"left",3,"matTooltip"],[1,"change"],[1,"value"],[1,"right",3,"matTooltip"],[1,"no-differences"]],template:function(l,r){1&l&&(t.TgZ(0,"div",0),t.YNc(1,Q,2,1,"ng-container",1),t.YNc(2,$,2,0,"div",2),t.qZA()),2&l&&(t.xp6(1),t.Q6J("ngForOf",r.differences),t.xp6(1),t.Q6J("ngIf",0===r.differences.length))},directives:[n.sg,n.O5,e.gM],styles:[".differences[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;grid-gap:8px;gap:8px;min-width:350px}@media (max-width: 374px){.differences[_ngcontent-%COMP%]{min-width:auto}}.differences[_ngcontent-%COMP%]   .no-differences[_ngcontent-%COMP%]{text-align:center}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-gap:8px;gap:8px}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0}@media not all and (min-resolution: .001dpcm){@supports (-webkit-appearance: none){.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex-basis:auto}}}@media (max-width: 374px){.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:none}}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{flex-grow:2;flex-basis:0;text-align:center}@media not all and (min-resolution: .001dpcm){@supports (-webkit-appearance: none){.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{flex-basis:auto}}}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{text-align:left}.differences[_ngcontent-%COMP%]   .difference[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.differences[_ngcontent-%COMP%]   .difference.increase[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:green}.differences[_ngcontent-%COMP%]   .difference.decrease[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:red}"]}),q}()},7375:function(ge,ne,a){a.d(ne,{y:function(){return Ct}});var F=a(5671),K=a(3144),t=a(136),n=a(7777),e=a(5542),g=a(2525),Q=a(2722),$=a(648),L=a(2473),q=a(5832),p=a(3947),l=a(8271),r=a(7469),_=a(4917),x=a(2424),R=a(6446),w=a(8966),H=a(9635),u=a(5457),N=a(4344),I=a(4425),O=function(){var s=(0,K.Z)(function S(o,i,f,E,Y){(0,F.Z)(this,S),this.slormancerItemService=i,this.slormancerCharacterBuilderService=f,this.slormancerCharacterUpdaterService=E,this.slormancerCharacterComparatorService=Y;var ae=this.slormancerCharacterBuilderService.getCharacterClone(o.character),le=this.slormancerCharacterBuilderService.getCharacterClone(o.character);ae.gear[o.slot]=this.slormancerItemService.getEquipableItemClone(o.left),le.gear[o.slot]=this.slormancerItemService.getEquipableItemClone(o.right),this.slormancerCharacterUpdaterService.updateCharacter(ae,o.config),this.slormancerCharacterUpdaterService.updateCharacter(le,o.config),this.left=o.left,this.right=o.right,this.differences=this.slormancerCharacterComparatorService.compareCharacters(ae,le)});return s.\u0275fac=function(o){return new(o||s)(e.Y36(w.WI),e.Y36(q.S),e.Y36(L.o),e.Y36(u.P),e.Y36(H.P))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-compare-item-modal"]],decls:8,vars:6,consts:[["mat-dialog-title",""],[1,"item"],[3,"item","equipped"],[3,"differences"],[3,"item"]],template:function(o,i){1&o&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"div",1),e._UZ(4,"app-item-view",2),e.qZA(),e._UZ(5,"app-compare-view",3),e.TgZ(6,"div",1),e._UZ(7,"app-item-view",4),e.qZA(),e.qZA()),2&o&&(e.xp6(1),e.AsE("",i.left.name," - ",i.right.name,""),e.xp6(3),e.Q6J("item",i.left)("equipped",!0),e.xp6(1),e.Q6J("differences",i.differences),e.xp6(2),e.Q6J("item",i.right))},directives:[w.uh,w.xY,N.F,I.$],styles:["h2[_ngcontent-%COMP%]{display:none;text-align:center}@media (max-width: 992px){h2[_ngcontent-%COMP%]{display:block}}mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:20px;gap:20px}@media (max-width: 992px){mat-dialog-content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:none}mat-dialog-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:block}}@media (max-width: 374px){mat-dialog-content[_ngcontent-%COMP%]   app-compare-view[_ngcontent-%COMP%]{width:100%}}mat-dialog-content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:370px;min-width:380px;overflow-y:auto}"]}),s}(),G=a(4456),k=a(9808),v=a(7423);function J(s,S){if(1&s&&(e.TgZ(0,"button",3),e._uU(1),e.qZA()),2&s){var o=S.$implicit;e.Q6J("mat-dialog-close",o),e.xp6(1),e.Oqu(o)}}var M=function(){var s=function(){function S(o){(0,F.Z)(this,S),this.dialogRef=o,this.EQUIPABLE_ITEM_BASE_VALUES=G.l}return(0,K.Z)(S,[{key:"selectBase",value:function(i){this.dialogRef.close(i)}}]),S}();return s.\u0275fac=function(o){return new(o||s)(e.Y36(w.so))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-item-base-choice-modal"]],decls:7,vars:2,consts:[["mat-dialog-title",""],["mat-flat-button","","color","primary",3,"mat-dialog-close",4,"ngFor","ngForOf"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","color","primary",3,"mat-dialog-close"]],template:function(o,i){1&o&&(e.TgZ(0,"h2",0),e._uU(1,"Choose a base for your item"),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.YNc(3,J,2,2,"button",1),e.qZA(),e.TgZ(4,"mat-dialog-actions"),e.TgZ(5,"button",2),e._uU(6,"Cancel"),e.qZA(),e.qZA()),2&o&&(e.xp6(3),e.Q6J("ngForOf",i.EQUIPABLE_ITEM_BASE_VALUES),e.xp6(2),e.Q6J("mat-dialog-close",null))},directives:[w.uh,w.xY,k.sg,w.H8,v.lW,w.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:8px;gap:8px}"]}),s}(),Z=a(3075),oe=a(4373),te=a(1093),ce=a(2206),_e=a(9377),T=a(7795),A=a(7189),m=a(5581),C=a(3300),c=a(7322),h=a(7531),U=a(2107),b=a(3874),X=a(4102),y=a(508),z=a(8029);function ee(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(o),e.oxw().addLegendaryEffect()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function re(s,S){if(1&s&&(e.TgZ(0,"mat-option",16),e._UZ(1,"span",17),e.qZA()),2&s){var o=S.$implicit;e.Q6J("value",o.value),e.xp6(1),e.Q6J("innerHTML",o.label,e.oJD)}}function de(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"mat-slider",18),e.NdJ("input",function(f){return e.CHM(o),e.oxw(2).updateSliderValue(f)}),e.qZA()}2&s&&e.Q6J("min",75)("max",100)("step",1)}function pe(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"mat-form-field",8),e.TgZ(3,"mat-label"),e._uU(4,"Legendary effect"),e.qZA(),e.TgZ(5,"mat-select",9),e.YNc(6,re,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",11),e.YNc(8,de,1,3,"mat-slider",12),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"div",14),e._uU(11),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){return e.CHM(o),e.oxw().removeLegendaryEffect()}),e.TgZ(13,"mat-icon"),e._uU(14,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&s){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("ngIf",i.hasLegendaryValues()),e.xp6(3),e.hij(" ",i.displayedValue," ")}}var Me=function(){var s=function(){function S(o){(0,F.Z)(this,S),this.itemFormService=o,this.base=G.J.Amulet,this.heroClass=U.i.Huntress,this.legendaryEffect=null,this.form=null,this.reinforcment=null,this.options=[],this.displayedValue=""}return(0,K.Z)(S,[{key:"ngOnChanges",value:function(){this.options=this.itemFormService.getLegendaryOptions(this.base,this.heroClass),null!==this.legendaryEffect&&this.updateLegendaryValueLabel(this.legendaryEffect.value)}},{key:"updateLegendaryValueLabel",value:function(i){this.displayedValue="",null!==this.legendaryEffect&&null!==i&&(this.displayedValue=this.legendaryEffect.effects.filter(function(f){return f.possibleCraftedValues.length>1}).map(function(f){var E=f.effect.percent?"%":"";return(0,m.AW)(f,i)+E}).join(" / "))}},{key:"hasLegendaryValues",value:function(){return null!==this.legendaryEffect&&this.legendaryEffect.effects.filter(function(i){return i.possibleCraftedValues.length>1}).length>0}},{key:"updateSliderValue",value:function(i){this.displayedValue="";var f=i.value;null!==this.legendaryEffect&&null!==f&&this.updateLegendaryValueLabel(f)}},{key:"removeLegendaryEffect",value:function(){null!==this.form&&this.form.patchValue({id:null})}},{key:"addLegendaryEffect",value:function(){var i=this.options[0];null!==this.form&&i&&this.form.patchValue({id:i.value,value:100})}}]),S}();return s.\u0275fac=function(o){return new(o||s)(e.Y36(C.K))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-item-edit-legendary-effect"]],inputs:{base:"base",heroClass:"heroClass",legendaryEffect:"legendaryEffect",form:"form",reinforcment:"reinforcment"},features:[e.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","id"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input",4,"ngIf"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"],["color","primary","formControlName","value",3,"min","max","step","input"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"Legendary effect :"),e.qZA(),e.YNc(3,ee,4,0,"div",2),e.qZA(),e.YNc(4,pe,15,4,"div",3)),2&o&&(e.xp6(3),e.Q6J("ngIf",null!==i.form&&null===i.legendaryEffect),e.xp6(1),e.Q6J("ngIf",null!==i.form&&null!==i.legendaryEffect))},directives:[k.O5,v.lW,b.Hw,Z.JL,Z.sg,c.KE,c.hX,X.gD,Z.JJ,Z.u,k.sg,y.ey,z.pH],styles:[""]}),s}();function ye(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(o),e.oxw().addReaperEnchantment()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function xe(s,S){if(1&s&&(e.TgZ(0,"mat-option",16),e._UZ(1,"span",17),e.qZA()),2&s){var o=S.$implicit;e.Q6J("value",o.value),e.xp6(1),e.Q6J("innerHTML",o.label,e.oJD)}}function Te(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"mat-form-field",8),e.TgZ(3,"mat-label"),e._uU(4,"Reaper Enchantment"),e.qZA(),e.TgZ(5,"mat-select",9),e.YNc(6,xe,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",11),e.TgZ(8,"mat-slider",12),e.NdJ("input",function(E){return e.CHM(o),e.oxw().updateSliderValue(E)}),e.qZA(),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"div",14),e._uU(11),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){return e.CHM(o),e.oxw().removeReaperEnchantment()}),e.TgZ(13,"mat-icon"),e._uU(14,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&s){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("min",1)("max",5)("step",1),e.xp6(3),e.hij(" ",i.displayedValue," ")}}var Ze=function(){var s=function(){function S(o){(0,F.Z)(this,S),this.itemFormService=o,this.reaperEnchantment=null,this.form=null,this.options=[],this.displayedValue=""}return(0,K.Z)(S,[{key:"ngOnChanges",value:function(){this.options=this.itemFormService.getReaperBuffOptions(),null!==this.reaperEnchantment&&this.updateReaperEnchantmentValueLabel(this.reaperEnchantment.effect.value)}},{key:"updateReaperEnchantmentValueLabel",value:function(i){this.displayedValue="",null!==this.reaperEnchantment&&null!==i&&(this.displayedValue="+"+(0,m.Be)(this.reaperEnchantment.craftableValues[i],0))}},{key:"updateSliderValue",value:function(i){this.displayedValue="";var f=i.value;null!==this.reaperEnchantment&&null!==f&&this.updateReaperEnchantmentValueLabel(f)}},{key:"removeReaperEnchantment",value:function(){null!==this.form&&this.form.patchValue({smith:null})}},{key:"addReaperEnchantment",value:function(){var i=this.options[0];null!==this.form&&i&&this.form.patchValue({smith:i.value,value:5})}}]),S}();return s.\u0275fac=function(o){return new(o||s)(e.Y36(C.K))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-item-edit-buff-reaper"]],inputs:{reaperEnchantment:"reaperEnchantment",form:"form"},features:[e.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","form-add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"form-add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","smith"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"Reaper Enchantment :"),e.qZA(),e.YNc(3,ye,4,0,"div",2),e.qZA(),e.YNc(4,Te,15,6,"div",3)),2&o&&(e.xp6(3),e.Q6J("ngIf",null!==i.form&&null===i.reaperEnchantment),e.xp6(1),e.Q6J("ngIf",null!==i.form&&null!==i.reaperEnchantment))},directives:[k.O5,v.lW,b.Hw,Z.JL,Z.sg,c.KE,c.hX,X.gD,Z.JJ,Z.u,k.sg,z.pH,y.ey],styles:[""]}),s}();function Ee(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(o),e.oxw().addSkillEnchantment()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function Ae(s,S){if(1&s&&(e.TgZ(0,"mat-option",16),e._UZ(1,"span",17),e.qZA()),2&s){var o=S.$implicit;e.Q6J("value",o.value),e.xp6(1),e.Q6J("innerHTML",o.label,e.oJD)}}function Se(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"mat-form-field",8),e.TgZ(3,"mat-label"),e._uU(4,"Skill Enchantment"),e.qZA(),e.TgZ(5,"mat-select",9),e.YNc(6,Ae,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",11),e.TgZ(8,"mat-slider",12),e.NdJ("input",function(E){return e.CHM(o),e.oxw().updateSliderValue(E)}),e.qZA(),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"div",14),e._uU(11),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){return e.CHM(o),e.oxw().removeSkillEnchantment()}),e.TgZ(13,"mat-icon"),e._uU(14,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&s){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("min",1)("max",2)("step",1),e.xp6(3),e.hij(" ",i.displayedValue," ")}}var ke=function(){var s=function(){function S(o){(0,F.Z)(this,S),this.itemFormService=o,this.heroClass=U.i.Huntress,this.skillEnchantment=null,this.form=null,this.options=[],this.displayedValue=""}return(0,K.Z)(S,[{key:"ngOnChanges",value:function(){this.options=this.itemFormService.getSkillBuffOptions(this.heroClass),null!==this.skillEnchantment&&this.updateSkillEnchantmentValueLabel(this.skillEnchantment.effect.value)}},{key:"updateSkillEnchantmentValueLabel",value:function(i){this.displayedValue="",null!==this.skillEnchantment&&null!==i&&(this.displayedValue="+"+(0,m.Be)(this.skillEnchantment.craftableValues[i],0))}},{key:"updateSliderValue",value:function(i){this.displayedValue="";var f=i.value;null!==this.skillEnchantment&&null!==f&&this.updateSkillEnchantmentValueLabel(f)}},{key:"removeSkillEnchantment",value:function(){null!==this.form&&this.form.patchValue({skill:null})}},{key:"addSkillEnchantment",value:function(){var i=this.options[0];null!==this.form&&i&&this.form.patchValue({skill:i.value,value:2})}}]),S}();return s.\u0275fac=function(o){return new(o||s)(e.Y36(C.K))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-item-edit-buff-skill"]],inputs:{heroClass:"heroClass",skillEnchantment:"skillEnchantment",form:"form"},features:[e.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","skill"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"Skill Enchantment :"),e.qZA(),e.YNc(3,Ee,4,0,"div",2),e.qZA(),e.YNc(4,Se,15,6,"div",3)),2&o&&(e.xp6(3),e.Q6J("ngIf",null!==i.form&&null===i.skillEnchantment),e.xp6(1),e.Q6J("ngIf",null!==i.form&&null!==i.skillEnchantment))},directives:[k.O5,v.lW,b.Hw,Z.JL,Z.sg,c.KE,c.hX,X.gD,Z.JJ,Z.u,k.sg,z.pH,y.ey],styles:[""]}),s}();function Ie(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(o),e.oxw().addAttributeEnchantment()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function Le(s,S){if(1&s&&(e.TgZ(0,"mat-option",16),e._UZ(1,"span",17),e.qZA()),2&s){var o=S.$implicit;e.Q6J("value",o.value),e.xp6(1),e.Q6J("innerHTML",o.label,e.oJD)}}function we(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"mat-form-field",8),e.TgZ(3,"mat-label"),e._uU(4,"Attribute Enchantment"),e.qZA(),e.TgZ(5,"mat-select",9),e.YNc(6,Le,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",11),e.TgZ(8,"mat-slider",12),e.NdJ("input",function(E){return e.CHM(o),e.oxw().updateSliderValue(E)}),e.qZA(),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"div",14),e._uU(11),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){return e.CHM(o),e.oxw().removeAttributeEnchantment()}),e.TgZ(13,"mat-icon"),e._uU(14,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&s){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("min",1)("max",3)("step",1),e.xp6(3),e.hij(" ",i.displayedValue," ")}}var D=function(){var s=function(){function S(o){(0,F.Z)(this,S),this.itemFormService=o,this.attributeEnchantment=null,this.form=null,this.options=[],this.displayedValue=""}return(0,K.Z)(S,[{key:"ngOnChanges",value:function(){this.options=this.itemFormService.getAttributeBuffOptions(),null!==this.attributeEnchantment&&this.updateAttributeEnchantmentValueLabel(this.attributeEnchantment.effect.value)}},{key:"updateAttributeEnchantmentValueLabel",value:function(i){this.displayedValue="",null!==this.attributeEnchantment&&null!==i&&(this.displayedValue="+"+(0,m.Be)(this.attributeEnchantment.craftableValues[i],0))}},{key:"updateSliderValue",value:function(i){this.displayedValue="";var f=i.value;null!==this.attributeEnchantment&&null!==f&&this.updateAttributeEnchantmentValueLabel(f)}},{key:"removeAttributeEnchantment",value:function(){null!==this.form&&this.form.patchValue({attribute:null})}},{key:"addAttributeEnchantment",value:function(){var i=this.options[0];null!==this.form&&i&&this.form.patchValue({attribute:i.value,value:3})}}]),S}();return s.\u0275fac=function(o){return new(o||s)(e.Y36(C.K))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-item-edit-buff-attribute"]],inputs:{attributeEnchantment:"attributeEnchantment",form:"form"},features:[e.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","attribute"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"Attribute Enchantment :"),e.qZA(),e.YNc(3,Ie,4,0,"div",2),e.qZA(),e.YNc(4,we,15,6,"div",3)),2&o&&(e.xp6(3),e.Q6J("ngIf",null!==i.form&&null===i.attributeEnchantment),e.xp6(1),e.Q6J("ngIf",null!==i.form&&null!==i.attributeEnchantment))},directives:[k.O5,v.lW,b.Hw,Z.JL,Z.sg,c.KE,c.hX,X.gD,Z.JJ,Z.u,k.sg,z.pH,y.ey],styles:[""]}),s}(),j=a(7446);function P(s,S){if(1&s&&(e.TgZ(0,"mat-option",13),e._UZ(1,"span",14),e.qZA()),2&s){var o=S.$implicit,i=e.oxw(2);e.Q6J("disabled",i.isOptionDisabled(o.value))("value",o.value),e.xp6(1),e.Q6J("innerHTML",o.label,e.oJD)}}function d(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"mat-slider",15),e.NdJ("input",function(E){return e.CHM(o),e.oxw(2).updateSliderStat(E)}),e.qZA()}if(2&s){var i=e.oxw(2);e.Q6J("min",i.affix.craftedEffect.minPossibleCraftedValue)("max",i.affix.craftedEffect.maxPossibleCraftedValue)("step",1)}}function W(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"mat-slider",16),e.NdJ("input",function(f){return e.CHM(o),e.oxw(2).updateSliderPurity(f)}),e.qZA()}2&s&&e.Q6J("min",101)("max",200)("step",1)}function B(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"mat-form-field",3),e.TgZ(3,"mat-label"),e._uU(4,"Stat"),e.qZA(),e.TgZ(5,"mat-select",4),e.YNc(6,P,2,3,"mat-option",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",6),e.YNc(8,d,1,3,"mat-slider",7),e.YNc(9,W,1,3,"mat-slider",8),e.qZA(),e.TgZ(10,"div",9),e.TgZ(11,"div",10),e._uU(12),e.qZA(),e.TgZ(13,"mat-checkbox",11),e.NdJ("change",function(E){return e.CHM(o),e.oxw().purityChanged(E)}),e._uU(14,"Pure"),e.qZA(),e.TgZ(15,"button",12),e.NdJ("click",function(){return e.CHM(o),e.oxw().removeStat()}),e.TgZ(16,"mat-icon"),e._uU(17,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&s){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("ngIf",!i.affix.isPure),e.xp6(1),e.Q6J("ngIf",i.affix.isPure),e.xp6(2),e.ekj("pure",i.affix.isPure),e.xp6(1),e.hij(" ",i.displayedValue," "),e.xp6(1),e.Q6J("checked",i.affix.isPure),e.xp6(2),e.Q6J("disabled",!i.removable)}}var V=function(){var s=function(){function S(o){(0,F.Z)(this,S),this.itemFormService=o,this.base=G.J.Amulet,this.alreadyUsedStats=[],this.affix=null,this.form=null,this.removable=!1,this.remove=new e.vpe,this.options=[],this.displayedValue=""}return(0,K.Z)(S,[{key:"ngOnChanges",value:function(){null!==this.affix&&(this.options=this.itemFormService.getStatsOptions(this.base,this.affix.rarity),this.affix.isPure?this.setPuritylabel(this.affix.pure):this.setStatLabel(this.affix.craftedEffect.craftedValue))}},{key:"isOptionDisabled",value:function(i){return-1!==this.alreadyUsedStats.indexOf(i)&&null!==this.affix&&i!==this.affix.craftedEffect.effect.stat}},{key:"purityChanged",value:function(i){null!==this.affix&&null!==this.form&&this.form.patchValue(i.checked?{purity:101}:{purity:100})}},{key:"updateSliderPurity",value:function(i){null!==i.value&&this.setPuritylabel(i.value)}},{key:"updateSliderStat",value:function(i){null!==i.value&&this.setStatLabel(i.value)}},{key:"setPuritylabel",value:function(i){this.displayedValue=Math.round(i-100)+"%"}},{key:"setStatLabel",value:function(i){if(this.displayedValue="",null!==this.affix){var f=this.affix.craftedEffect.effect.percent?"%":"";this.displayedValue=null===this.affix?"":"+"+((0,m.AW)(this.affix.craftedEffect,i)+f)}}},{key:"removeStat",value:function(){this.remove.emit()}}]),S}();return s.\u0275fac=function(o){return new(o||s)(e.Y36(C.K))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-item-edit-stat"]],inputs:{base:"base",alreadyUsedStats:"alreadyUsedStats",affix:"affix",form:"form",removable:"removable"},outputs:{remove:"remove"},features:[e.TTD],decls:1,vars:1,consts:[["class","stat-line",3,"formGroup",4,"ngIf"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline","color","primary",1,"no-error-padding"],["formControlName","stat","color","primary"],[3,"disabled","value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input",4,"ngIf"],["color","accent","formControlName","purity",3,"min","max","step","input",4,"ngIf"],[1,"additional"],[1,"value"],["color","primary",3,"checked","change"],["mat-icon-button","","color","primary","type","button",3,"disabled","click"],[3,"disabled","value"],[3,"innerHTML"],["color","primary","formControlName","value",3,"min","max","step","input"],["color","accent","formControlName","purity",3,"min","max","step","input"]],template:function(o,i){1&o&&e.YNc(0,B,18,9,"div",0),2&o&&e.Q6J("ngIf",null!==i.form&&null!==i.affix)},directives:[k.O5,Z.JL,Z.sg,c.KE,c.hX,X.gD,Z.JJ,Z.u,k.sg,j.oG,v.lW,b.Hw,y.ey,z.pH],styles:[".pure[_ngcontent-%COMP%]{color:#20d787}"]}),s}();function se(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(o),e.oxw(2).addBasicAffix()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function ue(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"app-item-edit-stat",25),e.NdJ("remove",function(){e.CHM(o);var le=e.oxw().index;return e.oxw(3).removeAffix(le)}),e.qZA()}if(2&s){var i=e.oxw(),f=i.$implicit,E=i.index,Y=e.oxw(3);e.Q6J("form",f)("base",Y.item.base)("alreadyUsedStats",Y.alreadyUsedStats)("affix",Y.getAffix(E))("removable",!1)}}function fe(s,S){if(1&s&&(e.ynx(0),e.YNc(1,ue,1,5,"app-item-edit-stat",24),e.BQk()),2&s){var o=S.$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",i.isBasicStat(o))}}function Ne(s,S){if(1&s&&(e.ynx(0),e.YNc(1,fe,2,1,"ng-container",14),e.BQk()),2&s){var o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",o.getAffixControls())}}function Be(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(o),e.oxw(3).addMagicAffix()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function qe(s,S){if(1&s&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e._uU(2," Magic Stats : "),e.qZA(),e.YNc(3,Be,4,0,"div",11),e.qZA()),2&s){var o=e.oxw(2);e.xp6(3),e.Q6J("ngIf",o.hasBasicStats()&&!o.hasMaximumMagicStats())}}function Qe(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"app-item-edit-stat",25),e.NdJ("remove",function(){e.CHM(o);var le=e.oxw().index;return e.oxw(2).removeAffix(le)}),e.qZA()}if(2&s){var i=e.oxw(),f=i.$implicit,E=i.index,Y=e.oxw(2);e.Q6J("form",f)("base",Y.item.base)("alreadyUsedStats",Y.alreadyUsedStats)("affix",Y.getAffix(E))("removable",!Y.hasRareStats()&&!Y.hasEpicStats())}}function Fe(s,S){if(1&s&&(e.ynx(0),e.YNc(1,Qe,1,5,"app-item-edit-stat",24),e.BQk()),2&s){var o=S.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.isMagicStat(o))}}function Ye(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(o),e.oxw(3).addRareAffix()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function Ve(s,S){if(1&s&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e._uU(2," Rare Stats : "),e.qZA(),e.YNc(3,Ye,4,0,"div",11),e.qZA()),2&s){var o=e.oxw(2);e.xp6(3),e.Q6J("ngIf",o.hasMagicStats()&&!o.hasMaximumRareStats())}}function Ke(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"app-item-edit-stat",25),e.NdJ("remove",function(){e.CHM(o);var le=e.oxw().index;return e.oxw(2).removeAffix(le)}),e.qZA()}if(2&s){var i=e.oxw(),f=i.$implicit,E=i.index,Y=e.oxw(2);e.Q6J("form",f)("base",Y.item.base)("alreadyUsedStats",Y.alreadyUsedStats)("affix",Y.getAffix(E))("removable",!Y.hasEpicStats())}}function je(s,S){if(1&s&&(e.ynx(0),e.YNc(1,Ke,1,5,"app-item-edit-stat",24),e.BQk()),2&s){var o=S.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.isRareStat(o))}}function We(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(o),e.oxw(3).addEpicAffix()}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e.qZA(),e.qZA()}}function Ge(s,S){if(1&s&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e._uU(2," Epic Stats : "),e.qZA(),e.YNc(3,We,4,0,"div",11),e.qZA()),2&s){var o=e.oxw(2);e.xp6(3),e.Q6J("ngIf",o.hasRareStats()&&!o.hasMaximumEpicStats())}}function Xe(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"app-item-edit-stat",25),e.NdJ("remove",function(){e.CHM(o);var le=e.oxw().index;return e.oxw(2).removeAffix(le)}),e.qZA()}if(2&s){var i=e.oxw(),f=i.$implicit,E=i.index,Y=e.oxw(2);e.Q6J("form",f)("base",Y.item.base)("alreadyUsedStats",Y.alreadyUsedStats)("affix",Y.getAffix(E))("removable",!0)}}function ze(s,S){if(1&s&&(e.ynx(0),e.YNc(1,Xe,1,5,"app-item-edit-stat",24),e.BQk()),2&s){var o=S.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.isEpicStat(o))}}function $e(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"form",1),e.NdJ("submit",function(){return e.CHM(o),e.oxw().submit()}),e.TgZ(1,"mat-dialog-content"),e.TgZ(2,"div",2),e._UZ(3,"app-item-view",3),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"mat-form-field",6),e.TgZ(7,"mat-label"),e._uU(8,"Item level"),e.qZA(),e._UZ(9,"input",7),e.TgZ(10,"mat-error"),e._uU(11),e.qZA(),e.qZA(),e.TgZ(12,"mat-form-field",6),e.TgZ(13,"mat-label"),e._uU(14,"Item reinforcment"),e.qZA(),e._UZ(15,"input",8),e.TgZ(16,"mat-error"),e._uU(17,"Reinforcment must be >= 0"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",9),e.TgZ(19,"div",10),e._uU(20," Base Stats : "),e.qZA(),e.YNc(21,se,4,0,"div",11),e.qZA(),e.YNc(22,Ne,2,1,"ng-container",12),e.YNc(23,qe,4,1,"div",13),e.YNc(24,Fe,2,1,"ng-container",14),e.YNc(25,Ve,4,1,"div",13),e.YNc(26,je,2,1,"ng-container",14),e.YNc(27,Ge,4,1,"div",13),e.YNc(28,ze,2,1,"ng-container",14),e._UZ(29,"app-item-edit-legendary-effect",15),e._UZ(30,"app-item-edit-buff-reaper",16),e._UZ(31,"app-item-edit-buff-skill",17),e._UZ(32,"app-item-edit-buff-attribute",18),e.qZA(),e.qZA(),e.TgZ(33,"mat-dialog-actions"),e.TgZ(34,"button",19),e._uU(35,"Cancel"),e.qZA(),e.TgZ(36,"button",20),e.NdJ("click",function(){return e.CHM(o),e.oxw().reset()}),e._uU(37,"Reset"),e.qZA(),e.TgZ(38,"button",21),e._uU(39,"Submit"),e.qZA(),e.qZA(),e.qZA()}if(2&s){var i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(3),e.Q6J("item",i.item)("details",!0),e.xp6(6),e.Q6J("max",i.MAX_ITEM_LEVEL),e.xp6(2),e.hij("Level must be between 1 and ",i.MAX_ITEM_LEVEL,""),e.xp6(10),e.Q6J("ngIf",!i.hasMaximumBasicStats()),e.xp6(1),e.Q6J("ngIf",i.hasBasicStats()),e.xp6(1),e.Q6J("ngIf",i.hasBasicStats()),e.xp6(1),e.Q6J("ngForOf",i.getAffixControls()),e.xp6(1),e.Q6J("ngIf",i.hasMagicStats()),e.xp6(1),e.Q6J("ngForOf",i.getAffixControls()),e.xp6(1),e.Q6J("ngIf",i.hasRareStats()),e.xp6(1),e.Q6J("ngForOf",i.getAffixControls()),e.xp6(1),e.Q6J("base",i.item.base)("reinforcment",i.item.reinforcment)("heroClass",i.item.heroClass)("legendaryEffect",i.item.legendaryEffect)("form",i.getLegendaryEffectForm()),e.xp6(1),e.Q6J("reaperEnchantment",i.item.reaperEnchantment)("form",i.getReaperEnchantmentForm()),e.xp6(1),e.Q6J("heroClass",i.item.heroClass)("skillEnchantment",i.item.skillEnchantment)("form",i.getSkillEnchantmentForm()),e.xp6(1),e.Q6J("attributeEnchantment",i.item.attributeEnchantment)("form",i.getAttributeEnchantmentForm())}}var et=function(){var s=function(){function S(o,i,f,E,Y,ae,le,me,ve){(0,F.Z)(this,S),this.dialogRef=o,this.slormancerCharacterUpdaterService=i,this.slormancerItemService=f,this.slormancerDataService=E,this.slormancerAffixService=Y,this.slormancerLegendaryEffectService=ae,this.formOptionsService=le,this.plannerService=me,this.MAX_ITEM_LEVEL=oe.Sb,this.maxBasicStats=0,this.alreadyUsedStats=[],this.originalItem=ve.item,this.maxLevel=ve.maxLevel,this.character=ve.character,this.item=ve.item,this.reset()}return(0,K.Z)(S,[{key:"reset",value:function(){Object.assign(this.item,this.slormancerItemService.getEquipableItemClone(this.originalItem)),this.form=this.buildForm()}},{key:"submit",value:function(){this.form.valid&&this.dialogRef.close(this.item)}},{key:"updatePreview",value:function(i){var f=this,E=this.item;if(i.valid){var Y=i.value;if(E.level=Y.level,E.reinforcment=Y.reinforcment,E.affixes.forEach(function(Ce,De){var Oe=i.get("affixes."+De);if(null!==Oe){var Mt=Oe.get("purity").value,Re=Oe.get("value").value,He=Oe.get("stat").value,Ot=Oe.get("rarity").value;if(Ce.craftedEffect.effect.stat!==He){var Ue=f.slormancerAffixService.getAffixFromStat(He,E.level,E.reinforcment,Ot,Re);null!==Ue&&(E.affixes[De]=Ue,Ce=Ue)}Ce.craftedEffect.craftedValue=Re,Ce.pure=Mt}}),null!==Y.legendaryEffect){var ae=Y.legendaryEffect.id,le=Y.legendaryEffect.value;null===ae?E.legendaryEffect=null:null===E.legendaryEffect||E.legendaryEffect.id!==ae?E.legendaryEffect=this.slormancerLegendaryEffectService.getLegendaryEffectById(ae,le,E.reinforcment,E.heroClass):E.legendaryEffect.value=le}if(null!==Y.reaper){var me=Y.reaper.smith,ve=Y.reaper.value;null===me?E.reaperEnchantment=null:null===E.reaperEnchantment||E.reaperEnchantment.craftedReaperSmith!==me?E.reaperEnchantment=this.slormancerItemService.getReaperEnchantment(me,ve):E.reaperEnchantment.craftedValue=ve}if(null!==Y.skill){var he=Y.skill.skill,Pe=Y.skill.value;null===he?E.skillEnchantment=null:null===E.skillEnchantment||E.skillEnchantment.craftedSkill!==he?E.skillEnchantment=this.slormancerItemService.getSkillEnchantment(he,Pe):E.skillEnchantment.craftedValue=Pe}if(null!==Y.attribute){var ie=Y.attribute.attribute,be=Y.attribute.value;null===ie?E.attributeEnchantment=null:null===E.attributeEnchantment||E.attributeEnchantment.craftedAttribute!==ie?E.attributeEnchantment=this.slormancerItemService.getAttributeEnchantment(ie,be):E.attributeEnchantment.craftedValue=be}this.alreadyUsedStats=E.affixes.map(function(Ce){return Ce.craftedEffect.effect.stat}),this.slormancerItemService.updateEquipableItemModel(E),this.slormancerCharacterUpdaterService.updateCharacter(this.character,(0,m.Be)(this.plannerService.getConfiguration(),te.g),!1,E),this.slormancerItemService.updateEquipableItemView(E)}}},{key:"affixToForm",value:function(i){return new Z.cw({rarity:new Z.NI(i.rarity),value:new Z.NI(i.craftedEffect.craftedValue),purity:new Z.NI(i.pure),stat:new Z.NI(i.craftedEffect.effect.stat)})}},{key:"legendaryEffectToForm",value:function(i){return new Z.cw({id:new Z.NI(null===i?null:i.id),value:new Z.NI(null===i?100:i.value)})}},{key:"buildForm",value:function(){var i=this,E=new Z.cw({level:new Z.NI(this.item.level,[Z.kI.required,Z.kI.min(1),Z.kI.max(this.MAX_ITEM_LEVEL),Z.kI.pattern(/^[0-9]+$/)]),reinforcment:new Z.NI(this.item.reinforcment,[Z.kI.required,Z.kI.min(0),Z.kI.pattern(/^[0-9]+$/)]),affixes:new Z.Oe(this.item.affixes.map(function(Y){return i.affixToForm(Y)})),legendaryEffect:this.legendaryEffectToForm(this.item.legendaryEffect),reaper:new Z.cw({smith:new Z.NI(null===this.item.reaperEnchantment?null:this.item.reaperEnchantment.craftedReaperSmith),value:new Z.NI(null===this.item.reaperEnchantment?5:this.item.reaperEnchantment.craftedValue)}),skill:new Z.cw({skill:new Z.NI(null===this.item.skillEnchantment?null:this.item.skillEnchantment.craftedSkill),value:new Z.NI(null===this.item.skillEnchantment?2:this.item.skillEnchantment.craftedValue)}),attribute:new Z.cw({attribute:new Z.NI(null===this.item.attributeEnchantment?null:this.item.attributeEnchantment.craftedAttribute),value:new Z.NI(null===this.item.attributeEnchantment?2:this.item.attributeEnchantment.craftedValue)})});return E.valueChanges.subscribe(function(){i.updatePreview(E)}),this.updatePreview(E),this.maxBasicStats=this.slormancerDataService.getBaseMaxBasicStat(this.item.base),E}},{key:"getAffixControls",value:function(){var i=this.form.get("affixes");return null!==i?i.controls:[]}},{key:"isBasicStat",value:function(i){var f=i.get("rarity");return null!==f&&f.value===ce.u.Normal}},{key:"hasBasicStats",value:function(){var i=this;return this.getAffixControls().filter(function(f){return i.isBasicStat(f)}).length>0}},{key:"hasMaximumBasicStats",value:function(){var i=this;return this.getAffixControls().filter(function(f){return i.isBasicStat(f)}).length>=this.maxBasicStats}},{key:"isMagicStat",value:function(i){var f=i.get("rarity");return null!==f&&f.value===ce.u.Magic}},{key:"hasMagicStats",value:function(){var i=this;return this.getAffixControls().filter(function(f){return i.isMagicStat(f)}).length>0}},{key:"hasMaximumMagicStats",value:function(){var i=this;return this.getAffixControls().filter(function(f){return i.isMagicStat(f)}).length>=oe.aH}},{key:"isRareStat",value:function(i){var f=i.get("rarity");return null!==f&&f.value===ce.u.Rare}},{key:"hasRareStats",value:function(){var i=this;return this.getAffixControls().filter(function(f){return i.isRareStat(f)}).length>0}},{key:"hasMaximumRareStats",value:function(){var i=this;return this.getAffixControls().filter(function(f){return i.isRareStat(f)}).length>=oe.bm}},{key:"isEpicStat",value:function(i){var f=i.get("rarity");return null!==f&&f.value===ce.u.Epic}},{key:"hasEpicStats",value:function(){var i=this;return this.getAffixControls().filter(function(f){return i.isEpicStat(f)}).length>0}},{key:"hasMaximumEpicStats",value:function(){var i=this;return this.getAffixControls().filter(function(f){return i.isEpicStat(f)}).length>=oe.hc}},{key:"getAffix",value:function(i){return null===this.item?null:(0,m.lA)(this.item.affixes[i])}},{key:"removeAffix",value:function(i){var f=this.form.get("affixes");null!==f&&(f.removeAt(i),this.item.affixes.splice(i,1),this.updatePreview(this.form))}},{key:"addAffix",value:function(i){var f=this,E=this.form.get("affixes"),ae=this.formOptionsService.getStatsOptions(this.item.base,i).filter(function(me){return-1===f.alreadyUsedStats.indexOf(me.value)})[0];if(ae&&null!==E){var le=this.slormancerAffixService.getAffixFromStat(ae.value,this.item.level,this.item.reinforcment,i,1e3);null!==le&&(this.item.affixes.push(le),E.push(this.affixToForm(le)),this.updatePreview(this.form))}}},{key:"addBasicAffix",value:function(){this.addAffix(ce.u.Normal)}},{key:"addMagicAffix",value:function(){this.addAffix(ce.u.Magic)}},{key:"addRareAffix",value:function(){this.addAffix(ce.u.Rare)}},{key:"addEpicAffix",value:function(){this.addAffix(ce.u.Epic)}},{key:"getLegendaryEffectForm",value:function(){return null===this.form?null:this.form.get("legendaryEffect")}},{key:"getReaperEnchantmentForm",value:function(){return null===this.form?null:this.form.get("reaper")}},{key:"getSkillEnchantmentForm",value:function(){return null===this.form?null:this.form.get("skill")}},{key:"getAttributeEnchantmentForm",value:function(){return null===this.form?null:this.form.get("attribute")}}]),S}();return s.\u0275fac=function(o){return new(o||s)(e.Y36(w.so),e.Y36(u.P),e.Y36(q.S),e.Y36(T.o),e.Y36(_e.l),e.Y36(A.A),e.Y36(C.K),e.Y36(_.q),e.Y36(w.WI))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-item-edit-modal"]],decls:1,vars:1,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"preview"],[3,"item","details"],[1,"form"],[1,"form-line"],["appearance","outline"],["matInput","","type","number","min","1","step","1","formControlName","level",3,"max"],["matInput","","type","number","min","0","step","1","formControlName","reinforcment"],[1,"form-info"],[1,"label"],["class","add",4,"ngIf"],[4,"ngIf"],["class","form-info",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"base","reinforcment","heroClass","legendaryEffect","form"],[3,"reaperEnchantment","form"],[3,"heroClass","skillEnchantment","form"],[3,"attributeEnchantment","form"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","button","color","primary",3,"click"],["mat-flat-button","","type","submit","color","primary"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[3,"form","base","alreadyUsedStats","affix","removable","remove",4,"ngIf"],[3,"form","base","alreadyUsedStats","affix","removable","remove"]],template:function(o,i){1&o&&e.YNc(0,$e,40,25,"form",0),2&o&&e.Q6J("ngIf",null!==i.form&&null!==i.item)},directives:[k.O5,Z._Y,Z.JL,Z.sg,w.xY,N.F,c.KE,c.hX,h.Nt,Z.qQ,Z.wV,Z.Fd,Z.Fj,Z.JJ,Z.u,c.TO,k.sg,Me,Ze,ke,D,w.H8,v.lW,w.ZT,b.Hw,V],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:20px;gap:20px;flex-grow:1;overflow:auto}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]{flex-direction:column}}mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{max-width:370px}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{display:none;visibility:hidden}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;align-items:stretch;flex-grow:1}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:space-between;grid-gap:16px;gap:16px}@media (max-width: 992px){mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 992px){mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]{align-items:stretch}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0}@media not all and (min-resolution: .001dpcm){@supports (-webkit-appearance: none){mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex-basis:auto}}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;min-height:40px}"]}),s}(),tt=function(){var s=(0,K.Z)(function S(){(0,F.Z)(this,S)});return s.\u0275fac=function(o){return new(o||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-remove-confirm-modal"]],decls:7,vars:2,consts:[["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary",3,"mat-dialog-close"]],template:function(o,i){1&o&&(e.TgZ(0,"mat-dialog-content"),e._uU(1," Are you sure you want to remove this item ?\n"),e.qZA(),e.TgZ(2,"mat-dialog-actions"),e.TgZ(3,"button",0),e._uU(4,"Cancel"),e.qZA(),e.TgZ(5,"button",1),e._uU(6,"Remove"),e.qZA(),e.qZA()),2&o&&(e.xp6(3),e.Q6J("mat-dialog-close",!1),e.xp6(2),e.Q6J("mat-dialog-close",!0))},directives:[w.xY,w.H8,v.lW,w.ZT],styles:[""]}),s}(),nt=a(8223),Je=a(9776);function at(s,S){if(1&s&&(e.ynx(0),e._UZ(1,"img",4),e._UZ(2,"img",4),e.BQk()),2&s){var o=e.oxw();e.xp6(1),e.Q6J("src",o.item.itemIconBackground,e.LSH),e.xp6(1),e.Q6J("src",o.item.icon,e.LSH)}}function it(s,S){if(1&s&&e._UZ(0,"img",4),2&s){var o=e.oxw();e.MGl("src","assets/img/icon/item/",o.base,"/empty.png",e.LSH)}}function ot(s,S){if(1&s&&e._UZ(0,"app-item-view",10),2&s){var o=e.oxw(2);e.Q6J("item",o.item)("details",!1)}}function rt(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(o),e.oxw(3).equip()}),e.TgZ(1,"mat-icon"),e._uU(2,"arrow_back"),e.qZA(),e._uU(3,"Equip item"),e.qZA()}}function lt(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(o),e.oxw(3).unequip()}),e.TgZ(1,"mat-icon"),e._uU(2,"arrow_forward"),e.qZA(),e._uU(3,"Unequip item"),e.qZA()}}function ct(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(o),e.oxw(3).edit()}),e.TgZ(1,"mat-icon"),e._uU(2,"add"),e.qZA(),e._uU(3,"Create item"),e.qZA()}}function st(s,S){1&s&&(e.TgZ(0,"span"),e._uU(1,"(Left slot)"),e.qZA())}function mt(s,S){1&s&&(e.TgZ(0,"span"),e._uU(1,"(Right slot)"),e.qZA())}function ut(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){var ae=e.CHM(o).$implicit;return e.oxw(3).compareWithSlot(ae)}),e.TgZ(1,"mat-icon"),e._uU(2,"compare_arrows"),e.qZA(),e._uU(3,"Compare "),e.YNc(4,st,2,0,"span",2),e.YNc(5,mt,2,0,"span",2),e.qZA()}if(2&s){var i=S.$implicit,f=e.oxw(3);e.xp6(4),e.Q6J("ngIf",i===f.GearSlot.LeftRing),e.xp6(1),e.Q6J("ngIf",i===f.GearSlot.RightRing)}}function gt(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(o),e.oxw(3).edit()}),e.TgZ(1,"mat-icon"),e._uU(2,"edit"),e.qZA(),e._uU(3,"Edit item"),e.qZA()}}function _t(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(o),e.oxw(3).take()}),e.TgZ(1,"mat-icon"),e._uU(2,"content_cut"),e.qZA(),e._uU(3,"Move item"),e.qZA()}}function dt(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(o),e.oxw(3).copy()}),e.TgZ(1,"mat-icon"),e._uU(2,"content_copy"),e.qZA(),e._uU(3,"Copy item"),e.qZA()}}function pt(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(o),e.oxw(3).externalLink()}),e.TgZ(1,"mat-icon"),e._uU(2,"share"),e.qZA(),e._uU(3,"External link"),e.qZA()}}function ft(s,S){if(1&s){var o=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(o),e.oxw(3).remove()}),e.TgZ(1,"mat-icon"),e._uU(2,"delete"),e.qZA(),e._uU(3,"Remove item"),e.qZA()}}function vt(s,S){if(1&s&&(e.YNc(0,rt,4,0,"button",11),e.YNc(1,lt,4,0,"button",11),e.YNc(2,ct,4,0,"button",11),e.YNc(3,ut,6,2,"button",12),e.YNc(4,gt,4,0,"button",11),e.YNc(5,_t,4,0,"button",11),e.YNc(6,dt,4,0,"button",11),e.YNc(7,pt,4,0,"button",11),e.YNc(8,ft,4,0,"button",11)),2&s){var o=e.oxw(2);e.Q6J("ngIf",null!==o.item&&null===o.base),e.xp6(1),e.Q6J("ngIf",null!==o.item&&null!==o.base),e.xp6(1),e.Q6J("ngIf",null===o.item),e.xp6(1),e.Q6J("ngForOf",o.comparableGearSlots),e.xp6(1),e.Q6J("ngIf",null!==o.item),e.xp6(1),e.Q6J("ngIf",null!==o.item),e.xp6(1),e.Q6J("ngIf",null!==o.item),e.xp6(1),e.Q6J("ngIf",null!==o.item),e.xp6(1),e.Q6J("ngIf",null!==o.item)}}function ht(s,S){if(1&s&&(e.ynx(0),e.YNc(1,ot,1,2,"ng-template",5),e._UZ(2,"div",6),e.TgZ(3,"mat-menu",7,8),e.YNc(5,vt,9,9,"ng-template",9),e.qZA(),e.BQk()),2&s){var o=e.MAs(4),i=e.oxw(),f=e.MAs(1);e.xp6(1),e.Q6J("cdkConnectedOverlayOpen",!i.isDragging&&i.isMouseOver)("cdkConnectedOverlayOrigin",f),e.xp6(1),e.Q6J("matMenuTriggerFor",o),e.xp6(1),e.Q6J("overlapTrigger",!0)}}var Ct=function(){var s=function(S){(0,t.Z)(i,S);var o=(0,n.Z)(i);function i(f,E,Y,ae,le,me,ve,he,Pe){var ie;return(0,F.Z)(this,i),(ie=o.call(this)).dialog=f,ie.itemMoveService=E,ie.searchService=Y,ie.slormancerCharacterBuilderService=ae,ie.slormancerItemService=le,ie.importExportService=me,ie.clipboardService=ve,ie.messageService=he,ie.plannerService=Pe,ie.GearSlot=$.SH,ie.character=null,ie.item=null,ie.base=null,ie.readonly=!1,ie.changed=new e.vpe,ie.menu=null,ie.isDragging=!1,ie.isMouseOver=!1,ie.isItemCompatible=!1,ie.isDraggedItem=!1,ie.hiddenBySearch=!1,ie.comparableGearSlots=[],ie.itemMoveService.draggingItem.pipe((0,Q.R)(ie.unsubscribe)).subscribe(function(be){ie.isDragging=be,ie.isDraggedItem=ie.itemMoveService.isHoldItem(ie.item),ie.isItemCompatible=ie.itemMoveService.isDragItemCompatible(ie.item,ie.base)}),ie.searchService.searchChanged.pipe((0,Q.R)(ie.unsubscribe)).subscribe(function(){return ie.updateSearch()}),ie}return(0,K.Z)(i,[{key:"onMouseOver",value:function(){this.isMouseOver=!0}},{key:"onMouseLeave",value:function(){this.isMouseOver=!1}},{key:"onMouseDown",value:function(E){return 0===E.button&&!this.readonly&&this.take(),!1}},{key:"onMouseUp",value:function(E){var Y=this;return 0===E.button&&!this.readonly&&(this.isDragging?this.itemMoveService.swap(this.item,this.base,function(ae,le){return Y.moveCallback(ae,le)}):this.edit()),!1}},{key:"onMouseContextMenu",value:function(){return this.itemMoveService.releaseHoldItem(),this.menu&&!this.readonly&&(this.updateComparableSlots(),this.menu.openMenu()),!1}},{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){this.updateSearch()}},{key:"isMenuOpen",value:function(){return null!=this.menu&&this.menu.menuOpen}},{key:"updateComparableSlots",value:function(){this.comparableGearSlots=[];var E=this.character,Y=this.item;null!==E&&null!==Y&&null===this.base&&(this.comparableGearSlots=$.PL.filter(function(ae){var le=E.gear[ae];return null!==le&&le.base===Y.base}))}},{key:"updateSearch",value:function(){this.hiddenBySearch=null!==this.item&&this.searchService.hasSearch()&&!this.searchService.itemMatchSearch(this.item)}},{key:"moveCallback",value:function(E,Y){E&&this.changed.emit(Y),this.isDraggedItem=!1,this.isItemCompatible=!1}},{key:"getItemEditModalData",value:function(E,Y){var ae=this.slormancerCharacterBuilderService.getCharacterClone(E),le=$.PL.find(function(he){return E.gear[he]===Y}),me=le?ae.gear[le]:null;return{character:ae,item:null!==me?me:this.slormancerItemService.getEquipableItemClone(Y),maxLevel:ae.level}}},{key:"edit",value:function(){var E=this,Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.item,ae=this.character;if(null!==ae)if(null===Y)null!==this.base?this.edit(this.slormancerItemService.getEmptyEquipableItem(this.base,ae.heroClass,ae.level)):this.dialog.open(M).afterClosed().subscribe(function(me){null!=me&&E.edit(E.slormancerItemService.getEmptyEquipableItem(me,ae.heroClass,ae.level))});else{var le=this.getItemEditModalData(ae,Y);this.dialog.open(et,{data:le,width:"80vw",maxWidth:"1000px"}).afterClosed().subscribe(function(me){void 0!==me&&E.changed.emit(me)})}}},{key:"take",value:function(){var E=this;null!==this.item&&this.itemMoveService.hold(this.item,this.base,function(Y,ae){return E.moveCallback(Y,ae)})}},{key:"copy",value:function(){if(null!==this.item){var E=this.slormancerItemService.getEquipableItemClone(this.item);this.itemMoveService.hold(E,E.base)}}},{key:"externalLink",value:function(){if(null!==this.item){var E=this.importExportService.exportItemAsLink(this.item);this.clipboardService.copyToClipboard(E)?this.messageService.message("Link copied to clipboard"):this.messageService.error("Failed to copy link to clipboard")}}},{key:"remove",value:function(){var E=this;this.dialog.open(tt).afterClosed().subscribe(function(Y){!0===Y&&E.changed.emit(null)})}},{key:"equip",value:function(){var E=this;null!==this.item&&this.itemMoveService.equip(this.item,function(Y,ae){return E.moveCallback(Y,ae)})}},{key:"unequip",value:function(){var E=this;null!==this.item&&this.itemMoveService.moveToStash(this.item,function(Y,ae){return E.moveCallback(Y,ae)})}},{key:"compareWithSlot",value:function(E){if(null!==this.item&&null!==this.character){var Y=this.character.gear[E],ae=this.plannerService.getConfiguration();null!==Y&&null!==ae&&this.dialog.open(O,{data:{character:this.character,slot:E,config:ae,left:Y,right:this.item}})}}}]),i}(R.B);return s.\u0275fac=function(o){return new(o||s)(e.Y36(w.uw),e.Y36(r.v),e.Y36(x.o),e.Y36(L.o),e.Y36(q.S),e.Y36(l.s),e.Y36(p.Y),e.Y36(nt.e),e.Y36(_.q))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-item-slot"]],viewQuery:function(o,i){var f;1&o&&e.Gf(g.p6,5),2&o&&e.iGM(f=e.CRH())&&(i.menu=f.first)},hostBindings:function(o,i){1&o&&e.NdJ("mouseenter",function(){return i.onMouseOver()})("mouseleave",function(){return i.onMouseLeave()})("mousedown",function(E){return i.onMouseDown(E)})("mouseup",function(E){return i.onMouseUp(E)})("contextmenu",function(){return i.onMouseContextMenu()})},inputs:{character:"character",item:"item",base:"base",readonly:"readonly"},outputs:{changed:"changed"},features:[e.qOj,e.TTD],decls:5,vars:15,consts:[["cdkOverlayOrigin","",1,"item"],["trigger","cdkOverlayOrigin"],[4,"ngIf"],[3,"src",4,"ngIf"],[3,"src"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"matMenuTriggerFor"],["xPosition","after",3,"overlapTrigger"],["menu","matMenu"],["matMenuContent",""],[3,"item","details"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0,1),e.YNc(2,at,3,2,"ng-container",2),e.YNc(3,it,1,1,"img",3),e.YNc(4,ht,6,4,"ng-container",2),e.qZA()),2&o&&(e.ekj("readonly",i.readonly)("forced-base-compatible",i.isItemCompatible&&null!==i.base)("drop-compatible",!i.isDraggedItem&&i.isMouseOver&&i.isDragging&&i.isItemCompatible)("drop-incompatible",!i.isDraggedItem&&i.isMouseOver&&i.isDragging&&!i.isItemCompatible)("is-being-dragged",i.isDraggedItem&&i.isDragging)("hidden-search",i.hiddenBySearch),e.xp6(2),e.Q6J("ngIf",null!==i.item),e.xp6(1),e.Q6J("ngIf",null===i.item&&null!==i.base),e.xp6(1),e.Q6J("ngIf",i.isMouseOver||i.isMenuOpen()))},directives:[Je.xu,k.O5,Je.pI,g.p6,g.VK,g.KA,N.F,k.sg,g.OP,b.Hw],styles:["[_nghost-%COMP%]{width:56px;min-width:56px;height:56px;min-height:56px}.item[_ngcontent-%COMP%]{width:56px;min-width:56px;min-height:56px;border:4px solid black;position:relative;background-color:#131313}.item[_ngcontent-%COMP%]:not(.readonly){cursor:pointer}.item.forced-base-compatible[_ngcontent-%COMP%]{border-color:#b7ffd2b3}.item.drop-compatible[_ngcontent-%COMP%]{border-color:#b7ffd2}.item.drop-incompatible[_ngcontent-%COMP%]{border-color:#f44336}.item.is-being-dragged[_ngcontent-%COMP%]{opacity:.3}.item.hidden-search[_ngcontent-%COMP%]{opacity:.2}.item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;right:0}app-item-view[_ngcontent-%COMP%]{width:350px}"]}),s}()},4344:function(ge,ne,a){a.d(ne,{F:function(){return k}});var F=a(5671),K=a(3144),t=a(2206),n=a(5542),e=a(9808),g=a(8003);function Q(v,J){1&v&&(n.TgZ(0,"div",20),n._uU(1,"Equipped"),n.qZA())}function $(v,J){if(1&v&&(n.TgZ(0,"li"),n.TgZ(1,"div",24),n._UZ(2,"div"),n.qZA(),n._UZ(3,"div",25),n._UZ(4,"div",26),n.qZA()),2&v){var M=J.$implicit;n.ekj("pure",M.isPure),n.xp6(2),n.Tol(M.rarity),n.xp6(1),n.Q6J("innerHTML",M.valueLabel,n.oJD),n.xp6(1),n.Q6J("innerHTML",M.statLabel,n.oJD)}}function L(v,J){if(1&v&&(n.TgZ(0,"div",21),n.TgZ(1,"div",22),n._uU(2,"Base Stats:"),n.qZA(),n.TgZ(3,"ul"),n.YNc(4,$,5,7,"li",23),n.qZA(),n.qZA()),2&v){var M=n.oxw(2);n.xp6(4),n.Q6J("ngForOf",M.getNormalAffixes())}}function q(v,J){if(1&v&&(n.TgZ(0,"li"),n.TgZ(1,"div",24),n._UZ(2,"div"),n.qZA(),n._UZ(3,"div",25),n._UZ(4,"div",26),n.qZA()),2&v){var M=J.$implicit;n.ekj("pure",M.isPure),n.xp6(2),n.Tol(M.rarity),n.xp6(1),n.Q6J("innerHTML",M.valueLabel,n.oJD),n.xp6(1),n.Q6J("innerHTML",M.statLabel,n.oJD)}}function p(v,J){if(1&v&&(n.TgZ(0,"div",21),n.TgZ(1,"div",22),n._uU(2,"Magic Stats:"),n.qZA(),n.TgZ(3,"ul"),n.YNc(4,q,5,7,"li",23),n.qZA(),n.qZA()),2&v){var M=n.oxw(2);n.xp6(4),n.Q6J("ngForOf",M.getMagicAffixes())}}function l(v,J){if(1&v&&(n.TgZ(0,"li"),n.TgZ(1,"div",24),n._UZ(2,"div"),n.qZA(),n._UZ(3,"div",25),n._UZ(4,"div",26),n.qZA()),2&v){var M=J.$implicit;n.ekj("pure",M.isPure),n.xp6(2),n.Tol(M.rarity),n.xp6(1),n.Q6J("innerHTML",M.valueLabel,n.oJD),n.xp6(1),n.Q6J("innerHTML",M.statLabel,n.oJD)}}function r(v,J){if(1&v&&(n.TgZ(0,"div",21),n.TgZ(1,"div",22),n._uU(2,"Rare Stats:"),n.qZA(),n.TgZ(3,"ul"),n.YNc(4,l,5,7,"li",23),n.qZA(),n.qZA()),2&v){var M=n.oxw(2);n.xp6(4),n.Q6J("ngForOf",M.getRareAffixes())}}function _(v,J){if(1&v&&(n.TgZ(0,"li"),n.TgZ(1,"div",24),n._UZ(2,"div"),n.qZA(),n._UZ(3,"div",25),n._UZ(4,"div",26),n.qZA()),2&v){var M=J.$implicit;n.ekj("pure",M.isPure),n.xp6(2),n.Tol(M.rarity),n.xp6(1),n.Q6J("innerHTML",M.valueLabel,n.oJD),n.xp6(1),n.Q6J("innerHTML",M.statLabel,n.oJD)}}function x(v,J){if(1&v&&(n.TgZ(0,"div",21),n.TgZ(1,"div",22),n._uU(2,"Epic Stats:"),n.qZA(),n.TgZ(3,"ul"),n.YNc(4,_,5,7,"li",23),n.qZA(),n.qZA()),2&v){var M=n.oxw(2);n.xp6(4),n.Q6J("ngForOf",M.getEpicAffixes())}}function R(v,J){if(1&v&&(n.TgZ(0,"span",35),n._uU(1),n.qZA()),2&v){var M=n.oxw(3);n.xp6(1),n.hij(" ",M.item.legendaryEffect.activable.name,"")}}function w(v,J){if(1&v&&(n.TgZ(0,"div",6),n._UZ(1,"img",8),n.qZA()),2&v){var M=n.oxw(3);n.xp6(1),n.Q6J("src",M.item.legendaryEffect.skillIcon,n.LSH)}}function H(v,J){if(1&v&&(n.TgZ(0,"div",27),n.TgZ(1,"div",28),n.TgZ(2,"div",29),n.TgZ(3,"div",22),n.TgZ(4,"div",24),n._UZ(5,"div",30),n.qZA(),n._uU(6),n.TgZ(7,"div",24),n._UZ(8,"div",30),n.qZA(),n.qZA(),n.TgZ(9,"div",31),n._UZ(10,"span",32),n.YNc(11,R,2,1,"span",33),n.qZA(),n.YNc(12,w,2,1,"div",34),n.qZA(),n.qZA(),n.qZA()),2&v){var M=n.oxw(2);n.xp6(6),n.hij(" ",M.item.legendaryEffect.title," "),n.xp6(4),n.Q6J("innerHTML",M.item.legendaryEffect.description,n.oJD),n.xp6(1),n.Q6J("ngIf",null!==M.item.legendaryEffect.activable),n.xp6(1),n.Q6J("ngIf",null!==M.item.legendaryEffect.skillIcon)}}function u(v,J){if(1&v&&n._UZ(0,"app-activable-view",36),2&v){var M=n.oxw(2);n.Q6J("activable",M.item.legendaryEffect.activable)("reinforcment",M.item.reinforcment)}}function N(v,J){if(1&v&&(n.TgZ(0,"div",37),n._UZ(1,"img",8),n._UZ(2,"div",38),n.qZA()),2&v){var M=n.oxw(2);n.xp6(1),n.Q6J("src",M.item.reaperEnchantment.icon,n.LSH),n.xp6(1),n.Q6J("innerHTML",M.item.reaperEnchantment.label,n.oJD)}}function I(v,J){if(1&v&&(n.TgZ(0,"div",39),n._UZ(1,"img",8),n._UZ(2,"div",38),n.qZA()),2&v){var M=n.oxw(2);n.xp6(1),n.Q6J("src",M.item.skillEnchantment.icon,n.LSH),n.xp6(1),n.Q6J("innerHTML",M.item.skillEnchantment.label,n.oJD)}}function O(v,J){if(1&v&&(n.TgZ(0,"div"),n._UZ(1,"img",8),n._UZ(2,"div",38),n.qZA()),2&v){var M=n.oxw(2);n.Gre("buff attribute atr-",M.item.attributeEnchantment.craftedAttribute,""),n.xp6(1),n.Q6J("src",M.item.attributeEnchantment.icon,n.LSH),n.xp6(1),n.Q6J("innerHTML",M.item.attributeEnchantment.label,n.oJD)}}function G(v,J){if(1&v&&(n.TgZ(0,"div"),n._UZ(1,"div",1),n.TgZ(2,"div",2),n.YNc(3,Q,2,0,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"div",5),n.TgZ(6,"div",6),n._UZ(7,"img",7),n._UZ(8,"img",8),n.qZA(),n.TgZ(9,"div",9),n._uU(10),n.qZA(),n.TgZ(11,"div",10),n._uU(12,"-"),n.qZA(),n.TgZ(13,"div",11),n._uU(14),n.qZA(),n.TgZ(15,"div"),n._uU(16),n.qZA(),n.qZA(),n._UZ(17,"div",12),n.TgZ(18,"div",13),n.YNc(19,L,5,1,"div",14),n.YNc(20,p,5,1,"div",14),n.YNc(21,r,5,1,"div",14),n.YNc(22,x,5,1,"div",14),n.qZA(),n.qZA(),n.YNc(23,H,13,4,"div",15),n.YNc(24,u,1,2,"app-activable-view",16),n.YNc(25,N,3,2,"div",17),n.YNc(26,I,3,2,"div",18),n.YNc(27,O,3,5,"div",19),n.qZA(),n.qZA()),2&v){var M=n.oxw();n.Gre("item ",M.item.rarity,""),n.ekj("nodetails",!M.details),n.xp6(1),n.Q6J("innerHTML",M.item.name,n.oJD),n.xp6(2),n.Q6J("ngIf",M.equipped),n.xp6(4),n.Q6J("src",M.item.itemIconBackground,n.LSH),n.xp6(1),n.Q6J("src",M.item.icon,n.LSH),n.xp6(2),n.Oqu(M.item.rarityLabel),n.xp6(4),n.Oqu(M.item.baseLabel),n.xp6(2),n.Oqu(M.item.levelLabel),n.xp6(3),n.Q6J("ngIf",M.getNormalAffixes().length>0),n.xp6(1),n.Q6J("ngIf",M.getMagicAffixes().length>0),n.xp6(1),n.Q6J("ngIf",M.getRareAffixes().length>0),n.xp6(1),n.Q6J("ngIf",M.getEpicAffixes().length>0),n.xp6(1),n.Q6J("ngIf",null!==M.item.legendaryEffect),n.xp6(1),n.Q6J("ngIf",null!==M.item.legendaryEffect&&null!==M.item.legendaryEffect.activable),n.xp6(1),n.Q6J("ngIf",null!==M.item.reaperEnchantment),n.xp6(1),n.Q6J("ngIf",null!==M.item.skillEnchantment),n.xp6(1),n.Q6J("ngIf",null!==M.item.attributeEnchantment)}}var k=function(){var v=function(){function J(){(0,F.Z)(this,J),this.item=null,this.equipped=!1,this.details=!0}return(0,K.Z)(J,[{key:"getNormalAffixes",value:function(){return null===this.item?[]:this.item.affixes.filter(function(Z){return Z.rarity===t.u.Normal})}},{key:"getMagicAffixes",value:function(){return null===this.item?[]:this.item.affixes.filter(function(Z){return Z.rarity===t.u.Magic})}},{key:"getRareAffixes",value:function(){return null===this.item?[]:this.item.affixes.filter(function(Z){return Z.rarity===t.u.Rare})}},{key:"getEpicAffixes",value:function(){return null===this.item?[]:this.item.affixes.filter(function(Z){return Z.rarity===t.u.Epic})}}]),J}();return v.\u0275fac=function(M){return new(M||v)},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-item-view"]],inputs:{item:"item",equipped:"equipped",details:"details"},decls:1,vars:1,consts:[[3,"class","nodetails",4,"ngIf"],[1,"head",3,"innerHTML"],[1,"content"],["class","equipped",4,"ngIf"],[1,"main"],[1,"info"],[1,"icon"],[1,"background",3,"src"],[3,"src"],[1,"rarity"],[1,"split"],[1,"base"],[1,"separator"],[1,"stats"],["class","affixes",4,"ngIf"],["class","legendary-effect outer-border",4,"ngIf"],[3,"activable","reinforcment",4,"ngIf"],["class","buff reaper",4,"ngIf"],["class","buff skill",4,"ngIf"],[3,"class",4,"ngIf"],[1,"equipped"],[1,"affixes"],[1,"title"],[3,"pure",4,"ngFor","ngForOf"],[1,"bullet"],[1,"value",3,"innerHTML"],[1,"name",3,"innerHTML"],[1,"legendary-effect","outer-border"],[1,"border"],[1,"inner-border","legendary-description"],[1,"legendary"],[1,"description"],[3,"innerHTML"],["class","value",4,"ngIf"],["class","icon",4,"ngIf"],[1,"value"],[3,"activable","reinforcment"],[1,"buff","reaper"],[1,"info",3,"innerHTML"],[1,"buff","skill"]],template:function(M,Z){1&M&&n.YNc(0,G,28,21,"div",0),2&M&&n.Q6J("ngIf",null!==Z.item)},directives:[e.O5,e.sg,g.K],styles:['.item.normal[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#898989}.item.magic[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#2e8726}.item.rare[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#176ab1}.item.epic[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#c68d20}.item.legendary[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#ce4607}.item.normal[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#59513c}.item.magic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#61462d}.item.rare[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#7791a1}.item.epic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#efc65c}.item.legendary[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#f5b250}.bullet[_ngcontent-%COMP%]{min-width:8px}.bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}.bullet[_ngcontent-%COMP%]   div.normal[_ngcontent-%COMP%]{background-color:#898989}.bullet[_ngcontent-%COMP%]   div.magic[_ngcontent-%COMP%]{background-color:#2e8726}.bullet[_ngcontent-%COMP%]   div.rare[_ngcontent-%COMP%]{background-color:#176ab1}.bullet[_ngcontent-%COMP%]   div.epic[_ngcontent-%COMP%]{background-color:#c68d20}.bullet[_ngcontent-%COMP%]   div.legendary[_ngcontent-%COMP%]{background-color:#ce4607}.item[_ngcontent-%COMP%]{background-color:#151412;color:#fff;border:2px solid black;min-width:350px}.item[_ngcontent-%COMP%]  .legendary-effect .value, .item[_ngcontent-%COMP%]  .buff .value{color:#fff}.item[_ngcontent-%COMP%]  .range, .item[_ngcontent-%COMP%]  .range .value, .item[_ngcontent-%COMP%]  .details, .item[_ngcontent-%COMP%]  .details .value, .item[_ngcontent-%COMP%]  .formula, .item[_ngcontent-%COMP%]  .formula .value, .item[_ngcontent-%COMP%]  .pure-info, .item[_ngcontent-%COMP%]  .pure-info .value{color:#686868}.item[_ngcontent-%COMP%]  .affixes .range, .item[_ngcontent-%COMP%]  .affixes .value, .item[_ngcontent-%COMP%]  .pure-info{word-break:keep-all;white-space:nowrap}.item.nodetails[_ngcontent-%COMP%]     .details, .item.nodetails[_ngcontent-%COMP%]     .formula{display:none}.item[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%], .item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{border:2px solid}.item[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%]{margin-bottom:2px;text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;padding:15px 10px;grid-gap:15px;gap:15px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;text-transform:capitalize}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:10px;gap:10px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{min-width:80px;width:80px;display:flex;flex-direction:column;align-items:center}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{text-transform:capitalize;text-align:center}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{min-width:56px;min-height:56px;width:56px;height:56px;border:4px solid black;margin-bottom:10px;position:relative}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{background-color:#686868;min-width:2px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;grid-gap:10px;gap:10px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#686868}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;list-style:disc inside;padding-left:0}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:flex;flex-direction:row;padding-left:5px;grid-gap:5px;gap:5px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pure[_ngcontent-%COMP%]{color:#46e7b0;background:linear-gradient(90deg,rgba(70,231,176,.3) 0%,rgba(70,231,176,0) 100%)}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pure[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:after{content:" !!"}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex-grow:1}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-effect.outer-border[_ngcontent-%COMP%]{border:3px solid black}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-effect.outer-border[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{border:2px solid #2e2c25}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-effect.outer-border[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]{border:3px solid black}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px 30px;grid-gap:5px;gap:5px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;grid-gap:5px;gap:5px;color:#686868}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:center}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-top:5px;min-width:36px;min-height:36px;width:36px;height:36px;border:3px solid black;padding:2px;background-color:#2e2c25}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff[_ngcontent-%COMP%]{border:3px solid #3b3831;padding:5px 36px;text-align:center;position:relative}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:-6px;top:50%;margin-top:-22px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.reaper[_ngcontent-%COMP%]{color:#148e89}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.skill[_ngcontent-%COMP%]{color:#ce4607}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-0[_ngcontent-%COMP%]{color:#2f5996}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-1[_ngcontent-%COMP%]{color:#a83007}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-2[_ngcontent-%COMP%]{color:#79b549}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-3[_ngcontent-%COMP%]{color:#d0b545}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-4[_ngcontent-%COMP%]{color:#4bc1b2}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-5[_ngcontent-%COMP%]{color:#753098}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-6[_ngcontent-%COMP%]{color:#cd7028}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-7[_ngcontent-%COMP%]{color:#bf3c59}']}),v}()},4440:function(ge,ne,a){a.d(ne,{w:function(){return r}});var F=a(5671),K=a(3144),t=a(136),n=a(7777),e=a(5542),g=a(8313),Q=a(6446),$=a(9808),L=a(7238);function q(_,x){if(1&_){var R=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){var I=e.CHM(R).$implicit,O=e.oxw(3);return O.select(O.stats,I)}),e.TgZ(1,"div",6),e._uU(2),e.qZA(),e.TgZ(3,"div",7),e._uU(4),e.qZA(),e.qZA()}if(2&_){var w=x.$implicit,H=e.oxw(3);e.ekj("selected",H.isSelected(w)),e.xp6(2),e.Oqu(w.name),e.xp6(1),e.Q6J("matTooltip",H.getTooltip(H.stats,w)),e.xp6(1),e.Oqu(H.getValue(H.stats,w))}}function p(_,x){if(1&_&&(e.ynx(0),e.TgZ(1,"h3",3),e._uU(2),e.qZA(),e.YNc(3,q,5,5,"div",4),e.BQk()),2&_){var R=x.$implicit;e.xp6(2),e.Oqu(R.section),e.xp6(1),e.Q6J("ngForOf",R.stats)}}function l(_,x){if(1&_&&(e.TgZ(0,"div",1),e.YNc(1,p,4,2,"ng-container",2),e.qZA()),2&_){var R=e.oxw();e.xp6(1),e.Q6J("ngForOf",R.SECTIONS)}}var r=function(){var _=function(x){(0,t.Z)(w,x);var R=(0,n.Z)(w);function w(H){var u;return(0,F.Z)(this,w),(u=R.call(this)).slormancerTranslateService=H,u.SECTIONS=[{section:u.slormancerTranslateService.translate("cat_adventure"),stats:[{name:u.slormancerTranslateService.translate("essence_find"),stat:"essence_find",sign:!0},{name:u.slormancerTranslateService.translate("xp_find"),stat:"xp_find",sign:!0},{name:u.slormancerTranslateService.translate("influence_gain"),stat:"influence_gain",sign:!0},{name:u.slormancerTranslateService.translate("mf_find"),stat:"mf_find",sign:!0},{name:u.slormancerTranslateService.translate("mf_qual"),stat:"mf_qual",sign:!0}]},{section:u.slormancerTranslateService.translate("cat_health"),stats:[{name:u.slormancerTranslateService.translate("max_health"),stat:"max_health",sign:!1},{name:u.slormancerTranslateService.translate("health_regeneration"),stat:"health_regeneration",sign:!0},{name:u.slormancerTranslateService.translate("health_leech_percent"),stat:"health_leech_percent",sign:!1},{name:u.slormancerTranslateService.translate("life_on_hit"),stat:"life_on_hit",sign:!0},{name:u.slormancerTranslateService.translate("life_on_kill"),stat:"life_on_kill",sign:!0}]},{section:u.slormancerTranslateService.translate("cat_mana"),stats:[{name:u.slormancerTranslateService.translate("max_mana"),stat:"max_mana",sign:!1},{name:u.slormancerTranslateService.translate("mana_regeneration"),stat:"mana_regeneration",sign:!0},{name:u.slormancerTranslateService.translate("mana_leech_percent"),stat:"mana_leech_percent",sign:!1},{name:u.slormancerTranslateService.translate("mana_on_hit"),stat:"mana_on_hit",sign:!0},{name:u.slormancerTranslateService.translate("mana_on_kill"),stat:"mana_on_kill",sign:!0}]},{section:u.slormancerTranslateService.translate("cat_movement"),stats:[{name:u.slormancerTranslateService.translate("movement_speed"),stat:"movement_speed",sign:!1}]},{section:u.slormancerTranslateService.translate("cat_attack"),stats:[{name:u.slormancerTranslateService.translate("attack_speed"),stat:"attack_speed",sign:!1},{name:u.slormancerTranslateService.translate("basic_damage"),stat:"basic_damage",sign:!1},{name:u.slormancerTranslateService.translate("weapon_damage"),stat:"weapon_damage",sign:!1},{name:u.slormancerTranslateService.translate("physical_damage"),stat:"physical_damage",sign:!1},{name:u.slormancerTranslateService.translate("elemental_damage"),stat:"elemental_damage",sign:!1},{name:u.slormancerTranslateService.translate("critical_chance"),stat:"critical_chance",sign:!1},{name:u.slormancerTranslateService.translate("critical_damage"),stat:"critical_damage",sign:!1},{name:u.slormancerTranslateService.translate("ancestral_chance"),stat:"ancestral_chance",sign:!1},{name:u.slormancerTranslateService.translate("ancestral_damage"),stat:"ancestral_damage",sign:!1},{name:u.slormancerTranslateService.translate("armor_penetration"),stat:"armor_penetration",sign:!1},{name:u.slormancerTranslateService.translate("elemental_penetration"),stat:"elemental_penetration",sign:!1},{name:u.slormancerTranslateService.translate("dot_increased_damage"),stat:"dot_increased_damage",sign:!0},{name:u.slormancerTranslateService.translate("increased_on_elite"),stat:"increased_on_elite",sign:!1}]},{section:u.slormancerTranslateService.translate("cat_defense"),stats:[{name:u.slormancerTranslateService.translate("armor"),stat:"armor",sign:!1},{name:u.slormancerTranslateService.translate("elemental_resist"),stat:"elemental_resist",sign:!1},{name:u.slormancerTranslateService.translate("fire_resistance"),stat:"fire_resistance",sign:!1},{name:u.slormancerTranslateService.translate("ice_resistance"),stat:"ice_resistance",sign:!1},{name:u.slormancerTranslateService.translate("lightning_resistance"),stat:"lightning_resistance",sign:!1},{name:u.slormancerTranslateService.translate("light_resistance"),stat:"light_resistance",sign:!1},{name:u.slormancerTranslateService.translate("shadow_resistance"),stat:"shadow_resistance",sign:!1},{name:u.slormancerTranslateService.translate("dodge"),stat:"dodge",sign:!1},{name:u.slormancerTranslateService.translate("thorns"),stat:"thorns",sign:!1},{name:u.slormancerTranslateService.translate("retaliate"),stat:"retaliate",sign:!1},{name:u.slormancerTranslateService.translate("tenacity"),stat:"tenacity",sign:!1},{name:u.slormancerTranslateService.translate("reduced_on_all"),stat:"reduced_on_all",sign:!1},{name:u.slormancerTranslateService.translate("reduced_by_elite"),stat:"reduced_by_elite",sign:!1},{name:u.slormancerTranslateService.translate("reduced_on_melee"),stat:"reduced_on_melee",sign:!1},{name:u.slormancerTranslateService.translate("reduced_on_projectile"),stat:"reduced_on_projectile",sign:!1},{name:u.slormancerTranslateService.translate("reduced_on_area"),stat:"reduced_on_area",sign:!1}]},{section:u.slormancerTranslateService.translate("cat_secondary_resources"),stats:[{name:u.slormancerTranslateService.translate("gold_find"),stat:"gold_find",sign:!0},{name:u.slormancerTranslateService.translate("scrap_find"),stat:"scrap_find",sign:!0},{name:u.slormancerTranslateService.translate("slormite_find"),stat:"slormite_find",sign:!0},{name:u.slormancerTranslateService.translate("slormeline_find"),stat:"slormeline_find",sign:!0},{name:u.slormancerTranslateService.translate("reaper_find"),stat:"reaper_find",sign:!0},{name:u.slormancerTranslateService.translate("skill_mastery_gain"),stat:"skill_mastery_gain",sign:!0}]},{section:u.slormancerTranslateService.translate("cat_secondary_melee"),stats:[{name:u.slormancerTranslateService.translate("inner_fire_chance"),stat:"inner_fire_chance",sign:!1},{name:u.slormancerTranslateService.translate("inner_fire_max_number"),stat:"inner_fire_max_number",sign:!1},{name:u.slormancerTranslateService.translate("inner_fire_duration"),stat:"inner_fire_duration",sign:!1},{name:u.slormancerTranslateService.translate("inner_fire_damage"),stat:"inner_fire_damage",sign:!1},{name:u.slormancerTranslateService.translate("overdrive_chance"),stat:"overdrive_chance",sign:!1},{name:u.slormancerTranslateService.translate("overdrive_bounce_number"),stat:"overdrive_bounce_number",sign:!1},{name:u.slormancerTranslateService.translate("overdrive_damage"),stat:"overdrive_damage",sign:!1},{name:u.slormancerTranslateService.translate("recast_chance"),stat:"recast_chance",sign:!1},{name:u.slormancerTranslateService.translate("knockback_melee"),stat:"knockback_melee",sign:!1}]},{section:u.slormancerTranslateService.translate("cat_secondary_projectile"),stats:[{name:u.slormancerTranslateService.translate("additional_projectile"),stat:"additional_projectile",sign:!0},{name:u.slormancerTranslateService.translate("chance_to_pierce"),stat:"chance_to_pierce",sign:!1},{name:u.slormancerTranslateService.translate("fork_chance"),stat:"fork_chance",sign:!1},{name:u.slormancerTranslateService.translate("chance_to_rebound"),stat:"chance_to_rebound",sign:!1},{name:u.slormancerTranslateService.translate("projectile_speed"),stat:"projectile_speed",sign:!0},{name:u.slormancerTranslateService.translate("knockback_projectile"),stat:"knockback_projectile",sign:!1}]},{section:u.slormancerTranslateService.translate("cat_secondary_aoe"),stats:[{name:u.slormancerTranslateService.translate("aoe_increased_size"),stat:"aoe_increased_size",sign:!1},{name:u.slormancerTranslateService.translate("aoe_increased_effect"),stat:"aoe_increased_effect",sign:!1}]},{section:u.slormancerTranslateService.translate("cat_secondary_extras"),stats:[{name:u.slormancerTranslateService.translate("totem_increased_effect"),stat:"totem_increased_effect",sign:!0},{name:u.slormancerTranslateService.translate("aura_increased_effect"),stat:"aura_increased_effect",sign:!0},{name:u.slormancerTranslateService.translate("minion_increased_damage"),stat:"minion_increased_damage",sign:!0}]}],u.stats=null,u.selectedMergedStat=null,u.selected=new e.vpe,u}return(0,K.Z)(w,[{key:"ngOnInit",value:function(){}},{key:"valueToString",value:function(u,N,I){return"number"==typeof u?(u<0?"-":N?"+":"")+u+I:(u.min<0?"-":N?"+":"")+u.min+I+" - "+(u.max<0?"-":N?"+":"")+u.max+I}},{key:"getValue",value:function(u,N){var I=u.find(function(G){return G.stat===N.stat}),O="0";return I&&(O=this.valueToString(I.total,N.sign,I.suffix)),O}},{key:"select",value:function(u,N){var I=u.find(function(O){return O.stat===N.stat});I&&(this.selectedMergedStat=I,this.selected.emit(I))}},{key:"getTooltip",value:function(u,N){var I=this,O=u.find(function(v){return v.stat===N.stat}),G="No details found";if(O){var k="number"!=typeof O.total;G="Flat: "+O.values.flat.map(function(v){return I.valueToString(v.value,!1,O.suffix)}).join(", ")+"\n",k&&(G+="Flat (max): "+O.values.max.map(function(v){return I.valueToString(v.value,!1,O.suffix)}).join(", ")+"\n"),G+="Percent: "+O.values.percent.map(function(v){return I.valueToString(v.value,!1,"%")}).join(", ")+"\n",k&&(G+="Percent (max) : "+O.values.maxPercent.map(function(v){return I.valueToString(v.value,!1,"%")}).join(", ")+"\n"),G+="Multiplier: "+O.values.multiplier.map(function(v){return I.valueToString(v.value,!1,"%")}).join(", ")}return G}},{key:"translate",value:function(u){return this.slormancerTranslateService.translate(u)}},{key:"isSelected",value:function(u){return null!==this.selectedMergedStat&&this.selectedMergedStat.stat===u.stat}}]),w}(Q.B);return _.\u0275fac=function(R){return new(R||_)(e.Y36(g.n))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-main-stats"]],inputs:{stats:"stats"},outputs:{selected:"selected"},features:[e.qOj],decls:1,vars:1,consts:[["class","sections",4,"ngIf"],[1,"sections"],[4,"ngFor","ngForOf"],[1,"section"],["class","stat",3,"selected","click",4,"ngFor","ngForOf"],[1,"stat",3,"click"],[1,"label"],[1,"value",3,"matTooltip"]],template:function(R,w){1&R&&e.YNc(0,l,2,1,"div",0),2&R&&e.Q6J("ngIf",null!==w.stats)},directives:[$.O5,$.sg,L.gM],styles:[".sections[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;grid-gap:4px;gap:4px}.sections[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding-left:8px;cursor:pointer}.sections[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.sections[_ngcontent-%COMP%]   .stat.selected[_ngcontent-%COMP%]{background-color:#ffffff4d}"]}),_}()},5895:function(ge,ne,a){a.d(ne,{A:function(){return l}});var F=a(5671),K=a(3144),t=a(5542),n=a(9808),e=a(9776);function g(r,_){if(1&r){var x=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("mouseenter",function(){var u=t.CHM(x).$implicit,N=t.MAs(1);return t.oxw(2).showOverlay(N,u)})("mouseleave",function(){return t.CHM(x),t.oxw(2).hideOverlay()}),t.TgZ(2,"div",6),t._UZ(3,"img",7),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA(),t.qZA()}if(2&r){var R=_.$implicit;t.xp6(3),t.MGl("src","assets/img/icon/",R.icon,".png",t.LSH),t.xp6(2),t.Oqu(R.name)}}function Q(r,_){if(1&r){var x=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("mouseenter",function(){var u=t.CHM(x).$implicit,N=t.MAs(1);return t.oxw(2).showOverlay(N,u)})("mouseleave",function(){return t.CHM(x),t.oxw(2).hideOverlay()}),t.TgZ(2,"div",6),t._UZ(3,"img",7),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA(),t.qZA()}if(2&r){var R=_.$implicit;t.xp6(3),t.MGl("src","assets/img/icon/",R.icon,".png",t.LSH),t.xp6(2),t.Oqu(R.name)}}function $(r,_){if(1&r){var x=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("mouseenter",function(){var u=t.CHM(x).$implicit,N=t.MAs(1);return t.oxw(2).showOverlay(N,u)})("mouseleave",function(){return t.CHM(x),t.oxw(2).hideOverlay()}),t.TgZ(2,"div",6),t._UZ(3,"img",7),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA(),t.qZA()}if(2&r){var R=_.$implicit;t.xp6(3),t.MGl("src","assets/img/icon/",R.icon,".png",t.LSH),t.xp6(2),t.Oqu(R.name)}}function L(r,_){if(1&r&&(t.TgZ(0,"div",10),t.TgZ(1,"div",11),t._UZ(2,"h3",12),t._UZ(3,"p",12),t.qZA(),t.qZA()),2&r){var x=t.oxw(3);t.xp6(2),t.Q6J("innerHTML",x.overlayMechanic.name,t.oJD),t.xp6(1),t.Q6J("innerHTML",x.overlayMechanic.description,t.oJD)}}function q(r,_){if(1&r&&t.YNc(0,L,4,2,"ng-template",9),2&r){var x=t.oxw(2);t.Q6J("cdkConnectedOverlayOpen",!0)("cdkConnectedOverlayOrigin",x.overlayTrigger)}}function p(r,_){if(1&r&&(t.TgZ(0,"div",1),t.YNc(1,g,6,2,"div",2),t.YNc(2,Q,6,2,"div",2),t.YNc(3,$,6,2,"div",2),t.YNc(4,q,1,2,void 0,3),t.qZA()),2&r){var x=t.oxw();t.xp6(1),t.Q6J("ngForOf",x.classMechanics),t.xp6(1),t.Q6J("ngForOf",x.mechanics),t.xp6(1),t.Q6J("ngForOf",x.buffs),t.xp6(1),t.Q6J("ngIf",null!==x.overlayMechanic&&null!==x.overlayTrigger)}}var l=function(){var r=function(){function _(){(0,F.Z)(this,_),this.classMechanics=[],this.mechanics=[],this.buffs=[],this.overlayTrigger=null,this.overlayMechanic=null}return(0,K.Z)(_,[{key:"showOverlay",value:function(R,w){this.overlayMechanic=w,this.overlayTrigger=R}},{key:"hideOverlay",value:function(){this.overlayTrigger=null,this.overlayMechanic=null}}]),_}();return r.\u0275fac=function(x){return new(x||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-mechanics-view"]],inputs:{classMechanics:"classMechanics",mechanics:"mechanics",buffs:"buffs"},decls:1,vars:1,consts:[["class","mechanics",4,"ngIf"],[1,"mechanics"],["class","mechanic","cdkOverlayOrigin","",3,"mouseenter","mouseleave",4,"ngFor","ngForOf"],[4,"ngIf"],["cdkOverlayOrigin","",1,"mechanic",3,"mouseenter","mouseleave"],["trigger","cdkOverlayOrigin"],[1,"mechanic-icon"],[3,"src"],[1,"mechanic-name"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[1,"slormancer-tooltip"],[1,"inner-box"],[3,"innerHTML"]],template:function(x,R){1&x&&t.YNc(0,p,5,4,"div",0),2&x&&t.Q6J("ngIf",R.classMechanics.length>0||R.mechanics.length>0||R.buffs.length>0)},directives:[n.O5,n.sg,e.xu,e.pI],styles:[".mechanics[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;grid-gap:4px;gap:4px}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;background-color:#000;padding:4px;grid-gap:4px;gap:4px}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]   .mechanic-icon[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]   .mechanic-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:36px;min-height:36px;width:36px;height:36px}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]   .mechanic-name[_ngcontent-%COMP%]{background-color:#141310;padding:8px;display:flex;flex-direction:row;align-items:center;flex-grow:1}.slormancer-tooltip[_ngcontent-%COMP%]{max-width:350px}.slormancer-tooltip[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:8px 0;font-weight:400;color:#ce4607}.slormancer-tooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0}.slormancer-tooltip[_ngcontent-%COMP%]     .value{color:#ce4607}"]}),r}()},916:function(ge,ne,a){a.d(ne,{R:function(){return U}});var F=a(5671),K=a(3144),t=a(5542),n=a(2473),e=a(7469),g=a(3075),Q=a(8966),$=a(1093),L=a(3790),q=a(5457),p=a(5581),l=a(3300),r=a(4917),_=a(9808),x=a(8003);function R(b,X){if(1&b&&(t.TgZ(0,"div",26),t.TgZ(1,"div",27),t.TgZ(2,"div",28),t._UZ(3,"div"),t.qZA(),t._uU(4),t.TgZ(5,"div",28),t._UZ(6,"div"),t.qZA(),t.qZA(),t._UZ(7,"div",20),t.qZA()),2&b){var y=t.oxw(2);t.xp6(4),t.Oqu(y.reaper.benedictionTitleLabel),t.xp6(3),t.Q6J("innerHTML",y.reaper.benediction,t.oJD)}}function w(b,X){if(1&b&&(t.TgZ(0,"div",29),t.TgZ(1,"div",27),t.TgZ(2,"div",28),t._UZ(3,"div"),t.qZA(),t._uU(4),t.TgZ(5,"div",28),t._UZ(6,"div"),t.qZA(),t.qZA(),t._UZ(7,"div",20),t.qZA()),2&b){var y=t.oxw(2);t.xp6(4),t.Oqu(y.reaper.maledictionTitleLabel),t.xp6(3),t.Q6J("innerHTML",y.reaper.malediction,t.oJD)}}function H(b,X){1&b&&t._UZ(0,"app-activable-view",30),2&b&&t.Q6J("activable",X.$implicit)}function u(b,X){if(1&b&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t._uU(2),t.qZA(),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._UZ(6,"img",6),t.TgZ(7,"div",7),t._UZ(8,"div",8),t.qZA(),t.qZA(),t.TgZ(9,"div",9),t.TgZ(10,"div",10),t.TgZ(11,"div",11),t._uU(12),t.qZA(),t._UZ(13,"div",12),t.qZA(),t.TgZ(14,"div",13),t.TgZ(15,"div",14),t._uU(16),t.qZA(),t._UZ(17,"div",15),t.TgZ(18,"div",16),t._uU(19),t.qZA(),t.qZA(),t.TgZ(20,"div",17),t._UZ(21,"div",18),t._UZ(22,"div",19),t.qZA(),t.qZA(),t.qZA(),t._UZ(23,"div",20),t.YNc(24,R,8,2,"div",21),t.YNc(25,w,8,2,"div",22),t.YNc(26,H,1,1,"app-activable-view",23),t._UZ(27,"div",24),t._UZ(28,"div",25),t.qZA(),t.qZA()),2&b){var y=t.oxw();t.xp6(2),t.Oqu(y.reaper.name),t.xp6(4),t.ekj("primordial-effect",y.reaper.primordial),t.Q6J("src",y.reaper.icon,t.LSH),t.xp6(6),t.Oqu(y.reaper.type),t.xp6(1),t.Q6J("innerHTML",y.reaper.smithLabel,t.oJD),t.xp6(3),t.AsE("",y.reaper.damages.min,"-",y.reaper.damages.max,""),t.xp6(1),t.Q6J("innerHTML",y.reaper.damageTypeLabel,t.oJD),t.xp6(2),t.lnq("",y.reaper.maxDamagesWithBonuses.min,"-",y.reaper.maxDamagesWithBonuses.max," at level ",y.reaper.maxLevelWithBonuses,""),t.xp6(2),t.Q6J("innerHTML",y.reaper.victimsLabel,t.oJD),t.xp6(1),t.Q6J("innerHTML",y.reaper.levelLabel,t.oJD),t.xp6(1),t.Q6J("innerHTML",y.reaper.description,t.oJD),t.xp6(1),t.Q6J("ngIf",null!==y.reaper.benediction),t.xp6(1),t.Q6J("ngIf",null!==y.reaper.malediction),t.xp6(1),t.Q6J("ngForOf",y.reaper.activables),t.xp6(2),t.Q6J("innerHTML",y.reaper.lore,t.oJD)}}var N=function(){var b=(0,K.Z)(function X(){(0,F.Z)(this,X),this.reaper=null});return b.\u0275fac=function(y){return new(y||b)},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-reaper-view"]],inputs:{reaper:"reaper"},decls:1,vars:1,consts:[["class","reaper",4,"ngIf"],[1,"reaper"],[1,"head"],[1,"content"],[1,"info"],[1,"icon"],[3,"src"],[1,"background-outer"],[1,"background"],[1,"summary"],[1,"base"],[1,"type"],[1,"builder",3,"innerHTML"],[1,"damages"],[1,"current-damage"],[1,"type",3,"innerHTML"],[1,"max-damage"],[1,"stats"],[1,"victim",3,"innerHTML"],[1,"level",3,"innerHTML"],[1,"description",3,"innerHTML"],["class","benediction",4,"ngIf"],["class","malediction",4,"ngIf"],[3,"activable",4,"ngFor","ngForOf"],[1,"separator"],[1,"lore",3,"innerHTML"],[1,"benediction"],[1,"title"],[1,"bullet"],[1,"malediction"],[3,"activable"]],template:function(y,z){1&y&&t.YNc(0,u,29,19,"div",0),2&y&&t.Q6J("ngIf",null!==z.reaper)},directives:[_.O5,_.sg,x.K],styles:[".reaper[_ngcontent-%COMP%]{background-color:#090909;color:#fff;border:2px solid black;width:350px}.reaper[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%], .reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{border:2px solid #79b7a4}.reaper[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%]{margin-bottom:2px;text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;padding:15px 10px;grid-gap:15px;gap:15px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:10px;gap:10px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:130px;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:stretch}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .background-outer[_ngcontent-%COMP%]{border:3px solid #3b3831;flex-grow:1;display:flex;flex-direction:column}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .background-outer[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{border:3px solid #12100e;background-color:#22201c;flex-grow:1;height:150px;width:85px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;margin-top:-12.5%;margin-left:-12.5%;image-rendering:pixelated;transform:scale(4)}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;flex-grow:1;text-align:left;grid-gap:10px;gap:10px;font-size:16px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{text-transform:uppercase}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .current-damage[_ngcontent-%COMP%]{font-size:30px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{font-size:20px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]     .bonus-level{color:#148f8a}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .max-damage[_ngcontent-%COMP%]{color:#686868}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{min-width:8px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:center}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]     .value{color:#148f8a}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]     .details{color:#686868}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]{color:#148f8a}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#61f7b7}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]{color:#ff4722}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#d13001}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;grid-gap:5px;gap:5px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]     .value, .reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]     .value{color:#fff}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{background-color:#3b3831;margin:0 30px;height:4px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .lore[_ngcontent-%COMP%]{color:#b8b8b8;text-align:center}"]}),b}(),I=a(7322),O=a(7531),G=a(4102),k=a(7446),v=a(7423),J=a(508);function M(b,X){if(1&b&&(t.TgZ(0,"mat-option",19),t._UZ(1,"span",20),t.qZA()),2&b){var y=X.$implicit;t.Q6J("value",y.value),t.xp6(1),t.Q6J("innerHTML",y.label,t.oJD)}}function Z(b,X){if(1&b){var y=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){return t.CHM(y),t.oxw().submit()}),t._UZ(1,"input",2),t.TgZ(2,"mat-dialog-content"),t.TgZ(3,"div",3),t._UZ(4,"app-reaper-view",4),t.qZA(),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"mat-form-field",7),t.TgZ(8,"mat-label"),t._uU(9,"Reaper level (base)"),t.qZA(),t._UZ(10,"input",8),t.TgZ(11,"mat-error"),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"mat-form-field",7),t.TgZ(14,"mat-label"),t._uU(15,"Reaper kills (base)"),t.qZA(),t._UZ(16,"input",9),t.TgZ(17,"mat-error"),t._uU(18,"Kills must be >= 0"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",6),t.TgZ(20,"mat-form-field",7),t.TgZ(21,"mat-label"),t._uU(22,"Raper level (primordial)"),t.qZA(),t._UZ(23,"input",10),t.TgZ(24,"mat-error"),t._uU(25),t.qZA(),t.qZA(),t.TgZ(26,"mat-form-field",7),t.TgZ(27,"mat-label"),t._uU(28,"Reaper kills (primordial)"),t.qZA(),t._UZ(29,"input",11),t.TgZ(30,"mat-error"),t._uU(31,"Kills must be >= 0"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",6),t.TgZ(33,"mat-form-field",12),t.TgZ(34,"mat-label"),t._uU(35,"Reaper base"),t.qZA(),t.TgZ(36,"mat-select",13),t.YNc(37,M,2,2,"mat-option",14),t.qZA(),t.qZA(),t.TgZ(38,"mat-checkbox",15),t._uU(39,"Primordial"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"mat-dialog-actions"),t.TgZ(41,"button",16),t._uU(42,"Cancel"),t.qZA(),t.TgZ(43,"button",17),t.NdJ("click",function(){return t.CHM(y),t.oxw().reset()}),t._uU(44,"Reset"),t.qZA(),t.TgZ(45,"button",18),t._uU(46,"Submit"),t.qZA(),t.qZA(),t.qZA()}if(2&b){var z=t.oxw();t.Q6J("formGroup",z.form),t.xp6(4),t.Q6J("reaper",z.reaper),t.xp6(6),t.Q6J("max",z.reaper.maxLevel),t.xp6(2),t.hij("Level must be between 1 and ",z.reaper.maxLevel,""),t.xp6(11),t.Q6J("max",z.reaper.maxLevel),t.xp6(2),t.hij("Level must be between 1 and ",z.reaper.maxLevel,""),t.xp6(12),t.Q6J("ngForOf",z.options)}}var oe=function(){var b=function(){function X(y,z,ee,re,de,pe){(0,F.Z)(this,X),this.dialogRef=y,this.slormancerReaperService=z,this.slormancerCharacterUpdaterService=ee,this.formOptionsService=re,this.plannerService=de,this.options=[],this.originalReaper=this.slormancerReaperService.getReaperClone(pe.reaper),this.character=pe.character,this.reaper=pe.reaper,this.reset()}return(0,K.Z)(X,[{key:"reset",value:function(){Object.assign(this.reaper,this.originalReaper),this.form=this.buildForm()}},{key:"submit",value:function(){this.form.valid&&this.dialogRef.close(this.reaper)}},{key:"updatePreview",value:function(z){if(z.valid){var ee=z.value;if(ee.reaper===this.reaper.id)this.reaper.id=ee.reaper,this.reaper.primordial=ee.primordial,this.reaper.baseInfo.level=ee.baseLevel,this.reaper.primordialInfo.level=ee.primordialLevel,this.reaper.baseInfo.kills=ee.baseKills,this.reaper.primordialInfo.kills=ee.primordialKills;else{var re=this.slormancerReaperService.getReaperById(ee.reaper,this.reaper.weaponClass,ee.primordial,ee.baseLevel,ee.primordialLevel,ee.baseKills,ee.primordialKills,this.reaper.bonusLevel);null!==re&&Object.assign(this.reaper,re)}this.slormancerReaperService.updateReaperModel(this.reaper),this.slormancerCharacterUpdaterService.updateCharacter(this.character,(0,p.Be)(this.plannerService.getConfiguration(),$.g),!1),this.slormancerReaperService.updateReaperView(this.reaper),this.options=this.formOptionsService.getReaperOptions(this.reaper.weaponClass,this.reaper.primordial),ee.baseLevel!==this.reaper.baseInfo.level&&z.patchValue({baseLevel:this.reaper.baseInfo.level},{emitEvent:!1}),ee.primordialLevel!==this.reaper.primordialInfo.level&&z.patchValue({primordialLevel:this.reaper.primordialInfo.level},{emitEvent:!1})}}},{key:"getReaperMaxLevelValidator",value:function(){var z=this;return function(ee){return g.kI.max(z.reaper.maxLevel)(ee)}}},{key:"buildForm",value:function(){var z=this,ee=new g.cw({baseLevel:new g.NI(this.reaper.baseInfo.level,[g.kI.required,g.kI.min(1),this.getReaperMaxLevelValidator()]),baseKills:new g.NI(this.reaper.baseInfo.kills,[g.kI.required,g.kI.min(0)]),primordialLevel:new g.NI(this.reaper.primordialInfo.level,[g.kI.required,g.kI.min(1),this.getReaperMaxLevelValidator()]),primordialKills:new g.NI(this.reaper.primordialInfo.kills,[g.kI.required,g.kI.min(0)]),primordial:new g.NI(this.reaper.primordial,g.kI.required),reaper:new g.NI(this.reaper.id,g.kI.required)});return ee.valueChanges.subscribe(function(){z.updatePreview(ee)}),this.updatePreview(ee),ee}}]),X}();return b.\u0275fac=function(y){return new(y||b)(t.Y36(Q.so),t.Y36(L.I),t.Y36(q.P),t.Y36(l.K),t.Y36(r.q),t.Y36(Q.WI))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-reaper-edit-modal"]],decls:1,vars:1,consts:[["autocomplete","off",3,"formGroup","submit",4,"ngIf"],["autocomplete","off",3,"formGroup","submit"],["autocomplete","false","name","hidden","type","text",2,"display","none"],[1,"preview"],[3,"reaper"],[1,"form"],[1,"stat-line"],["appearance","outline"],["matInput","","type","number","min","1","step","1","formControlName","baseLevel",3,"max"],["matInput","","type","number","min","0","step","1","formControlName","baseKills"],["matInput","","type","number","min","1","step","1","formControlName","primordialLevel",3,"max"],["matInput","","type","number","min","0","step","1","formControlName","primordialKills"],["appearance","outline","color","primary",1,"no-error-padding"],["formControlName","reaper","color","primary"],[3,"value",4,"ngFor","ngForOf"],["color","primary","formControlName","primordial"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","button","color","primary",3,"click"],["mat-flat-button","","type","submit","color","primary"],[3,"value"],[3,"innerHTML"]],template:function(y,z){1&y&&t.YNc(0,Z,47,7,"form",0),2&y&&t.Q6J("ngIf",null!==z.form&&null!==z.reaper)},directives:[_.O5,g._Y,g.JL,g.sg,Q.xY,N,I.KE,I.hX,O.Nt,g.qQ,g.wV,g.Fd,g.Fj,g.JJ,g.u,I.TO,G.gD,_.sg,k.oG,Q.H8,v.lW,Q.ZT,J.ey],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:20px;gap:20px;flex-grow:1}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]{flex-direction:column}}mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{max-width:350px}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{display:none;visibility:hidden}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;align-items:stretch;flex-grow:1}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{padding:8px 0}"]}),b}(),te=a(9776),ce=a(2525),_e=a(3874);function T(b,X){if(1&b&&t._UZ(0,"app-reaper-view",11),2&b){var y=t.oxw(2);t.Q6J("reaper",y.character.reaper)}}function A(b,X){if(1&b){var y=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){return t.CHM(y),t.oxw(3).edit()}),t.TgZ(1,"mat-icon"),t._uU(2,"add_circle_outline"),t.qZA(),t._uU(3,"Add reaper"),t.qZA()}}function m(b,X){if(1&b){var y=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){return t.CHM(y),t.oxw(3).edit()}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA(),t._uU(3,"Edit reaper"),t.qZA()}}function C(b,X){if(1&b&&(t.YNc(0,A,4,0,"button",12),t.YNc(1,m,4,0,"button",12)),2&b){var y=t.oxw(2);t.Q6J("ngIf",null===y.character.reaper),t.xp6(1),t.Q6J("ngIf",null!==y.character.reaper)}}function c(b,X){if(1&b){var y=t.EpF();t.TgZ(0,"div",2,3),t.NdJ("click",function(){return t.CHM(y),t.oxw().edit()}),t._UZ(2,"div",4),t.ynx(3),t._UZ(4,"img",5),t.YNc(5,T,1,1,"ng-template",6),t.BQk(),t._UZ(6,"div",7),t.TgZ(7,"mat-menu",8,9),t.YNc(9,C,2,2,"ng-template",10),t.qZA(),t.qZA()}if(2&b){var z=t.MAs(1),ee=t.MAs(8),re=t.oxw();t.ekj("readonly",re.readonly),t.xp6(4),t.ekj("primordial-effect",re.character.reaper.primordial),t.Q6J("src",re.character.reaper.icon,t.LSH),t.xp6(1),t.Q6J("cdkConnectedOverlayOpen",re.showOverlay)("cdkConnectedOverlayOrigin",z),t.xp6(1),t.Q6J("matMenuTriggerFor",ee),t.xp6(1),t.Q6J("overlapTrigger",!0)}}function h(b,X){if(1&b&&t._UZ(0,"div",14),2&b){var y=t.oxw();t.Q6J("innerHTML",y.character.reaper.levelLabel,t.oJD)}}var U=function(){var b=function(){function X(y,z,ee){(0,F.Z)(this,X),this.dialog=y,this.slormancerCharacterBuilderService=z,this.itemMoveService=ee,this.character=null,this.readonly=!1,this.changed=new t.vpe,this.showOverlay=!1}return(0,K.Z)(X,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"onMouseContextMenu",value:function(){return this.readonly||this.itemMoveService.releaseHoldItem(),!1}},{key:"ngOnInit",value:function(){}},{key:"edit",value:function(){var z=this;if(null!==this.character&&!this.readonly){var ee=this.slormancerCharacterBuilderService.getCharacterClone(this.character);this.dialog.open(oe,{data:{reaper:ee.reaper,character:ee}}).afterClosed().subscribe(function(de){de&&z.changed.emit(de)})}}}]),X}();return b.\u0275fac=function(y){return new(y||b)(t.Y36(Q.uw),t.Y36(n.o),t.Y36(e.v))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-reaper-slot"]],hostBindings:function(y,z){1&y&&t.NdJ("mouseenter",function(){return z.onOver()})("mouseleave",function(){return z.onLeave()})("contextmenu",function(){return z.onMouseContextMenu()})},inputs:{character:"character",readonly:"readonly"},outputs:{changed:"changed"},decls:2,vars:2,consts:[["class","reaper","cdkOverlayOrigin","",3,"readonly","click",4,"ngIf"],["class","reaper-level",3,"innerHTML",4,"ngIf"],["cdkOverlayOrigin","",1,"reaper",3,"click"],["trigger","cdkOverlayOrigin"],[1,"inner-slot"],[3,"src"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"matMenuTriggerFor"],["xPosition","after",3,"overlapTrigger"],["menu","matMenu"],["matMenuContent",""],[3,"reaper"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"reaper-level",3,"innerHTML"]],template:function(y,z){1&y&&(t.YNc(0,c,10,9,"div",0),t.YNc(1,h,1,1,"div",1)),2&y&&(t.Q6J("ngIf",null!==z.character),t.xp6(1),t.Q6J("ngIf",null!==z.character))},directives:[_.O5,te.xu,te.pI,ce.p6,ce.VK,ce.KA,N,ce.OP,_e.Hw],styles:[".reaper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:124px;min-height:124px;position:relative}.reaper[_ngcontent-%COMP%]:not(.readonly){cursor:pointer}.reaper[_ngcontent-%COMP%]   .inner-slot[_ngcontent-%COMP%]{width:80px;height:80px;background-color:#1e1e1e;border:3px solid #3c3c3c}.reaper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;margin-top:-12.5%;margin-left:-12.5%;image-rendering:pixelated;transform:scale(4)}.reaper-level[_ngcontent-%COMP%]{color:#fff;text-align:center;text-transform:uppercase}app-reaper-view[_ngcontent-%COMP%]{width:350px}"]}),b}()},4591:function(ge,ne,a){a.d(ne,{X:function(){return I}});var F=a(5671),K=a(3144),t=a(136),n=a(7777),e=a(5542),g=a(2525),Q=a(2722),$=a(4373),L=a(7255),q=a(8313),p=a(4917),l=a(6446),r=a(9776),_=a(9808),x=a(411);function R(O,G){if(1&O&&e._UZ(0,"app-skill-view",9),2&O){var k=e.oxw(2);e.Q6J("skill",k.skill)}}function w(O,G){if(1&O&&(e.ynx(0),e._UZ(1,"img",7),e.YNc(2,R,1,1,"ng-template",8),e.BQk()),2&O){var k=e.oxw(),v=e.MAs(1);e.xp6(1),e.Q6J("src","assets/img/icon/"+(k.support?k.skill.iconLarge:k.skill.icon)+".png",e.LSH),e.xp6(1),e.Q6J("cdkConnectedOverlayOpen",k.showOverlay)("cdkConnectedOverlayOrigin",v)}}function H(O,G){if(1&O&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&O){var k=e.oxw().$implicit;e.xp6(1),e.Oqu(k.specializationName)}}function u(O,G){if(1&O){var k=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){var oe=e.CHM(k).$implicit;return e.oxw(2).updateSkill(oe)}),e.TgZ(1,"div",12),e._UZ(2,"img",13),e.TgZ(3,"div",14),e.TgZ(4,"div",15),e._uU(5),e.qZA(),e.YNc(6,H,2,1,"div",16),e.TgZ(7,"div",17),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&O){var v=G.$implicit,J=e.oxw(2);e.xp6(1),e.ekj("selected",J.isSelectedSkill(v)),e.xp6(1),e.ekj("support",J.support),e.Q6J("src","assets/img/icon/"+(J.support?v.iconLarge:v.icon)+".png",e.LSH),e.xp6(3),e.Oqu(v.name),e.xp6(1),e.Q6J("ngIf",null!==v.specializationName),e.xp6(2),e.lnq("",J.MASTERY_LABEL,": ",v.level," / ",J.SKILL_MAX_MASTERY,"")}}function N(O,G){if(1&O&&e.YNc(0,u,9,10,"button",10),2&O){var k=e.oxw();e.Q6J("ngForOf",k.getAvailableSkills())}}var I=function(){var O=function(G){(0,t.Z)(v,G);var k=(0,n.Z)(v);function v(J,M){var Z;return(0,F.Z)(this,v),(Z=k.call(this)).plannerService=J,Z.slormancerTranslateService=M,Z.SKILL_MAX_MASTERY=$.DA,Z.MASTERY_LABEL=Z.slormancerTranslateService.translate("tt_mastery"),Z.skill=null,Z.support=!1,Z.readonly=!1,Z.changed=new e.vpe,Z.menu=null,Z.character=null,Z.showOverlay=!1,Z}return(0,K.Z)(v,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"ngOnInit",value:function(){var M=this;this.plannerService.characterChanged.pipe((0,Q.R)(this.unsubscribe)).subscribe(function(Z){return M.character=Z})}},{key:"getAvailableSkills",value:function(){var M=[];if(null!==this.character){var Z=this.support?L.W.Support:L.W.Active;M=this.character.skills.map(function(oe){return oe.skill}).filter(function(oe){return Z===oe.type})}return M}},{key:"isSelectedSkill",value:function(M){return null!==this.character&&(this.character.primarySkill===M||this.character.secondarySkill===M||this.character.supportSkill===M)}},{key:"updateSkill",value:function(M){this.skill!==M&&this.changed.emit(M)}},{key:"openMenu",value:function(){return null!==this.menu&&!this.readonly&&this.menu.openMenu(),!1}}]),v}(l.B);return O.\u0275fac=function(k){return new(k||O)(e.Y36(p.q),e.Y36(q.n))},O.\u0275cmp=e.Xpm({type:O,selectors:[["app-skill-slot"]],viewQuery:function(k,v){var J;1&k&&e.Gf(g.p6,7),2&k&&e.iGM(J=e.CRH())&&(v.menu=J.first)},hostBindings:function(k,v){1&k&&e.NdJ("mouseenter",function(){return v.onOver()})("mouseleave",function(){return v.onLeave()})},inputs:{skill:"skill",support:"support",readonly:"readonly"},outputs:{changed:"changed"},features:[e.qOj],decls:7,vars:6,consts:[["cdkOverlayOrigin","",1,"skill",3,"contextmenu","click"],["trigger","cdkOverlayOrigin"],[4,"ngIf"],[3,"matMenuTriggerFor"],["yPosition","above",1,"skill-menu"],["menu","matMenu"],["matMenuContent",""],[3,"src"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"skill"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],[1,"skill-menu-entry"],[1,"skill",3,"src"],[1,"description"],[1,"name"],["class","specialization",4,"ngIf"],[1,"mastery"],[1,"specialization"]],template:function(k,v){if(1&k&&(e.TgZ(0,"div",0,1),e.NdJ("contextmenu",function(){return v.openMenu()})("click",function(){return v.openMenu()}),e.YNc(2,w,3,3,"ng-container",2),e._UZ(3,"div",3),e.TgZ(4,"mat-menu",4,5),e.YNc(6,N,1,1,"ng-template",6),e.qZA(),e.qZA()),2&k){var J=e.MAs(5);e.ekj("support",v.support)("readonly",v.readonly),e.xp6(2),e.Q6J("ngIf",null!==v.skill),e.xp6(1),e.Q6J("matMenuTriggerFor",J)}},directives:[r.xu,_.O5,g.p6,g.VK,g.KA,r.pI,x.O,_.sg,g.OP],styles:["[_nghost-%COMP%]{min-width:42px;height:42px;min-height:42px;overflow:hidden}.skill[_ngcontent-%COMP%]{width:42px;min-width:42px;height:42px;min-height:42px;border:4px solid black;position:relative;background-color:#131313}.skill.support[_ngcontent-%COMP%]{width:84px;min-width:84px}.skill[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.skill[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{text-transform:uppercase}.skill[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:-8px;left:0}.skill-menu-entry[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:8px;gap:8px}.skill-menu-entry[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]{border:4px solid #353535}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .specialization[_ngcontent-%COMP%]{line-height:normal;font-weight:700;text-transform:uppercase}.skill-menu-entry[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .mastery[_ngcontent-%COMP%]{line-height:normal}.skill-menu-entry.selected[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]{border-color:#edd371}.skill-menu-entry.selected[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .skill-menu-entry.selected[_ngcontent-%COMP%]   .specialization[_ngcontent-%COMP%]{color:#edd371}app-item-view[_ngcontent-%COMP%]{width:350px}"]}),O}()},8849:function(ge,ne,a){a.d(ne,{B:function(){return q}});var F=a(5671),K=a(3144),t=a(8313),n=a(5542),e=a(9808),g=a(5895);function Q(p,l){if(1&p&&n._UZ(0,"div",18),2&p){var r=n.oxw(2);n.Q6J("innerHTML",r.upgrade.genresLabel,n.oJD)}}function $(p,l){if(1&p&&n._UZ(0,"div",19),2&p){var r=n.oxw(2);n.Q6J("innerHTML",r.upgrade.costLabel,n.oJD)}}function L(p,l){if(1&p&&(n.TgZ(0,"div"),n.TgZ(1,"div",1),n._uU(2),n.qZA(),n.TgZ(3,"div",2),n.TgZ(4,"div",3),n.TgZ(5,"div",4),n.TgZ(6,"div",5),n._UZ(7,"div",6),n._UZ(8,"img",7),n.qZA(),n.qZA(),n.TgZ(9,"div",8),n.TgZ(10,"div",9),n._uU(11),n.qZA(),n.TgZ(12,"div",10),n._uU(13),n.qZA(),n.YNc(14,Q,1,1,"div",11),n.TgZ(15,"div",12),n._uU(16),n.TgZ(17,"span",13),n._uU(18),n.qZA(),n._uU(19),n.qZA(),n.YNc(20,$,1,1,"div",14),n.qZA(),n.qZA(),n._UZ(21,"div",15),n._UZ(22,"div",16),n._UZ(23,"app-mechanics-view",17),n.qZA(),n.qZA()),2&p){var r=n.oxw();n.Gre("skill slormancer-tooltip ",r.upgrade.damageTypes.length>0?r.upgrade.damageTypes[0]:"",""),n.xp6(2),n.AsE("",r.getTypeLabel(r.upgrade.type),": ",r.upgrade.name,""),n.xp6(6),n.Q6J("src",r.upgrade.icon,n.LSH),n.xp6(3),n.AsE("",r.translate(r.MASTERY_LABEL)," ",r.upgrade.masteryRequired,""),n.xp6(2),n.Oqu(r.getTypeLabel(r.upgrade.type)),n.xp6(1),n.Q6J("ngIf",null!==r.upgrade.genresLabel),n.xp6(2),n.hij("",r.translate(r.RANK_LABEL),": "),n.xp6(2),n.Oqu(r.upgrade.rank),n.xp6(1),n.hij("/",r.upgrade.maxRank,""),n.xp6(1),n.Q6J("ngIf",null!==r.upgrade.costLabel),n.xp6(2),n.Q6J("innerHTML",r.upgrade.description,n.oJD),n.xp6(1),n.Q6J("classMechanics",r.upgrade.relatedClassMechanics)("mechanics",r.upgrade.relatedMechanics)("buffs",r.upgrade.relatedBuffs)}}var q=function(){var p=function(){function l(r){(0,F.Z)(this,l),this.slormancerTranslateService=r,this.RANK_LABEL="tt_rank",this.MASTERY_LABEL="tt_mastery",this.NEXT_RANK_LABEL="tt_next_rank",this.MAX_RANK_LABEL="tt_max_rank",this.upgrade=null,this.mouseOverElement=null}return(0,K.Z)(l,[{key:"getCostLabel",value:function(_){return this.slormancerTranslateService.translate("tt_"+_)}},{key:"getGenresLabel",value:function(_){var x=this;return _.map(function(R){return x.slormancerTranslateService.translate(R)}).join(", ")}},{key:"getTypeLabel",value:function(_){return this.slormancerTranslateService.translate("tt_"+_)}},{key:"translate",value:function(_){return this.slormancerTranslateService.translate(_)}},{key:"showMechanicOverlay",value:function(_){this.mouseOverElement=_}},{key:"hideMechanicOverlay",value:function(){this.mouseOverElement=null}}]),l}();return p.\u0275fac=function(r){return new(r||p)(n.Y36(t.n))},p.\u0275cmp=n.Xpm({type:p,selectors:[["app-skill-upgrade-view"]],inputs:{upgrade:"upgrade"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head","inner-box"],[1,"content","inner-box"],[1,"info"],[1,"visual"],[1,"icon"],[1,"icon-border"],[3,"src"],[1,"data"],[1,"mastery"],[1,"type"],["class","genre",3,"innerHTML",4,"ngIf"],[1,"rank"],[1,"current"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"separator"],[1,"description",3,"innerHTML"],[3,"classMechanics","mechanics","buffs"],[1,"genre",3,"innerHTML"],[1,"cost",3,"innerHTML"]],template:function(r,_){1&r&&n.YNc(0,L,24,18,"div",0),2&r&&n.Q6J("ngIf",null!==_.upgrade)},directives:[e.O5,g.A],styles:[".skill[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;max-width:400px}.skill[_ngcontent-%COMP%]   .inner-box[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]:before{border-color:primary-color(400)}.skill[_ngcontent-%COMP%]  .value, .skill[_ngcontent-%COMP%]  .rank .current, .skill[_ngcontent-%COMP%]  .head{color:#ce4607}.skill[_ngcontent-%COMP%]  .mag .value{color:#bb1fe2}.skill[_ngcontent-%COMP%]  .range, .skill[_ngcontent-%COMP%]  .range .value, .skill[_ngcontent-%COMP%]  .details, .skill[_ngcontent-%COMP%]  .details .value, .skill[_ngcontent-%COMP%]  .formula, .skill[_ngcontent-%COMP%]  .formula .value{color:#686868}.skill[_ngcontent-%COMP%]  .affixes .range, .skill[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.skill[_ngcontent-%COMP%]  .life{color:#257539}.skill[_ngcontent-%COMP%]  .mana{color:#3397dd}.skill.mag[_ngcontent-%COMP%]  .value, .skill.mag[_ngcontent-%COMP%]  .rank .current, .skill.mag[_ngcontent-%COMP%]  .head{color:#bb1fe2}.skill[_ngcontent-%COMP%]   .head.head[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.head[_ngcontent-%COMP%]{text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;grid-gap:20px;gap:20px;padding:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:10px;gap:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{display:flex;align-items:center}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border:3px solid #be871f;min-width:60px;min-height:60px;width:60px;height:60px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black;image-rendering:pixelated;width:54px;height:54px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-transform:uppercase;height:100%;flex-grow:1;padding:5px 0;grid-gap:5px;gap:5px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#3155bc}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]{display:flex;flex-direction:row}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{min-width:8px;padding-right:8px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;background-color:#ce4607;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}"]}),p}()},411:function(ge,ne,a){a.d(ne,{O:function(){return q}});var F=a(3144),K=a(5671),t=a(5542),n=a(9808);function e(p,l){if(1&p&&t._UZ(0,"div",15),2&p){var r=t.oxw(2);t.Q6J("innerHTML",r.skill.genresLabel,t.oJD)}}function g(p,l){if(1&p&&t._UZ(0,"div",16),2&p){var r=t.oxw(2);t.Q6J("innerHTML",r.skill.cooldownLabel,t.oJD)}}function Q(p,l){if(1&p&&t._UZ(0,"div",17),2&p){var r=t.oxw(2);t.Q6J("innerHTML",r.skill.costLabel,t.oJD)}}function $(p,l){if(1&p&&(t.TgZ(0,"span",18),t._uU(1),t.qZA()),2&p){var r=t.oxw(2);t.xp6(1),t.hij(" + ",r.skill.bonusLevel,"")}}function L(p,l){if(1&p&&(t.TgZ(0,"div"),t._UZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._UZ(6,"img",6),t.qZA(),t.qZA(),t.TgZ(7,"div",7),t.YNc(8,e,1,1,"div",8),t.YNc(9,g,1,1,"div",9),t.YNc(10,Q,1,1,"div",10),t.qZA(),t.qZA(),t._UZ(11,"div",11),t._UZ(12,"div",12),t.TgZ(13,"div",13),t._UZ(14,"img",6),t.YNc(15,$,2,1,"span",14),t.qZA(),t.qZA(),t.qZA()),2&p){var r=t.oxw();t.Gre("skill slormancer-tooltip ",r.skill.damageTypes.length>0?r.skill.damageTypes[0]:"",""),t.xp6(1),t.Q6J("innerHTML",r.skill.nameLabel,t.oJD),t.xp6(5),t.Q6J("src","assets/img/icon/"+r.skill.icon+".png",t.LSH),t.xp6(2),t.Q6J("ngIf",null!==r.skill.genresLabel),t.xp6(1),t.Q6J("ngIf",null!==r.skill.cooldownLabel),t.xp6(1),t.Q6J("ngIf",null!==r.skill.costLabel),t.xp6(2),t.Q6J("innerHTML",r.skill.description,t.oJD),t.xp6(2),t.MGl("src","assets/img/icon/",r.skill.levelIcon,".png",t.LSH),t.xp6(1),t.Q6J("ngIf",r.skill.bonusLevel>0)}}var q=function(){var p=(0,F.Z)(function l(){(0,K.Z)(this,l),this.skill=null});return p.\u0275fac=function(r){return new(r||p)},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-skill-view"]],inputs:{skill:"skill"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head","inner-box",3,"innerHTML"],[1,"content","inner-box"],[1,"info"],[1,"visual"],[1,"icon"],[3,"src"],[1,"data"],["class","genre",3,"innerHTML",4,"ngIf"],["class","cooldown",3,"innerHTML",4,"ngIf"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"separator"],[1,"description",3,"innerHTML"],[1,"bottom-level"],["class","bonus",4,"ngIf"],[1,"genre",3,"innerHTML"],[1,"cooldown",3,"innerHTML"],[1,"cost",3,"innerHTML"],[1,"bonus"]],template:function(r,_){1&r&&t.YNc(0,L,16,11,"div",0),2&r&&t.Q6J("ngIf",null!==_.skill)},directives:[n.O5],styles:[".skill[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;max-width:400px}.skill[_ngcontent-%COMP%]   .inner-box[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]:before{border-color:primary-color(400)}.skill[_ngcontent-%COMP%]  .value, .skill[_ngcontent-%COMP%]  .rank .current{color:#ce4607}.skill[_ngcontent-%COMP%]  .range, .skill[_ngcontent-%COMP%]  .range .value, .skill[_ngcontent-%COMP%]  .details, .skill[_ngcontent-%COMP%]  .details .value, .skill[_ngcontent-%COMP%]  .formula, .skill[_ngcontent-%COMP%]  .formula .value{color:#686868}.skill[_ngcontent-%COMP%]  .affixes .range, .skill[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.skill[_ngcontent-%COMP%]  .life{color:#257539}.skill[_ngcontent-%COMP%]  .mana{color:#3397dd}.skill.mag[_ngcontent-%COMP%]  .value, .skill.mag[_ngcontent-%COMP%]  .rank .current{color:#bb1fe2}.skill[_ngcontent-%COMP%]   .head.head[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.head[_ngcontent-%COMP%]{text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;grid-gap:20px;gap:20px;padding:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;grid-gap:10px;gap:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{display:flex;align-items:center}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border:3px solid #be871f;min-width:60px;min-height:60px;width:60px;height:60px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black;image-rendering:pixelated;width:54px;height:54px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-transform:uppercase;height:100%;flex-grow:1;padding:5px 0;grid-gap:5px;gap:5px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}"]}),p}()},9536:function(ge,ne,a){a.d(ne,{A:function(){return R}});var F=a(5671),K=a(3144),t=a(136),n=a(7777),e=a(2722),g=a(7255),Q=a(2424),$=a(6446),L=a(5542),q=a(9808),p=a(9776),l=a(8849);function r(w,H){if(1&w&&L._UZ(0,"app-skill-upgrade-view",8),2&w){var u=L.oxw(3);L.Q6J("upgrade",u.upgrade)}}function _(w,H){if(1&w&&L.YNc(0,r,1,1,"ng-template",7),2&w){L.oxw();var u=L.MAs(1),N=L.oxw();L.Q6J("cdkConnectedOverlayOpen",N.showOverlay)("cdkConnectedOverlayOrigin",u)}}function x(w,H){if(1&w&&(L.TgZ(0,"div",1,2),L.TgZ(2,"div",3),L._UZ(3,"img",4),L.qZA(),L.TgZ(4,"div",5),L._uU(5),L.qZA(),L.YNc(6,_,1,2,void 0,6),L.qZA()),2&w){var u=L.oxw();L.ekj("hidden-search",u.hiddenBySearch)("passive",u.isPassive(u.upgrade))("readonly",u.readonly),L.xp6(2),L.ekj("equipped",u.equipped),L.xp6(1),L.Q6J("src",u.upgrade.icon,L.LSH),L.xp6(1),L.ekj("max",u.upgrade.rank===u.upgrade.maxRank),L.xp6(1),L.Oqu(u.upgrade.rank===u.upgrade.maxRank?"Max":u.upgrade.rank),L.xp6(1),L.Q6J("ngIf",u.showOverlay&&u.overlay)}}var R=function(){var w=function(H){(0,t.Z)(N,H);var u=(0,n.Z)(N);function N(I){var O;return(0,F.Z)(this,N),(O=u.call(this)).searchService=I,O.upgrade=null,O.selected=!1,O.equipped=!1,O.overlay=!1,O.readonly=!1,O.hiddenBySearch=!1,O.showOverlay=!1,O}return(0,K.Z)(N,[{key:"onOver",value:function(){this.showOverlay=!0}},{key:"onLeave",value:function(){this.showOverlay=!1}},{key:"ngOnInit",value:function(){var O=this;this.searchService.searchChanged.pipe((0,e.R)(this.unsubscribe)).subscribe(function(G){return O.hiddenBySearch=null!==G&&null!==O.upgrade&&!O.searchService.upgradeMatchSearch(O.upgrade)})}},{key:"isPassive",value:function(O){return O.type===g.W.Passive}}]),N}($.B);return w.\u0275fac=function(u){return new(u||w)(L.Y36(Q.o))},w.\u0275cmp=L.Xpm({type:w,selectors:[["app-upgrade-slot"]],hostBindings:function(u,N){1&u&&L.NdJ("mouseenter",function(){return N.onOver()})("mouseleave",function(){return N.onLeave()})},inputs:{upgrade:"upgrade",selected:"selected",equipped:"equipped",overlay:"overlay",readonly:"readonly"},features:[L.qOj],decls:1,vars:1,consts:[["class","upgrade","cdkOverlayOrigin","",3,"hidden-search","passive","readonly",4,"ngIf"],["cdkOverlayOrigin","",1,"upgrade"],["trigger","cdkOverlayOrigin"],[1,"equipped-border"],[1,"skill-icon",3,"src"],[1,"rank"],[4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[3,"upgrade"]],template:function(u,N){1&u&&L.YNc(0,x,7,13,"div",0),2&u&&L.Q6J("ngIf",null!==N.upgrade)},directives:[q.O5,p.xu,p.pI,l.B],styles:[".upgrade[_ngcontent-%COMP%]{background-color:#101010;position:relative;z-index:1}.upgrade.hidden-search[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{opacity:.2}.upgrade.passive[_ngcontent-%COMP%], .upgrade.passive[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%], .upgrade.passive[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}.upgrade[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{position:absolute;background-color:#202020;padding:0 2px;bottom:0;right:0;font-size:10px;border-radius:4px}.upgrade[_ngcontent-%COMP%]   .rank.max[_ngcontent-%COMP%]{color:#edd371}.upgrade[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%]{width:46px;height:46px;position:relative;border:3px solid black;padding:2px;background-color:#202020}.upgrade[_ngcontent-%COMP%]   .equipped-border.equipped[_ngcontent-%COMP%]{background-color:#edd371}.upgrade[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black}.upgrade[_ngcontent-%COMP%]:not(.readonly)   .equipped-border[_ngcontent-%COMP%]{cursor:pointer}.upgrade.readonly[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%]{padding:0;border-width:4px;width:44px;height:44px}.upgrade.readonly[_ngcontent-%COMP%]   .equipped-border[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-width:0}"]}),w}()},3947:function(ge,ne,a){a.d(ne,{Y:function(){return _e}});var F=a(5671),K=a(3144),t=a(7757),n=a.n(t);var ce=a(5542),_e=function(){var T=function(){function A(){(0,F.Z)(this,A)}return(0,K.Z)(A,[{key:"copyToClipboard",value:function(C){var c=null;try{return(c=document.createElement("textarea")).style.position="fixed",c.style.left="0",c.style.top="0",c.style.opacity="0",c.value=C,document.body.appendChild(c),c.focus(),c.select(),document.execCommand("copy"),document.body.removeChild(c),!0}catch(h){null!==c&&document.body.contains(c)&&document.body.removeChild(c)}return!1}},{key:"getClipboardText",value:function(){return function(T,A,m,C){return new(m||(m=Promise))(function(h,U){function b(z){try{y(C.next(z))}catch(ee){U(ee)}}function X(z){try{y(C.throw(z))}catch(ee){U(ee)}}function y(z){z.done?h(z.value):function(h){return h instanceof m?h:new m(function(U){U(h)})}(z.value).then(b,X)}y((C=C.apply(T,A||[])).next())})}(this,void 0,void 0,n().mark(function C(){var c;return n().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(c=null,!navigator.clipboard){U.next=10;break}return U.prev=2,U.next=5,navigator.clipboard.readText();case 5:c=U.sent,U.next=10;break;case 8:U.prev=8,U.t0=U.catch(2);case 10:return U.abrupt("return",c);case 11:case"end":return U.stop()}},C,null,[[2,8]])}))}}]),A}();return T.\u0275fac=function(m){return new(m||T)},T.\u0275prov=ce.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T}()},3300:function(ge,ne,a){a.d(ne,{K:function(){return w}});var F=a(4942),K=a(7762),t=a(5671),n=a(3144),e=a(7399),g=a(4456),Q=a(2107),$=a(2206),L=function(){return(H=L||(L={}))[H.Astorias=0]="Astorias",H[H.Adrianne=1]="Adrianne",H[H.Beigarth=2]="Beigarth",H[H.CoryIronbender=3]="CoryIronbender",H[H.Smaloron=4]="Smaloron",H[H.Fulgurorn=5]="Fulgurorn",H[H.Hagan=6]="Hagan",H[H.OhmAgad=7]="OhmAgad",L;var H}(),q=[L.Astorias,L.Adrianne,L.Beigarth,L.CoryIronbender,L.Smaloron,L.Fulgurorn,L.Hagan,L.OhmAgad],p=a(1375),l=a(7795),r=a(3790),_=a(8313),x=a(5581),R=a(5542),w=function(){var H=function(){function u(N,I,O){(0,t.Z)(this,u),this.slormancerDataService=N,this.slormancerTranslateService=I,this.slormancerReaperService=O,this.STATS_OPTIONS_CACHE={},this.LEGENDARY_OPTIONS_CACHE={},this.ALL_STATS_OPTIONS_CACHE=[],this.ALL_REAPER_BUFF_OPTIONS_CACHE=[],this.ALL_SKILL_BUFF_OPTIONS_CACHE={0:[],1:[],2:[]},this.ALL_ATTRIBUTE_BUFF_OPTIONS_CACHE=[],this.ALL_REAPER_OPTIONS_CACHE={p:{0:[],1:[],2:[]},b:{0:[],1:[],2:[]}},this.ULTIMATUM_OPTIONS_CACHE=[],this.initStatOptionsCache(),this.initLegendaryOptionsCache(),this.initReaperBuffOptions(),this.initSkillBuffOptions(),this.initAttributeBuffOptions(),this.initReaperOptions(),this.initUltimatumOptions()}return(0,n.Z)(u,[{key:"getReaperOptions",value:function(I,O){return this.ALL_REAPER_OPTIONS_CACHE[O?"p":"b"][I]}},{key:"getStatsOptions",value:function(I,O){var G=this.ALL_STATS_OPTIONS_CACHE,k=this.STATS_OPTIONS_CACHE[I];return k&&(O===$.u.Normal?G=(0,x.Be)(k.P,[]):(O===$.u.Magic||O===$.u.Rare)&&(G=(0,x.Be)(k.S,[]))),G}},{key:"getLegendaryOptions",value:function(I,O){var G=[],k=this.LEGENDARY_OPTIONS_CACHE[I];return k&&(G=k[O]),G}},{key:"getReaperBuffOptions",value:function(){return this.ALL_REAPER_BUFF_OPTIONS_CACHE}},{key:"getSkillBuffOptions",value:function(I){return this.ALL_SKILL_BUFF_OPTIONS_CACHE[I]}},{key:"getAttributeBuffOptions",value:function(){return this.ALL_ATTRIBUTE_BUFF_OPTIONS_CACHE}},{key:"getUltimatumOptions",value:function(){return this.ULTIMATUM_OPTIONS_CACHE}},{key:"getBaseKey",value:function(I){return I===g.J.Body?"ARMOR":I.toUpperCase()}},{key:"initStatOptionsCache",value:function(){var I=this.slormancerDataService.getGameDataStats().filter(function(U){return"X"!==U.PERCENT});this.STATS_OPTIONS_CACHE={},this.ALL_STATS_OPTIONS_CACHE=[];var G,O=(0,K.Z)(I);try{for(O.s();!(G=O.n()).done;){var k=G.value,v={label:this.slormancerTranslateService.translate(k.REF)+("%"===k.PERCENT?" (%)":""),value:k.REF};this.ALL_STATS_OPTIONS_CACHE.push(v);var M,J=(0,K.Z)(g.l);try{for(J.s();!(M=J.n()).done;){var Z=M.value,te=k[this.getBaseKey(Z)];if(""!==te){var ce=this.STATS_OPTIONS_CACHE[Z];void 0===ce&&(this.STATS_OPTIONS_CACHE[Z]=ce={P:[],S:[]}),"P"===te&&ce.P.push(v),("P"===te||"S"===te)&&ce.S.push(v)}}}catch(U){J.e(U)}finally{J.f()}}}catch(U){O.e(U)}finally{O.f()}var T,_e=(0,K.Z)(g.l);try{for(_e.s();!(T=_e.n()).done;){var m=this.getBaseKey(T.value),C=this.STATS_OPTIONS_CACHE[m];if(C){var c=C.P,h=C.S;c&&c.sort(function(U,b){return(0,x.rR)(U.label,b.label)}),h&&h.sort(function(U,b){return(0,x.rR)(U.label,b.label)})}}}catch(U){_e.e(U)}finally{_e.f()}this.ALL_STATS_OPTIONS_CACHE.sort(function(U,b){return(0,x.rR)(U.label,b.label)})}},{key:"initLegendaryOptionsCache",value:function(){var I=this.slormancerDataService.getGameDataLegendaries().filter(function(M){return M.LOOTABLE});this.LEGENDARY_OPTIONS_CACHE={};var G,O=(0,K.Z)(I);try{for(O.s();!(G=O.n()).done;){var k=G.value,v={value:k.REF,label:k.EN_NAME},J=this.LEGENDARY_OPTIONS_CACHE[k.ITEM];void 0===J&&(this.LEGENDARY_OPTIONS_CACHE[k.ITEM]=J={0:[],1:[],2:[]}),-1===k.HERO||99===k.HERO?(J[0].push(v),J[1].push(v),J[2].push(v)):J[k.HERO].push(v)}}catch(M){O.e(M)}finally{O.f()}}},{key:"initReaperBuffOptions",value:function(){var I=this;this.ALL_REAPER_BUFF_OPTIONS_CACHE=q.filter(function(O){return O!==L.OhmAgad}).map(function(O){return{value:O,label:I.slormancerTranslateService.translate("weapon_reapersmith_"+O)}})}},{key:"initSkillBuffOptions",value:function(){var I;this.ALL_SKILL_BUFF_OPTIONS_CACHE=((0,F.Z)(I={},Q.i.Warrior,this.slormancerDataService.getGameDataActiveSkills(Q.i.Warrior).map(function(O){return{value:O.REF,label:O.EN_NAME}})),(0,F.Z)(I,Q.i.Huntress,this.slormancerDataService.getGameDataActiveSkills(Q.i.Huntress).map(function(O){return{value:O.REF,label:O.EN_NAME}})),(0,F.Z)(I,Q.i.Mage,this.slormancerDataService.getGameDataActiveSkills(Q.i.Mage).map(function(O){return{value:O.REF,label:O.EN_NAME}})),I)}},{key:"initAttributeBuffOptions",value:function(){var I=this;this.ALL_ATTRIBUTE_BUFF_OPTIONS_CACHE=e.A.map(function(O){return{value:O,label:I.slormancerTranslateService.translate("character_trait_"+O)}})}},{key:"initReaperOptions",value:function(){this.ALL_REAPER_OPTIONS_CACHE={p:{0:[],1:[],2:[]},b:{0:[],1:[],2:[]}};var G,I=this.slormancerDataService.getGameDataAvailableReaper(),O=(0,K.Z)(I);try{for(O.s();!(G=O.n()).done;){var k=G.value;this.ALL_REAPER_OPTIONS_CACHE.p[Q.i.Warrior].push({value:k.REF,label:this.slormancerReaperService.getReaperName(k.EN_NAME,!0,Q.i.Warrior)}),this.ALL_REAPER_OPTIONS_CACHE.p[Q.i.Huntress].push({value:k.REF,label:this.slormancerReaperService.getReaperName(k.EN_NAME,!0,Q.i.Huntress)}),this.ALL_REAPER_OPTIONS_CACHE.p[Q.i.Mage].push({value:k.REF,label:this.slormancerReaperService.getReaperName(k.EN_NAME,!0,Q.i.Mage)}),this.ALL_REAPER_OPTIONS_CACHE.b[Q.i.Warrior].push({value:k.REF,label:this.slormancerReaperService.getReaperName(k.EN_NAME,!1,Q.i.Warrior)}),this.ALL_REAPER_OPTIONS_CACHE.b[Q.i.Huntress].push({value:k.REF,label:this.slormancerReaperService.getReaperName(k.EN_NAME,!1,Q.i.Huntress)}),this.ALL_REAPER_OPTIONS_CACHE.b[Q.i.Mage].push({value:k.REF,label:this.slormancerReaperService.getReaperName(k.EN_NAME,!1,Q.i.Mage)})}}catch(v){O.e(v)}finally{O.f()}}},{key:"initUltimatumOptions",value:function(){var I=this;this.ULTIMATUM_OPTIONS_CACHE=p.N.map(function(O){return{value:O,label:I.slormancerTranslateService.translate("ultimatum_"+O)}})}}]),u}();return H.\u0275fac=function(N){return new(N||H)(R.LFG(l.o),R.LFG(_.n),R.LFG(r.I))},H.\u0275prov=R.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H}()},8271:function(ge,ne,a){a.d(ne,{s:function(){return L}});var F=a(5671),K=a(3144),t=a(7106),n=a(5458),e=a(2473),g=a(5581),Q=a(3390),$=a(5542),L=function(){var q=function(){function p(l,r,_,x){(0,F.Z)(this,p),this.slormancerCharacterBuilderService=l,this.slormancerSaveParserService=r,this.slormancerShortDataService=_,this.jsonConverterService=x,this.VIEW_BUILD_PATH=window.origin+"/view/build/",this.VIEW_ITEM_PATH=window.origin+"/view/item/"}return(0,K.Z)(p,[{key:"parseSaveData",value:function(r,_){var x=this.slormancerSaveParserService.parseSaveFile(r);return this.slormancerCharacterBuilderService.getCharacterFromSave(x,_)}},{key:"parseUrlData",value:function(r){var _={character:null,layer:null,planner:null},x=null;try{var w=new URL(r).pathname.split("/");x=(0,g.lA)(w[w.length-1])}catch(H){}return null!==x&&(_=this.importFromShortData(x)),_}},{key:"parseJsonData",value:function(r){var _=JSON.parse(r);return this.jsonConverterService.jsonToSharedData(_)}},{key:"import",value:function(r){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,x={character:null,layer:null,planner:null};if(null!==_)try{return x.character=this.parseSaveData(r,_),x}catch(R){console.error("Error when parsing save file : ",R)}try{return this.parseJsonData(atob(r))}catch(R){}try{return this.parseJsonData(r)}catch(R){}return null===(x=this.importFromShortData(r)).character&&this.parseUrlData(r),x}},{key:"exportCharacter",value:function(r){return btoa(JSON.stringify(this.jsonConverterService.characterToJson(r)))}},{key:"exportLayer",value:function(r){return btoa(JSON.stringify(this.jsonConverterService.layerToJson(r)))}},{key:"exportPlanner",value:function(r){return btoa(JSON.stringify(this.jsonConverterService.plannerToJson(r)))}},{key:"exportCharacterAsLink",value:function(r){var _=this.slormancerShortDataService.characterToShortData(r);return this.VIEW_BUILD_PATH+_}},{key:"exportItemAsLink",value:function(r){var _=this.slormancerShortDataService.itemToShortData(r);return this.VIEW_ITEM_PATH+_}},{key:"importFromShortData",value:function(r){return{character:this.slormancerShortDataService.shortDataToCharacter(r),layer:null,planner:null}}}]),p}();return q.\u0275fac=function(l){return new(l||q)($.LFG(e.o),$.LFG(t.X),$.LFG(n.q),$.LFG(Q.D))},q.\u0275prov=$.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q}()},7469:function(ge,ne,a){a.d(ne,{v:function(){return $}});var F=a(4902),K=a(5671),t=a(3144),n=a(1135),e=a(4456),g=a(4917),Q=a(5542),$=function(){var L=function(){function q(p){var l=this;(0,K.Z)(this,q),this.plannerService=p,this.draggingItem=new n.X(!1),this.dragCount=0,this.character=null,this.item=null,this.requiredBase=null,this.callback=null,this.plannerService.characterChanged.subscribe(function(r){return l.character=r})}return(0,t.Z)(q,[{key:"hold",value:function(l,r){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.dragCount=0,this.item=l,this.requiredBase=r,this.callback=_}},{key:"startDragging",value:function(){this.draggingItem.getValue()||(this.dragCount++,null!==this.item&&this.dragCount>5&&this.draggingItem.next(!0))}},{key:"isDragItemCompatible",value:function(l,r){return!(null!==l&&null!==this.requiredBase&&l.base!==this.requiredBase||null===this.item||null!==r&&this.item.base!==r)}},{key:"isHoldItem",value:function(l){return l===this.item&&null!==l}},{key:"getHoldItem",value:function(){return this.item}},{key:"releaseHoldItem",value:function(){this.item=null,this.requiredBase=null,this.callback=null,this.draggingItem.next(!1)}},{key:"swap",value:function(l,r,_){var x=this.item,R=this.callback,w=this.isDragItemCompatible(l,r);this.releaseHoldItem(),l!==x&&(w?(R&&R(!0,l),_&&_(!0,x)):(R&&R(!1,null),_&&_(!1,null)))}},{key:"moveDraggedItemToItemGroup",value:function(l){var r=this.item,_=this.callback,x=l.indexOf(null),R=l.indexOf(r);if(this.releaseHoldItem(),-1!==x||-1!==R){_&&_(!0,null);var w=Math.min.apply(Math,(0,F.Z)([x,R].filter(function(H){return-1!==H})));l.splice(w,1,r)}else _&&_(!1,null)}},{key:"equip",value:function(l,r){var _=this.character;if(null!==_){var x=l.base;switch(this.hold(l,x,r),x){case e.J.Amulet:this.swap(_.gear.amulet,x,function(R,w){return R?_.gear.amulet=w:null});break;case e.J.Belt:this.swap(_.gear.belt,x,function(R,w){return R?_.gear.belt=w:null});break;case e.J.Body:this.swap(_.gear.body,x,function(R,w){return R?_.gear.body=w:null});break;case e.J.Boot:this.swap(_.gear.boot,x,function(R,w){return R?_.gear.boot=w:null});break;case e.J.Bracer:this.swap(_.gear.bracer,x,function(R,w){return R?_.gear.bracer=w:null});break;case e.J.Cape:this.swap(_.gear.cape,x,function(R,w){return R?_.gear.cape=w:null});break;case e.J.Glove:this.swap(_.gear.glove,x,function(R,w){return R?_.gear.glove=w:null});break;case e.J.Helm:this.swap(_.gear.helm,x,function(R,w){return R?_.gear.helm=w:null});break;case e.J.Shoulder:this.swap(_.gear.shoulder,x,function(R,w){return R?_.gear.shoulder=w:null});break;case e.J.Ring:null===_.gear.ring_r?this.swap(_.gear.ring_r,x,function(R,w){return R?_.gear.ring_r=w:null}):this.swap(_.gear.ring_l,x,function(R,w){return R?_.gear.ring_l=w:null})}}}},{key:"moveToStash",value:function(l,r){var _=this.character;if(null!==_){var x=[_.inventory].concat((0,F.Z)(_.sharedInventory)).filter(function(R){return void 0!==R.find(function(w){return null===w})})[0];x&&(this.hold(l,null,r),this.moveDraggedItemToItemGroup(x))}}}]),q}();return L.\u0275fac=function(p){return new(p||L)(Q.LFG(g.q))},L.\u0275prov=Q.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L}()},2424:function(ge,ne,a){a.d(ne,{o:function(){return $}});var F=a(4902),K=a(7762),t=a(5671),n=a(3144),e=a(1135),g=a(5581),Q=a(5542),$=function(){var L=function(){function q(){(0,t.Z)(this,q),this.search=null,this.dom=document.createElement("div"),this.searchChanged=new e.X(null)}return(0,n.Z)(q,[{key:"hasSearch",value:function(){return null!==this.search}},{key:"setSearch",value:function(l){this.search=null!==l&&l.length>0?l:null,this.searchChanged.next(this.search)}},{key:"getCleanSearchValue",value:function(){return null===this.search?null:this.search.toLowerCase().trim()}},{key:"removeHtmlTags",value:function(l){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],_=l;if(null!==_){if(this.dom.innerHTML=_.toLowerCase(),r.length>0){var R,x=(0,K.Z)(r);try{for(x.s();!(R=x.n()).done;)for(var w=R.value,H=this.dom.getElementsByClassName(w),u=0,N=H.length;u<N;u++){var I=H.item(u);I&&I.remove()}}catch(O){x.e(O)}finally{x.f()}}_=this.dom.textContent}return _}},{key:"stringsMatchSearch",value:function(l){var r=!0,_=this.getCleanSearchValue();return null!==_&&(r=null===this.search||void 0!==l.find(function(x){return(0,g.BX)(x)&&-1!==x.toLowerCase().indexOf(_)})),r}},{key:"itemMatchSearch",value:function(l){var r=this;return this.stringsMatchSearch([l.level.toString(),l.name,l.base,l.rarity].concat((0,F.Z)(l.affixes.map(function(_){return[_.isPure?"pure":null,r.removeHtmlTags(_.valueLabel+" "+_.statLabel,["details"])]}).flat()),[null===l.legendaryEffect?null:this.removeHtmlTags(l.legendaryEffect.description,["details"]),null!==l.reaperEnchantment?this.removeHtmlTags(l.reaperEnchantment.label,["details"]):null,null!==l.skillEnchantment?this.removeHtmlTags(l.skillEnchantment.label,["details"]):null,null!==l.attributeEnchantment?this.removeHtmlTags(l.attributeEnchantment.label,["details"]):null]))}},{key:"upgradeMatchSearch",value:function(l){return this.stringsMatchSearch([l.name,l.type,this.removeHtmlTags(l.description)].concat((0,F.Z)(l.genres),[l.genresLabel,this.removeHtmlTags(l.costLabel),this.removeHtmlTags(l.costType)],(0,F.Z)(l.relatedBuffs.map(function(r){return r.name})),(0,F.Z)(l.relatedClassMechanics.map(function(r){return r.name})),(0,F.Z)(l.relatedMechanics.map(function(r){return r.name}))))}},{key:"ancestralLegacyMatchSearch",value:function(l){return this.stringsMatchSearch([l.name,l.costType].concat((0,F.Z)(l.genres),[l.isActivable?"activable":null,this.removeHtmlTags(l.description)],(0,F.Z)(l.relatedBuffs.map(function(r){return r.name})),(0,F.Z)(l.relatedMechanics.map(function(r){return r.name})),(0,F.Z)(l.types),[l.typeLabel,l.genresLabel,l.costLabel]))}},{key:"traitMatchSearch",value:function(l){return this.stringsMatchSearch([l.rankLabel,this.removeHtmlTags(l.cumulativeStats),this.removeHtmlTags(l.description),l.traitLevelLabel])}}]),q}();return L.\u0275fac=function(p){return new(p||L)},L.\u0275prov=Q.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L}()},2271:function(ge,ne,a){a.d(ne,{m:function(){return Q}});var F=a(3144),K=a(5671),t=a(9808),n=a(3075),e=a(9881),g=a(5542),Q=function(){var $=(0,F.Z)(function L(){(0,K.Z)(this,L)});return $.\u0275fac=function(q){return new(q||$)},$.\u0275mod=g.oAB({type:$}),$.\u0275inj=g.cJS({providers:[],imports:[[t.ez,e.q,n.UX],e.q,n.UX]}),$}()}}]);