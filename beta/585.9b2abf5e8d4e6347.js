"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[585],{6446:(J,E,s)=>{s.d(E,{B:()=>h});var e=s(7579),i=s(5e3);let h=(()=>{class m{constructor(){this.unsubscribe=new e.x}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}}return m.\u0275fac=function(t){return new(t||m)},m.\u0275cmp=i.Xpm({type:m,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,a){},encapsulation:2}),m})()},8003:(J,E,s)=>{s.d(E,{K:()=>a});var e=s(5e3),i=s(9808);function h(n,u){if(1&n&&e._UZ(0,"div",11),2&n){const d=e.oxw(2);e.Q6J("innerHTML",d.activable.genresLabel,e.oJD)}}function m(n,u){if(1&n&&e._UZ(0,"div",12),2&n){const d=e.oxw(2);e.Q6J("innerHTML",d.activable.cooldownLabel,e.oJD)}}function y(n,u){if(1&n&&e._UZ(0,"div",13),2&n){const d=e.oxw(2);e.Q6J("innerHTML",d.activable.costLabel,e.oJD)}}function t(n,u){if(1&n&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e._UZ(3,"img",4),e.qZA(),e.TgZ(4,"div",5)(5,"div",6),e._uU(6),e.qZA(),e.YNc(7,h,1,1,"div",7),e.YNc(8,m,1,1,"div",8),e.YNc(9,y,1,1,"div",9),e.qZA()(),e._UZ(10,"div",10),e.qZA()),2&n){const d=e.oxw();e.xp6(3),e.Q6J("src",d.activable.icon,e.LSH),e.xp6(3),e.Oqu(d.activable.name),e.xp6(1),e.Q6J("ngIf",null!==d.activable.genresLabel),e.xp6(1),e.Q6J("ngIf",null!==d.activable.cooldownLabel),e.xp6(1),e.Q6J("ngIf",null!==!d.activable.costLabel),e.xp6(1),e.Q6J("innerHTML",d.activable.description,e.oJD)}}let a=(()=>{class n{constructor(){this.activable=null,this.reinforcment=0}}return n.\u0275fac=function(d){return new(d||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-activable-view"]],inputs:{activable:"activable",reinforcment:"reinforcment"},decls:1,vars:1,consts:[["class","activable",4,"ngIf"],[1,"activable"],[1,"activable-head"],[1,"icon"],["loading","lazy",3,"src"],[1,"info"],[1,"name"],["class","genre",3,"innerHTML",4,"ngIf"],["class","cooldown",3,"innerHTML",4,"ngIf"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"description",3,"innerHTML"],[1,"genre",3,"innerHTML"],[1,"cooldown",3,"innerHTML"],[1,"cost",3,"innerHTML"]],template:function(d,M){1&d&&e.YNc(0,t,11,6,"div",0),2&d&&e.Q6J("ngIf",null!==M.activable)},dependencies:[i.O5],styles:[".activable[_ngcontent-%COMP%]{background-color:#151412;border:3px solid black;color:#fff;padding:5px;display:flex;flex-direction:column;gap:5px}.activable[_ngcontent-%COMP%]  .value{color:#ce4607}.activable[_ngcontent-%COMP%]  .range, .activable[_ngcontent-%COMP%]  .range .value, .activable[_ngcontent-%COMP%]  .details, .activable[_ngcontent-%COMP%]  .details .value, .activable[_ngcontent-%COMP%]  .formula, .activable[_ngcontent-%COMP%]  .formula .value{color:#686868}.activable[_ngcontent-%COMP%]  .affixes .range, .activable[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.activable[_ngcontent-%COMP%]  .life{color:#257539}.activable[_ngcontent-%COMP%]  .mana{color:#3397dd}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:5px}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;align-items:center;border:4px solid rgb(190,135,31);min-width:44px;min-height:44px;width:44px;height:44px}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid black;min-width:36px;min-height:36px;width:36px;height:36px}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:19px;color:#ce4607}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.activable[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}"]}),n})()},9065:(J,E,s)=>{s.d(E,{q:()=>a});var e=s(2419),i=s(5e3);function h(n,u){if(1&n&&i._UZ(0,"div",17),2&n){const d=i.oxw(2);i.Q6J("innerHTML",d.ancestralLegacy.genresLabel,i.oJD)}}function m(n,u){if(1&n&&i._UZ(0,"div",18),2&n){const d=i.oxw(2);i.Q6J("innerHTML",d.ancestralLegacy.cooldownLabel,i.oJD)}}function y(n,u){if(1&n&&i._UZ(0,"div",19),2&n){const d=i.oxw(2);i.Q6J("innerHTML",d.ancestralLegacy.costLabel,i.oJD)}}function t(n,u){if(1&n&&(i.TgZ(0,"div")(1,"div",1),i._uU(2),i.qZA(),i.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),i._UZ(7,"div",6)(8,"img",7),i.qZA()(),i.TgZ(9,"div",8),i._UZ(10,"div",9),i.YNc(11,h,1,1,"div",10),i.YNc(12,m,1,1,"div",11),i._UZ(13,"div",12),i.YNc(14,y,1,1,"div",13),i.qZA()(),i._UZ(15,"div",14)(16,"div",15)(17,"app-mechanics-view",16),i.qZA()()),2&n){const d=i.oxw();i.Gre("ancestral-legacy ",d.ancestralLegacy.damageTypes.length>0?d.ancestralLegacy.damageTypes[0]:"",""),i.xp6(2),i.Oqu(d.ancestralLegacy.name),i.xp6(6),i.Q6J("src",d.ancestralLegacy.icon,i.LSH),i.xp6(2),i.Q6J("innerHTML",d.ancestralLegacy.typeLabel,i.oJD),i.xp6(1),i.Q6J("ngIf",null!==d.ancestralLegacy.genresLabel),i.xp6(1),i.Q6J("ngIf",null!==d.ancestralLegacy.cooldownLabel),i.xp6(1),i.Q6J("innerHTML",d.ancestralLegacy.rankLabel,i.oJD),i.xp6(1),i.Q6J("ngIf",null!==d.ancestralLegacy.costLabel),i.xp6(2),i.Q6J("innerHTML",d.ancestralLegacy.description,i.oJD),i.xp6(1),i.Q6J("mechanics",d.ancestralLegacy.relatedMechanics)("buffs",d.ancestralLegacy.relatedBuffs)}}let a=(()=>{class n{constructor(d){this.slormancerTranslateService=d,this.ancestralLegacy=null,this.hideNextRank=!1,this.NEXT_RANK_LABEL=this.slormancerTranslateService.translate("tt_next_rank"),this.MAX_RANK_LABEL=this.slormancerTranslateService.translate("tt_max_rank")}}return n.\u0275fac=function(d){return new(d||n)(i.Y36(e.n6D))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-ancestral-legacy-view"]],inputs:{ancestralLegacy:"ancestralLegacy",hideNextRank:"hideNextRank"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head"],[1,"content"],[1,"info"],[1,"visual"],[1,"icon"],[1,"icon-border"],[3,"src"],[1,"data"],[1,"type",3,"innerHTML"],["class","genre",3,"innerHTML",4,"ngIf"],["class","cooldown",3,"innerHTML",4,"ngIf"],[1,"rank",3,"innerHTML"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"separator"],[1,"description",3,"innerHTML"],[3,"mechanics","buffs"],[1,"genre",3,"innerHTML"],[1,"cooldown",3,"innerHTML"],[1,"cost",3,"innerHTML"]],template:function(d,M){1&d&&i.YNc(0,t,18,13,"div",0),2&d&&i.Q6J("ngIf",null!==M.ancestralLegacy)},styles:[".ancestral-legacy[_ngcontent-%COMP%]{background-color:#090909;border:3px solid black;color:#fff;display:flex;flex-direction:column;max-width:400px}.ancestral-legacy[_ngcontent-%COMP%]  .description .value{color:#ce4607}.ancestral-legacy[_ngcontent-%COMP%]  .next-rank .value, .ancestral-legacy[_ngcontent-%COMP%]  .head, .ancestral-legacy[_ngcontent-%COMP%]  .rank .current, .ancestral-legacy[_ngcontent-%COMP%]  .cooldown .value{color:#bb1fe2}.ancestral-legacy[_ngcontent-%COMP%]  .range, .ancestral-legacy[_ngcontent-%COMP%]  .range .value, .ancestral-legacy[_ngcontent-%COMP%]  .details, .ancestral-legacy[_ngcontent-%COMP%]  .details .value, .ancestral-legacy[_ngcontent-%COMP%]  .formula, .ancestral-legacy[_ngcontent-%COMP%]  .formula .value{color:#686868}.ancestral-legacy[_ngcontent-%COMP%]  .affixes .range, .ancestral-legacy[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.ancestral-legacy[_ngcontent-%COMP%]  .life{color:#257539}.ancestral-legacy[_ngcontent-%COMP%]  .mana{color:#3397dd}.ancestral-legacy.mag[_ngcontent-%COMP%]  .value:not(.mana){color:#bb1fe2}.ancestral-legacy[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:3px solid rgb(60,57,49)}.ancestral-legacy[_ngcontent-%COMP%]   .head.head[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.head[_ngcontent-%COMP%]{text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;padding:10px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;gap:10px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{display:flex;align-items:center}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border:3px solid rgb(190,135,31);min-width:60px;min-height:60px;width:60px;height:60px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black;image-rendering:pixelated;width:54px;height:54px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-transform:uppercase;height:100%;flex-grow:1;padding:5px 0;gap:5px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#3155bc}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]{display:flex;flex-direction:row}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{min-width:8px;padding-right:8px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;background-color:#ce4607;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}"]}),n})()},9246:(J,E,s)=>{s.d(E,{P:()=>y});var e=s(5e3),i=s(9808);function h(t,a){if(1&t&&e._UZ(0,"div",7),2&t){const n=e.oxw(2);e.Q6J("innerHTML",n.attributeTraits.summary,e.oJD)}}function m(t,a){if(1&t&&(e.TgZ(0,"div")(1,"div",1)(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._uU(5),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5),e._uU(8),e.qZA(),e.YNc(9,h,1,1,"div",6),e.qZA()()),2&t){const n=e.oxw();e.Gre("trait attribute-",n.attributeTraits.attribute,""),e.xp6(3),e.Oqu(n.attributeTraits.attributeName),e.xp6(2),e.Oqu(n.attributeTraits.title),e.xp6(3),e.Oqu(n.attributeTraits.recapLabel),e.xp6(1),e.Q6J("ngIf",null!==n.attributeTraits.summary)}}let y=(()=>{class t{constructor(){this.attributeTraits=null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-attribute-summary-view"]],inputs:{attributeTraits:"attributeTraits"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head"],[1,"attribute"],[1,"subtitle"],[1,"content"],[1,"info"],["class","description",3,"innerHTML",4,"ngIf"],[1,"description",3,"innerHTML"]],template:function(n,u){1&n&&e.YNc(0,m,10,7,"div",0),2&n&&e.Q6J("ngIf",null!==u.attributeTraits)},dependencies:[i.O5],styles:[".trait[_ngcontent-%COMP%]{background-color:#151412;border:3px solid black;color:#fff;display:flex;flex-direction:column;gap:5px;min-width:250px}.trait.attribute-0[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]     .value{color:#2f5996}.trait.attribute-1[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]     .value{color:#a83007}.trait.attribute-2[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]     .value{color:#79b549}.trait.attribute-3[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]     .value{color:#d0b545}.trait.attribute-4[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]     .value{color:#4bc1b2}.trait.attribute-5[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]     .value{color:#753098}.trait.attribute-6[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]     .value{color:#cd7028}.trait.attribute-7[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]     .value{color:#bf3c59}.trait[_ngcontent-%COMP%]  .locked{color:#686868}.trait[_ngcontent-%COMP%]  .range, .trait[_ngcontent-%COMP%]  .range .value, .trait[_ngcontent-%COMP%]  .details, .trait[_ngcontent-%COMP%]  .details .value, .trait[_ngcontent-%COMP%]  .formula, .trait[_ngcontent-%COMP%]  .formula .value, .trait[_ngcontent-%COMP%]  .max, .trait[_ngcontent-%COMP%]  .max .value{color:#686868}.trait[_ngcontent-%COMP%]  .affixes .range, .trait[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:3px solid rgb(60,57,49)}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-transform:uppercase;padding:10px;gap:2px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .attribute[_ngcontent-%COMP%]{font-size:19px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px 10px;gap:20px;text-align:center}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}"]}),t})()},3761:(J,E,s)=>{s.d(E,{F:()=>R});var e=s(3075),i=s(2349),h=s(2419),m=s(311),y=s(1671),t=s(5e3);function a(p,f){if(1&p){const l=t.EpF();t.TgZ(0,"div",21)(1,"button",22),t.NdJ("click",function(){t.CHM(l);const I=t.oxw(2);return t.KtG(I.addBasicAffix())}),t.TgZ(2,"mat-icon"),t._uU(3,"add"),t.qZA()()()}}function n(p,f){if(1&p){const l=t.EpF();t.TgZ(0,"app-item-edit-stat",24),t.NdJ("remove",function(){t.CHM(l);const I=t.oxw().$implicit,Z=t.oxw(3);return t.KtG(Z.removeAffix(I))}),t.qZA()}if(2&p){const l=t.oxw().$implicit,c=t.oxw(3);t.Q6J("form",l)("itemBase",c.item.base)("itemLevel",c.item.level)("itemReinforcment",c.item.reinforcment)("alreadyUsedStats",c.alreadyUsedStats)("removable",!1)}}function u(p,f){if(1&p&&(t.ynx(0),t.YNc(1,n,1,6,"app-item-edit-stat",23),t.BQk()),2&p){const l=f.$implicit,c=t.oxw(3);t.xp6(1),t.Q6J("ngIf",c.isBasicStat(l))}}function d(p,f){if(1&p&&(t.ynx(0),t.YNc(1,u,2,1,"ng-container",14),t.BQk()),2&p){const l=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",l.form.controls.affixes.controls)}}function M(p,f){if(1&p){const l=t.EpF();t.TgZ(0,"div",21)(1,"button",22),t.NdJ("click",function(){t.CHM(l);const I=t.oxw(3);return t.KtG(I.addDefensiveAffix())}),t.TgZ(2,"mat-icon"),t._uU(3,"add"),t.qZA()()()}}function o(p,f){if(1&p&&(t.TgZ(0,"div",9)(1,"div",10),t._uU(2," Defensive Stats : "),t.qZA(),t.YNc(3,M,4,0,"div",11),t.qZA()),2&p){const l=t.oxw(2);t.xp6(3),t.Q6J("ngIf",l.hasBasicStats()&&!l.hasMaximumDefensiveStats())}}function _(p,f){if(1&p){const l=t.EpF();t.TgZ(0,"app-item-edit-stat",24),t.NdJ("remove",function(){t.CHM(l);const I=t.oxw().$implicit,Z=t.oxw(2);return t.KtG(Z.removeAffix(I))}),t.qZA()}if(2&p){const l=t.oxw().$implicit,c=t.oxw(2);t.Q6J("form",l)("itemBase",c.item.base)("itemLevel",c.item.level)("itemReinforcment",c.item.reinforcment)("alreadyUsedStats",c.alreadyUsedStats)("removable",!c.hasRareStats()&&!c.hasEpicStats()&&!c.hasMagicStats())}}function P(p,f){if(1&p&&(t.ynx(0),t.YNc(1,_,1,6,"app-item-edit-stat",23),t.BQk()),2&p){const l=f.$implicit,c=t.oxw(2);t.xp6(1),t.Q6J("ngIf",c.isDefensiveStat(l))}}function g(p,f){if(1&p){const l=t.EpF();t.TgZ(0,"div",21)(1,"button",22),t.NdJ("click",function(){t.CHM(l);const I=t.oxw(3);return t.KtG(I.addMagicAffix())}),t.TgZ(2,"mat-icon"),t._uU(3,"add"),t.qZA()()()}}function L(p,f){if(1&p&&(t.TgZ(0,"div",9)(1,"div",10),t._uU(2," Magic Stats : "),t.qZA(),t.YNc(3,g,4,0,"div",11),t.qZA()),2&p){const l=t.oxw(2);t.xp6(3),t.Q6J("ngIf",l.hasBasicStats()&&!l.hasMaximumMagicStats())}}function O(p,f){if(1&p){const l=t.EpF();t.TgZ(0,"app-item-edit-stat",24),t.NdJ("remove",function(){t.CHM(l);const I=t.oxw().$implicit,Z=t.oxw(2);return t.KtG(Z.removeAffix(I))}),t.qZA()}if(2&p){const l=t.oxw().$implicit,c=t.oxw(2);t.Q6J("form",l)("itemBase",c.item.base)("itemLevel",c.item.level)("itemReinforcment",c.item.reinforcment)("alreadyUsedStats",c.alreadyUsedStats)("removable",!c.hasRareStats()&&!c.hasEpicStats())}}function A(p,f){if(1&p&&(t.ynx(0),t.YNc(1,O,1,6,"app-item-edit-stat",23),t.BQk()),2&p){const l=f.$implicit,c=t.oxw(2);t.xp6(1),t.Q6J("ngIf",c.isMagicStat(l))}}function b(p,f){if(1&p){const l=t.EpF();t.TgZ(0,"div",21)(1,"button",22),t.NdJ("click",function(){t.CHM(l);const I=t.oxw(3);return t.KtG(I.addRareAffix())}),t.TgZ(2,"mat-icon"),t._uU(3,"add"),t.qZA()()()}}function w(p,f){if(1&p&&(t.TgZ(0,"div",9)(1,"div",10),t._uU(2," Rare Stats : "),t.qZA(),t.YNc(3,b,4,0,"div",11),t.qZA()),2&p){const l=t.oxw(2);t.xp6(3),t.Q6J("ngIf",l.hasMagicStats()&&!l.hasMaximumRareStats())}}function U(p,f){if(1&p){const l=t.EpF();t.TgZ(0,"app-item-edit-stat",24),t.NdJ("remove",function(){t.CHM(l);const I=t.oxw().$implicit,Z=t.oxw(2);return t.KtG(Z.removeAffix(I))}),t.qZA()}if(2&p){const l=t.oxw().$implicit,c=t.oxw(2);t.Q6J("form",l)("itemBase",c.item.base)("itemLevel",c.item.level)("itemReinforcment",c.item.reinforcment)("alreadyUsedStats",c.alreadyUsedStats)("removable",!c.hasEpicStats())}}function D(p,f){if(1&p&&(t.ynx(0),t.YNc(1,U,1,6,"app-item-edit-stat",23),t.BQk()),2&p){const l=f.$implicit,c=t.oxw(2);t.xp6(1),t.Q6J("ngIf",c.isRareStat(l))}}function V(p,f){if(1&p){const l=t.EpF();t.TgZ(0,"div",21)(1,"button",22),t.NdJ("click",function(){t.CHM(l);const I=t.oxw(3);return t.KtG(I.addEpicAffix())}),t.TgZ(2,"mat-icon"),t._uU(3,"add"),t.qZA()()()}}function F(p,f){if(1&p&&(t.TgZ(0,"div",9)(1,"div",10),t._uU(2," Epic Stats : "),t.qZA(),t.YNc(3,V,4,0,"div",11),t.qZA()),2&p){const l=t.oxw(2);t.xp6(3),t.Q6J("ngIf",l.hasRareStats()&&!l.hasMaximumEpicStats())}}function Y(p,f){if(1&p){const l=t.EpF();t.TgZ(0,"app-item-edit-stat",24),t.NdJ("remove",function(){t.CHM(l);const I=t.oxw().$implicit,Z=t.oxw(2);return t.KtG(Z.removeAffix(I))}),t.qZA()}if(2&p){const l=t.oxw().$implicit,c=t.oxw(2);t.Q6J("form",l)("itemBase",c.item.base)("itemLevel",c.item.level)("itemReinforcment",c.item.reinforcment)("alreadyUsedStats",c.alreadyUsedStats)("removable",!0)}}function q(p,f){if(1&p&&(t.ynx(0),t.YNc(1,Y,1,6,"app-item-edit-stat",23),t.BQk()),2&p){const l=f.$implicit,c=t.oxw(2);t.xp6(1),t.Q6J("ngIf",c.isEpicStat(l))}}function S(p,f){if(1&p){const l=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){t.CHM(l);const I=t.oxw();return t.KtG(I.submit())}),t.TgZ(1,"mat-dialog-content")(2,"div",2),t._UZ(3,"app-item-view",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"mat-form-field",6)(7,"mat-label"),t._uU(8,"Item level"),t.qZA(),t._UZ(9,"input",7),t.TgZ(10,"mat-error"),t._uU(11),t.qZA()(),t.TgZ(12,"mat-form-field",6)(13,"mat-label"),t._uU(14,"Item reinforcment"),t.qZA(),t._UZ(15,"input",8),t.TgZ(16,"mat-error"),t._uU(17,"Reinforcment must be >= 0"),t.qZA()()(),t.TgZ(18,"div",9)(19,"div",10),t._uU(20," Base Stats : "),t.qZA(),t.YNc(21,a,4,0,"div",11),t.qZA(),t.YNc(22,d,2,1,"ng-container",12),t.YNc(23,o,4,1,"div",13),t.YNc(24,P,2,1,"ng-container",14),t.YNc(25,L,4,1,"div",13),t.YNc(26,A,2,1,"ng-container",14),t.YNc(27,w,4,1,"div",13),t.YNc(28,D,2,1,"ng-container",14),t.YNc(29,F,4,1,"div",13),t.YNc(30,q,2,1,"ng-container",14),t._UZ(31,"app-item-edit-legendary-effect",15)(32,"app-item-edit-buff-reaper",16)(33,"app-item-edit-buff-skill",17)(34,"app-item-edit-buff-attribute",16),t.qZA()(),t.TgZ(35,"mat-dialog-actions")(36,"button",18),t._uU(37,"Cancel"),t.qZA(),t.TgZ(38,"button",19),t.NdJ("click",function(){t.CHM(l);const I=t.oxw();return t.KtG(I.reset())}),t._uU(39,"Reset"),t.qZA(),t.TgZ(40,"button",20),t._uU(41,"Apply"),t.qZA()()()}if(2&p){const l=t.oxw();t.Q6J("formGroup",l.form),t.xp6(3),t.Q6J("item",l.item)("details",!0),t.xp6(8),t.hij("Level must be between 1 and ",l.MAX_NEITHER_ITEM_LEVEL,""),t.xp6(10),t.Q6J("ngIf",!l.hasMaximumBasicStats()),t.xp6(1),t.Q6J("ngIf",l.hasBasicStats()),t.xp6(1),t.Q6J("ngIf",l.hasBasicStats()),t.xp6(1),t.Q6J("ngForOf",l.form.controls.affixes.controls),t.xp6(1),t.Q6J("ngIf",l.hasBasicStats()),t.xp6(1),t.Q6J("ngForOf",l.form.controls.affixes.controls),t.xp6(1),t.Q6J("ngIf",l.hasMagicStats()),t.xp6(1),t.Q6J("ngForOf",l.form.controls.affixes.controls),t.xp6(1),t.Q6J("ngIf",l.hasRareStats()),t.xp6(1),t.Q6J("ngForOf",l.form.controls.affixes.controls),t.xp6(1),t.Q6J("base",l.item.base)("itemLevel",l.item.level)("itemReinforcment",l.item.reinforcment)("heroClass",l.item.heroClass)("form",l.form.controls.legendary),t.xp6(1),t.Q6J("form",l.form.controls.reaper),t.xp6(1),t.Q6J("heroClass",l.item.heroClass)("form",l.form.controls.skill),t.xp6(1),t.Q6J("form",l.form.controls.attribute),t.xp6(6),t.Q6J("disabled",!l.form.valid||!l.possible)}}let R=(()=>{class p{constructor(l,c,I,Z,Q,N,K,j,G){this.dialogRef=l,this.slormancerCharacterUpdaterService=c,this.slormancerItemService=I,this.slormancerAffixService=Z,this.slormancerLegendaryEffectService=Q,this.slormancerTranslationService=N,this.formOptionsService=K,this.buildStorageService=j,this.MAX_NEITHER_ITEM_LEVEL=h.xL6,this.maxBasicStats=0,this.alreadyUsedStats=[],this.possible=!0,this.form=new e.cw({level:new e.NI(0,{nonNullable:!0,validators:[e.kI.required,e.kI.min(1),e.kI.max(h.xL6),e.kI.pattern(/^[0-9]+$/)]}),reinforcment:new e.NI(0,{nonNullable:!0,validators:[e.kI.required,e.kI.min(0),e.kI.pattern(/^[0-9]+$/)]}),affixes:new e.Oe([]),legendary:new e.cw({id:new e.NI(null),value:new e.NI(0,{nonNullable:!0,validators:[e.kI.required,e.kI.min(0),e.kI.pattern(/^[0-9]+$/)]})}),reaper:new e.cw({smith:new e.NI(null),value:new e.NI(0,{nonNullable:!0,validators:[e.kI.required,e.kI.min(0),e.kI.pattern(/^[0-9]+$/)]})}),attribute:new e.cw({attribute:new e.NI(null),value:new e.NI(0,{nonNullable:!0,validators:[e.kI.required,e.kI.min(0),e.kI.pattern(/^[0-9]+$/)]})}),skill:new e.cw({skill:new e.NI(null),value:new e.NI(0,{nonNullable:!0,validators:[e.kI.required,e.kI.min(0),e.kI.pattern(/^[0-9]+$/)]})})}),this.originalItem=G.item,this.maxLevel=G.maxLevel,this.form.valueChanges.subscribe(()=>{this.updatePreview(),this.alreadyUsedStats=this.form.controls.affixes.getRawValue().map(X=>X.stat),this.possible=this.isItemPossible(this.form)}),this.form.controls.affixes.valueChanges.subscribe(()=>{this.sortAffixes()}),this.character=G.character,this.reset()}reset(){this.item=this.slormancerItemService.getEquipableItemClone(this.originalItem),this.form.controls.affixes.clear({emitEvent:!1});for(const l of this.item.affixes)this.form.controls.affixes.push(this.getAffixForm(),{emitEvent:!1});this.form.reset({level:this.item.level,reinforcment:this.item.reinforcment,affixes:this.item.affixes.map(l=>({pure:l.isPure,purity:l.pure,rarity:l.rarity,stat:l.craftedEffect.effect.stat,value:l.craftedEffect.craftedValue})),legendary:{id:null===this.item.legendaryEffect?null:this.item.legendaryEffect.id,value:null===this.item.legendaryEffect?0:this.item.legendaryEffect.value},attribute:{attribute:null===this.item.attributeEnchantment?null:this.item.attributeEnchantment.craftedAttribute,value:null===this.item.attributeEnchantment?0:this.item.attributeEnchantment.craftedValue},reaper:{smith:null===this.item.reaperEnchantment?null:this.item.reaperEnchantment.craftedReaperSmith,value:null===this.item.reaperEnchantment?0:this.item.reaperEnchantment.craftedValue},skill:{skill:null===this.item.skillEnchantment?null:this.item.skillEnchantment.craftedSkill,value:null===this.item.skillEnchantment?0:this.item.skillEnchantment.craftedValue}}),this.sortAffixes(),this.updatePreview()}submit(){this.form.valid&&this.dialogRef.close(this.item)}updatePreview(){const l=this.item;if(this.form.valid){const c=this.form.getRawValue();l.level=c.level,l.reinforcment=c.reinforcment,l.affixes=c.affixes.map(N=>this.slormancerAffixService.getAffixFromStat(N.stat,l.level,l.reinforcment,N.rarity,N.value,N.pure?N.purity:0)).filter(h.BXh),l.legendaryEffect=null===c.legendary.id?null:this.slormancerLegendaryEffectService.getLegendaryEffectById(c.legendary.id,c.legendary.value,l.reinforcment,l.heroClass),l.reaperEnchantment=null===c.reaper.smith?null:this.slormancerItemService.getReaperEnchantment(c.reaper.smith,c.reaper.value),l.skillEnchantment=null===c.skill.skill?null:this.slormancerItemService.getSkillEnchantment(c.skill.skill,c.skill.value),l.attributeEnchantment=null===c.attribute.attribute?null:this.slormancerItemService.getAttributeEnchantment(c.attribute.attribute,c.attribute.value);const I=[...(0,h.eAR)(this.character.gear),...l.legendaryEffect?[l.legendaryEffect]:[]],Z=this.slormancerItemService.getDefensiveStatMultiplier(I);this.slormancerItemService.updateEquipableItemModel(l,Z);const Q=this.buildStorageService.getBuild();this.slormancerCharacterUpdaterService.updateCharacter(this.character,null!==Q?Q.configuration:h.g5j,!1,l),this.slormancerItemService.updateEquipableItemView(l,Z)}}sortAffixes(){this.form.controls.affixes.controls.sort((l,c)=>(0,h.rR7)(this.slormancerTranslationService.translate(l.controls.stat.value),this.slormancerTranslationService.translate(c.controls.stat.value)))}getAffixForm(){return new e.cw({pure:new e.NI(!1,{nonNullable:!0,validators:e.kI.required}),purity:new e.NI(0,{nonNullable:!0,validators:e.kI.required}),rarity:new e.NI(h.uqS.Normal,{nonNullable:!0,validators:e.kI.required}),stat:new e.NI("",{nonNullable:!0,validators:e.kI.required}),value:new e.NI(0,{nonNullable:!0,validators:e.kI.required})})}affixToForm(l){const c=this.getAffixForm();return c.reset({pure:l.isPure,purity:l.pure,rarity:l.rarity,stat:l.craftedEffect.effect.stat,value:l.craftedEffect.craftedValue}),c}hasBasicStats(){return this.form.controls.affixes.controls.filter(l=>this.isBasicStat(l)).length>0}hasMaximumBasicStats(){return this.form.controls.affixes.controls.filter(l=>this.isBasicStat(l)).length>=this.maxBasicStats}hasDefensiveStats(){return this.form.controls.affixes.controls.filter(l=>this.isDefensiveStat(l)).length>0}hasMaximumDefensiveStats(){return this.form.controls.affixes.controls.filter(l=>this.isDefensiveStat(l)).length>=h.nKF}hasMagicStats(){return this.form.controls.affixes.controls.filter(l=>this.isMagicStat(l)).length>0}hasMaximumMagicStats(){return this.form.controls.affixes.controls.filter(l=>this.isMagicStat(l)).length>=h.aHw}isBasicStat(l){return l.controls.rarity.value===h.uqS.Normal}isDefensiveStat(l){return l.controls.rarity.value===h.uqS.Defensive}isMagicStat(l){return l.controls.rarity.value===h.uqS.Magic}isRareStat(l){return l.controls.rarity.value===h.uqS.Rare}isEpicStat(l){return l.controls.rarity.value===h.uqS.Epic}hasRareStats(){return this.form.controls.affixes.controls.filter(l=>this.isRareStat(l)).length>0}hasMaximumRareStats(){return this.form.controls.affixes.controls.filter(l=>this.isRareStat(l)).length>=h.bm}hasEpicStats(){return this.form.controls.affixes.controls.filter(l=>this.isEpicStat(l)).length>0}hasMaximumEpicStats(){return this.form.controls.affixes.controls.filter(l=>this.isEpicStat(l)).length>=h.hcO}getAffix(l){return null===this.item?null:(0,h.lA$)(this.item.affixes[l])}removeAffix(l){this.form.controls.affixes.removeAt(this.form.controls.affixes.controls.indexOf(l)),this.updatePreview()}addAffix(l){const I=this.formOptionsService.getStatsOptions(this.item.base,l).filter(Z=>-1===this.alreadyUsedStats.indexOf(Z.value))[0];if(I){const Z=this.slormancerAffixService.getAffixFromStat(I.value,this.item.level,this.item.reinforcment,l,1e3);null!==Z&&(this.form.controls.affixes.push(this.affixToForm(Z)),this.updatePreview())}}isItemPossible(l){let Z=!0;if(!(l.controls.level.value>h.Sb7)){for(const Q of l.controls.affixes.controls)if(!this.formOptionsService.getStatsOptions(this.item.base,Q.controls.rarity.value).some(K=>K.value===Q.controls.stat.value)){Z=!1;break}Z&&null!==l.controls.legendary.value&&(this.formOptionsService.getLegendaryOptions(this.item.base,this.item.heroClass).some(N=>N.value===l.controls.legendary.value)||(Z=!1))}return Z}addBasicAffix(){this.addAffix(h.uqS.Normal)}addDefensiveAffix(){this.addAffix(h.uqS.Defensive)}addMagicAffix(){this.addAffix(h.uqS.Magic)}addRareAffix(){this.addAffix(h.uqS.Rare)}addEpicAffix(){this.addAffix(h.uqS.Epic)}}return p.\u0275fac=function(l){return new(l||p)(t.Y36(i.so),t.Y36(h.Pdp),t.Y36(h.SgH),t.Y36(h.lRX),t.Y36(h.ArO),t.Y36(h.n6D),t.Y36(y.K),t.Y36(m.x),t.Y36(i.WI))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-item-edit-modal"]],decls:1,vars:1,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"preview"],[3,"item","details"],[1,"form"],[1,"form-line"],["appearance","outline"],["matInput","","type","number","step","1","formControlName","level"],["matInput","","type","number","step","1","min","0","formControlName","reinforcment"],[1,"form-info"],[1,"label"],["class","add",4,"ngIf"],[4,"ngIf"],["class","form-info",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"base","itemLevel","itemReinforcment","heroClass","form"],[3,"form"],[3,"heroClass","form"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","button","color","primary",3,"click"],["mat-flat-button","","type","submit","color","primary",3,"disabled"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[3,"form","itemBase","itemLevel","itemReinforcment","alreadyUsedStats","removable","remove",4,"ngIf"],[3,"form","itemBase","itemLevel","itemReinforcment","alreadyUsedStats","removable","remove"]],template:function(l,c){1&l&&t.YNc(0,S,42,24,"form",0),2&l&&t.Q6J("ngIf",null!==c.form&&null!==c.item)},styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;gap:16px;flex-grow:1;overflow:auto}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]{flex-direction:column}}mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{max-width:370px}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{display:none;visibility:hidden}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;align-items:stretch;flex-grow:1}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:space-between;gap:16px}@media (max-width: 992px){mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 992px){mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]{align-items:stretch}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0}@media not all and (min-resolution: .001dpcm){@supports (-webkit-appearance: none){mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex-basis:auto}}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;min-height:40px}"]}),p})()},7803:(J,E,s)=>{s.d(E,{F:()=>p});var e=s(2419),i=s(5e3),h=s(9808),m=s(8003);function y(f,l){if(1&f&&(i.TgZ(0,"div",14),i._uU(1),i.qZA()),2&f){const c=i.oxw(2);i.xp6(1),i.Oqu(c.legendaryEffect.reaperName)}}function t(f,l){if(1&f&&(i.TgZ(0,"span",15),i._uU(1),i.qZA()),2&f){const c=i.oxw(2);i.xp6(1),i.hij(" ",c.legendaryEffect.activable.name,"")}}function a(f,l){if(1&f&&(i.TgZ(0,"div",16),i._UZ(1,"img",17),i.qZA()),2&f){const c=i.oxw(2);i.xp6(1),i.Q6J("src",c.legendaryEffect.skillIcon,i.LSH)}}function n(f,l){if(1&f&&i._UZ(0,"app-activable-view",18),2&f){const c=i.oxw(2);i.Q6J("activable",c.legendaryEffect.activable)("reinforcment",c.reinforcment)}}function u(f,l){if(1&f&&(i.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),i._UZ(6,"div",7),i.qZA(),i._uU(7),i.TgZ(8,"div",6),i._UZ(9,"div",7),i.qZA()(),i.YNc(10,y,2,1,"div",8),i.TgZ(11,"div",9),i._UZ(12,"span",10),i.YNc(13,t,2,1,"span",11),i.qZA(),i.YNc(14,a,2,1,"div",12),i.qZA()()(),i.YNc(15,n,1,2,"app-activable-view",13),i.qZA()),2&f){const c=i.oxw();i.xp6(7),i.hij(" ",c.legendaryEffect.title," "),i.xp6(3),i.Q6J("ngIf",null!==c.legendaryEffect),i.xp6(2),i.Q6J("innerHTML",c.legendaryEffect.description,i.oJD),i.xp6(1),i.Q6J("ngIf",null!==c.legendaryEffect.activable),i.xp6(1),i.Q6J("ngIf",null!==c.legendaryEffect.skillIcon),i.xp6(1),i.Q6J("ngIf",null!==c.legendaryEffect.activable&&null!==c.reinforcment)}}let d=(()=>{class f{constructor(){this.legendaryEffect=null,this.reinforcment=null}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275cmp=i.Xpm({type:f,selectors:[["app-legendary-effect-view"]],inputs:{legendaryEffect:"legendaryEffect",reinforcment:"reinforcment"},decls:1,vars:1,consts:[["class","content",4,"ngIf"],[1,"content"],[1,"legendary-effect","outer-border"],[1,"border"],[1,"inner-border","legendary-description"],[1,"title"],[1,"bullet"],[1,"legendary"],["class","reaper-name",4,"ngIf"],[1,"description"],[3,"innerHTML"],["class","value",4,"ngIf"],["class","icon",4,"ngIf"],[3,"activable","reinforcment",4,"ngIf"],[1,"reaper-name"],[1,"value"],[1,"icon"],[3,"src"],[3,"activable","reinforcment"]],template:function(c,I){1&c&&i.YNc(0,u,16,6,"div",0),2&c&&i.Q6J("ngIf",null!==I.legendaryEffect)},dependencies:[h.O5,m.K],styles:[".legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#ce4607}.legendary-effect.outer-border[_ngcontent-%COMP%]{border:3px solid black}.legendary-effect.outer-border[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{border:2px solid rgb(46,44,37)}.legendary-effect.outer-border[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]{border:3px solid black}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;gap:15px}.legendary-description[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px 30px;gap:5px}.legendary-description[_ngcontent-%COMP%]  .legendary-effect .value, .legendary-description[_ngcontent-%COMP%]  .buff .value{color:#fff}.legendary-description[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:5px;color:#686868}.legendary-description[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:center}.legendary-description[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-top:5px;min-width:36px;min-height:36px;width:36px;height:36px;border:3px solid black;padding:2px;background-color:#2e2c25}.legendary-description[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}"]}),f})();function M(f,l){1&f&&(i.TgZ(0,"div",20),i._uU(1,"Equipped"),i.qZA())}function o(f,l){if(1&f&&(i.TgZ(0,"div",21),i._uU(1),i.qZA()),2&f){const c=i.oxw(2);i.xp6(1),i.Oqu(c.item.graftLabel)}}function _(f,l){if(1&f&&(i.TgZ(0,"li")(1,"div",25),i._UZ(2,"div"),i.qZA(),i._UZ(3,"div",26)(4,"div",27),i.qZA()),2&f){const c=l.$implicit;i.Gre("marks-",c.pureMarks,""),i.ekj("pure",c.isPure),i.xp6(2),i.Tol(c.rarity),i.xp6(1),i.Q6J("innerHTML",c.valueLabel,i.oJD),i.xp6(1),i.Q6J("innerHTML",c.statLabel,i.oJD)}}function P(f,l){if(1&f&&(i.TgZ(0,"div",22)(1,"div",23),i._uU(2,"Base Stats:"),i.qZA(),i.TgZ(3,"ul"),i.YNc(4,_,5,10,"li",24),i.qZA()()),2&f){const c=i.oxw(2);i.xp6(4),i.Q6J("ngForOf",c.getNormalAffixes())}}function g(f,l){if(1&f&&(i.TgZ(0,"li")(1,"div",25),i._UZ(2,"div"),i.qZA(),i._UZ(3,"div",26)(4,"div",27),i.qZA()),2&f){const c=l.$implicit;i.Gre("marks-",c.pureMarks,""),i.ekj("pure",c.isPure),i.xp6(2),i.Tol(c.rarity),i.xp6(1),i.Q6J("innerHTML",c.valueLabel,i.oJD),i.xp6(1),i.Q6J("innerHTML",c.statLabel,i.oJD)}}function L(f,l){if(1&f&&(i.TgZ(0,"div",22)(1,"div",23),i._uU(2,"Defensive Stats:"),i.qZA(),i.TgZ(3,"ul"),i.YNc(4,g,5,10,"li",24),i.qZA()()),2&f){const c=i.oxw(2);i.xp6(4),i.Q6J("ngForOf",c.getDefensiveAffixes())}}function O(f,l){if(1&f&&(i.TgZ(0,"li")(1,"div",25),i._UZ(2,"div"),i.qZA(),i._UZ(3,"div",26)(4,"div",27),i.qZA()),2&f){const c=l.$implicit;i.Gre("marks-",c.pureMarks,""),i.ekj("pure",c.isPure),i.xp6(2),i.Tol(c.rarity),i.xp6(1),i.Q6J("innerHTML",c.valueLabel,i.oJD),i.xp6(1),i.Q6J("innerHTML",c.statLabel,i.oJD)}}function A(f,l){if(1&f&&(i.TgZ(0,"div",22)(1,"div",23),i._uU(2,"Magic Stats:"),i.qZA(),i.TgZ(3,"ul"),i.YNc(4,O,5,10,"li",24),i.qZA()()),2&f){const c=i.oxw(2);i.xp6(4),i.Q6J("ngForOf",c.getMagicAffixes())}}function b(f,l){if(1&f&&(i.TgZ(0,"li")(1,"div",25),i._UZ(2,"div"),i.qZA(),i._UZ(3,"div",26)(4,"div",27),i.qZA()),2&f){const c=l.$implicit;i.Gre("marks-",c.pureMarks,""),i.ekj("pure",c.isPure),i.xp6(2),i.Tol(c.rarity),i.xp6(1),i.Q6J("innerHTML",c.valueLabel,i.oJD),i.xp6(1),i.Q6J("innerHTML",c.statLabel,i.oJD)}}function w(f,l){if(1&f&&(i.TgZ(0,"div",22)(1,"div",23),i._uU(2,"Rare Stats:"),i.qZA(),i.TgZ(3,"ul"),i.YNc(4,b,5,10,"li",24),i.qZA()()),2&f){const c=i.oxw(2);i.xp6(4),i.Q6J("ngForOf",c.getRareAffixes())}}function U(f,l){if(1&f&&(i.TgZ(0,"li")(1,"div",25),i._UZ(2,"div"),i.qZA(),i._UZ(3,"div",26)(4,"div",27),i.qZA()),2&f){const c=l.$implicit;i.Gre("marks-",c.pureMarks,""),i.ekj("pure",c.isPure),i.xp6(2),i.Tol(c.rarity),i.xp6(1),i.Q6J("innerHTML",c.valueLabel,i.oJD),i.xp6(1),i.Q6J("innerHTML",c.statLabel,i.oJD)}}function D(f,l){if(1&f&&(i.TgZ(0,"div",22)(1,"div",23),i._uU(2,"Epic Stats:"),i.qZA(),i.TgZ(3,"ul"),i.YNc(4,U,5,10,"li",24),i.qZA()()),2&f){const c=i.oxw(2);i.xp6(4),i.Q6J("ngForOf",c.getEpicAffixes())}}function V(f,l){if(1&f&&i._UZ(0,"app-legendary-effect-view",28),2&f){const c=i.oxw(2);i.Q6J("legendaryEffect",c.item.legendaryEffect)("reinforcment",c.item.reinforcment)}}function F(f,l){if(1&f&&i._UZ(0,"app-legendary-effect-view",28),2&f){const c=i.oxw(2);i.Q6J("legendaryEffect",c.item.legendaryEffect)("reinforcment",c.item.reinforcment)}}function Y(f,l){if(1&f&&(i.TgZ(0,"div",29),i._UZ(1,"img",8)(2,"div",30),i.qZA()),2&f){const c=i.oxw(2);i.xp6(1),i.Q6J("src",c.item.reaperEnchantment.icon,i.LSH),i.xp6(1),i.Q6J("innerHTML",c.item.reaperEnchantment.label,i.oJD)}}function q(f,l){if(1&f&&(i.TgZ(0,"div",31),i._UZ(1,"img",8)(2,"div",30),i.qZA()),2&f){const c=i.oxw(2);i.xp6(1),i.Q6J("src",c.item.skillEnchantment.icon,i.LSH),i.xp6(1),i.Q6J("innerHTML",c.item.skillEnchantment.label,i.oJD)}}function S(f,l){if(1&f&&(i.TgZ(0,"div"),i._UZ(1,"img",8)(2,"div",30),i.qZA()),2&f){const c=i.oxw(2);i.Gre("buff attribute atr-",c.item.attributeEnchantment.craftedAttribute,""),i.xp6(1),i.Q6J("src",c.item.attributeEnchantment.icon,i.LSH),i.xp6(1),i.Q6J("innerHTML",c.item.attributeEnchantment.label,i.oJD)}}function R(f,l){if(1&f&&(i.TgZ(0,"div"),i._UZ(1,"div",1),i.TgZ(2,"div",2),i.YNc(3,M,2,0,"div",3),i.TgZ(4,"div",4)(5,"div",5)(6,"div",6),i._UZ(7,"img",7)(8,"img",8),i.qZA(),i.TgZ(9,"div",9),i._uU(10),i.qZA(),i.TgZ(11,"div",10),i._uU(12,"-"),i.qZA(),i.TgZ(13,"div",11),i._uU(14),i.qZA(),i.TgZ(15,"div"),i._uU(16),i.qZA(),i.YNc(17,o,2,1,"div",12),i.qZA(),i._UZ(18,"div",13),i.TgZ(19,"div",14),i.YNc(20,P,5,1,"div",15),i.YNc(21,L,5,1,"div",15),i.YNc(22,A,5,1,"div",15),i.YNc(23,w,5,1,"div",15),i.YNc(24,D,5,1,"div",15),i.YNc(25,V,1,2,"app-legendary-effect-view",16),i.qZA()(),i.YNc(26,F,1,2,"app-legendary-effect-view",16),i.YNc(27,Y,3,2,"div",17),i.YNc(28,q,3,2,"div",18),i.YNc(29,S,3,5,"div",19),i.qZA()()),2&f){const c=i.oxw();i.Gre("item ",c.item.rarity,""),i.ekj("nodetails",!c.details),i.xp6(1),i.Q6J("innerHTML",c.item.name,i.oJD),i.xp6(2),i.Q6J("ngIf",c.equipped),i.xp6(4),i.Q6J("src",c.item.itemIconBackground,i.LSH),i.xp6(1),i.Q6J("src",c.item.icon,i.LSH),i.xp6(2),i.Oqu(c.item.rarityLabel),i.xp6(4),i.Oqu(c.item.baseLabel),i.xp6(2),i.Oqu(c.item.levelLabel),i.xp6(1),i.Q6J("ngIf",c.item.graftLabel),i.xp6(3),i.Q6J("ngIf",c.getNormalAffixes().length>0),i.xp6(1),i.Q6J("ngIf",c.getDefensiveAffixes().length>0),i.xp6(1),i.Q6J("ngIf",c.getMagicAffixes().length>0),i.xp6(1),i.Q6J("ngIf",c.getRareAffixes().length>0),i.xp6(1),i.Q6J("ngIf",c.getEpicAffixes().length>0),i.xp6(1),i.Q6J("ngIf",!c.hasAffixes()),i.xp6(1),i.Q6J("ngIf",c.hasAffixes()),i.xp6(1),i.Q6J("ngIf",null!==c.item.reaperEnchantment),i.xp6(1),i.Q6J("ngIf",null!==c.item.skillEnchantment),i.xp6(1),i.Q6J("ngIf",null!==c.item.attributeEnchantment)}}let p=(()=>{class f{constructor(){this.item=null,this.equipped=!1,this.details=!0}getNormalAffixes(){return null===this.item?[]:this.item.affixes.filter(c=>c.rarity===e.uqS.Normal)}getDefensiveAffixes(){return null===this.item?[]:this.item.affixes.filter(c=>c.rarity===e.uqS.Defensive)}getMagicAffixes(){return null===this.item?[]:this.item.affixes.filter(c=>c.rarity===e.uqS.Magic)}getRareAffixes(){return null===this.item?[]:this.item.affixes.filter(c=>c.rarity===e.uqS.Rare)}getEpicAffixes(){return null===this.item?[]:this.item.affixes.filter(c=>c.rarity===e.uqS.Epic)}hasAffixes(){return null!==this.item&&this.item.affixes.length>0}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275cmp=i.Xpm({type:f,selectors:[["app-item-view"]],inputs:{item:"item",equipped:"equipped",details:"details"},decls:1,vars:1,consts:[[3,"class","nodetails",4,"ngIf"],[1,"head",3,"innerHTML"],[1,"content"],["class","equipped",4,"ngIf"],[1,"main"],[1,"info"],[1,"icon"],[1,"background",3,"src"],[3,"src"],[1,"rarity"],[1,"split"],[1,"base"],["class","graft",4,"ngIf"],[1,"separator"],[1,"stats"],["class","affixes",4,"ngIf"],[3,"legendaryEffect","reinforcment",4,"ngIf"],["class","buff reaper",4,"ngIf"],["class","buff skill",4,"ngIf"],[3,"class",4,"ngIf"],[1,"equipped"],[1,"graft"],[1,"affixes"],[1,"title"],[3,"pure","class",4,"ngFor","ngForOf"],[1,"bullet"],[1,"value",3,"innerHTML"],[1,"name",3,"innerHTML"],[3,"legendaryEffect","reinforcment"],[1,"buff","reaper"],[1,"info",3,"innerHTML"],[1,"buff","skill"]],template:function(c,I){1&c&&i.YNc(0,R,30,23,"div",0),2&c&&i.Q6J("ngIf",null!==I.item)},dependencies:[h.sg,h.O5,d],styles:['.item.normal[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .graft[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#898989}.item.magic[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .graft[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#2e8726}.item.rare[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .graft[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#176ab1}.item.epic[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .graft[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#c68d20}.item.legendary[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .graft[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#ce4607}.item.neither[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.neither[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.neither[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.neither[_ngcontent-%COMP%]   .graft[_ngcontent-%COMP%], .item.neither[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.neither[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.neither[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#772caa}.item.normal[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#59513c}.item.magic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#61462d}.item.rare[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#7791a1}.item.epic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#efc65c}.item.legendary[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#f5b250}.item.neither[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.neither[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#772caa}.bullet[_ngcontent-%COMP%]{min-width:8px}.bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}.bullet[_ngcontent-%COMP%]   div.normal[_ngcontent-%COMP%], .bullet[_ngcontent-%COMP%]   div.defensive[_ngcontent-%COMP%]{background-color:#898989}.bullet[_ngcontent-%COMP%]   div.magic[_ngcontent-%COMP%]{background-color:#2e8726}.bullet[_ngcontent-%COMP%]   div.rare[_ngcontent-%COMP%]{background-color:#176ab1}.bullet[_ngcontent-%COMP%]   div.epic[_ngcontent-%COMP%]{background-color:#c68d20}.bullet[_ngcontent-%COMP%]   div.legendary[_ngcontent-%COMP%]{background-color:#ce4607}.item[_ngcontent-%COMP%]{background-color:#151412;color:#fff;border:2px solid black;min-width:350px}.item[_ngcontent-%COMP%]  .legendary-effect .value, .item[_ngcontent-%COMP%]  .buff .value{color:#fff}.item[_ngcontent-%COMP%]  .range, .item[_ngcontent-%COMP%]  .range .value, .item[_ngcontent-%COMP%]  .details, .item[_ngcontent-%COMP%]  .details .value, .item[_ngcontent-%COMP%]  .formula, .item[_ngcontent-%COMP%]  .formula .value, .item[_ngcontent-%COMP%]  .pure-info, .item[_ngcontent-%COMP%]  .pure-info .value{color:#686868}.item[_ngcontent-%COMP%]  .affixes .range, .item[_ngcontent-%COMP%]  .affixes .value, .item[_ngcontent-%COMP%]  .pure-info{word-break:keep-all;white-space:nowrap}.item.nodetails[_ngcontent-%COMP%]     .details, .item.nodetails[_ngcontent-%COMP%]     .formula{display:none}.item[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%], .item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{border:2px solid}.item[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%]{margin-bottom:2px;text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;padding:15px 10px;gap:15px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;text-transform:capitalize}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{min-width:80px;width:80px;display:flex;flex-direction:column;align-items:center}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{text-transform:capitalize;text-align:center}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{min-width:56px;min-height:56px;width:56px;height:56px;border:4px solid black;margin-bottom:10px;position:relative}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{background-color:#686868;min-width:2px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;gap:10px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#686868}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;list-style:disc inside;padding-left:0}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:flex;flex-direction:row;padding-left:5px;gap:5px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pure[_ngcontent-%COMP%]{color:#46e7b0;background:linear-gradient(90deg,rgba(70,231,176,.3) 0%,rgba(70,231,176,0) 100%)}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pure.marks-1[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:after{content:" !"}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pure.marks-2[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:after{content:" !!"}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pure.marks-3[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:after{content:" !!!"}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex-grow:1}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-effect.outer-border[_ngcontent-%COMP%]{border:3px solid black}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-effect.outer-border[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{border:2px solid rgb(46,44,37)}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-effect.outer-border[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]{border:3px solid black}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px 30px;gap:5px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:5px;color:#686868}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:center}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-top:5px;min-width:36px;min-height:36px;width:36px;height:36px;border:3px solid black;padding:2px;background-color:#2e2c25}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff[_ngcontent-%COMP%]{border:3px solid rgb(59,56,49);padding:5px 36px;text-align:center;position:relative}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:-6px;top:50%;margin-top:-22px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.reaper[_ngcontent-%COMP%]{color:#148e89}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.skill[_ngcontent-%COMP%]{color:#ce4607}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-0[_ngcontent-%COMP%]{color:#2f5996}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-1[_ngcontent-%COMP%]{color:#a83007}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-2[_ngcontent-%COMP%]{color:#79b549}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-3[_ngcontent-%COMP%]{color:#d0b545}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-4[_ngcontent-%COMP%]{color:#4bc1b2}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-5[_ngcontent-%COMP%]{color:#753098}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-6[_ngcontent-%COMP%]{color:#cd7028}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-7[_ngcontent-%COMP%]{color:#bf3c59}']}),f})()},9762:(J,E,s)=>{s.d(E,{b:()=>o});var e=s(5e3),i=s(9808),h=s(8003);const m=["content"];function y(_,P){if(1&_&&e._UZ(0,"div",31),2&_){const g=e.oxw(2);e.Q6J("innerHTML",g.reaper.affinityLabel,e.oJD)}}function t(_,P){if(1&_&&e._UZ(0,"div",32),2&_){const g=e.oxw(2);e.Q6J("innerHTML",g.reaper.masteryLabel,e.oJD)}}function a(_,P){if(1&_&&(e.TgZ(0,"div",33)(1,"div",34)(2,"div",35),e._UZ(3,"div"),e.qZA(),e._uU(4),e.TgZ(5,"div",35),e._UZ(6,"div"),e.qZA()(),e._UZ(7,"div",25),e.qZA()),2&_){const g=e.oxw(2);e.xp6(4),e.Oqu(g.reaper.benedictionTitleLabel),e.xp6(3),e.Q6J("innerHTML",g.reaper.benediction,e.oJD)}}function n(_,P){if(1&_&&(e.TgZ(0,"div",36)(1,"div",34)(2,"div",35),e._UZ(3,"div"),e.qZA(),e._uU(4),e.TgZ(5,"div",35),e._UZ(6,"div"),e.qZA()(),e._UZ(7,"div",25),e.qZA()),2&_){const g=e.oxw(2);e.xp6(4),e.Oqu(g.reaper.maledictionTitleLabel),e.xp6(3),e.Q6J("innerHTML",g.reaper.malediction,e.oJD)}}function u(_,P){1&_&&e._UZ(0,"app-activable-view",39),2&_&&e.Q6J("activable",P.$implicit)}function d(_,P){if(1&_&&(e.TgZ(0,"div",37)(1,"div",34)(2,"div",35),e._UZ(3,"div"),e.qZA(),e._uU(4),e.TgZ(5,"div",35),e._UZ(6,"div"),e.qZA()(),e.YNc(7,u,1,1,"app-activable-view",38),e.qZA()),2&_){const g=e.oxw(2);e.xp6(4),e.Oqu(g.reaper.activablesTitleLabel),e.xp6(3),e.Q6J("ngForOf",g.reaper.activables)}}function M(_,P){if(1&_&&(e.TgZ(0,"div",1)(1,"div",2),e._uU(2),e.qZA(),e.TgZ(3,"div",3,4)(5,"div",5)(6,"div",6),e._UZ(7,"img",7),e.TgZ(8,"div",8),e._UZ(9,"div",9),e.qZA()(),e.TgZ(10,"div",10),e.YNc(11,y,1,1,"div",11),e.TgZ(12,"div",12)(13,"div",13),e._uU(14),e.qZA(),e._UZ(15,"div",14),e.qZA(),e.TgZ(16,"div",15)(17,"div",16),e._uU(18),e.qZA(),e._UZ(19,"div",17),e.YNc(20,t,1,1,"div",18),e.TgZ(21,"div",19),e._uU(22),e.qZA()(),e.TgZ(23,"div",20),e._UZ(24,"div",21),e.TgZ(25,"div",22),e._UZ(26,"span",23)(27,"span",24),e.qZA()()()(),e._UZ(28,"div",25),e.YNc(29,a,8,2,"div",26),e.YNc(30,n,8,2,"div",27),e.YNc(31,d,8,2,"div",28),e._UZ(32,"div",29)(33,"div",30),e.qZA()()),2&_){const g=e.oxw();e.Udp("max-height",g.maxHeight),e.ekj("mobile-view",g.tooltip),e.xp6(2),e.Oqu(g.reaper.name),e.xp6(5),e.ekj("primordial-effect",g.reaper.primordial),e.Q6J("src",g.reaper.icon,e.LSH),e.xp6(4),e.Q6J("ngIf",null!==g.reaper.affinityLabel),e.xp6(3),e.Oqu(g.reaper.type),e.xp6(1),e.Q6J("innerHTML",g.reaper.smithLabel,e.oJD),e.xp6(1),e.ekj("mastery",null!==g.reaper.masteryLabel),e.xp6(2),e.Oqu(g.reaper.damagesLabel),e.xp6(1),e.Q6J("innerHTML",g.reaper.damageTypeLabel,e.oJD),e.xp6(1),e.Q6J("ngIf",null!==g.reaper.masteryLabel),e.xp6(2),e.Oqu(g.reaper.maxDamagesLabel),e.xp6(2),e.Q6J("innerHTML",g.reaper.victimsLabel,e.oJD),e.xp6(2),e.Q6J("innerHTML",g.reaper.levelLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",g.reaper.bonusLevelLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",g.reaper.description,e.oJD),e.xp6(1),e.Q6J("ngIf",null!==g.reaper.benediction),e.xp6(1),e.Q6J("ngIf",null!==g.reaper.malediction),e.xp6(1),e.Q6J("ngIf",g.reaper.activables.length>0),e.xp6(2),e.Q6J("innerHTML",g.reaper.lore,e.oJD)}}let o=(()=>{class _{constructor(){this.reaper=null,this.maxHeight=null,this.tooltip=!1,this.content=null}scroll(g){this.content&&(this.content.nativeElement.scrollTop+=g.deltaY)}}return _.\u0275fac=function(g){return new(g||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-reaper-view"]],viewQuery:function(g,L){if(1&g&&e.Gf(m,5),2&g){let O;e.iGM(O=e.CRH())&&(L.content=O.first)}},inputs:{reaper:"reaper",maxHeight:"maxHeight",tooltip:"tooltip"},decls:1,vars:1,consts:[["class","reaper",3,"maxHeight","mobile-view",4,"ngIf"],[1,"reaper"],[1,"head"],[1,"content"],["content",""],[1,"info"],[1,"icon"],["loading","lazy",3,"src"],[1,"background-outer"],[1,"background"],[1,"summary"],["class","affinity",3,"innerHTML",4,"ngIf"],[1,"base"],[1,"type"],[1,"builder",3,"innerHTML"],[1,"damages"],[1,"current-damage"],[1,"type",3,"innerHTML"],["class","mastery-level",3,"innerHTML",4,"ngIf"],[1,"max-damage"],[1,"stats"],[1,"victim",3,"innerHTML"],[1,"level"],[1,"base",3,"innerHTML"],[1,"bonus",3,"innerHTML"],[1,"description",3,"innerHTML"],["class","benediction",4,"ngIf"],["class","malediction",4,"ngIf"],["class","activables",4,"ngIf"],[1,"separator"],[1,"lore",3,"innerHTML"],[1,"affinity",3,"innerHTML"],[1,"mastery-level",3,"innerHTML"],[1,"benediction"],[1,"title"],[1,"bullet"],[1,"malediction"],[1,"activables"],[3,"activable",4,"ngFor","ngForOf"],[3,"activable"]],template:function(g,L){1&g&&e.YNc(0,M,34,25,"div",0),2&g&&e.Q6J("ngIf",null!==L.reaper)},dependencies:[i.sg,i.O5,h.K],styles:['.reaper[_ngcontent-%COMP%]{background-color:#090909;color:#fff;border:2px solid black;width:350px;display:flex;flex-direction:column}@media (max-width: 768px){.reaper.mobile-view[_ngcontent-%COMP%]{position:fixed;top:5%;left:5%}}.reaper[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%], .reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{border:2px solid rgb(121,183,164)}.reaper[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%]{margin-bottom:2px;text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{overflow-y:auto}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;padding:15px 10px;gap:15px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:130px;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:stretch}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .background-outer[_ngcontent-%COMP%]{border:3px solid rgb(59,56,49);flex-grow:1;display:flex;flex-direction:column}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .background-outer[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{border:3px solid rgb(18,16,14);background-color:#22201c;flex-grow:1;height:150px;width:85px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;margin-top:-12.5%;margin-left:-12.5%;image-rendering:pixelated;transform:scale(4)}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;flex-grow:1;text-align:left;gap:10px;font-size:16px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .affinity[_ngcontent-%COMP%]{width:32px;height:32px;position:absolute;top:0;right:4px;text-align:center;display:flex;flex-direction:row;align-items:center;justify-content:center}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .affinity[_ngcontent-%COMP%]:before{content:"";border:3px solid rgb(59,56,49);width:100%;height:100%;position:absolute;left:-3px;top:-3px;transform:rotate(45deg)}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{text-transform:uppercase}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .damages.mastery[_ngcontent-%COMP%]{color:#ce4607}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .damages[_ngcontent-%COMP%]   .current-damage[_ngcontent-%COMP%]{font-size:30px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .damages[_ngcontent-%COMP%]   .max-damage[_ngcontent-%COMP%]{color:#686868}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{font-size:20px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]{color:#148f8a}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{min-width:8px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:center}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]     .value{color:#148f8a}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]     .details{color:#686868}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#fff}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]{color:#148f8a}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#61f7b7}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]{color:#ff4722}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#d13001}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]     .value, .reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]     .value{color:#fff}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:5px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{background-color:#3b3831;margin:0 30px;height:4px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .lore[_ngcontent-%COMP%]{color:#b8b8b8;text-align:center}']}),_})()},4890:(J,E,s)=>{s.d(E,{G:()=>P});var e=s(2424),i=s(2419),h=s(2722),m=s(6446),y=s(4006),t=s(5e3),a=s(2349),n=s(9808),u=s(1314),d=s(7295);function M(g,L){if(1&g&&t._UZ(0,"img",8),2&g){const O=t.oxw(2);t.Q6J("src",O.rune.levelBorder,t.LSH)}}function o(g,L){if(1&g&&t._UZ(0,"app-rune-view",9),2&g){const O=t.oxw(2);t.Q6J("rune",O.rune)}}function _(g,L){if(1&g&&(t.ynx(0),t._UZ(1,"img",5),t.YNc(2,M,1,1,"img",6),t.YNc(3,o,1,1,"ng-template",7),t.BQk()),2&g){const O=t.oxw(),A=t.MAs(2);t.xp6(1),t.Gre("smith-",O.rune.reapersmith,""),t.ekj("aura",O.hasAura(O.rune)),t.Q6J("src",O.rune.runeIcon,t.LSH),t.xp6(1),t.Q6J("ngIf",O.showLevel),t.xp6(1),t.Q6J("cdkConnectedOverlayOpen",O.showOverlay)("cdkConnectedOverlayOrigin",A)}}let P=(()=>{class g extends m.B{constructor(O,A){super(),this.searchService=O,this.dialog=A,this.rune=null,this.showLevel=!0,this.selected=!1,this.showOverlay=!1,this.hiddenBySearch=!1,this.searchService.searchChanged.pipe((0,h.R)(this.unsubscribe)).subscribe(()=>this.updateSearch())}onOver(){this.showOverlay=!0}onLeave(){this.showOverlay=!1}ngOnChanges(){this.updateSearch()}updateSearch(){this.hiddenBySearch=null!==this.rune&&this.searchService.hasSearch()&&!this.searchService.runeMatchSearch(this.rune)}hasAura(O){return O.type===i.evb.Effect}showModalTooltip(O,A){let b=!1;return O.ctrlKey&&null!==A&&(b=!0,O.stopPropagation(),O.stopImmediatePropagation(),this.dialog.open(y.q,{data:{entity:{rune:A}}})),b}}return g.\u0275fac=function(O){return new(O||g)(t.Y36(e.o),t.Y36(a.uw))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-rune-slot"]],hostBindings:function(O,A){1&O&&t.NdJ("mouseenter",function(){return A.onOver()})("mouseleave",function(){return A.onLeave()})},inputs:{rune:"rune",showLevel:"showLevel",selected:"selected"},features:[t.qOj,t.TTD],decls:5,vars:5,consts:[[1,"rune",3,"click"],["cdkOverlayOrigin","",1,"overlay-position"],["trigger","cdkOverlayOrigin"],[1,"inner-slot"],[4,"ngIf"],[1,"rune-icon",3,"src"],["class","rune-level",3,"src",4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[1,"rune-level",3,"src"],[3,"rune"]],template:function(O,A){1&O&&(t.TgZ(0,"div",0),t.NdJ("click",function(w){return A.showModalTooltip(w,A.rune)}),t._UZ(1,"div",1,2)(3,"div",3),t.YNc(4,_,4,9,"ng-container",4),t.qZA()),2&O&&(t.ekj("selected",A.selected)("hidden-search",A.hiddenBySearch),t.xp6(4),t.Q6J("ngIf",null!==A.rune))},dependencies:[n.O5,u.pI,u.xu,d.g],styles:['.rune[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;width:48px;height:48px}.rune[_ngcontent-%COMP%]   .overlay-position[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0}.rune.hidden-search[_ngcontent-%COMP%]{opacity:.2}.rune[_ngcontent-%COMP%]:before{content:"";border:3px solid rgb(59,56,49);width:28px;height:28px;position:absolute;left:8px;top:8px;transform:rotate(45deg)}.rune.selected[_ngcontent-%COMP%]:before{border:3px solid rgb(206,70,7)}.rune[_ngcontent-%COMP%]   img.rune-icon[_ngcontent-%COMP%], .rune[_ngcontent-%COMP%]   img.rune-level[_ngcontent-%COMP%]{image-rendering:pixelated;position:absolute;pointer-events:none;transform:scale(4)}.rune[_ngcontent-%COMP%]   img.rune-icon.aura.smith-0[_ngcontent-%COMP%], .rune[_ngcontent-%COMP%]   img.rune-level.aura.smith-0[_ngcontent-%COMP%]{filter:drop-shadow(0 0 2px rgba(227,97,16,.5))}.rune[_ngcontent-%COMP%]   img.rune-icon.aura.smith-1[_ngcontent-%COMP%], .rune[_ngcontent-%COMP%]   img.rune-level.aura.smith-1[_ngcontent-%COMP%]{filter:drop-shadow(0 0 2px rgba(175,245,60,.5))}.rune[_ngcontent-%COMP%]   img.rune-icon.aura.smith-2[_ngcontent-%COMP%], .rune[_ngcontent-%COMP%]   img.rune-level.aura.smith-2[_ngcontent-%COMP%]{filter:drop-shadow(0 0 2px rgba(191,159,16,.5))}.rune[_ngcontent-%COMP%]   img.rune-icon.aura.smith-3[_ngcontent-%COMP%], .rune[_ngcontent-%COMP%]   img.rune-level.aura.smith-3[_ngcontent-%COMP%]{filter:drop-shadow(0 0 2px rgba(207,19,44,.5))}.rune[_ngcontent-%COMP%]   img.rune-icon.aura.smith-4[_ngcontent-%COMP%], .rune[_ngcontent-%COMP%]   img.rune-level.aura.smith-4[_ngcontent-%COMP%]{filter:drop-shadow(0 0 2px rgba(170,54,191,.5))}.rune[_ngcontent-%COMP%]   img.rune-icon.aura.smith-5[_ngcontent-%COMP%], .rune[_ngcontent-%COMP%]   img.rune-level.aura.smith-5[_ngcontent-%COMP%]{filter:drop-shadow(0 0 2px rgba(35,174,247,.5))}.rune[_ngcontent-%COMP%]   img.rune-icon.aura.smith-6[_ngcontent-%COMP%], .rune[_ngcontent-%COMP%]   img.rune-level.aura.smith-6[_ngcontent-%COMP%]{filter:drop-shadow(0 0 2px rgba(84,246,178,.4))}.rune[_ngcontent-%COMP%]   img.rune-icon[_ngcontent-%COMP%]{bottom:60%}.rune[_ngcontent-%COMP%]   img.rune-level[_ngcontent-%COMP%]{bottom:40%}app-rune-view[_ngcontent-%COMP%]{width:350px}']}),g})()},7295:(J,E,s)=>{s.d(E,{g:()=>y});var e=s(5e3);function i(t,a){if(1&t&&e._UZ(0,"div",18),2&t){const n=e.oxw(2);e.Q6J("innerHTML",n.rune.constraintLabel,e.oJD)}}function h(t,a){if(1&t&&e._UZ(0,"app-activable-view",19),2&t){const n=e.oxw(2);e.Q6J("activable",n.rune.activable)("reinforcment",n.rune.level)}}function m(t,a){if(1&t&&(e.TgZ(0,"div",1),e._UZ(1,"div",2),e.TgZ(2,"div",3)(3,"div",4)(4,"div",5),e._UZ(5,"app-rune-slot",6),e.qZA(),e.TgZ(6,"div",7),e._UZ(7,"div",8)(8,"div",9),e.YNc(9,i,1,1,"div",10),e.qZA(),e.TgZ(10,"div",11),e._UZ(11,"app-rune-slot",6),e.qZA()(),e._UZ(12,"div",12)(13,"div",13),e.YNc(14,h,1,2,"app-activable-view",14),e._UZ(15,"div",12)(16,"div",15),e.TgZ(17,"div",16),e._UZ(18,"img",17),e.qZA()()()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("innerHTML",n.rune.name,e.oJD),e.xp6(4),e.Q6J("rune",n.rune),e.xp6(2),e.Q6J("innerHTML",n.rune.typeLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",n.rune.smithLabel,e.oJD),e.xp6(1),e.Q6J("ngIf",null!==n.rune.constraintLabel),e.xp6(2),e.Q6J("rune",n.rune),e.xp6(2),e.Q6J("innerHTML",n.rune.description,e.oJD),e.xp6(1),e.Q6J("ngIf",null!==n.rune.activable),e.xp6(2),e.Q6J("innerHTML",n.rune.flavor,e.oJD),e.xp6(2),e.Q6J("src",n.rune.levelIcon,e.LSH)}}let y=(()=>{class t{constructor(){this.rune=null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-rune-view"]],inputs:{rune:"rune"},decls:1,vars:1,consts:[["class","rune slormancer-tooltip",4,"ngIf"],[1,"rune","slormancer-tooltip"],[1,"head","inner-box",3,"innerHTML"],[1,"content","inner-box"],[1,"info"],[1,"icon","left"],[3,"rune"],[1,"main"],[1,"type",3,"innerHTML"],[1,"smith",3,"innerHTML"],["class","constraint",3,"innerHTML",4,"ngIf"],[1,"icon","right"],[1,"separator"],[1,"description",3,"innerHTML"],[3,"activable","reinforcment",4,"ngIf"],[1,"flavor",3,"innerHTML"],[1,"bottom-level"],[3,"src"],[1,"constraint",3,"innerHTML"],[3,"activable","reinforcment"]],template:function(n,u){1&n&&e.YNc(0,m,19,10,"div",0),2&n&&e.Q6J("ngIf",null!==u.rune)},styles:[".rune[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff}.rune[_ngcontent-%COMP%]   .inner-box[_ngcontent-%COMP%], .rune[_ngcontent-%COMP%]:before{border-color:primary-color(400)}.rune[_ngcontent-%COMP%]     .description .value{color:#ce4607}.rune[_ngcontent-%COMP%]     .description .range, .rune[_ngcontent-%COMP%]     .description .range .value, .rune[_ngcontent-%COMP%]     .description .details, .rune[_ngcontent-%COMP%]     .description .details .value, .rune[_ngcontent-%COMP%]     .description .formula, .rune[_ngcontent-%COMP%]     .description .formula .value, .rune[_ngcontent-%COMP%]     .description .pure-info, .rune[_ngcontent-%COMP%]     .description .pure-info .value{color:#686868}.rune[_ngcontent-%COMP%]     .description .affixes .range, .rune[_ngcontent-%COMP%]     .description .affixes .value, .rune[_ngcontent-%COMP%]     .description .pure-info{word-break:keep-all;white-space:nowrap}.rune[_ngcontent-%COMP%]     .power.value{color:#ce4607}.rune[_ngcontent-%COMP%]     .flavor .disabled{color:#ce4607}.rune[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{margin-bottom:2px;text-align:center;padding:10px 30px;text-transform:uppercase;font-size:17px}.rune[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}.rune[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between}.rune[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.rune[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{text-transform:uppercase}.rune[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .constraint[_ngcontent-%COMP%]{margin-top:4px}.rune[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .rune[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .flavor[_ngcontent-%COMP%]{text-align:center}.rune[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .flavor[_ngcontent-%COMP%]{color:#686868}"]}),t})()},461:(J,E,s)=>{s.d(E,{a:()=>L});var e=s(3075),i=s(2722),h=s(6446),m=s(5e3),y=s(9808),t=s(7322),a=s(7531),n=s(4102),u=s(508);function d(O,A){if(1&O&&(m.TgZ(0,"mat-label"),m._uU(1),m.qZA()),2&O){const b=m.oxw(2);m.xp6(1),m.Oqu(b.label)}}function M(O,A){if(1&O&&(m.TgZ(0,"mat-select-trigger"),m._uU(1),m.qZA()),2&O){const b=m.oxw(2);m.xp6(1),m.Oqu(b.trigger)}}function o(O,A){1&O&&(m.TgZ(0,"mat-option",9),m._uU(1," No results "),m.qZA())}function _(O,A){if(1&O&&(m.TgZ(0,"mat-option",10),m._UZ(1,"span",11),m.qZA()),2&O){const b=A.$implicit;m.ekj("filtered",b.filtered),m.Q6J("value",b.option.value)("disabled",b.filtered||b.disabled),m.xp6(1),m.Q6J("innerHTML",b.option.label,m.oJD)}}function P(O,A){if(1&O&&(m.TgZ(0,"mat-hint"),m._uU(1),m.qZA()),2&O){const b=m.oxw(2);m.xp6(1),m.Oqu(b.notFoundMessage)}}function g(O,A){if(1&O){const b=m.EpF();m.TgZ(0,"mat-form-field",1),m.YNc(1,d,2,1,"mat-label",2),m.TgZ(2,"mat-select",3),m.NdJ("openedChange",function(U){m.CHM(b);const D=m.MAs(6),V=m.oxw();return m.KtG(V.opened(U,D))}),m.YNc(3,M,2,1,"mat-select-trigger",2),m.TgZ(4,"mat-option",4)(5,"input",5,6),m.NdJ("keydown.space",function(U){m.CHM(b);const D=m.oxw();return m.KtG(D.handleSearchSpace(U))}),m.qZA()(),m.YNc(7,o,2,0,"mat-option",7),m.YNc(8,_,2,5,"mat-option",8),m.qZA(),m.YNc(9,P,2,1,"mat-hint",2),m.qZA()}if(2&O){const b=m.oxw();let w;m.ekj("no-error-padding",b.noErrorPadding),m.xp6(1),m.Q6J("ngIf",null!==b.label),m.xp6(1),m.Q6J("formControl",b.control)("placeholder",null!==(w=b.placeholder)&&void 0!==w?w:""),m.xp6(1),m.Q6J("ngIf",null!==b.trigger),m.xp6(2),m.Q6J("formControl",b.search),m.xp6(2),m.Q6J("ngIf",b.noResult),m.xp6(1),m.Q6J("ngForOf",b.filteredOptions)("ngForTrackBy",b.trackBy),m.xp6(1),m.Q6J("ngIf",null!==b.control.value&&!b.isStatInOptions(b.control.value)&&null!==b.notFoundMessage)}}let L=(()=>{class O extends h.B{constructor(){super(),this.label=null,this.placeholder=null,this.control=null,this.options=[],this.noErrorPadding=!1,this.disabledOptions=[],this.notFoundMessage=null,this.trigger=null,this.filteredOptions=[],this.search=new e.NI(""),this.noResult=!1,this.search.valueChanges.subscribe(()=>this.filter())}ngOnChanges(b){null!==this.control&&b.control&&this.control.valueChanges.pipe((0,i.R)(this.unsubscribe)).subscribe(()=>this.resetFilter()),this.filter()}opened(b,w){!1===b?this.resetFilter():w.focus()}resetFilter(){this.search.setValue("")}filter(){const b=this.search.value.toLowerCase().trim();this.filteredOptions=this.options.map(w=>({option:w,filtered:-1===w.label.toLowerCase().indexOf(b),disabled:this.disabledOptions.includes(w.value)})),this.noResult=!this.filteredOptions.some(w=>!w.filtered)}trackBy(b,w){return w.option.value}handleSearchSpace(b){b.stopPropagation()}isStatInOptions(b){return this.options.some(w=>w.value===b)}}return O.\u0275fac=function(b){return new(b||O)},O.\u0275cmp=m.Xpm({type:O,selectors:[["app-search-select"]],inputs:{label:"label",placeholder:"placeholder",control:"control",options:"options",noErrorPadding:"noErrorPadding",disabledOptions:"disabledOptions",notFoundMessage:"notFoundMessage",trigger:"trigger"},features:[m.qOj,m.TTD],decls:1,vars:1,consts:[["appearance","outline","color","primary",3,"no-error-padding",4,"ngIf"],["appearance","outline","color","primary"],[4,"ngIf"],["color","primary",3,"formControl","placeholder","openedChange"],["disabled","","role","search"],["matInput","","type","text","placeholder","Rechercher...",3,"formControl","keydown.space"],["searchInput",""],["role","no-result","disabled","",4,"ngIf"],[3,"value","disabled","filtered",4,"ngFor","ngForOf","ngForTrackBy"],["role","no-result","disabled",""],[3,"value","disabled"],[3,"innerHTML"]],template:function(b,w){1&b&&m.YNc(0,g,10,11,"mat-form-field",0),2&b&&m.Q6J("ngIf",null!==w.control&&w.options.length>0)},dependencies:[y.sg,y.O5,t.KE,t.bx,t.hX,a.Nt,n.gD,n.$L,u.ey,e.Fj,e.JJ,e.oH],styles:["[_nghost-%COMP%]{display:block}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]     .mat-select-placeholder{color:#d0d0d0}mat-form-field[_ngcontent-%COMP%]   mat-hint[_ngcontent-%COMP%]{color:#f44336}"]}),O})()},8849:(J,E,s)=>{s.d(E,{B:()=>t});var e=s(2419),i=s(5e3);function h(a,n){if(1&a&&i._UZ(0,"div",18),2&a){const u=i.oxw(2);i.Q6J("innerHTML",u.upgrade.genresLabel,i.oJD)}}function m(a,n){if(1&a&&i._UZ(0,"div",19),2&a){const u=i.oxw(2);i.Q6J("innerHTML",u.upgrade.costLabel,i.oJD)}}function y(a,n){if(1&a&&(i.TgZ(0,"div")(1,"div",1),i._uU(2),i.qZA(),i.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),i._UZ(7,"div",6)(8,"img",7),i.qZA()(),i.TgZ(9,"div",8)(10,"div",9),i._uU(11),i.qZA(),i.TgZ(12,"div",10),i._uU(13),i.qZA(),i.YNc(14,h,1,1,"div",11),i.TgZ(15,"div",12),i._uU(16),i.TgZ(17,"span",13),i._uU(18),i.qZA(),i._uU(19),i.qZA(),i.YNc(20,m,1,1,"div",14),i.qZA()(),i._UZ(21,"div",15)(22,"div",16)(23,"app-mechanics-view",17),i.qZA()()),2&a){const u=i.oxw();i.Gre("skill slormancer-tooltip ",u.upgrade.damageTypes.length>0?u.upgrade.damageTypes[0]:"",""),i.xp6(2),i.AsE("",u.getTypeLabel(u.upgrade.type),": ",u.upgrade.name,""),i.xp6(6),i.Q6J("src",u.upgrade.icon,i.LSH),i.xp6(3),i.AsE("",u.MASTERY_LABEL," ",u.upgrade.masteryRequired,""),i.xp6(2),i.Oqu(u.getTypeLabel(u.upgrade.type)),i.xp6(1),i.Q6J("ngIf",null!==u.upgrade.genresLabel),i.xp6(2),i.hij("",u.RANK_LABEL,": "),i.xp6(2),i.Oqu(u.upgrade.rank),i.xp6(1),i.hij("/",u.upgrade.maxRank,""),i.xp6(1),i.Q6J("ngIf",null!==u.upgrade.costLabel),i.xp6(2),i.Q6J("innerHTML",u.upgrade.description,i.oJD),i.xp6(1),i.Q6J("classMechanics",u.upgrade.relatedClassMechanics)("mechanics",u.upgrade.relatedMechanics)("buffs",u.upgrade.relatedBuffs)}}let t=(()=>{class a{constructor(u){this.slormancerTranslateService=u,this.upgrade=null,this.mouseOverElement=null,this.RANK_LABEL=this.slormancerTranslateService.translate("tt_rank"),this.MASTERY_LABEL=this.slormancerTranslateService.translate("tt_mastery")}getTypeLabel(u){return this.slormancerTranslateService.translate("tt_"+u)}showMechanicOverlay(u){this.mouseOverElement=u}hideMechanicOverlay(){this.mouseOverElement=null}}return a.\u0275fac=function(u){return new(u||a)(i.Y36(e.n6D))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-skill-upgrade-view"]],inputs:{upgrade:"upgrade"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head","inner-box"],[1,"content","inner-box"],[1,"info"],[1,"visual"],[1,"icon"],[1,"icon-border"],[3,"src"],[1,"data"],[1,"mastery"],[1,"type"],["class","genre",3,"innerHTML",4,"ngIf"],[1,"rank"],[1,"current"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"separator"],[1,"description",3,"innerHTML"],[3,"classMechanics","mechanics","buffs"],[1,"genre",3,"innerHTML"],[1,"cost",3,"innerHTML"]],template:function(u,d){1&u&&i.YNc(0,y,24,18,"div",0),2&u&&i.Q6J("ngIf",null!==d.upgrade)},styles:[".skill[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;max-width:400px}.skill[_ngcontent-%COMP%]   .inner-box[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]:before{border-color:primary-color(400)}.skill[_ngcontent-%COMP%]  .value, .skill[_ngcontent-%COMP%]  .rank .current, .skill[_ngcontent-%COMP%]  .head{color:#ce4607}.skill[_ngcontent-%COMP%]  .mag .value{color:#bb1fe2}.skill[_ngcontent-%COMP%]  .range, .skill[_ngcontent-%COMP%]  .range .value, .skill[_ngcontent-%COMP%]  .details, .skill[_ngcontent-%COMP%]  .details .value, .skill[_ngcontent-%COMP%]  .formula, .skill[_ngcontent-%COMP%]  .formula .value{color:#686868}.skill[_ngcontent-%COMP%]  .affixes .range, .skill[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.skill[_ngcontent-%COMP%]  .life{color:#257539}.skill[_ngcontent-%COMP%]  .value.mana{color:#3397dd}.skill.mag[_ngcontent-%COMP%]  .value, .skill.mag[_ngcontent-%COMP%]  .rank .current, .skill.mag[_ngcontent-%COMP%]  .head{color:#bb1fe2}.skill.mag[_ngcontent-%COMP%]  .value.mana, .skill.mag[_ngcontent-%COMP%]  .rank .current.mana, .skill.mag[_ngcontent-%COMP%]  .head.mana{color:#3397dd}.skill.mag[_ngcontent-%COMP%]  .value.life, .skill.mag[_ngcontent-%COMP%]  .rank .current.life, .skill.mag[_ngcontent-%COMP%]  .head.life{color:#257539}.skill[_ngcontent-%COMP%]   .head.head[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.head[_ngcontent-%COMP%]{text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;gap:20px;padding:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;gap:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{display:flex;align-items:center}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border:3px solid rgb(190,135,31);min-width:60px;min-height:60px;width:60px;height:60px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black;image-rendering:pixelated;width:54px;height:54px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-transform:uppercase;height:100%;flex-grow:1;padding:5px 0;gap:5px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#3155bc}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]{display:flex;flex-direction:row}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{min-width:8px;padding-right:8px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;background-color:#ce4607;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}"]}),a})()},411:(J,E,s)=>{s.d(E,{O:()=>o});var e=s(5e3),i=s(9808),h=s(5245),m=s(7238);function y(_,P){if(1&_&&e._UZ(0,"div",16),2&_){const g=e.oxw(2);e.Q6J("innerHTML",g.skill.genresLabel,e.oJD)}}function t(_,P){if(1&_&&(e.TgZ(0,"mat-icon",20),e._uU(1,"info_outline"),e.qZA()),2&_){const g=e.oxw(3);e.Q6J("matTooltip",g.skill.cooldownDetailsLabel)}}function a(_,P){if(1&_&&(e.TgZ(0,"div",17),e._UZ(1,"span",18),e.YNc(2,t,2,1,"mat-icon",19),e.qZA()),2&_){const g=e.oxw(2);e.xp6(1),e.Q6J("innerHTML",g.skill.cooldownLabel,e.oJD),e.xp6(1),e.Q6J("ngIf",null!==g.skill.cooldownDetailsLabel)}}function n(_,P){if(1&_&&e._UZ(0,"div",21),2&_){const g=e.oxw(2);e.Q6J("innerHTML",g.skill.fastLabel,e.oJD)}}function u(_,P){if(1&_&&e._UZ(0,"div",22),2&_){const g=e.oxw(2);e.Q6J("innerHTML",g.skill.costLabel,e.oJD)}}function d(_,P){if(1&_&&(e.TgZ(0,"span",23),e._uU(1),e.qZA()),2&_){const g=e.oxw(2);e.xp6(1),e.hij(" + ",g.skill.bonusLevel,"")}}function M(_,P){if(1&_&&(e.TgZ(0,"div"),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"img",6),e.qZA()(),e.TgZ(7,"div",7),e.YNc(8,y,1,1,"div",8),e.YNc(9,a,3,2,"div",9),e.YNc(10,n,1,1,"div",10),e.YNc(11,u,1,1,"div",11),e.qZA()(),e._UZ(12,"div",12)(13,"div",13),e.TgZ(14,"div",14),e._UZ(15,"img",6),e.YNc(16,d,2,1,"span",15),e.qZA()()()),2&_){const g=e.oxw();e.Gre("skill slormancer-tooltip ",g.skill.damageTypes.length>0?g.skill.damageTypes[0]:"",""),e.xp6(1),e.Q6J("innerHTML",g.skill.nameLabel,e.oJD),e.xp6(5),e.Q6J("src","assets/img/icon/"+g.skill.icon+".png",e.LSH),e.xp6(2),e.Q6J("ngIf",null!==g.skill.genresLabel),e.xp6(1),e.Q6J("ngIf",null!==g.skill.cooldownLabel),e.xp6(1),e.Q6J("ngIf",null!==g.skill.fastLabel),e.xp6(1),e.Q6J("ngIf",null!==g.skill.costLabel),e.xp6(2),e.Q6J("innerHTML",g.skill.description,e.oJD),e.xp6(2),e.MGl("src","assets/img/icon/",g.skill.levelIcon,".png",e.LSH),e.xp6(1),e.Q6J("ngIf",g.skill.bonusLevel>0)}}let o=(()=>{class _{constructor(){this.skill=null}}return _.\u0275fac=function(g){return new(g||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-skill-view"]],inputs:{skill:"skill"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head","inner-box",3,"innerHTML"],[1,"content","inner-box"],[1,"info"],[1,"visual"],[1,"icon"],[3,"src"],[1,"data"],["class","genre",3,"innerHTML",4,"ngIf"],["class","cooldown",4,"ngIf"],["class","fast",3,"innerHTML",4,"ngIf"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"separator"],[1,"description",3,"innerHTML"],[1,"bottom-level"],["class","bonus",4,"ngIf"],[1,"genre",3,"innerHTML"],[1,"cooldown"],[3,"innerHTML"],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],[1,"fast",3,"innerHTML"],[1,"cost",3,"innerHTML"],[1,"bonus"]],template:function(g,L){1&g&&e.YNc(0,M,17,12,"div",0),2&g&&e.Q6J("ngIf",null!==L.skill)},dependencies:[i.O5,h.Hw,m.gM],styles:[".skill[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;max-width:400px}.skill[_ngcontent-%COMP%]   .inner-box[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]:before{border-color:primary-color(400)}.skill[_ngcontent-%COMP%]  .value, .skill[_ngcontent-%COMP%]  .rank .current{color:#ce4607}.skill[_ngcontent-%COMP%]  .range, .skill[_ngcontent-%COMP%]  .range .value, .skill[_ngcontent-%COMP%]  .details, .skill[_ngcontent-%COMP%]  .details .value, .skill[_ngcontent-%COMP%]  .formula, .skill[_ngcontent-%COMP%]  .formula .value{color:#686868}.skill[_ngcontent-%COMP%]  .affixes .range, .skill[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.skill[_ngcontent-%COMP%]  .life{color:#257539}.skill[_ngcontent-%COMP%]  .mana{color:#3397dd}.skill.mag[_ngcontent-%COMP%]  .value, .skill.mag[_ngcontent-%COMP%]  .rank .current{color:#bb1fe2}.skill.mag[_ngcontent-%COMP%]  .value.mana, .skill.mag[_ngcontent-%COMP%]  .rank .current.mana{color:#3397dd}.skill.mag[_ngcontent-%COMP%]  .value.life, .skill.mag[_ngcontent-%COMP%]  .rank .current.life{color:#257539}.skill[_ngcontent-%COMP%]   .head.head[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.head[_ngcontent-%COMP%]{text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;gap:20px;padding:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;gap:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{display:flex;align-items:center}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border:3px solid rgb(190,135,31);min-width:60px;min-height:60px;width:60px;height:60px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black;image-rendering:pixelated;width:54px;height:54px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;text-transform:uppercase;height:100%;padding:5px 0;gap:5px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:4px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .cooldown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .cooldown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:14px;width:14px;font-size:14px;line-height:14px;display:inline}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}"]}),_})()},3201:(J,E,s)=>{s.d(E,{M:()=>a});var e=s(5e3),i=s(9808);function h(n,u){if(1&n&&e._UZ(0,"div",9),2&n){const d=e.oxw(2);e.Q6J("innerHTML",d.trait.cumulativeStats,e.oJD)}}function m(n,u){if(1&n&&e._UZ(0,"div",9),2&n){const d=e.oxw(2);e.Q6J("innerHTML",d.trait.description,e.oJD)}}function y(n,u){if(1&n&&(e.ynx(0),e._UZ(1,"div",10)(2,"div",11),e.BQk()),2&n){const d=e.oxw(2);e.xp6(2),e.Q6J("innerHTML",d.trait.unlockLabel,e.oJD)}}function t(n,u){if(1&n&&(e.TgZ(0,"div")(1,"div",1)(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3)(5,"span",4),e._uU(6),e.qZA(),e._uU(7," - "),e.TgZ(8,"span",5),e._uU(9),e.qZA()()(),e.TgZ(10,"div",6),e.YNc(11,h,1,1,"div",7),e.YNc(12,m,1,1,"div",7),e.YNc(13,y,3,1,"ng-container",8),e.qZA()()),2&n){const d=e.oxw();e.Gre("trait attribute-",d.trait.attribute,""),e.xp6(3),e.Oqu(d.trait.attributeName),e.xp6(3),e.Oqu(d.trait.rankLabel),e.xp6(3),e.Oqu(d.trait.traitLevelLabel),e.xp6(2),e.Q6J("ngIf",null!==d.trait.cumulativeStats),e.xp6(1),e.Q6J("ngIf",null!==d.trait.description),e.xp6(1),e.Q6J("ngIf",null!==d.trait.unlockLabel)}}let a=(()=>{class n{constructor(){this.trait=null}}return n.\u0275fac=function(d){return new(d||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-trait-view"]],inputs:{trait:"trait"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head"],[1,"attribute"],[1,"subtitle"],[1,"rank"],[1,"level"],[1,"content"],["class","description",3,"innerHTML",4,"ngIf"],[4,"ngIf"],[1,"description",3,"innerHTML"],[1,"separator"],[1,"unlock",3,"innerHTML"]],template:function(d,M){1&d&&e.YNc(0,t,14,9,"div",0),2&d&&e.Q6J("ngIf",null!==M.trait)},dependencies:[i.O5],styles:[".trait[_ngcontent-%COMP%]{background-color:#151412;border:3px solid black;color:#fff;display:flex;flex-direction:column;gap:5px;min-width:250px}.trait.attribute-0[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]     .value{color:#2f5996}.trait.attribute-1[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]     .value{color:#a83007}.trait.attribute-2[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]     .value{color:#79b549}.trait.attribute-3[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]     .value{color:#d0b545}.trait.attribute-4[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]     .value{color:#4bc1b2}.trait.attribute-5[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]     .value{color:#753098}.trait.attribute-6[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]     .value{color:#cd7028}.trait.attribute-7[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]     .value{color:#bf3c59}.trait[_ngcontent-%COMP%]  .range, .trait[_ngcontent-%COMP%]  .range .value, .trait[_ngcontent-%COMP%]  .details, .trait[_ngcontent-%COMP%]  .details .value, .trait[_ngcontent-%COMP%]  .formula, .trait[_ngcontent-%COMP%]  .formula .value{color:#686868}.trait[_ngcontent-%COMP%]  .affixes .range, .trait[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:3px solid rgb(60,57,49)}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-transform:uppercase;padding:10px;gap:2px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .attribute[_ngcontent-%COMP%]{font-size:19px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px 10px;gap:20px;text-align:center}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}"]}),n})()},2380:(J,E,s)=>{s.d(E,{q:()=>m});var e=s(5e3),i=s(9808);function h(y,t){if(1&y&&(e.TgZ(0,"div",1)(1,"div",2),e._UZ(2,"div",3)(3,"div",4),e.qZA(),e.TgZ(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"div",9)(9,"div",10),e._UZ(10,"img",11),e.qZA()()()(),e.TgZ(11,"div",12)(12,"div",13)(13,"div",14),e._uU(14),e.qZA(),e._UZ(15,"div",15),e.qZA(),e.TgZ(16,"div",16)(17,"div",14),e._uU(18),e.qZA(),e._UZ(19,"div",15),e.qZA()()(),e.TgZ(20,"div",17),e._UZ(21,"img",11),e.qZA()()()),2&y){const a=e.oxw();e.xp6(2),e.Q6J("innerHTML",a.ultimatum.title,e.oJD),e.xp6(1),e.Q6J("innerHTML",a.ultimatum.levelLabel,e.oJD),e.xp6(7),e.MGl("src","assets/img/icon/",a.ultimatum.icon,".png",e.LSH),e.xp6(4),e.Oqu(a.ultimatum.bonusTitle),e.xp6(1),e.Q6J("innerHTML",a.ultimatum.bonusLabel,e.oJD),e.xp6(3),e.Oqu(a.ultimatum.malusTitle),e.xp6(1),e.Q6J("innerHTML",a.ultimatum.malusLabel,e.oJD),e.xp6(2),e.MGl("src","assets/img/icon/",a.ultimatum.levelIcon,".png",e.LSH)}}let m=(()=>{class y{constructor(){this.ultimatum=null}}return y.\u0275fac=function(a){return new(a||y)},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-ultimatum-view"]],inputs:{ultimatum:"ultimatum"},decls:1,vars:1,consts:[["class","ultimatum slormancer-tooltip",4,"ngIf"],[1,"ultimatum","slormancer-tooltip"],[1,"head","inner-box"],[1,"title",3,"innerHTML"],[1,"level",3,"innerHTML"],[1,"content","inner-box"],[1,"data"],[1,"visual"],[1,"background"],[1,"inner-background"],[1,"ultimatum"],[3,"src"],[1,"info"],[1,"bonus"],[1,"title"],[3,"innerHTML"],[1,"malus"],[1,"bottom-level"]],template:function(a,n){1&a&&e.YNc(0,h,22,8,"div",0),2&a&&e.Q6J("ngIf",null!==n.ultimatum)},dependencies:[i.O5],styles:[".ultimatum[_ngcontent-%COMP%]{width:350px}.ultimatum[_ngcontent-%COMP%]  .value, .ultimatum[_ngcontent-%COMP%]  .rank .current{color:#ce4607}.ultimatum[_ngcontent-%COMP%]  .range, .ultimatum[_ngcontent-%COMP%]  .range .value, .ultimatum[_ngcontent-%COMP%]  .details, .ultimatum[_ngcontent-%COMP%]  .details .value, .ultimatum[_ngcontent-%COMP%]  .formula, .ultimatum[_ngcontent-%COMP%]  .formula .value{color:#686868}.ultimatum[_ngcontent-%COMP%]  .affixes .range, .ultimatum[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.ultimatum[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase}.ultimatum[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{font-size:80%}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{border:3px solid black;background-color:#3c3c3c;border-radius:10%;padding:3px;width:60px;height:70px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;border:3px solid black;background-color:#471712;border-radius:10%;width:100%;height:100%}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]{width:0;height:0}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:translate(-50%,-50%);width:72px;height:72px;image-rendering:pixelated}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:105%}"]}),y})()},4006:(J,E,s)=>{s.d(E,{q:()=>q});var e=s(2349),i=s(5e3),h=s(9808),m=s(7423),y=s(7803),t=s(9762),a=s(8003),n=s(411),u=s(8849),d=s(9065),M=s(3201),o=s(9246),_=s(2380),P=s(7295);function g(S,R){if(1&S&&i._UZ(0,"app-reaper-view",12),2&S){const p=i.oxw();i.Q6J("reaper",p.entity.reaper)("tooltip",p.tooltip)}}function L(S,R){if(1&S&&i._UZ(0,"app-attribute-summary-view",13),2&S){const p=i.oxw();i.Q6J("attributeTraits",p.entity.attribute)}}function O(S,R){if(1&S&&i._UZ(0,"app-item-view",14),2&S){const p=i.oxw();i.Q6J("item",p.entity.item)("details",p.details)}}function A(S,R){if(1&S&&i._UZ(0,"app-ancestral-legacy-view",15),2&S){const p=i.oxw();i.Q6J("ancestralLegacy",p.entity.ancestralLegacy)("hideNextRank",p.hideNextRank)}}function b(S,R){if(1&S&&i._UZ(0,"app-activable-view",16),2&S){const p=i.oxw();i.Q6J("activable",p.entity.activable)}}function w(S,R){if(1&S&&(i.TgZ(0,"div",17)(1,"div",18),i._UZ(2,"h3",19)(3,"p",19),i.qZA()()),2&S){const p=i.oxw();i.xp6(2),i.Q6J("innerHTML",p.entity.mechanic.name,i.oJD),i.xp6(1),i.Q6J("innerHTML",p.entity.mechanic.description,i.oJD)}}function U(S,R){if(1&S&&i._UZ(0,"app-rune-view",20),2&S){const p=i.oxw();i.Q6J("rune",p.entity.rune)}}function D(S,R){if(1&S&&i._UZ(0,"app-skill-view",21),2&S){const p=i.oxw();i.Q6J("skill",p.entity.skill)}}function V(S,R){if(1&S&&i._UZ(0,"app-trait-view",22),2&S){const p=i.oxw();i.Q6J("trait",p.entity.trait)}}function F(S,R){if(1&S&&i._UZ(0,"app-ultimatum-view",23),2&S){const p=i.oxw();i.Q6J("ultimatum",p.entity.ultimatum)}}function Y(S,R){if(1&S&&i._UZ(0,"app-skill-upgrade-view",24),2&S){const p=i.oxw();i.Q6J("upgrade",p.entity.upgrade)}}let q=(()=>{class S{constructor(p){var f,l,c;this.tooltip=!1,this.details=!1,this.hideNextRank=!1,this.entity=p.entity,this.tooltip=null!==(f=this.tooltip)&&void 0!==f&&f,this.details=null!==(l=this.details)&&void 0!==l&&l,this.hideNextRank=null!==(c=this.hideNextRank)&&void 0!==c&&c}isReaper(p){return"reaper"in p}isAttribute(p){return"attribute"in p}isItem(p){return"item"in p}isAncestralLegacy(p){return"ancestralLegacy"in p}isActivable(p){return"activable"in p}isMechanic(p){return"mechanic"in p}isRune(p){return"rune"in p}isSkill(p){return"skill"in p}isTrait(p){return"trait"in p}isUltimatum(p){return"ultimatum"in p}isUpgrade(p){return"upgrade"in p}}return S.\u0275fac=function(p){return new(p||S)(i.Y36(e.WI))},S.\u0275cmp=i.Xpm({type:S,selectors:[["app-view-modal"]],decls:15,vars:12,consts:[[3,"reaper","tooltip",4,"ngIf"],[3,"attributeTraits",4,"ngIf"],[3,"item","details",4,"ngIf"],[3,"ancestralLegacy","hideNextRank",4,"ngIf"],[3,"activable",4,"ngIf"],["class","slormancer-tooltip",4,"ngIf"],[3,"rune",4,"ngIf"],[3,"skill",4,"ngIf"],[3,"trait",4,"ngIf"],[3,"ultimatum",4,"ngIf"],[3,"upgrade",4,"ngIf"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],[3,"reaper","tooltip"],[3,"attributeTraits"],[3,"item","details"],[3,"ancestralLegacy","hideNextRank"],[3,"activable"],[1,"slormancer-tooltip"],[1,"inner-box"],[3,"innerHTML"],[3,"rune"],[3,"skill"],[3,"trait"],[3,"ultimatum"],[3,"upgrade"]],template:function(p,f){1&p&&(i.TgZ(0,"mat-dialog-content"),i.YNc(1,g,1,2,"app-reaper-view",0),i.YNc(2,L,1,1,"app-attribute-summary-view",1),i.YNc(3,O,1,2,"app-item-view",2),i.YNc(4,A,1,2,"app-ancestral-legacy-view",3),i.YNc(5,b,1,1,"app-activable-view",4),i.YNc(6,w,4,2,"div",5),i.YNc(7,U,1,1,"app-rune-view",6),i.YNc(8,D,1,1,"app-skill-view",7),i.YNc(9,V,1,1,"app-trait-view",8),i.YNc(10,F,1,1,"app-ultimatum-view",9),i.YNc(11,Y,1,1,"app-skill-upgrade-view",10),i.qZA(),i.TgZ(12,"mat-dialog-actions")(13,"button",11),i._uU(14,"Close"),i.qZA()()),2&p&&(i.xp6(1),i.Q6J("ngIf",f.isReaper(f.entity)),i.xp6(1),i.Q6J("ngIf",f.isAttribute(f.entity)),i.xp6(1),i.Q6J("ngIf",f.isItem(f.entity)),i.xp6(1),i.Q6J("ngIf",f.isAncestralLegacy(f.entity)),i.xp6(1),i.Q6J("ngIf",f.isActivable(f.entity)),i.xp6(1),i.Q6J("ngIf",f.isMechanic(f.entity)),i.xp6(1),i.Q6J("ngIf",f.isRune(f.entity)),i.xp6(1),i.Q6J("ngIf",f.isSkill(f.entity)),i.xp6(1),i.Q6J("ngIf",f.isTrait(f.entity)),i.xp6(1),i.Q6J("ngIf",f.isUltimatum(f.entity)),i.xp6(1),i.Q6J("ngIf",f.isUpgrade(f.entity)),i.xp6(2),i.Q6J("mat-dialog-close",null))},dependencies:[h.O5,m.lW,e.ZT,e.xY,e.H8,y.F,t.b,a.K,n.O,u.B,d.q,M.M,o.P,_.q,P.g],styles:[".slormancer-tooltip[_ngcontent-%COMP%]{max-width:350px}.slormancer-tooltip[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:8px 0;font-weight:400;color:#ce4607}.slormancer-tooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0}.slormancer-tooltip[_ngcontent-%COMP%]     .value{color:#ce4607}app-item-view[_ngcontent-%COMP%]{display:block;width:350px}"]}),S})()},4296:(J,E,s)=>{s.d(E,{F1:()=>i,yF:()=>e});const e="https://github.com/cayrac/slorm-planner",i="http://www.slormitestudios.com"},311:(J,E,s)=>{s.d(E,{x:()=>u});var e=s(2419),i=s(1135),h=s(7579),m=s(8372),y=s(2340),t=s(5e3);let a=(()=>{class d{constructor(){this.CHANGES=[{version:"0.0.2",update:o=>{o.configuration.frostbolt_shot_recently=0,o.configuration.has_elemental_prowess_buff=!1,o.configuration.has_splash_splash_buff=!1,o.configuration.has_booster_max_buff=!1,o.version="0.0.2"}},{version:"0.0.4",update:o=>{o.configuration.use_enemy_state=!1,o.version="0.0.4"}},{version:"0.0.8",update:o=>{o.version="0.0.8";for(const _ of o.layers)_.character.originalVersion=_.character.version,_.character.version=e.veS;o.configuration.has_electrify_buff=!1,o.configuration.elemental_spirit_stacks=0,o.configuration.is_channeling_focus=!1}},{version:"0.0.9",update:o=>{o.version="0.0.9";for(const _ of o.layers)_.character.version=e.veS}},{version:"0.0.10",update:o=>{o.version="0.0.10"}},{version:"0.0.11",update:o=>{o.version="0.0.11",o.name="New build"}},{version:"0.0.12",update:o=>{o.version="0.0.12";for(const _ of o.layers)_.character.importVersion=null}},{version:"0.1.0",update:o=>{o.version="0.1.0",void 0===o.configuration.concentration_buff&&(o.configuration.concentration_buff=!1),void 0===o.configuration.summoned_skeleton_squires&&(o.configuration.summoned_skeleton_squires=0),void 0===o.configuration.always_summon_maximum_skeleton_squires&&(o.configuration.always_summon_maximum_skeleton_squires=!1),void 0===o.configuration.minimum_unreserved_mana&&(o.configuration.minimum_unreserved_mana=0),void 0===o.configuration.fulgurorn_dedication_stacks&&(o.configuration.fulgurorn_dedication_stacks=0),void 0===o.configuration.enemy_inner_weakness_stacks&&(o.configuration.enemy_inner_weakness_stacks=0),void 0===o.configuration.add_totem_tag_to_prime_totem_skills&&(o.configuration.add_totem_tag_to_prime_totem_skills=!1),void 0===o.configuration.highest_slorm_temple_floor&&(o.configuration.highest_slorm_temple_floor=0),void 0===o.configuration.show_temple_keeper_as_totem&&(o.configuration.show_temple_keeper_as_totem=!1),void 0===o.configuration.ultima_momentum_buff&&(o.configuration.ultima_momentum_buff=!1),void 0===o.configuration.elder_slorms&&(o.configuration.elder_slorms=0),void 0===o.configuration.show_elder_inner_fire_damage&&(o.configuration.show_elder_inner_fire_damage=!1),void 0===o.configuration.exposed_armor_buff&&(o.configuration.exposed_armor_buff=!1),void 0===o.configuration.apex_predator_stacks&&(o.configuration.apex_predator_stacks=0),void 0===o.configuration.enemy_enfeeble_stacks&&(o.configuration.enemy_enfeeble_stacks=0),void 0===o.configuration.enfeeble_stacks_in_radius&&(o.configuration.enfeeble_stacks_in_radius=0),"all_characters_level"in o.configuration&&(o.configuration.all_characters_level=void 0,o.configuration.all_other_characters_level=100)}},{version:"0.1.1",update:o=>{o.version="0.1.1"}},{version:"0.1.2",update:o=>{o.version="0.1.2",void 0===o.configuration.chilled_enemy_nearby&&(o.configuration.chilled_enemy_nearby=e.g5j.chilled_enemy_nearby),void 0===o.configuration.in_combat&&(o.configuration.in_combat=e.g5j.in_combat)}},{version:"0.1.3",update:o=>{o.version="0.1.3"}},{version:"0.1.4",update:o=>{o.version="0.1.4"}},{version:"0.1.5",update:o=>{o.version="0.1.5"}},{version:"0.2.0",update:o=>{o.version="0.2.0";for(const _ of o.layers)_.character.reaper.baseAffinity=e.DxO,_.character.reaper.bonusAffinity=0,_.character.runes={effect:null,enhancement:null,activation:null};void 0===o.configuration.is_rune_active&&(o.configuration.is_rune_active=!1),void 0===o.configuration.effect_rune_affinity&&(o.configuration.effect_rune_affinity=100),void 0===o.configuration.effective_rune_stacks&&(o.configuration.effective_rune_stacks=225)}},{version:"0.2.1",update:o=>{o.version="0.2.1"}},{version:"0.2.2",update:o=>{o.version="0.2.2"}},{version:"0.2.3",update:o=>{o.version="0.2.3"}},{version:"0.2.5",update:o=>{o.version="0.2.5"}},{version:"0.2.5.1",update:o=>{o.version="0.2.5.1"}},{version:"0.2.5.2",update:o=>{o.version="0.2.5.2"}},{version:"0.3.0",update:o=>{o.version="0.3.0",o.configuration.has_living_inferno_buff=!1,o.configuration.has_shadow_shield_buff=!1,o.configuration.has_shadow_bargain_buff=!1,o.configuration.has_flawless_defense_buff=!1,o.configuration.aurelon_bargain_stacks=0,o.configuration.cleansing_surge_stacks=0,o.configuration.overcharged_stacks=0,o.configuration.has_frostfire_buff=!1,o.configuration.target_is_burning=!1,100===o.configuration.all_other_characters_level&&(o.configuration.all_other_characters_level=140)}},{version:"0.3.1",update:o=>{o.version="0.3.1"}},{version:"0.4.0",update:o=>{o.version="0.4.0",o.configuration.has_ancestral_instability_buff=!1,o.configuration.ancestral_instability_buff_duration=0,o.configuration.target_negative_effects=0,o.configuration.efficiency_buff=!1,o.configuration.has_avatar_of_shadow_buff=!1,o.configuration.highest_same_type_reaper_level=100}},{version:"0.4.1",update:o=>{o.version="0.4.1"}},{version:"0.4.2",update:o=>{o.version="0.4.2"}},{version:"0.5.0",update:o=>{o.version="0.5.0",o.configuration.is_triggered_by_book_smash=!1;for(const _ of o.layers)_.character.ancestralLegacies.activeFirstNode=null}},{version:"0.5.1",update:o=>{o.version="0.5.1"}},{version:"0.6.0",update:o=>{o.version="0.6.0",o.configuration.indirect_defense_stacks=0,o.configuration.other_characters_mastery_total=30,o.configuration.support_streak_stacks=0,o.configuration.victims_combo=0,o.configuration.enemy_horrified_stacks=0,o.configuration.bloodthirst_stacks=0,o.configuration.has_blood_frenzy_buff=!1,o.configuration.elemental_fury_stacks=0,o.configuration.fighter_bane_stacks=0,o.configuration.mage_bane_stacks=0,o.configuration.moonlight_stacks=0,o.configuration.sunlight_stacks=0,o.configuration.moonlight_side=!0,o.configuration.life_orbs_count=0,o.configuration.ancestral_wrath_stacks=0,o.configuration.is_curving_time_or_time_shifting=!1,o.configuration.ancestral_preparation_stacks=0,o.configuration.unity_level_0_47=0,o.configuration.unity_level_0_48=0,o.configuration.unity_level_0_49=0,o.configuration.unity_level_0_50=0,o.configuration.unity_level_0_51=0,o.configuration.unity_level_0_52=0,o.configuration.unity_level_1_47=0,o.configuration.unity_level_1_48=0,o.configuration.unity_level_1_49=0,o.configuration.unity_level_1_50=0,o.configuration.unity_level_1_51=0,o.configuration.unity_level_1_52=0,o.configuration.unity_level_2_47=0,o.configuration.unity_level_2_48=0,o.configuration.unity_level_2_49=0,o.configuration.unity_level_2_50=0,o.configuration.unity_level_2_51=0,o.configuration.unity_level_2_52=0,o.configuration.unity_level_0_47_p=0,o.configuration.unity_level_0_48_p=0,o.configuration.unity_level_0_49_p=0,o.configuration.unity_level_0_50_p=0,o.configuration.unity_level_0_51_p=0,o.configuration.unity_level_0_52_p=0,o.configuration.unity_level_1_47_p=0,o.configuration.unity_level_1_48_p=0,o.configuration.unity_level_1_49_p=0,o.configuration.unity_level_1_50_p=0,o.configuration.unity_level_1_51_p=0,o.configuration.unity_level_1_52_p=0,o.configuration.unity_level_2_47_p=0,o.configuration.unity_level_2_48_p=0,o.configuration.unity_level_2_49_p=0,o.configuration.unity_level_2_50_p=0,o.configuration.unity_level_2_51_p=0,o.configuration.unity_level_2_52_p=0,o.configuration.has_life_bargain_buff=!1,o.configuration.enemy_is_chill_or_frozen=!1,o.configuration.absorbed_damage_wrath=0,o.configuration.add_skeletons_to_controlled_minions=!1;for(const _ of o.layers){const P=_.character.reaper.affinity;_.character.reaper.baseReaperAffinity=P,_.character.reaper.baseEffectAffinity=P}}},{version:"0.6.1",update:o=>{o.version="0.6.1"}},{version:"0.6.2",update:o=>{o.version="0.6.2"}},{version:"0.6.3",update:o=>{o.version="0.6.3";for(const _ of o.layers)_.character.reaper.baseReaperAffinity=Number.isInteger(_.character.reaper.baseReaperAffinity)?_.character.reaper.baseReaperAffinity:100,_.character.reaper.baseEffectAffinity=Number.isInteger(_.character.reaper.baseEffectAffinity)?_.character.reaper.baseEffectAffinity:100}},{version:"0.6.4",update:o=>{o.version="0.6.4"}},{version:"0.7.0",update:o=>{o.version="0.7.0",o.configuration.ray_of_obliteration_power=o.configuration.ray_of_obliteration_grow_stacks,o.configuration.recent_delighted_arrow_shot=!1,o.configuration.unrelenting_stacks=0,delete o.configuration.unity_level_0_47_p,delete o.configuration.unity_level_0_48_p,delete o.configuration.unity_level_0_49_p,delete o.configuration.unity_level_0_50_p,delete o.configuration.unity_level_0_51_p,delete o.configuration.unity_level_0_52_p,delete o.configuration.unity_level_1_47_p,delete o.configuration.unity_level_1_48_p,delete o.configuration.unity_level_1_49_p,delete o.configuration.unity_level_1_50_p,delete o.configuration.unity_level_1_51_p,delete o.configuration.unity_level_1_52_p,delete o.configuration.unity_level_2_47_p,delete o.configuration.unity_level_2_48_p,delete o.configuration.unity_level_2_49_p,delete o.configuration.unity_level_2_50_p,delete o.configuration.unity_level_2_51_p,delete o.configuration.unity_level_2_52_p;for(const _ of o.layers)for(;_.character.sharedInventory.length<e.Sgi;)_.character.sharedInventory.push((0,e.pb)(e.Mq7).map(()=>null))}},{version:"0.8.0",update:o=>{o.version="0.8.0",o.configuration.has_extreme_confidence_buff=!1,o.configuration.life_mana_stored=0,o.configuration.apply_indirect_increased_damage=!1,o.configuration.skill_retention_stacks=0,o.configuration.elemental_retention_stacks=0,o.configuration.transference_stacks=0,o.configuration.reaper_owned=0,o.configuration.victims_114_others=0}}]}updateToLatestVersion(o){void 0===o.version&&(o.version="0.0.1",o.configuration=e.g5j);for(let _ of this.CHANGES)(0,e.n4)(_.version,o.version)>0&&_.update(o)}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();var n=s(3390);let u=(()=>{class d{constructor(o,_,P){this.jsonConverterService=o,this.buildRetrocompatibilityService=_,this.slormancerCharacterUpdaterService=P,this.MAX_LAYERS=10,this.BUILDS_STORAGE_KEY="beta-builds",this.CURRENT_BUILD_STORAGE_KEY="beta-current-build",this.CURRENT_LAYER_STORAGE_KEY="beta-current-layer",this.builds=[],this.build=null,this.layer=null,this.buildChanged=new i.X(null),this.layerChanged=new i.X(null),this.saveTrigger=new h.x,this.reload(),this.oldFormatTransition(),this.saveTrigger.pipe((0,m.b)(500)).subscribe(()=>this.saveToStorage())}getCurrentLayerIndex(){const o=localStorage.getItem(this.CURRENT_LAYER_STORAGE_KEY),_=null===o?0:parseInt(o,10);return Number.isNaN(_)?0:_}oldFormatTransition(){const o="slorm-planner-build",_=localStorage.getItem(o);if(null!==_&&0===this.builds.length){const P=this.jsonConverterService.jsonToBuild(JSON.parse(_));this.addBuild(P),localStorage.removeItem(o),this.saveToStorage()}}reload(){this.builds=[],this.build=null,this.layer=null;try{const o=localStorage.getItem(this.BUILDS_STORAGE_KEY),_=localStorage.getItem(this.CURRENT_BUILD_STORAGE_KEY),P=this.getCurrentLayerIndex();if(null!==o&&(this.builds=JSON.parse(o)),null!==_){const g=localStorage.getItem(_);null!==g&&(this.build=this.jsonConverterService.jsonToBuild(JSON.parse(g)),this.buildRetrocompatibilityService.updateToLatestVersion(this.build))}if(null!==this.build){let g=(0,e.BeF)(this.build.layers[P],this.build.layers[0]);void 0!==g&&(this.layer=g);for(const L of this.build.layers)this.slormancerCharacterUpdaterService.updateCharacter(L.character,this.build.configuration)}}catch(o){console.error("Failed to reload build : ",o)}this.buildChanged.next(this.build),this.layerChanged.next(this.layer)}saveToStorage(){localStorage.setItem(this.BUILDS_STORAGE_KEY,JSON.stringify(this.builds));const o=localStorage.getItem(this.CURRENT_BUILD_STORAGE_KEY);if(null!==o&&null!==this.build){localStorage.setItem(o,JSON.stringify(this.jsonConverterService.buildToJson(this.build)));let _=0;null!==this.layer&&(_=this.build.layers.indexOf(this.layer)),localStorage.setItem(this.CURRENT_LAYER_STORAGE_KEY,_<0?"0":_.toString())}}saveBuild(o=!1){if(null!==this.build){for(const P of this.build.layers)this.slormancerCharacterUpdaterService.updateCharacter(P.character,this.build.configuration);const _=this.getBuildPreview();if(null!==_&&(_.name=this.build.name),null!==this.build){let P=this.getCurrentLayerIndex();const g=null===this.layer?-1:this.build.layers.indexOf(this.layer);P=-1!==g?g:Math.min(P,this.build.layers.length-1),this.layer=(0,e.lA$)(this.build.layers[P])}o?this.saveToStorage():this.saveTrigger.next(),this.buildChanged.next(this.build),this.layerChanged.next(this.layer)}}saveLayer(){null!==this.build&&null!==this.layer&&(this.slormancerCharacterUpdaterService.updateCharacter(this.layer.character,this.build.configuration),this.saveTrigger.next())}loadBuild(o){localStorage.setItem(this.CURRENT_BUILD_STORAGE_KEY,o.storageKey),localStorage.setItem(this.CURRENT_LAYER_STORAGE_KEY,"0"),this.reload()}deleteBuild(){const o=localStorage.getItem(this.CURRENT_BUILD_STORAGE_KEY);if(null!==o){const _=this.builds.findIndex(P=>P.storageKey===o);if(-1!==_){this.builds.splice(_,1),localStorage.removeItem(o),localStorage.removeItem(this.CURRENT_BUILD_STORAGE_KEY),this.saveToStorage();const P=Math.min(_,this.builds.length-1),g=this.builds[P];g?this.loadBuild(g):this.reload()}}}loadLayer(o){null!==this.build&&-1!==this.build.layers.indexOf(o)&&(this.layer=o,this.saveBuild())}addBuild(o){null!==o&&this.buildRetrocompatibilityService.updateToLatestVersion(o);const _={heroClass:o.heroClass,name:o.name,storageKey:"build-"+(new Date).getTime(),version:y.N.version};this.builds.push(_),this.build=o,this.layer=(0,e.BeF)(o.layers[0],null),localStorage.setItem(this.CURRENT_BUILD_STORAGE_KEY,_.storageKey),this.saveBuild(!0)}getBuilds(){return this.builds}getBuild(){return this.build}getBuildPreview(){const o=localStorage.getItem(this.CURRENT_BUILD_STORAGE_KEY);return(0,e.lA$)(this.builds.find(_=>_.storageKey===o))}getLayer(){return this.layer}hasRoomForAnotherLayer(o=null){return null===this.build||this.build.layers.length<this.MAX_LAYERS&&(null===o||this.build.heroClass===o.heroClass)}}return d.\u0275fac=function(o){return new(o||d)(t.LFG(n.D),t.LFG(a),t.LFG(e.Pdp))},d.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},2763:(J,E,s)=>{s.d(E,{Y:()=>h});var e=s(655),i=s(5e3);let h=(()=>{class m{constructor(){}copyToClipboard(t){let a=null;try{return a=document.createElement("textarea"),a.style.position="fixed",a.style.left="0",a.style.top="0",a.style.opacity="0",a.value=t,document.body.appendChild(a),a.focus(),a.select(),document.execCommand("copy"),document.body.removeChild(a),!0}catch(n){null!==a&&document.body.contains(a)&&document.body.removeChild(a)}return!1}copyImageToClipboard(t){try{return navigator.clipboard.write([new ClipboardItem({"image/png":t})]),!0}catch(a){}return!1}getClipboardText(){return(0,e.mG)(this,void 0,void 0,function*(){let t=null;if(navigator.clipboard)try{t=yield navigator.clipboard.readText()}catch(a){}return t})}canCopyImage(){return"undefined"!=typeof ClipboardItem}}return m.\u0275fac=function(t){return new(t||m)},m.\u0275prov=i.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},1671:(J,E,s)=>{s.d(E,{K:()=>h});var e=s(2419),i=s(5e3);let h=(()=>{class m{constructor(t,a,n){this.slormancerDataService=t,this.slormancerTranslateService=a,this.slormancerReaperService=n,this.DEFENSIVE_STATS=["reduced_damage_from_all_percent","reduced_damage_from_area_percent","reduced_damage_from_melee_percent","reduced_damage_from_projectile_percent","reduced_damage_on_elite_percent","res_phy_add","res_phy_percent","res_mag_add","res_mag_percent","dodge_add","dodge_percent","the_max_health_add","the_max_health_percent","tenacity_percent"],this.STATS_LABELS={},this.STATS_OPTIONS_CACHE={},this.LEGENDARY_OPTIONS_CACHE={},this.ALL_LEGENDARY_OPTIONS_CACHE={0:[],1:[],2:[]},this.ALL_STATS_OPTIONS_CACHE=[],this.ALL_RARITIES_OPTIONS_CACHE=[],this.ALL_REAPER_BUFF_OPTIONS_CACHE=[],this.ALL_SKILL_BUFF_OPTIONS_CACHE={0:[],1:[],2:[]},this.ALL_ATTRIBUTE_BUFF_OPTIONS_CACHE=[],this.ALL_REAPER_OPTIONS_CACHE={p:{0:[],1:[],2:[]},b:{0:[],1:[],2:[]}},this.ULTIMATUM_OPTIONS_CACHE=[],this.initRarityOptionsCache(),this.initStatOptionsCache(),this.initLegendaryOptionsCache(),this.initReaperBuffOptions(),this.initSkillBuffOptions(),this.initAttributeBuffOptions(),this.initReaperOptions(),this.initUltimatumOptions()}getReaperOptions(t,a){return this.ALL_REAPER_OPTIONS_CACHE[a?"p":"b"][t]}getAllStatsOptions(){return this.ALL_STATS_OPTIONS_CACHE}getAllRaritiesOptions(){return this.ALL_RARITIES_OPTIONS_CACHE}getStatsOptions(t,a){let n=this.ALL_STATS_OPTIONS_CACHE;const u=this.getBaseKey(t),d=this.STATS_OPTIONS_CACHE[u];return d&&(a===e.uqS.Normal?n=(0,e.BeF)(d.P,[]):a===e.uqS.Magic||a===e.uqS.Rare?n=(0,e.BeF)(d.S,[]):a===e.uqS.Epic?n=(0,e.BeF)(d.E,[]):a===e.uqS.Defensive&&(n=(0,e.BeF)(d.D,[]))),n}getLegendaryOptions(t,a){let n=[];const u=this.LEGENDARY_OPTIONS_CACHE[t];return u&&(n=u[a]),n}getAllLegendaryOptions(t){return this.ALL_LEGENDARY_OPTIONS_CACHE[t]}getReaperBuffOptions(){return this.ALL_REAPER_BUFF_OPTIONS_CACHE}getSkillBuffOptions(t){return this.ALL_SKILL_BUFF_OPTIONS_CACHE[t]}getAttributeBuffOptions(){return this.ALL_ATTRIBUTE_BUFF_OPTIONS_CACHE}getUltimatumOptions(){return this.ULTIMATUM_OPTIONS_CACHE}getStatsLabels(){return this.STATS_LABELS}getBaseKey(t){return t===e.JNB.Body?"ARMOR":t.toUpperCase()}initRarityOptionsCache(){this.ALL_RARITIES_OPTIONS_CACHE=e.nte.map(t=>({label:this.slormancerTranslateService.translate("RAR_loot_"+t),value:t}))}initStatOptionsCache(){const t=this.slormancerDataService.getGameDataStats().filter(a=>"X"!==a.PERCENT);this.STATS_OPTIONS_CACHE={},this.ALL_STATS_OPTIONS_CACHE=[];for(const a of t){const n=this.slormancerTranslateService.translate(a.REF)+("%"===a.PERCENT?" (%)":""),u={label:n,value:a.REF};this.STATS_LABELS[a.REF]=n,this.ALL_STATS_OPTIONS_CACHE.push(u);for(const d of e.liR){const M=this.getBaseKey(d),o=a[M];if(""!==o){let _=this.STATS_OPTIONS_CACHE[M];void 0===_&&(_={P:[],S:[],E:[],D:[]},this.STATS_OPTIONS_CACHE[M]=_),"P"===o&&(_.P.push(u),_.S.push(u),this.DEFENSIVE_STATS.includes(a.REF)&&_.D.push(u)),"S"===o&&(_.S.push(u),_.E.push(u),this.DEFENSIVE_STATS.includes(a.REF)&&_.D.push(u)),"E"===o&&_.E.push(u)}}}for(const a of e.liR){const n=this.getBaseKey(a),u=this.STATS_OPTIONS_CACHE[n];u&&(u.P.sort((d,M)=>(0,e.rR7)(d.label,M.label)),u.S.sort((d,M)=>(0,e.rR7)(d.label,M.label)),u.E.sort((d,M)=>(0,e.rR7)(d.label,M.label)))}this.ALL_STATS_OPTIONS_CACHE.sort((a,n)=>(0,e.rR7)(a.label,n.label))}initLegendaryOptionsCache(){const t=this.slormancerDataService.getGameDataLegendaries().filter(a=>a.LOOTABLE);this.LEGENDARY_OPTIONS_CACHE={};for(const a of t){const n={value:a.REF,label:a.EN_NAME};let u=this.LEGENDARY_OPTIONS_CACHE[a.ITEM];void 0===u&&(u={0:[],1:[],2:[]},this.LEGENDARY_OPTIONS_CACHE[a.ITEM]=u),-1===a.HERO||99===a.HERO||999===a.HERO?(u[0].push(n),this.ALL_LEGENDARY_OPTIONS_CACHE[0].push(n),u[1].push(n),this.ALL_LEGENDARY_OPTIONS_CACHE[1].push(n),u[2].push(n),this.ALL_LEGENDARY_OPTIONS_CACHE[2].push(n)):(u[a.HERO].push(n),this.ALL_LEGENDARY_OPTIONS_CACHE[a.HERO].push(n))}}initReaperBuffOptions(){this.ALL_REAPER_BUFF_OPTIONS_CACHE=e.cIS.filter(t=>t!==e.Q1_.OhmAgad&&t!==e.Q1_.ReapersmithBrotherhood).map(t=>({value:t,label:this.slormancerTranslateService.translate("weapon_reapersmith_"+t)}))}initSkillBuffOptions(){this.ALL_SKILL_BUFF_OPTIONS_CACHE={[e.iHO.Warrior]:this.slormancerDataService.getGameDataActiveSkills(e.iHO.Warrior).map(t=>({value:t.REF,label:t.EN_NAME})),[e.iHO.Huntress]:this.slormancerDataService.getGameDataActiveSkills(e.iHO.Huntress).map(t=>({value:t.REF,label:t.EN_NAME})),[e.iHO.Mage]:this.slormancerDataService.getGameDataActiveSkills(e.iHO.Mage).map(t=>({value:t.REF,label:t.EN_NAME}))}}initAttributeBuffOptions(){this.ALL_ATTRIBUTE_BUFF_OPTIONS_CACHE=e.AFD.map(t=>({value:t,label:this.slormancerTranslateService.translate("character_trait_"+t)}))}initReaperOptions(){this.ALL_REAPER_OPTIONS_CACHE={p:{0:[],1:[],2:[]},b:{0:[],1:[],2:[]}};const t=this.slormancerDataService.getGameDataAvailableReaper();for(const a of t)this.ALL_REAPER_OPTIONS_CACHE.p[e.iHO.Warrior].push({value:a.REF,label:this.slormancerReaperService.getReaperName(a.EN_NAME,!0,e.iHO.Warrior)}),this.ALL_REAPER_OPTIONS_CACHE.p[e.iHO.Huntress].push({value:a.REF,label:this.slormancerReaperService.getReaperName(a.EN_NAME,!0,e.iHO.Huntress)}),this.ALL_REAPER_OPTIONS_CACHE.p[e.iHO.Mage].push({value:a.REF,label:this.slormancerReaperService.getReaperName(a.EN_NAME,!0,e.iHO.Mage)}),this.ALL_REAPER_OPTIONS_CACHE.b[e.iHO.Warrior].push({value:a.REF,label:this.slormancerReaperService.getReaperName(a.EN_NAME,!1,e.iHO.Warrior)}),this.ALL_REAPER_OPTIONS_CACHE.b[e.iHO.Huntress].push({value:a.REF,label:this.slormancerReaperService.getReaperName(a.EN_NAME,!1,e.iHO.Huntress)}),this.ALL_REAPER_OPTIONS_CACHE.b[e.iHO.Mage].push({value:a.REF,label:this.slormancerReaperService.getReaperName(a.EN_NAME,!1,e.iHO.Mage)})}initUltimatumOptions(){this.ULTIMATUM_OPTIONS_CACHE=e.N_V.map(t=>({value:t,label:this.slormancerTranslateService.translate("ultimatum_"+t)}))}}return m.\u0275fac=function(t){return new(t||m)(i.LFG(e.ogB),i.LFG(e.n6D),i.LFG(e.IxD))},m.\u0275prov=i.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},3390:(J,E,s)=>{s.d(E,{D:()=>h});var e=s(2419),i=s(5e3);let h=(()=>{class m{constructor(t,a,n,u,d,M,o,_){this.slormancerDataService=t,this.slormancerCharacterBuilderService=a,this.slormancerItemService=n,this.slormancerLegendaryService=u,this.slormancerAffixService=d,this.slormancerReaperService=M,this.slormancerRunesService=o,this.slormancerUltimatumService=_,this.RARITY_MAPPING=[{rarity:e.uqS.Normal,mapping:0},{rarity:e.uqS.Magic,mapping:1},{rarity:e.uqS.Rare,mapping:2},{rarity:e.uqS.Epic,mapping:3},{rarity:e.uqS.Legendary,mapping:4},{rarity:e.uqS.Defensive,mapping:5}],this.STAT_MAPPING={},this.REVERSE_STAT_MAPPING={};for(const P of t.getGameDataStats())this.STAT_MAPPING[P.REF_NB]=P.REF,this.REVERSE_STAT_MAPPING[P.REF]=P.REF_NB}rarityToNumber(t){const a=this.RARITY_MAPPING.find(n=>n.rarity===t);return a?a.mapping:0}numberToRarity(t){const a=this.RARITY_MAPPING.find(n=>n.mapping===t);return a?a.rarity:e.uqS.Normal}itemToJson(t,a){return null===t?null:{base:a?t.base:null,level:t.level,reinforcment:t.reinforcment,grafts:t.grafts,affixes:t.affixes.map(n=>({rarity:this.rarityToNumber(n.rarity),pure:100===n.pure?0:n.pure,stat:(0,e.BeF)(this.REVERSE_STAT_MAPPING[n.craftedEffect.effect.stat],0),craftedValue:n.craftedEffect.craftedValue})),legendaryEffect:null===t.legendaryEffect?null:{craftedValue:t.legendaryEffect.value,id:t.legendaryEffect.id},reaperEnchantment:null===t.reaperEnchantment?null:{craftedValue:t.reaperEnchantment.craftedValue,reaperSmith:t.reaperEnchantment.craftedReaperSmith},skillEnchantment:null===t.skillEnchantment?null:{craftedValue:t.skillEnchantment.craftedValue,skill:t.skillEnchantment.craftedSkill},attributeEnchantment:null===t.attributeEnchantment?null:{craftedValue:t.attributeEnchantment.craftedValue,attribute:t.attributeEnchantment.craftedAttribute}}}ancestralLegacyToJson(t){return{id:t.id,rank:t.baseRank}}reaperToJson(t){return{id:t.id,level:t.baseLevel,affinity:t.baseReaperAffinity,effectAffinity:t.baseEffectAffinity,kills:t.baseKills,primordialKills:t.primordialKills,primordial:t.primordial?1:0,mastery:t.masteryLevel}}runesToJson(t){return{activationId:null===t.activation?null:t.activation.id,activationLevel:null===t.activation?0:t.activation.level,effectId:null===t.effect?null:t.effect.id,effectLevel:null===t.effect?0:t.effect.level,enhancementId:null===t.enhancement?null:t.enhancement.id,enhancementLevel:null===t.enhancement?0:t.enhancement.level}}jsonToRunes(t,a,n){let u={activation:null,effect:null,enhancement:null};return void 0!==t&&(null!==t.activationId&&(u.activation=this.slormancerRunesService.getRuneById(t.activationId,a,t.activationLevel,n)),null!==t.effectId&&(u.effect=this.slormancerRunesService.getRuneById(t.effectId,a,t.effectLevel,n)),null!==t.enhancementId&&(u.enhancement=this.slormancerRunesService.getRuneById(t.enhancementId,a,t.enhancementLevel,n))),u}ultimatumToJson(t){let a=null;return null!==t&&(a={level:t.baseLevel,type:t.type}),a}skillToJson(t,a=!1){return{id:t.skill.id,rank:t.skill.baseLevel,upgrades:t.upgrades.map(n=>({id:n.id,rank:n.baseRank,selected:-1!==t.selectedUpgrades.indexOf(n.id)?1:0})).filter(n=>!a||n.selected)}}getActivableId(t){let a=null;return null!==t&&(a="isActivable"in t?t.id:200+t.id),a}characterToJson(t){return{type:"c",level:t.level,version:t.version,originalVersion:t.originalVersion,heroClass:t.heroClass,gear:{helm:this.itemToJson(t.gear.helm,!1),body:this.itemToJson(t.gear.body,!1),shoulder:this.itemToJson(t.gear.shoulder,!1),bracer:this.itemToJson(t.gear.bracer,!1),glove:this.itemToJson(t.gear.glove,!1),boot:this.itemToJson(t.gear.boot,!1),ring_l:this.itemToJson(t.gear.ring_l,!1),ring_r:this.itemToJson(t.gear.ring_r,!1),amulet:this.itemToJson(t.gear.amulet,!1),belt:this.itemToJson(t.gear.belt,!1),cape:this.itemToJson(t.gear.cape,!1)},inventory:t.inventory.map(a=>this.itemToJson(a,!0)),sharedInventory:t.sharedInventory.map(a=>a.map(n=>this.itemToJson(n,!0))),ultimatum:this.ultimatumToJson(t.ultimatum),ancestralLegacies:{ancestralLegacies:t.ancestralLegacies.ancestralLegacies.map(a=>this.ancestralLegacyToJson(a)),nodes:t.ancestralLegacies.activeNodes,firstNode:t.ancestralLegacies.activeFirstNode},reaper:this.reaperToJson(t.reaper),runes:this.runesToJson(t.runes),skills:t.skills.map(a=>this.skillToJson(a)),attributes:{[e.ahi.Toughness]:t.attributes.allocated[e.ahi.Toughness].baseRank,[e.ahi.Savagery]:t.attributes.allocated[e.ahi.Savagery].baseRank,[e.ahi.Fury]:t.attributes.allocated[e.ahi.Fury].baseRank,[e.ahi.Determination]:t.attributes.allocated[e.ahi.Determination].baseRank,[e.ahi.Zeal]:t.attributes.allocated[e.ahi.Zeal].baseRank,[e.ahi.Willpower]:t.attributes.allocated[e.ahi.Willpower].baseRank,[e.ahi.Dexterity]:t.attributes.allocated[e.ahi.Dexterity].baseRank,[e.ahi.Bravery]:t.attributes.allocated[e.ahi.Bravery].baseRank},support:null===t.supportSkill?null:t.supportSkill.id,primary:null===t.primarySkill?null:t.primarySkill.id,secondary:null===t.secondarySkill?null:t.secondarySkill.id,activable1:this.getActivableId(t.activable1),activable2:this.getActivableId(t.activable2),activable3:this.getActivableId(t.activable3),activable4:this.getActivableId(t.activable4)}}characterToMinimalJson(t){return{type:"c",level:t.level,version:t.version,originalVersion:t.originalVersion,heroClass:t.heroClass,gear:{helm:this.itemToJson(t.gear.helm,!1),body:this.itemToJson(t.gear.body,!1),shoulder:this.itemToJson(t.gear.shoulder,!1),bracer:this.itemToJson(t.gear.bracer,!1),glove:this.itemToJson(t.gear.glove,!1),boot:this.itemToJson(t.gear.boot,!1),ring_l:this.itemToJson(t.gear.ring_l,!1),ring_r:this.itemToJson(t.gear.ring_r,!1),amulet:this.itemToJson(t.gear.amulet,!1),belt:this.itemToJson(t.gear.belt,!1),cape:this.itemToJson(t.gear.cape,!1)},inventory:null,sharedInventory:null,ultimatum:this.ultimatumToJson(t.ultimatum),ancestralLegacies:{ancestralLegacies:t.ancestralLegacies.ancestralLegacies.filter(a=>-1!==t.ancestralLegacies.activeAncestralLegacies.indexOf(a.id)).map(a=>this.ancestralLegacyToJson(a)),nodes:t.ancestralLegacies.activeNodes,firstNode:t.ancestralLegacies.activeFirstNode},reaper:this.reaperToJson(t.reaper),runes:this.runesToJson(t.runes),skills:t.skills.filter(a=>a.skill===t.supportSkill||a.skill===t.primarySkill||a.skill===t.secondarySkill).map(a=>this.skillToJson(a,!0)),attributes:{[e.ahi.Toughness]:t.attributes.allocated[e.ahi.Toughness].baseRank,[e.ahi.Savagery]:t.attributes.allocated[e.ahi.Savagery].baseRank,[e.ahi.Fury]:t.attributes.allocated[e.ahi.Fury].baseRank,[e.ahi.Determination]:t.attributes.allocated[e.ahi.Determination].baseRank,[e.ahi.Zeal]:t.attributes.allocated[e.ahi.Zeal].baseRank,[e.ahi.Willpower]:t.attributes.allocated[e.ahi.Willpower].baseRank,[e.ahi.Dexterity]:t.attributes.allocated[e.ahi.Dexterity].baseRank,[e.ahi.Bravery]:t.attributes.allocated[e.ahi.Bravery].baseRank},support:null===t.supportSkill?null:t.supportSkill.id,primary:null===t.primarySkill?null:t.primarySkill.id,secondary:null===t.secondarySkill?null:t.secondarySkill.id,activable1:this.getActivableId(t.activable1),activable2:this.getActivableId(t.activable2),activable3:this.getActivableId(t.activable3),activable4:this.getActivableId(t.activable4)}}layerToJson(t){return{type:"l",character:this.characterToJson(t.character),name:t.name}}buildToJson(t){return{type:"p",version:t.version,heroClass:t.heroClass,name:t.name,layers:t.layers.map(a=>this.layerToJson(a)),configuration:Object.assign({},t.configuration)}}jsonToItem(t,a,n=null){let u=null;if(null!==t){const d=t.affixes.map(L=>this.slormancerAffixService.getAffixFromStat(this.STAT_MAPPING[L.stat],t.level,t.reinforcment,this.numberToRarity(L.rarity),L.craftedValue,L.pure)).filter(e.BXh);let M=n;null===M&&(M=null===t.base?e.JNB.Amulet:t.base);let o=null===t.legendaryEffect?null:this.slormancerLegendaryService.getLegendaryEffectById(t.legendaryEffect.id,t.legendaryEffect.craftedValue,t.reinforcment,a),_=null===t.reaperEnchantment?null:this.slormancerItemService.getReaperEnchantment(t.reaperEnchantment.reaperSmith,t.reaperEnchantment.craftedValue),P=null===t.skillEnchantment?null:this.slormancerItemService.getSkillEnchantment(t.skillEnchantment.skill,t.skillEnchantment.craftedValue),g=null===t.attributeEnchantment?null:this.slormancerItemService.getAttributeEnchantment(t.attributeEnchantment.attribute,t.attributeEnchantment.craftedValue);u=this.slormancerItemService.getEquipableItem(M,a,t.level,d,t.reinforcment,t.grafts,o,_,P,g,0)}return u}normalizeJsonCharacter(t){if("0.2.152"===t.version&&(t.originalVersion=t.version,t.ultimatum=null),(0,e.n4)(t.version,"0.2.0")<0&&(t.reaper.affinity=e.DxO),(0,e.n4)(t.version,"0.5.0")<0&&(t.ancestralLegacies.firstNode=null),(0,e.n4)(t.version,"0.7.0")<0&&(t.reaper.mastery=0),(0,e.n4)(t.version,"0.7.0")<=0){const a=[t.gear.amulet,t.gear.belt,t.gear.body,t.gear.boot,t.gear.bracer,t.gear.cape,t.gear.glove,t.gear.helm,t.gear.ring_l,t.gear.ring_r,t.gear.shoulder,...null===t.inventory?[]:t.inventory,...null===t.sharedInventory?[]:t.sharedInventory.flat()].filter(e.BXh);for(const n of a)n.grafts=0}}jsonToCharacter(t){this.normalizeJsonCharacter(t);const a=this.slormancerReaperService.getReaperById(t.reaper.id,t.heroClass,1===t.reaper.primordial,t.reaper.level,0,t.reaper.kills,t.reaper.primordialKills,t.reaper.affinity,t.reaper.effectAffinity,0,t.reaper.mastery),n={helm:this.jsonToItem(t.gear.helm,t.heroClass,e.JNB.Helm),body:this.jsonToItem(t.gear.body,t.heroClass,e.JNB.Body),shoulder:this.jsonToItem(t.gear.shoulder,t.heroClass,e.JNB.Shoulder),bracer:this.jsonToItem(t.gear.bracer,t.heroClass,e.JNB.Bracer),glove:this.jsonToItem(t.gear.glove,t.heroClass,e.JNB.Glove),boot:this.jsonToItem(t.gear.boot,t.heroClass,e.JNB.Boot),ring_l:this.jsonToItem(t.gear.ring_l,t.heroClass,e.JNB.Ring),ring_r:this.jsonToItem(t.gear.ring_r,t.heroClass,e.JNB.Ring),amulet:this.jsonToItem(t.gear.amulet,t.heroClass,e.JNB.Amulet),belt:this.jsonToItem(t.gear.belt,t.heroClass,e.JNB.Belt),cape:this.jsonToItem(t.gear.cape,t.heroClass,e.JNB.Cape)},u=(0,e.jdz)(n),d=null===t.ultimatum?null:this.slormancerUltimatumService.getUltimatum(t.ultimatum.type,t.ultimatum.level,u),M=this.slormancerDataService.getGameDataAncestralLegacyIds().map((g,L)=>t.ancestralLegacies.ancestralLegacies.find(O=>O.id===L)).map(g=>g?g.rank:0),o=this.slormancerDataService.getGameDataSkills(t.heroClass).map((g,L)=>{let O=0;const A=t.skills.find(b=>b.id===L);if(A)O=(0,e.NMM)(A.rank);else{const b=t.skills.map(w=>w.upgrades).flat().find(w=>w.id===L);b&&(O=b.rank)}return O}),_=this.slormancerDataService.getGameDataSkills(t.heroClass).map((g,L)=>{const O=t.skills.map(A=>A.upgrades).flat().find(A=>A.id===L);return O?O.selected:0});return this.slormancerCharacterBuilderService.getCharacter(t.heroClass,t.level,t.version,t.originalVersion,null,a,this.jsonToRunes(t.runes,t.heroClass,null===a?null:a.id),d,t.ancestralLegacies.nodes,t.ancestralLegacies.firstNode,M,_,o,n.helm,n.body,n.shoulder,n.bracer,n.glove,n.boot,n.ring_l,n.ring_r,n.amulet,n.belt,n.cape,null===t.inventory?null:t.inventory.map(g=>this.jsonToItem(g,t.heroClass,null)),null===t.sharedInventory?null:t.sharedInventory.map(g=>g.map(L=>this.jsonToItem(L,t.heroClass,null))),t.attributes[e.ahi.Toughness],t.attributes[e.ahi.Savagery],t.attributes[e.ahi.Fury],t.attributes[e.ahi.Determination],t.attributes[e.ahi.Zeal],t.attributes[e.ahi.Willpower],t.attributes[e.ahi.Dexterity],t.attributes[e.ahi.Bravery],t.primary,t.secondary,t.support,t.activable1,t.activable2,t.activable3,t.activable4)}jsonToLayer(t){return{name:t.name,character:this.jsonToCharacter(t.character)}}jsonToBuild(t){return{version:t.version,heroClass:t.heroClass,name:t.name?t.name:"Default name",layers:t.layers.map(a=>this.jsonToLayer(a)),configuration:Object.assign({},t.configuration)}}jsonToSharedData(t){return{character:"c"===t.type?this.jsonToCharacter(t):null,configuration:null,layer:"l"===t.type?this.jsonToLayer(t):null,planner:"p"===t.type?this.jsonToBuild(t):null}}}return m.\u0275fac=function(t){return new(t||m)(i.LFG(e.ogB),i.LFG(e.oYj),i.LFG(e.SgH),i.LFG(e.ArO),i.LFG(e.lRX),i.LFG(e.IxD),i.LFG(e._VP),i.LFG(e.hrN))},m.\u0275prov=i.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},8223:(J,E,s)=>{s.d(E,{e:()=>n});var e=s(7261),i=s(5e3),h=s(9808),m=s(7423),y=s(5245);function t(u,d){if(1&u){const M=i.EpF();i.TgZ(0,"button",5),i.NdJ("click",function(){i.CHM(M);const _=i.oxw();return i.KtG(_.actionClick())}),i._uU(1),i.qZA()}if(2&u){const M=i.oxw();i.xp6(1),i.Oqu(M.action)}}let a=(()=>{class u{constructor(M,o){this.data=M,this.snackBarRef=o,this.message=M.message,this.action=M.action,this.actionCallback=M.actionCallback}close(){this.snackBarRef.dismiss()}actionClick(){null!==this.actionCallback&&this.actionCallback(),this.close()}}return u.\u0275fac=function(M){return new(M||u)(i.Y36(e.qD),i.Y36(e.OX))},u.\u0275cmp=i.Xpm({type:u,selectors:[["app-snackbar"]],decls:6,vars:2,consts:[[1,"content"],["src","assets/img/icon/message/success.png",1,"mc-ripped"],[1,"message",3,"innerHTML"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],[3,"click"],["mat-flat-button","","color","primary",3,"click"]],template:function(M,o){1&M&&(i.TgZ(0,"div",0),i._UZ(1,"img",1)(2,"div",2),i.YNc(3,t,2,1,"button",3),i.TgZ(4,"mat-icon",4),i.NdJ("click",function(){return o.close()}),i._uU(5,"close"),i.qZA()()),2&M&&(i.xp6(2),i.Q6J("innerHTML",o.message,i.oJD),i.xp6(1),i.Q6J("ngIf",null!==o.action&&null!==o.actionCallback))},dependencies:[h.O5,m.lW,y.Hw],styles:[".content[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:row;align-items:center;gap:16px}.content[_ngcontent-%COMP%]   .mc-ripped[_ngcontent-%COMP%]{height:30px;image-rendering:pixelated;animation:float 2s ease-in-out infinite}.content[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;flex-grow:1}.content[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]     img{height:32px;image-rendering:pixelated;margin:0 4px}.content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer}@keyframes float{0%{transform:translatey(2px)}50%{transform:translatey(-2px)}to{transform:translatey(2px)}}"]}),u})(),n=(()=>{class u{constructor(M){this.snackBar=M,this.DEFAULT_DURATION=5e3,this.ACTION_DURATION=2e4,this.currentSnackBar=null}getConfig(M,o=null,_=null){return{duration:null!==o&&null!==_?this.ACTION_DURATION:this.DEFAULT_DURATION,data:{message:M,action:o,actionCallback:_}}}message(M,o=null,_=null){this.currentSnackBar=this.snackBar.openFromComponent(a,this.getConfig(M,o,_))}error(M,o=null,_=null){null!==this.currentSnackBar&&this.currentSnackBar.dismiss(),this.currentSnackBar=this.snackBar.openFromComponent(a,this.getConfig(M,o,_))}}return u.\u0275fac=function(M){return new(M||u)(i.LFG(e.ux))},u.\u0275prov=i.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},2424:(J,E,s)=>{s.d(E,{o:()=>m});var e=s(2419),i=s(1135),h=s(5e3);let m=(()=>{class y{constructor(){this.search=null,this.dom=document.createElement("div"),this.searchChanged=new i.X(null)}hasSearch(){return null!==this.search}setSearch(a){this.search=null!==a&&a.length>0?a:null,this.searchChanged.next(this.search)}getCleanSearchValue(){return null===this.search?null:this.search.toLowerCase().trim()}removeHtmlTags(a,n=[]){let u=a;if(null!==u){if(this.dom.innerHTML=u.toLowerCase(),n.length>0)for(const d of n){const M=this.dom.getElementsByClassName(d);for(let o=0,_=M.length;o<_;o++){const P=M.item(o);P&&P.remove()}}u=this.dom.textContent}return u}stringsMatchSearch(a){let n=!0;const u=this.getCleanSearchValue();return null!==u&&(n=null===this.search||void 0!==a.find(d=>(0,e.BXh)(d)&&-1!==d.toLowerCase().indexOf(u))),n}itemMatchSearch(a){return this.stringsMatchSearch([a.level.toString(),a.name,a.base,a.rarity,...a.affixes.map(n=>[n.isPure?"pure":null,this.removeHtmlTags(n.valueLabel+" "+n.statLabel,["details"])]).flat(),null===a.legendaryEffect?null:this.removeHtmlTags(a.legendaryEffect.description,["details"]),null!==a.reaperEnchantment?this.removeHtmlTags(a.reaperEnchantment.label,["details"]):null,null!==a.skillEnchantment?this.removeHtmlTags(a.skillEnchantment.label,["details"]):null,null!==a.attributeEnchantment?this.removeHtmlTags(a.attributeEnchantment.label,["details"]):null])||null!==a.legendaryEffect&&null!==a.legendaryEffect.activable&&this.activableMatchSearch(a.legendaryEffect.activable)}runeMatchSearch(a){return this.stringsMatchSearch([a.level.toString(),a.name,this.removeHtmlTags(a.constraintLabel),this.removeHtmlTags(a.description),a.flavor,a.smithLabel,a.typeLabel])}ultimatumMatchSearch(a){return this.stringsMatchSearch([a.title,a.levelLabel,a.bonusTitle,this.removeHtmlTags(a.bonusLabel),a.malusTitle,a.malusLabel])}upgradeMatchSearch(a){return this.stringsMatchSearch([a.name,a.type,this.removeHtmlTags(a.description),...a.genres,a.genresLabel,this.removeHtmlTags(a.costLabel),this.removeHtmlTags(a.costType),...a.relatedBuffs.map(n=>n.name),...a.relatedClassMechanics.map(n=>n.name),...a.relatedMechanics.map(n=>n.name)])}ancestralLegacyMatchSearch(a){return this.stringsMatchSearch([a.name,a.costType,...a.genres,a.isActivable?"activable":null,this.removeHtmlTags(a.description),...a.relatedBuffs.map(n=>n.name),...a.relatedMechanics.map(n=>n.name),...a.types,a.typeLabel,a.genresLabel,a.costLabel])}reaperMatchSearch(a){return this.stringsMatchSearch([a.name,a.description,a.benediction,a.malediction,a.smith.name,a.smithLabel,a.victimsLabel,a.levelLabel,a.damageTypeLabel,null!==a.benediction?a.benedictionTitleLabel:"",null!==a.malediction?a.maledictionTitleLabel:"",0!==a.activables.length?a.activablesTitleLabel:"",a.damagesLabel,a.maxDamagesLabel,a.affinityLabel,a.lore])||a.activables.some(n=>this.activableMatchSearch(n))}activableMatchSearch(a){return this.stringsMatchSearch([a.name,a.genresLabel,a.cooldownLabel,a.costLabel,a.description])}traitMatchSearch(a){return this.stringsMatchSearch([a.rankLabel,this.removeHtmlTags(a.cumulativeStats),this.removeHtmlTags(a.description),a.traitLevelLabel])}}return y.\u0275fac=function(a){return new(a||y)},y.\u0275prov=h.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},5330:(J,E,s)=>{s.d(E,{m:()=>ut});var e=s(9808),i=s(8003),h=s(9065),m=s(2419),y=s(2722),t=s(1671),a=s(6446),n=s(5e3),u=s(7423),d=s(5245),M=s(7322),o=s(4102),_=s(508),P=s(8029),g=s(3075);function L(v,T){if(1&v){const r=n.EpF();n.TgZ(0,"div",4)(1,"button",5),n.NdJ("click",function(){n.CHM(r);const x=n.oxw();return n.KtG(x.addAttributeEnchantment())}),n.TgZ(2,"mat-icon"),n._uU(3,"add"),n.qZA()()()}}function O(v,T){if(1&v&&(n.TgZ(0,"mat-option",16),n._UZ(1,"span",17),n.qZA()),2&v){const r=T.$implicit;n.Q6J("value",r.value),n.xp6(1),n.Q6J("innerHTML",r.label,n.oJD)}}function A(v,T){if(1&v){const r=n.EpF();n.TgZ(0,"div",6)(1,"div",7)(2,"mat-form-field",8)(3,"mat-label"),n._uU(4,"Attribute Enchantment"),n.qZA(),n.TgZ(5,"mat-select",9),n.YNc(6,O,2,2,"mat-option",10),n.qZA()()(),n.TgZ(7,"div",11)(8,"mat-slider",12),n.NdJ("input",function(x){n.CHM(r);const k=n.oxw();return n.KtG(k.updateSliderValue(x))}),n.qZA()(),n.TgZ(9,"div",13)(10,"div",14),n._uU(11),n.qZA(),n.TgZ(12,"button",15),n.NdJ("click",function(){n.CHM(r);const x=n.oxw();return n.KtG(x.removeAttributeEnchantment())}),n.TgZ(13,"mat-icon"),n._uU(14,"delete"),n.qZA()()()()}if(2&v){const r=n.oxw();n.Q6J("formGroup",r.form),n.xp6(6),n.Q6J("ngForOf",r.options),n.xp6(2),n.Q6J("min",1)("max",3)("step",1),n.xp6(3),n.hij(" ",r.displayedValue," ")}}let b=(()=>{class v extends a.B{constructor(r,C){super(),this.itemFormService=r,this.slormancerItemService=C,this.form=null,this.options=[],this.displayedValue="",this.attributeEnchantment=null}ngOnChanges(r){this.options=this.itemFormService.getAttributeBuffOptions(),null!==this.form&&("form"in r&&this.form.valueChanges.pipe((0,y.R)(this.unsubscribe)).subscribe(C=>{var x,k;this.updateAttributeEnchantment(null!==(x=C.attribute)&&void 0!==x?x:null,null!==(k=C.value)&&void 0!==k?k:0)}),this.updateAttributeEnchantment(this.form.controls.attribute.value,this.form.controls.value.value))}updateAttributeEnchantment(r,C){this.attributeEnchantment=null===r?null:this.slormancerItemService.getAttributeEnchantment(r,C),this.displayedValue="",null!==this.attributeEnchantment&&(this.displayedValue="+"+(0,m.BeF)(this.attributeEnchantment.craftableValues[this.attributeEnchantment.craftedValue],0))}updateSliderValue(r){this.displayedValue="";const C=r.value;null!==this.attributeEnchantment&&null!==C&&this.updateAttributeEnchantment(this.attributeEnchantment.craftedValue,C)}removeAttributeEnchantment(){null!==this.form&&this.form.patchValue({attribute:null})}addAttributeEnchantment(){const r=this.options[0];null!==this.form&&r&&this.form.patchValue({attribute:r.value,value:3})}}return v.\u0275fac=function(r){return new(r||v)(n.Y36(t.K),n.Y36(m.SgH))},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-item-edit-buff-attribute"]],inputs:{form:"form"},features:[n.qOj,n.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","attribute"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"]],template:function(r,C){1&r&&(n.TgZ(0,"div",0)(1,"div",1),n._uU(2,"Attribute Enchantment :"),n.qZA(),n.YNc(3,L,4,0,"div",2),n.qZA(),n.YNc(4,A,15,6,"div",3)),2&r&&(n.xp6(3),n.Q6J("ngIf",null!==C.form&&null===C.attributeEnchantment),n.xp6(1),n.Q6J("ngIf",null!==C.form&&null!==C.attributeEnchantment))},dependencies:[e.sg,e.O5,u.lW,d.Hw,M.KE,M.hX,o.gD,_.ey,P.pH,g.JJ,g.JL,g.sg,g.u],styles:[".stat-line[_ngcontent-%COMP%]   .additional[_ngcontent-%COMP%]{min-width:100px}"]}),v})();function w(v,T){if(1&v){const r=n.EpF();n.TgZ(0,"div",4)(1,"button",5),n.NdJ("click",function(){n.CHM(r);const x=n.oxw();return n.KtG(x.addReaperEnchantment())}),n.TgZ(2,"mat-icon"),n._uU(3,"add"),n.qZA()()()}}function U(v,T){if(1&v&&(n.TgZ(0,"mat-option",16),n._UZ(1,"span",17),n.qZA()),2&v){const r=T.$implicit;n.Q6J("value",r.value),n.xp6(1),n.Q6J("innerHTML",r.label,n.oJD)}}function D(v,T){if(1&v){const r=n.EpF();n.TgZ(0,"div",6)(1,"div",7)(2,"mat-form-field",8)(3,"mat-label"),n._uU(4,"Reaper Enchantment"),n.qZA(),n.TgZ(5,"mat-select",9),n.YNc(6,U,2,2,"mat-option",10),n.qZA()()(),n.TgZ(7,"div",11)(8,"mat-slider",12),n.NdJ("input",function(x){n.CHM(r);const k=n.oxw();return n.KtG(k.updateSliderValue(x))}),n.qZA()(),n.TgZ(9,"div",13)(10,"div",14),n._uU(11),n.qZA(),n.TgZ(12,"button",15),n.NdJ("click",function(){n.CHM(r);const x=n.oxw();return n.KtG(x.removeReaperEnchantment())}),n.TgZ(13,"mat-icon"),n._uU(14,"delete"),n.qZA()()()()}if(2&v){const r=n.oxw();n.Q6J("formGroup",r.form),n.xp6(6),n.Q6J("ngForOf",r.options),n.xp6(2),n.Q6J("min",1)("max",5)("step",1),n.xp6(3),n.hij(" ",r.displayedValue," ")}}let V=(()=>{class v extends a.B{constructor(r,C){super(),this.itemFormService=r,this.slormancerItemService=C,this.form=null,this.options=[],this.displayedValue="",this.reaperEnchantment=null}ngOnChanges(r){null!==this.form&&("form"in r&&this.form.valueChanges.pipe((0,y.R)(this.unsubscribe)).subscribe(C=>{var x,k;this.updateReaperEnchantment(null!==(x=C.smith)&&void 0!==x?x:null,null!==(k=C.value)&&void 0!==k?k:0)}),this.updateReaperEnchantment(this.form.controls.smith.value,this.form.controls.value.value)),this.options=this.itemFormService.getReaperBuffOptions()}updateReaperEnchantment(r,C){this.displayedValue="",this.reaperEnchantment=null===r?null:this.slormancerItemService.getReaperEnchantment(r,C),null!==this.reaperEnchantment&&(this.displayedValue="+"+this.reaperEnchantment.craftedValue)}updateSliderValue(r){this.displayedValue="";const C=r.value;null!==this.reaperEnchantment&&null!==C&&this.updateReaperEnchantment(this.reaperEnchantment.craftedReaperSmith,C)}removeReaperEnchantment(){null!==this.form&&this.form.patchValue({smith:null})}addReaperEnchantment(){const r=this.options[0];null!==this.form&&r&&this.form.patchValue({smith:r.value,value:5})}}return v.\u0275fac=function(r){return new(r||v)(n.Y36(t.K),n.Y36(m.SgH))},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-item-edit-buff-reaper"]],inputs:{form:"form"},features:[n.qOj,n.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","form-add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"form-add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","smith"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"]],template:function(r,C){1&r&&(n.TgZ(0,"div",0)(1,"div",1),n._uU(2,"Reaper Enchantment :"),n.qZA(),n.YNc(3,w,4,0,"div",2),n.qZA(),n.YNc(4,D,15,6,"div",3)),2&r&&(n.xp6(3),n.Q6J("ngIf",null!==C.form&&null===C.reaperEnchantment),n.xp6(1),n.Q6J("ngIf",null!==C.form&&null!==C.reaperEnchantment))},dependencies:[e.sg,e.O5,u.lW,d.Hw,M.KE,M.hX,o.gD,_.ey,P.pH,g.JJ,g.JL,g.sg,g.u],styles:[".stat-line[_ngcontent-%COMP%]   .additional[_ngcontent-%COMP%]{min-width:100px}"]}),v})();function F(v,T){if(1&v){const r=n.EpF();n.TgZ(0,"div",4)(1,"button",5),n.NdJ("click",function(){n.CHM(r);const x=n.oxw();return n.KtG(x.addSkillEnchantment())}),n.TgZ(2,"mat-icon"),n._uU(3,"add"),n.qZA()()()}}function Y(v,T){if(1&v&&(n.TgZ(0,"mat-option",16),n._UZ(1,"span",17),n.qZA()),2&v){const r=T.$implicit;n.Q6J("value",r.value),n.xp6(1),n.Q6J("innerHTML",r.label,n.oJD)}}function q(v,T){if(1&v){const r=n.EpF();n.TgZ(0,"div",6)(1,"div",7)(2,"mat-form-field",8)(3,"mat-label"),n._uU(4,"Skill Enchantment"),n.qZA(),n.TgZ(5,"mat-select",9),n.YNc(6,Y,2,2,"mat-option",10),n.qZA()()(),n.TgZ(7,"div",11)(8,"mat-slider",12),n.NdJ("input",function(x){n.CHM(r);const k=n.oxw();return n.KtG(k.updateSliderValue(x))}),n.qZA()(),n.TgZ(9,"div",13)(10,"div",14),n._uU(11),n.qZA(),n.TgZ(12,"button",15),n.NdJ("click",function(){n.CHM(r);const x=n.oxw();return n.KtG(x.removeSkillEnchantment())}),n.TgZ(13,"mat-icon"),n._uU(14,"delete"),n.qZA()()()()}if(2&v){const r=n.oxw();n.Q6J("formGroup",r.form),n.xp6(6),n.Q6J("ngForOf",r.options),n.xp6(2),n.Q6J("min",1)("max",2)("step",1),n.xp6(3),n.hij(" ",r.displayedValue," ")}}let S=(()=>{class v extends a.B{constructor(r,C){super(),this.itemFormService=r,this.slormancerItemService=C,this.heroClass=m.iHO.Huntress,this.form=null,this.options=[],this.displayedValue="",this.skillEnchantment=null}ngOnChanges(r){this.options=this.itemFormService.getSkillBuffOptions(this.heroClass),null!==this.form&&("form"in r&&this.form.valueChanges.pipe((0,y.R)(this.unsubscribe)).subscribe(C=>{var x,k;this.updateSkillEnchantment(null!==(x=C.skill)&&void 0!==x?x:null,null!==(k=C.value)&&void 0!==k?k:0)}),this.updateSkillEnchantment(this.form.controls.skill.value,this.form.controls.value.value))}updateSkillEnchantment(r,C){this.skillEnchantment=null===r?null:this.slormancerItemService.getSkillEnchantment(r,C),this.displayedValue="",null!==this.skillEnchantment&&null!==C&&(this.displayedValue="+"+(0,m.BeF)(this.skillEnchantment.craftableValues[C],0))}updateSliderValue(r){this.displayedValue="";const C=r.value;null!==this.skillEnchantment&&null!==C&&this.updateSkillEnchantment(this.skillEnchantment.craftedSkill,C)}removeSkillEnchantment(){null!==this.form&&this.form.patchValue({skill:null})}addSkillEnchantment(){const r=this.options[0];null!==this.form&&r&&this.form.patchValue({skill:r.value,value:2})}}return v.\u0275fac=function(r){return new(r||v)(n.Y36(t.K),n.Y36(m.SgH))},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-item-edit-buff-skill"]],inputs:{heroClass:"heroClass",form:"form"},features:[n.qOj,n.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","skill"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"]],template:function(r,C){1&r&&(n.TgZ(0,"div",0)(1,"div",1),n._uU(2,"Skill Enchantment :"),n.qZA(),n.YNc(3,F,4,0,"div",2),n.qZA(),n.YNc(4,q,15,6,"div",3)),2&r&&(n.xp6(3),n.Q6J("ngIf",null!==C.form&&null===C.skillEnchantment),n.xp6(1),n.Q6J("ngIf",null!==C.form&&null!==C.skillEnchantment))},dependencies:[e.sg,e.O5,u.lW,d.Hw,M.KE,M.hX,o.gD,_.ey,P.pH,g.JJ,g.JL,g.sg,g.u],styles:[".stat-line[_ngcontent-%COMP%]   .additional[_ngcontent-%COMP%]{min-width:100px}"]}),v})();function R(v,T){if(1&v){const r=n.EpF();n.TgZ(0,"div",4)(1,"button",5),n.NdJ("click",function(){n.CHM(r);const x=n.oxw();return n.KtG(x.addLegendaryEffect())}),n.TgZ(2,"mat-icon"),n._uU(3,"add"),n.qZA()()()}}function p(v,T){if(1&v&&(n.TgZ(0,"mat-option",17),n._UZ(1,"span",18),n.qZA()),2&v){const r=T.$implicit;n.Q6J("value",r.value),n.xp6(1),n.Q6J("innerHTML",r.label,n.oJD)}}function f(v,T){1&v&&(n.TgZ(0,"mat-hint"),n._uU(1,"This legendary effect is not possible for this rarity"),n.qZA())}function l(v,T){if(1&v){const r=n.EpF();n.TgZ(0,"mat-slider",19),n.NdJ("input",function(x){n.CHM(r);const k=n.oxw(2);return n.KtG(k.updateSliderValue(x))}),n.qZA()}2&v&&n.Q6J("min",75)("max",100)("step",1)}function c(v,T){if(1&v){const r=n.EpF();n.TgZ(0,"div",6)(1,"div",7)(2,"mat-form-field",8)(3,"mat-select",9),n.YNc(4,p,2,2,"mat-option",10),n.qZA(),n.YNc(5,f,2,0,"mat-hint",11),n.qZA()(),n.TgZ(6,"div",12),n.YNc(7,l,1,3,"mat-slider",13),n.qZA(),n.TgZ(8,"div",14)(9,"div",15),n._uU(10),n.qZA(),n.TgZ(11,"button",16),n.NdJ("click",function(){n.CHM(r);const x=n.oxw();return n.KtG(x.removeLegendaryEffect())}),n.TgZ(12,"mat-icon"),n._uU(13,"delete"),n.qZA()()()()}if(2&v){const r=n.oxw();n.Q6J("formGroup",r.form),n.xp6(3),n.Q6J("placeholder",r.legendaryEffect.name),n.xp6(1),n.Q6J("ngForOf",r.options),n.xp6(1),n.Q6J("ngIf",!r.possible),n.xp6(2),n.Q6J("ngIf",r.hasLegendaryValues()),n.xp6(3),n.hij(" ",r.displayedValue," ")}}let I=(()=>{class v extends a.B{constructor(r,C){super(),this.itemFormService=r,this.slormancerLegendaryEffectService=C,this.base=m.JNB.Amulet,this.heroClass=m.iHO.Huntress,this.itemLevel=0,this.itemReinforcment=0,this.form=null,this.options=[],this.displayedValue="",this.legendaryEffect=null,this.placeholder=null,this.possible=!0}ngOnChanges(r){null!==this.form&&("form"in r&&this.form.valueChanges.pipe((0,y.R)(this.unsubscribe)).subscribe(x=>{var k,H,B;this.updateLegendaryEffect(null!==(k=x.id)&&void 0!==k?k:null,null!==(H=x.value)&&void 0!==H?H:0),this.possible=this.isLegendaryPossible(null!==(B=x.id)&&void 0!==B?B:null)}),this.updateLegendaryEffect(this.form.controls.id.value,this.form.controls.value.value)),this.options=this.itemLevel>m.Sb7?this.itemFormService.getAllLegendaryOptions(this.heroClass):this.itemFormService.getLegendaryOptions(this.base,this.heroClass),null!==this.form&&(this.possible=this.isLegendaryPossible(this.form.controls.id.value))}updateLegendaryEffect(r,C){this.legendaryEffect=null===this.form||null===r?null:this.slormancerLegendaryEffectService.getLegendaryEffectById(r,this.form.controls.value.value,this.itemReinforcment,this.heroClass),this.placeholder=null===this.legendaryEffect?null:this.legendaryEffect.name,null!==this.legendaryEffect&&this.updateLegendaryValueLabel(this.legendaryEffect.value)}updateLegendaryValueLabel(r){this.displayedValue="",null!==this.legendaryEffect&&null!==r&&(this.displayedValue=this.legendaryEffect.effects.filter(C=>C.possibleCraftedValues.length>1).map(C=>{const x=C.effect.percent?"%":"";return(0,m.AWe)(C,r)+x}).join(" / "))}hasLegendaryValues(){return null!==this.legendaryEffect&&this.legendaryEffect.effects.filter(r=>r.possibleCraftedValues.length>1).length>0}updateSliderValue(r){this.displayedValue="";const C=r.value;null!==this.legendaryEffect&&null!==C&&this.updateLegendaryValueLabel(C)}removeLegendaryEffect(){null!==this.form&&this.form.patchValue({id:null})}addLegendaryEffect(){const r=this.options[0];null!==this.form&&r&&this.form.patchValue({id:r.value,value:100})}isLegendaryPossible(r){return this.options.some(C=>C.value===r)}}return v.\u0275fac=function(r){return new(r||v)(n.Y36(t.K),n.Y36(m.ArO))},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-item-edit-legendary-effect"]],inputs:{base:"base",heroClass:"heroClass",itemLevel:"itemLevel",itemReinforcment:"itemReinforcment",form:"form"},features:[n.qOj,n.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline"],["formControlName","id",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input",4,"ngIf"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"],["color","primary","formControlName","value",3,"min","max","step","input"]],template:function(r,C){1&r&&(n.TgZ(0,"div",0)(1,"div",1),n._uU(2,"Legendary effect :"),n.qZA(),n.YNc(3,R,4,0,"div",2),n.qZA(),n.YNc(4,c,14,6,"div",3)),2&r&&(n.xp6(3),n.Q6J("ngIf",null!==C.form&&null===C.legendaryEffect),n.xp6(1),n.Q6J("ngIf",null!==C.form&&null!==C.legendaryEffect))},dependencies:[e.sg,e.O5,u.lW,d.Hw,M.KE,M.bx,o.gD,_.ey,P.pH,g.JJ,g.JL,g.sg,g.u],styles:[".stat-line[_ngcontent-%COMP%]   mat-hint[_ngcontent-%COMP%]{color:#f44336}mat-form-field[_ngcontent-%COMP%]     .mat-select-placeholder{color:#d0d0d0}.stat-line[_ngcontent-%COMP%]   .additional[_ngcontent-%COMP%]{min-width:100px}"]}),v})();var Z=s(3761),Q=s(7446),N=s(461);function K(v,T){if(1&v){const r=n.EpF();n.TgZ(0,"mat-slider",11),n.NdJ("input",function(x){n.CHM(r);const k=n.oxw(2);return n.KtG(k.updateSliderStat(x))}),n.qZA()}if(2&v){const r=n.oxw(2);n.Q6J("min",r.affix.craftedEffect.minPossibleCraftedValue)("max",r.affix.craftedEffect.maxPossibleCraftedValue)("step",1)}}function j(v,T){if(1&v){const r=n.EpF();n.TgZ(0,"mat-slider",12),n.NdJ("input",function(x){n.CHM(r);const k=n.oxw(2);return n.KtG(k.updateSliderPurity(x))}),n.qZA()}2&v&&n.Q6J("min",101)("max",200)("step",1)}function G(v,T){if(1&v){const r=n.EpF();n.TgZ(0,"div",1)(1,"div",2),n._UZ(2,"app-search-select",3),n.qZA(),n.TgZ(3,"div",4),n.YNc(4,K,1,3,"mat-slider",5),n.YNc(5,j,1,3,"mat-slider",6),n.qZA(),n.TgZ(6,"div",7)(7,"div",8),n._uU(8),n.qZA(),n.TgZ(9,"mat-checkbox",9),n._uU(10,"Pure"),n.qZA(),n.TgZ(11,"button",10),n.NdJ("click",function(){n.CHM(r);const x=n.oxw();return n.KtG(x.removeStat())}),n.TgZ(12,"mat-icon"),n._uU(13,"delete"),n.qZA()()()()}if(2&v){const r=n.oxw();let C;n.Q6J("formGroup",r.form),n.xp6(2),n.Q6J("placeholder",null!==(C=r.STATS_LABELS[r.form.controls.stat.value])&&void 0!==C?C:null)("control",r.form.controls.stat)("options",r.options)("disabledOptions",r.alreadyUsedStats),n.xp6(2),n.Q6J("ngIf",!r.form.controls.pure.value),n.xp6(1),n.Q6J("ngIf",r.form.controls.pure.value),n.xp6(2),n.ekj("pure",r.form.controls.pure.value),n.xp6(1),n.Oqu(r.displayedValue),n.xp6(3),n.Q6J("disabled",!r.removable)}}let X=(()=>{class v extends a.B{constructor(r,C){super(),this.itemFormService=r,this.slormancerAffixService=C,this.itemBase=m.JNB.Amulet,this.itemLevel=0,this.itemReinforcment=0,this.alreadyUsedStats=[],this.form=null,this.removable=!1,this.remove=new n.vpe,this.options=[],this.displayedValue="",this.affix=null,this.STATS_LABELS=this.itemFormService.getStatsLabels()}ngOnChanges(r){null!==this.form&&("form"in r&&(this.form.controls.rarity.valueChanges.pipe((0,y.R)(this.unsubscribe)).subscribe(C=>{this.options=this.getOptions(this.itemLevel,this.itemBase,C)}),this.form.valueChanges.pipe((0,y.R)(this.unsubscribe)).subscribe(()=>this.updateAffix())),("form"in r||"itemBase"in r||"itemLevel"in r)&&(this.options=this.getOptions(this.itemLevel,this.itemBase,this.form.controls.rarity.value)),("form"in r||"itemLevel"in r||"itemReinforcment"in r)&&this.updateAffix())}getOptions(r,C,x){return r>m.Sb7?this.itemFormService.getAllStatsOptions():this.itemFormService.getStatsOptions(this.itemBase,x)}updateAffix(){null!==this.form&&(this.affix=this.slormancerAffixService.getAffixFromStat(this.form.controls.stat.value,this.itemLevel,this.itemReinforcment,this.form.controls.rarity.value,this.form.controls.value.value,this.form.controls.purity.value),null!==this.affix&&this.slormancerAffixService.updateAffix(this.affix),this.updatePurity(this.form.controls.pure.value,this.form.controls.purity.value,this.form.controls.value.value))}updatePurity(r,C,x){r?this.setPuritylabel(C):this.setStatLabel(x)}updateSliderPurity(r){null!==r.value&&this.setPuritylabel(r.value)}updateSliderStat(r){null!==r.value&&this.setStatLabel(r.value)}setPuritylabel(r){this.displayedValue=Math.round(r-100)+"%"}setStatLabel(r){if(this.displayedValue="",null!==this.affix){const C=this.affix.craftedEffect.effect.percent?"%":"";this.displayedValue=null===this.affix?"":"+"+((0,m.AWe)(this.affix.craftedEffect,r)+C)}}removeStat(){this.remove.emit()}}return v.\u0275fac=function(r){return new(r||v)(n.Y36(t.K),n.Y36(m.lRX))},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-item-edit-stat"]],inputs:{itemBase:"itemBase",itemLevel:"itemLevel",itemReinforcment:"itemReinforcment",alreadyUsedStats:"alreadyUsedStats",form:"form",removable:"removable"},outputs:{remove:"remove"},features:[n.qOj,n.TTD],decls:1,vars:1,consts:[["class","stat-line",3,"formGroup",4,"ngIf"],[1,"stat-line",3,"formGroup"],[1,"select"],["notFoundMessage","This stat is not possible for this rarity",3,"placeholder","control","options","disabledOptions"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input",4,"ngIf"],["color","accent","formControlName","purity",3,"min","max","step","input",4,"ngIf"],[1,"additional"],[1,"value"],["color","primary","formControlName","pure"],["mat-icon-button","","color","primary","type","button",3,"disabled","click"],["color","primary","formControlName","value",3,"min","max","step","input"],["color","accent","formControlName","purity",3,"min","max","step","input"]],template:function(r,C){1&r&&n.YNc(0,G,14,11,"div",0),2&r&&n.Q6J("ngIf",null!==C.form&&null!==C.affix)},dependencies:[e.O5,u.lW,d.Hw,P.pH,Q.oG,g.JJ,g.JL,g.sg,g.u,N.a],styles:[".pure[_ngcontent-%COMP%]{color:#20d787}"]}),v})();var et=s(7803),nt=s(4006),W=s(2349),$=s(1314);function it(v,T){if(1&v){const r=n.EpF();n.TgZ(0,"div",5,6),n.NdJ("mouseenter",function(){const k=n.CHM(r).$implicit,H=n.MAs(1),B=n.oxw(2);return n.KtG(B.showOverlay(H,k))})("mouseleave",function(){n.CHM(r);const x=n.oxw(2);return n.KtG(x.hideOverlay())}),n.TgZ(2,"div",7),n._UZ(3,"img",8),n.qZA(),n.TgZ(4,"div",9),n._uU(5),n.qZA()()}if(2&v){const r=T.$implicit;n.xp6(3),n.MGl("src","assets/img/icon/",r.icon,".png",n.LSH),n.xp6(2),n.Oqu(r.name)}}function ot(v,T){if(1&v){const r=n.EpF();n.TgZ(0,"div",10,6),n.NdJ("click",function(x){const H=n.CHM(r).$implicit,B=n.oxw(2);return n.KtG(B.showModalTooltip(x,H))})("mouseenter",function(){const k=n.CHM(r).$implicit,H=n.MAs(1),B=n.oxw(2);return n.KtG(B.showOverlay(H,k))})("mouseleave",function(){n.CHM(r);const x=n.oxw(2);return n.KtG(x.hideOverlay())}),n.TgZ(2,"div",7),n._UZ(3,"img",8),n.qZA(),n.TgZ(4,"div",9),n._uU(5),n.qZA()()}if(2&v){const r=T.$implicit;n.xp6(3),n.MGl("src","assets/img/icon/",r.icon,".png",n.LSH),n.xp6(2),n.Oqu(r.name)}}function at(v,T){if(1&v){const r=n.EpF();n.TgZ(0,"div",5,6),n.NdJ("mouseenter",function(){const k=n.CHM(r).$implicit,H=n.MAs(1),B=n.oxw(2);return n.KtG(B.showOverlay(H,k))})("mouseleave",function(){n.CHM(r);const x=n.oxw(2);return n.KtG(x.hideOverlay())}),n.TgZ(2,"div",7),n._UZ(3,"img",8),n.qZA(),n.TgZ(4,"div",9),n._uU(5),n.qZA()()}if(2&v){const r=T.$implicit;n.xp6(3),n.MGl("src","assets/img/icon/",r.icon,".png",n.LSH),n.xp6(2),n.Oqu(r.name)}}function rt(v,T){if(1&v&&(n.TgZ(0,"div",12)(1,"div",13),n._UZ(2,"h3",14)(3,"p",14),n.qZA()()),2&v){const r=n.oxw(3);n.xp6(2),n.Q6J("innerHTML",r.overlayMechanic.name,n.oJD),n.xp6(1),n.Q6J("innerHTML",r.overlayMechanic.description,n.oJD)}}function lt(v,T){if(1&v&&n.YNc(0,rt,4,2,"ng-template",11),2&v){const r=n.oxw(2);n.Q6J("cdkConnectedOverlayOpen",!0)("cdkConnectedOverlayOrigin",r.overlayTrigger)}}function ct(v,T){if(1&v&&(n.TgZ(0,"div",1),n.YNc(1,it,6,2,"div",2),n.YNc(2,ot,6,2,"div",3),n.YNc(3,at,6,2,"div",2),n.YNc(4,lt,1,2,null,4),n.qZA()),2&v){const r=n.oxw();n.xp6(1),n.Q6J("ngForOf",r.classMechanics),n.xp6(1),n.Q6J("ngForOf",r.mechanics),n.xp6(1),n.Q6J("ngForOf",r.buffs),n.xp6(1),n.Q6J("ngIf",null!==r.overlayMechanic&&null!==r.overlayTrigger)}}let z=(()=>{class v{constructor(r){this.dialog=r,this.classMechanics=[],this.mechanics=[],this.buffs=[],this.overlayTrigger=null,this.overlayMechanic=null}showOverlay(r,C){this.overlayMechanic=C,this.overlayTrigger=r}hideOverlay(){this.overlayTrigger=null,this.overlayMechanic=null}showModalTooltip(r,C){let x=!1;return r.ctrlKey&&(x=!0,r.stopPropagation(),r.stopImmediatePropagation(),this.dialog.open(nt.q,{data:{entity:{mechanic:C}}})),x}}return v.\u0275fac=function(r){return new(r||v)(n.Y36(W.uw))},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-mechanics-view"]],inputs:{classMechanics:"classMechanics",mechanics:"mechanics",buffs:"buffs"},decls:1,vars:1,consts:[["class","mechanics",4,"ngIf"],[1,"mechanics"],["class","mechanic","cdkOverlayOrigin","",3,"mouseenter","mouseleave",4,"ngFor","ngForOf"],["class","mechanic","cdkOverlayOrigin","",3,"click","mouseenter","mouseleave",4,"ngFor","ngForOf"],[4,"ngIf"],["cdkOverlayOrigin","",1,"mechanic",3,"mouseenter","mouseleave"],["trigger","cdkOverlayOrigin"],[1,"mechanic-icon"],[3,"src"],[1,"mechanic-name"],["cdkOverlayOrigin","",1,"mechanic",3,"click","mouseenter","mouseleave"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[1,"slormancer-tooltip"],[1,"inner-box"],[3,"innerHTML"]],template:function(r,C){1&r&&n.YNc(0,ct,5,4,"div",0),2&r&&n.Q6J("ngIf",C.classMechanics.length>0||C.mechanics.length>0||C.buffs.length>0)},dependencies:[e.sg,e.O5,$.pI,$.xu],styles:[".mechanics[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;gap:4px}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;background-color:#000;padding:4px;gap:4px}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]   .mechanic-icon[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]   .mechanic-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:36px;min-height:36px;width:36px;height:36px}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]   .mechanic-name[_ngcontent-%COMP%]{background-color:#141310;padding:8px;display:flex;flex-direction:row;align-items:center;flex-grow:1}.slormancer-tooltip[_ngcontent-%COMP%]{max-width:350px}.slormancer-tooltip[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:8px 0;font-weight:400;color:#ce4607}.slormancer-tooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0}.slormancer-tooltip[_ngcontent-%COMP%]     .value{color:#ce4607}"]}),v})();var st=s(4890),_t=s(7295),gt=s(8849),tt=s(9881),mt=s(7531);let ut=(()=>{class v{}return v.\u0275fac=function(r){return new(r||v)},v.\u0275mod=n.oAB({type:v}),v.\u0275inj=n.cJS({imports:[e.ez,tt.q,tt.q]}),v})();n.B6R(gt.B,[e.O5,z],[]),n.B6R(h.q,[e.O5,z],[]),n.B6R(Z.F,[e.sg,e.O5,u.lW,d.Hw,W.ZT,W.xY,W.H8,M.TO,M.KE,M.hX,mt.Nt,g._Y,g.Fj,g.wV,g.JJ,g.JL,g.qQ,g.sg,g.u,et.F,X,I,V,S,b],[]),n.B6R(_t.g,[e.O5,i.K,st.G],[])}}]);