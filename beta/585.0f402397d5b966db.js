"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[585],{6446:(J,A,c)=>{c.d(A,{B:()=>O});var i=c(7579),e=c(5e3);let O=(()=>{class _{constructor(){this.unsubscribe=new i.x}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}}return _.\u0275fac=function(t){return new(t||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,a){},encapsulation:2}),_})()},8003:(J,A,c)=>{c.d(A,{K:()=>a});var i=c(5e3),e=c(9808);function O(n,g){if(1&n&&i._UZ(0,"div",11),2&n){const u=i.oxw(2);i.Q6J("innerHTML",u.activable.genresLabel,i.oJD)}}function _(n,g){if(1&n&&i._UZ(0,"div",12),2&n){const u=i.oxw(2);i.Q6J("innerHTML",u.activable.cooldownLabel,i.oJD)}}function b(n,g){if(1&n&&i._UZ(0,"div",13),2&n){const u=i.oxw(2);i.Q6J("innerHTML",u.activable.costLabel,i.oJD)}}function t(n,g){if(1&n&&(i.TgZ(0,"div",1)(1,"div",2)(2,"div",3),i._UZ(3,"img",4),i.qZA(),i.TgZ(4,"div",5)(5,"div",6),i._uU(6),i.qZA(),i.YNc(7,O,1,1,"div",7),i.YNc(8,_,1,1,"div",8),i.YNc(9,b,1,1,"div",9),i.qZA()(),i._UZ(10,"div",10),i.qZA()),2&n){const u=i.oxw();i.xp6(3),i.Q6J("src",u.activable.icon,i.LSH),i.xp6(3),i.Oqu(u.activable.name),i.xp6(1),i.Q6J("ngIf",null!==u.activable.genresLabel),i.xp6(1),i.Q6J("ngIf",null!==u.activable.cooldownLabel),i.xp6(1),i.Q6J("ngIf",null!==!u.activable.costLabel),i.xp6(1),i.Q6J("innerHTML",u.activable.description,i.oJD)}}let a=(()=>{class n{constructor(){this.activable=null,this.reinforcment=0}}return n.\u0275fac=function(u){return new(u||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-activable-view"]],inputs:{activable:"activable",reinforcment:"reinforcment"},decls:1,vars:1,consts:[["class","activable",4,"ngIf"],[1,"activable"],[1,"activable-head"],[1,"icon"],["loading","lazy",3,"src"],[1,"info"],[1,"name"],["class","genre",3,"innerHTML",4,"ngIf"],["class","cooldown",3,"innerHTML",4,"ngIf"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"description",3,"innerHTML"],[1,"genre",3,"innerHTML"],[1,"cooldown",3,"innerHTML"],[1,"cost",3,"innerHTML"]],template:function(u,h){1&u&&i.YNc(0,t,11,6,"div",0),2&u&&i.Q6J("ngIf",null!==h.activable)},dependencies:[e.O5],styles:[".activable[_ngcontent-%COMP%]{background-color:#151412;border:3px solid black;color:#fff;padding:5px;display:flex;flex-direction:column;gap:5px}.activable[_ngcontent-%COMP%]  .value{color:#ce4607}.activable[_ngcontent-%COMP%]  .range, .activable[_ngcontent-%COMP%]  .range .value, .activable[_ngcontent-%COMP%]  .details, .activable[_ngcontent-%COMP%]  .details .value, .activable[_ngcontent-%COMP%]  .formula, .activable[_ngcontent-%COMP%]  .formula .value{color:#686868}.activable[_ngcontent-%COMP%]  .affixes .range, .activable[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.activable[_ngcontent-%COMP%]  .life{color:#257539}.activable[_ngcontent-%COMP%]  .mana{color:#3397dd}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:5px}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;align-items:center;border:4px solid rgb(190,135,31);min-width:44px;min-height:44px;width:44px;height:44px}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid black;min-width:36px;min-height:36px;width:36px;height:36px}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:19px;color:#ce4607}.activable[_ngcontent-%COMP%]   .activable-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.activable[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}"]}),n})()},9065:(J,A,c)=>{c.d(A,{q:()=>a});var i=c(2419),e=c(5e3);function O(n,g){if(1&n&&e._UZ(0,"div",17),2&n){const u=e.oxw(2);e.Q6J("innerHTML",u.ancestralLegacy.genresLabel,e.oJD)}}function _(n,g){if(1&n&&e._UZ(0,"div",18),2&n){const u=e.oxw(2);e.Q6J("innerHTML",u.ancestralLegacy.cooldownLabel,e.oJD)}}function b(n,g){if(1&n&&e._UZ(0,"div",19),2&n){const u=e.oxw(2);e.Q6J("innerHTML",u.ancestralLegacy.costLabel,e.oJD)}}function t(n,g){if(1&n&&(e.TgZ(0,"div")(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),e._UZ(7,"div",6)(8,"img",7),e.qZA()(),e.TgZ(9,"div",8),e._UZ(10,"div",9),e.YNc(11,O,1,1,"div",10),e.YNc(12,_,1,1,"div",11),e._UZ(13,"div",12),e.YNc(14,b,1,1,"div",13),e.qZA()(),e._UZ(15,"div",14)(16,"div",15)(17,"app-mechanics-view",16),e.qZA()()),2&n){const u=e.oxw();e.Gre("ancestral-legacy ",u.ancestralLegacy.damageTypes.length>0?u.ancestralLegacy.damageTypes[0]:"",""),e.xp6(2),e.Oqu(u.ancestralLegacy.name),e.xp6(6),e.Q6J("src",u.ancestralLegacy.icon,e.LSH),e.xp6(2),e.Q6J("innerHTML",u.ancestralLegacy.typeLabel,e.oJD),e.xp6(1),e.Q6J("ngIf",null!==u.ancestralLegacy.genresLabel),e.xp6(1),e.Q6J("ngIf",null!==u.ancestralLegacy.cooldownLabel),e.xp6(1),e.Q6J("innerHTML",u.ancestralLegacy.rankLabel,e.oJD),e.xp6(1),e.Q6J("ngIf",null!==u.ancestralLegacy.costLabel),e.xp6(2),e.Q6J("innerHTML",u.ancestralLegacy.description,e.oJD),e.xp6(1),e.Q6J("mechanics",u.ancestralLegacy.relatedMechanics)("buffs",u.ancestralLegacy.relatedBuffs)}}let a=(()=>{class n{constructor(u){this.slormancerTranslateService=u,this.ancestralLegacy=null,this.hideNextRank=!1,this.NEXT_RANK_LABEL=this.slormancerTranslateService.translate("tt_next_rank"),this.MAX_RANK_LABEL=this.slormancerTranslateService.translate("tt_max_rank")}}return n.\u0275fac=function(u){return new(u||n)(e.Y36(i.n6D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-ancestral-legacy-view"]],inputs:{ancestralLegacy:"ancestralLegacy",hideNextRank:"hideNextRank"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head"],[1,"content"],[1,"info"],[1,"visual"],[1,"icon"],[1,"icon-border"],[3,"src"],[1,"data"],[1,"type",3,"innerHTML"],["class","genre",3,"innerHTML",4,"ngIf"],["class","cooldown",3,"innerHTML",4,"ngIf"],[1,"rank",3,"innerHTML"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"separator"],[1,"description",3,"innerHTML"],[3,"mechanics","buffs"],[1,"genre",3,"innerHTML"],[1,"cooldown",3,"innerHTML"],[1,"cost",3,"innerHTML"]],template:function(u,h){1&u&&e.YNc(0,t,18,13,"div",0),2&u&&e.Q6J("ngIf",null!==h.ancestralLegacy)},styles:[".ancestral-legacy[_ngcontent-%COMP%]{background-color:#090909;border:3px solid black;color:#fff;display:flex;flex-direction:column;max-width:400px}.ancestral-legacy[_ngcontent-%COMP%]  .description .value{color:#ce4607}.ancestral-legacy[_ngcontent-%COMP%]  .next-rank .value, .ancestral-legacy[_ngcontent-%COMP%]  .head, .ancestral-legacy[_ngcontent-%COMP%]  .rank .current, .ancestral-legacy[_ngcontent-%COMP%]  .cooldown .value{color:#bb1fe2}.ancestral-legacy[_ngcontent-%COMP%]  .range, .ancestral-legacy[_ngcontent-%COMP%]  .range .value, .ancestral-legacy[_ngcontent-%COMP%]  .details, .ancestral-legacy[_ngcontent-%COMP%]  .details .value, .ancestral-legacy[_ngcontent-%COMP%]  .formula, .ancestral-legacy[_ngcontent-%COMP%]  .formula .value{color:#686868}.ancestral-legacy[_ngcontent-%COMP%]  .affixes .range, .ancestral-legacy[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.ancestral-legacy[_ngcontent-%COMP%]  .life{color:#257539}.ancestral-legacy[_ngcontent-%COMP%]  .mana{color:#3397dd}.ancestral-legacy.mag[_ngcontent-%COMP%]  .value:not(.mana){color:#bb1fe2}.ancestral-legacy[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:3px solid rgb(60,57,49)}.ancestral-legacy[_ngcontent-%COMP%]   .head.head[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.head[_ngcontent-%COMP%]{text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;padding:10px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;gap:10px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{display:flex;align-items:center}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border:3px solid rgb(190,135,31);min-width:60px;min-height:60px;width:60px;height:60px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black;image-rendering:pixelated;width:54px;height:54px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-transform:uppercase;height:100%;flex-grow:1;padding:5px 0;gap:5px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#3155bc}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]{display:flex;flex-direction:row}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{min-width:8px;padding-right:8px}.ancestral-legacy[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .ancestral-legacy[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;background-color:#ce4607;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}"]}),n})()},9246:(J,A,c)=>{c.d(A,{P:()=>b});var i=c(5e3),e=c(9808);function O(t,a){if(1&t&&i._UZ(0,"div",7),2&t){const n=i.oxw(2);i.Q6J("innerHTML",n.attributeTraits.summary,i.oJD)}}function _(t,a){if(1&t&&(i.TgZ(0,"div")(1,"div",1)(2,"div",2),i._uU(3),i.qZA(),i.TgZ(4,"div",3),i._uU(5),i.qZA()(),i.TgZ(6,"div",4)(7,"div",5),i._uU(8),i.qZA(),i.YNc(9,O,1,1,"div",6),i.qZA()()),2&t){const n=i.oxw();i.Gre("trait attribute-",n.attributeTraits.attribute,""),i.xp6(3),i.Oqu(n.attributeTraits.attributeName),i.xp6(2),i.Oqu(n.attributeTraits.title),i.xp6(3),i.Oqu(n.attributeTraits.recapLabel),i.xp6(1),i.Q6J("ngIf",null!==n.attributeTraits.summary)}}let b=(()=>{class t{constructor(){this.attributeTraits=null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-attribute-summary-view"]],inputs:{attributeTraits:"attributeTraits"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head"],[1,"attribute"],[1,"subtitle"],[1,"content"],[1,"info"],["class","description",3,"innerHTML",4,"ngIf"],[1,"description",3,"innerHTML"]],template:function(n,g){1&n&&i.YNc(0,_,10,7,"div",0),2&n&&i.Q6J("ngIf",null!==g.attributeTraits)},dependencies:[e.O5],styles:[".trait[_ngcontent-%COMP%]{background-color:#151412;border:3px solid black;color:#fff;display:flex;flex-direction:column;gap:5px;min-width:250px}.trait.attribute-0[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]     .value{color:#2f5996}.trait.attribute-1[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]     .value{color:#a83007}.trait.attribute-2[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]     .value{color:#79b549}.trait.attribute-3[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]     .value{color:#d0b545}.trait.attribute-4[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]     .value{color:#4bc1b2}.trait.attribute-5[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]     .value{color:#753098}.trait.attribute-6[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]     .value{color:#cd7028}.trait.attribute-7[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]     .value{color:#bf3c59}.trait[_ngcontent-%COMP%]  .locked{color:#686868}.trait[_ngcontent-%COMP%]  .range, .trait[_ngcontent-%COMP%]  .range .value, .trait[_ngcontent-%COMP%]  .details, .trait[_ngcontent-%COMP%]  .details .value, .trait[_ngcontent-%COMP%]  .formula, .trait[_ngcontent-%COMP%]  .formula .value, .trait[_ngcontent-%COMP%]  .max, .trait[_ngcontent-%COMP%]  .max .value{color:#686868}.trait[_ngcontent-%COMP%]  .affixes .range, .trait[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:3px solid rgb(60,57,49)}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-transform:uppercase;padding:10px;gap:2px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .attribute[_ngcontent-%COMP%]{font-size:19px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px 10px;gap:20px;text-align:center}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}"]}),t})()},3761:(J,A,c)=>{c.d(A,{F:()=>R});var i=c(3075),e=c(2349),O=c(2419),_=c(311),b=c(1671),t=c(5e3);function a(d,y){if(1&d){const r=t.EpF();t.TgZ(0,"div",21)(1,"button",22),t.NdJ("click",function(){t.CHM(r);const s=t.oxw(2);return t.KtG(s.addBasicAffix())}),t.TgZ(2,"mat-icon"),t._uU(3,"add"),t.qZA()()()}}function n(d,y){if(1&d){const r=t.EpF();t.TgZ(0,"app-item-edit-stat",24),t.NdJ("remove",function(){t.CHM(r);const s=t.oxw().$implicit,Z=t.oxw(3);return t.KtG(Z.removeAffix(s))}),t.qZA()}if(2&d){const r=t.oxw().$implicit,p=t.oxw(3);t.Q6J("form",r)("itemBase",p.item.base)("itemLevel",p.item.level)("itemReinforcment",p.item.reinforcment)("alreadyUsedStats",p.alreadyUsedStats)("removable",!1)}}function g(d,y){if(1&d&&(t.ynx(0),t.YNc(1,n,1,6,"app-item-edit-stat",23),t.BQk()),2&d){const r=y.$implicit,p=t.oxw(3);t.xp6(1),t.Q6J("ngIf",p.isBasicStat(r))}}function u(d,y){if(1&d&&(t.ynx(0),t.YNc(1,g,2,1,"ng-container",14),t.BQk()),2&d){const r=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",r.form.controls.affixes.controls)}}function h(d,y){if(1&d){const r=t.EpF();t.TgZ(0,"div",21)(1,"button",22),t.NdJ("click",function(){t.CHM(r);const s=t.oxw(3);return t.KtG(s.addDefensiveAffix())}),t.TgZ(2,"mat-icon"),t._uU(3,"add"),t.qZA()()()}}function o(d,y){if(1&d&&(t.TgZ(0,"div",9)(1,"div",10),t._uU(2," Defensive Stats : "),t.qZA(),t.YNc(3,h,4,0,"div",11),t.qZA()),2&d){const r=t.oxw(2);t.xp6(3),t.Q6J("ngIf",r.hasBasicStats()&&!r.hasMaximumDefensiveStats())}}function f(d,y){if(1&d){const r=t.EpF();t.TgZ(0,"app-item-edit-stat",24),t.NdJ("remove",function(){t.CHM(r);const s=t.oxw().$implicit,Z=t.oxw(2);return t.KtG(Z.removeAffix(s))}),t.qZA()}if(2&d){const r=t.oxw().$implicit,p=t.oxw(2);t.Q6J("form",r)("itemBase",p.item.base)("itemLevel",p.item.level)("itemReinforcment",p.item.reinforcment)("alreadyUsedStats",p.alreadyUsedStats)("removable",!p.hasRareStats()&&!p.hasEpicStats()&&!p.hasMagicStats())}}function T(d,y){if(1&d&&(t.ynx(0),t.YNc(1,f,1,6,"app-item-edit-stat",23),t.BQk()),2&d){const r=y.$implicit,p=t.oxw(2);t.xp6(1),t.Q6J("ngIf",p.isDefensiveStat(r))}}function m(d,y){if(1&d){const r=t.EpF();t.TgZ(0,"div",21)(1,"button",22),t.NdJ("click",function(){t.CHM(r);const s=t.oxw(3);return t.KtG(s.addMagicAffix())}),t.TgZ(2,"mat-icon"),t._uU(3,"add"),t.qZA()()()}}function E(d,y){if(1&d&&(t.TgZ(0,"div",9)(1,"div",10),t._uU(2," Magic Stats : "),t.qZA(),t.YNc(3,m,4,0,"div",11),t.qZA()),2&d){const r=t.oxw(2);t.xp6(3),t.Q6J("ngIf",r.hasBasicStats()&&!r.hasMaximumMagicStats())}}function C(d,y){if(1&d){const r=t.EpF();t.TgZ(0,"app-item-edit-stat",24),t.NdJ("remove",function(){t.CHM(r);const s=t.oxw().$implicit,Z=t.oxw(2);return t.KtG(Z.removeAffix(s))}),t.qZA()}if(2&d){const r=t.oxw().$implicit,p=t.oxw(2);t.Q6J("form",r)("itemBase",p.item.base)("itemLevel",p.item.level)("itemReinforcment",p.item.reinforcment)("alreadyUsedStats",p.alreadyUsedStats)("removable",!p.hasRareStats()&&!p.hasEpicStats())}}function L(d,y){if(1&d&&(t.ynx(0),t.YNc(1,C,1,6,"app-item-edit-stat",23),t.BQk()),2&d){const r=y.$implicit,p=t.oxw(2);t.xp6(1),t.Q6J("ngIf",p.isMagicStat(r))}}function P(d,y){if(1&d){const r=t.EpF();t.TgZ(0,"div",21)(1,"button",22),t.NdJ("click",function(){t.CHM(r);const s=t.oxw(3);return t.KtG(s.addRareAffix())}),t.TgZ(2,"mat-icon"),t._uU(3,"add"),t.qZA()()()}}function w(d,y){if(1&d&&(t.TgZ(0,"div",9)(1,"div",10),t._uU(2," Rare Stats : "),t.qZA(),t.YNc(3,P,4,0,"div",11),t.qZA()),2&d){const r=t.oxw(2);t.xp6(3),t.Q6J("ngIf",r.hasMagicStats()&&!r.hasMaximumRareStats())}}function U(d,y){if(1&d){const r=t.EpF();t.TgZ(0,"app-item-edit-stat",24),t.NdJ("remove",function(){t.CHM(r);const s=t.oxw().$implicit,Z=t.oxw(2);return t.KtG(Z.removeAffix(s))}),t.qZA()}if(2&d){const r=t.oxw().$implicit,p=t.oxw(2);t.Q6J("form",r)("itemBase",p.item.base)("itemLevel",p.item.level)("itemReinforcment",p.item.reinforcment)("alreadyUsedStats",p.alreadyUsedStats)("removable",!p.hasEpicStats())}}function D(d,y){if(1&d&&(t.ynx(0),t.YNc(1,U,1,6,"app-item-edit-stat",23),t.BQk()),2&d){const r=y.$implicit,p=t.oxw(2);t.xp6(1),t.Q6J("ngIf",p.isRareStat(r))}}function V(d,y){if(1&d){const r=t.EpF();t.TgZ(0,"div",21)(1,"button",22),t.NdJ("click",function(){t.CHM(r);const s=t.oxw(3);return t.KtG(s.addEpicAffix())}),t.TgZ(2,"mat-icon"),t._uU(3,"add"),t.qZA()()()}}function F(d,y){if(1&d&&(t.TgZ(0,"div",9)(1,"div",10),t._uU(2," Epic Stats : "),t.qZA(),t.YNc(3,V,4,0,"div",11),t.qZA()),2&d){const r=t.oxw(2);t.xp6(3),t.Q6J("ngIf",r.hasRareStats()&&!r.hasMaximumEpicStats())}}function Y(d,y){if(1&d){const r=t.EpF();t.TgZ(0,"app-item-edit-stat",24),t.NdJ("remove",function(){t.CHM(r);const s=t.oxw().$implicit,Z=t.oxw(2);return t.KtG(Z.removeAffix(s))}),t.qZA()}if(2&d){const r=t.oxw().$implicit,p=t.oxw(2);t.Q6J("form",r)("itemBase",p.item.base)("itemLevel",p.item.level)("itemReinforcment",p.item.reinforcment)("alreadyUsedStats",p.alreadyUsedStats)("removable",!0)}}function q(d,y){if(1&d&&(t.ynx(0),t.YNc(1,Y,1,6,"app-item-edit-stat",23),t.BQk()),2&d){const r=y.$implicit,p=t.oxw(2);t.xp6(1),t.Q6J("ngIf",p.isEpicStat(r))}}function I(d,y){if(1&d){const r=t.EpF();t.TgZ(0,"form",1),t.NdJ("submit",function(){t.CHM(r);const s=t.oxw();return t.KtG(s.submit())}),t.TgZ(1,"mat-dialog-content")(2,"div",2),t._UZ(3,"app-item-view",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"mat-form-field",6)(7,"mat-label"),t._uU(8,"Item level"),t.qZA(),t._UZ(9,"input",7),t.TgZ(10,"mat-error"),t._uU(11),t.qZA()(),t.TgZ(12,"mat-form-field",6)(13,"mat-label"),t._uU(14,"Item reinforcement"),t.qZA(),t._UZ(15,"input",8),t.TgZ(16,"mat-error"),t._uU(17,"Reinforcment must be >= 0"),t.qZA()()(),t.TgZ(18,"div",9)(19,"div",10),t._uU(20," Base Stats : "),t.qZA(),t.YNc(21,a,4,0,"div",11),t.qZA(),t.YNc(22,u,2,1,"ng-container",12),t.YNc(23,o,4,1,"div",13),t.YNc(24,T,2,1,"ng-container",14),t.YNc(25,E,4,1,"div",13),t.YNc(26,L,2,1,"ng-container",14),t.YNc(27,w,4,1,"div",13),t.YNc(28,D,2,1,"ng-container",14),t.YNc(29,F,4,1,"div",13),t.YNc(30,q,2,1,"ng-container",14),t._UZ(31,"app-item-edit-legendary-effect",15)(32,"app-item-edit-buff-reaper",16)(33,"app-item-edit-buff-skill",17)(34,"app-item-edit-buff-attribute",16),t.qZA()(),t.TgZ(35,"mat-dialog-actions")(36,"button",18),t._uU(37,"Cancel"),t.qZA(),t.TgZ(38,"button",19),t.NdJ("click",function(){t.CHM(r);const s=t.oxw();return t.KtG(s.reset())}),t._uU(39,"Reset"),t.qZA(),t.TgZ(40,"button",20),t._uU(41,"Apply"),t.qZA()()()}if(2&d){const r=t.oxw();t.Q6J("formGroup",r.form),t.xp6(3),t.Q6J("item",r.item)("details",!0),t.xp6(8),t.hij("Level must be between 1 and ",r.MAX_NEITHER_ITEM_LEVEL,""),t.xp6(10),t.Q6J("ngIf",!r.hasMaximumBasicStats()),t.xp6(1),t.Q6J("ngIf",r.hasBasicStats()),t.xp6(1),t.Q6J("ngIf",r.hasBasicStats()),t.xp6(1),t.Q6J("ngForOf",r.form.controls.affixes.controls),t.xp6(1),t.Q6J("ngIf",r.hasBasicStats()),t.xp6(1),t.Q6J("ngForOf",r.form.controls.affixes.controls),t.xp6(1),t.Q6J("ngIf",r.hasMagicStats()),t.xp6(1),t.Q6J("ngForOf",r.form.controls.affixes.controls),t.xp6(1),t.Q6J("ngIf",r.hasRareStats()),t.xp6(1),t.Q6J("ngForOf",r.form.controls.affixes.controls),t.xp6(1),t.Q6J("base",r.item.base)("itemLevel",r.item.level)("itemReinforcment",r.item.reinforcment)("heroClass",r.item.heroClass)("form",r.form.controls.legendary),t.xp6(1),t.Q6J("form",r.form.controls.reaper),t.xp6(1),t.Q6J("heroClass",r.item.heroClass)("form",r.form.controls.skill),t.xp6(1),t.Q6J("form",r.form.controls.attribute),t.xp6(6),t.Q6J("disabled",!r.form.valid||!r.possible)}}let R=(()=>{class d{constructor(r,p,s,Z,N,H,K,j,G){this.dialogRef=r,this.slormancerCharacterUpdaterService=p,this.slormancerItemService=s,this.slormancerAffixService=Z,this.slormancerLegendaryEffectService=N,this.slormancerTranslationService=H,this.formOptionsService=K,this.buildStorageService=j,this.MAX_NEITHER_ITEM_LEVEL=O.xL6,this.maxBasicStats=0,this.alreadyUsedStats=[],this.possible=!0,this.form=new i.cw({level:new i.NI(0,{nonNullable:!0,validators:[i.kI.required,i.kI.min(1),i.kI.max(O.xL6),i.kI.pattern(/^[0-9]+$/)]}),reinforcment:new i.NI(0,{nonNullable:!0,validators:[i.kI.required,i.kI.min(0),i.kI.pattern(/^[0-9]+$/)]}),affixes:new i.Oe([]),legendary:new i.cw({id:new i.NI(null),value:new i.NI(0,{nonNullable:!0,validators:[i.kI.required,i.kI.min(0),i.kI.pattern(/^[0-9]+$/)]})}),reaper:new i.cw({smith:new i.NI(null),value:new i.NI(0,{nonNullable:!0,validators:[i.kI.required,i.kI.min(0),i.kI.pattern(/^[0-9]+$/)]})}),attribute:new i.cw({attribute:new i.NI(null),value:new i.NI(0,{nonNullable:!0,validators:[i.kI.required,i.kI.min(0),i.kI.pattern(/^[0-9]+$/)]})}),skill:new i.cw({skill:new i.NI(null),value:new i.NI(0,{nonNullable:!0,validators:[i.kI.required,i.kI.min(0),i.kI.pattern(/^[0-9]+$/)]})})}),this.originalItem=G.item,this.maxLevel=G.maxLevel,this.form.valueChanges.subscribe(()=>{this.updatePreview(),this.alreadyUsedStats=this.form.controls.affixes.getRawValue().map(X=>X.stat),this.possible=this.isItemPossible(this.form)}),this.form.controls.affixes.valueChanges.subscribe(()=>{this.sortAffixes()}),this.character=G.character,this.reset()}reset(){this.item=this.slormancerItemService.getEquipableItemClone(this.originalItem),this.form.controls.affixes.clear({emitEvent:!1});for(const r of this.item.affixes)this.form.controls.affixes.push(this.getAffixForm(),{emitEvent:!1});this.form.reset({level:this.item.level,reinforcment:this.item.reinforcment,affixes:this.item.affixes.map(r=>({pure:r.isPure,purity:r.pure,rarity:r.rarity,stat:r.craftedEffect.effect.stat,value:r.craftedEffect.craftedValue})),legendary:{id:null===this.item.legendaryEffect?null:this.item.legendaryEffect.id,value:null===this.item.legendaryEffect?0:this.item.legendaryEffect.value},attribute:{attribute:null===this.item.attributeEnchantment?null:this.item.attributeEnchantment.craftedAttribute,value:null===this.item.attributeEnchantment?0:this.item.attributeEnchantment.craftedValue},reaper:{smith:null===this.item.reaperEnchantment?null:this.item.reaperEnchantment.craftedReaperSmith,value:null===this.item.reaperEnchantment?0:this.item.reaperEnchantment.craftedValue},skill:{skill:null===this.item.skillEnchantment?null:this.item.skillEnchantment.craftedSkill,value:null===this.item.skillEnchantment?0:this.item.skillEnchantment.craftedValue}}),this.sortAffixes(),this.updatePreview()}submit(){this.form.valid&&this.dialogRef.close(this.item)}updatePreview(){const r=this.item;if(this.form.valid){const p=this.form.getRawValue();r.level=p.level,r.reinforcment=p.reinforcment,r.affixes=p.affixes.map(H=>this.slormancerAffixService.getAffixFromStat(H.stat,r.level,r.reinforcment,H.rarity,H.value,H.pure?H.purity:0)).filter(O.BXh),r.legendaryEffect=null===p.legendary.id?null:this.slormancerLegendaryEffectService.getLegendaryEffectById(p.legendary.id,p.legendary.value,r.reinforcment,r.heroClass),r.reaperEnchantment=null===p.reaper.smith?null:this.slormancerItemService.getReaperEnchantment(p.reaper.smith,p.reaper.value),r.skillEnchantment=null===p.skill.skill?null:this.slormancerItemService.getSkillEnchantment(p.skill.skill,p.skill.value),r.attributeEnchantment=null===p.attribute.attribute?null:this.slormancerItemService.getAttributeEnchantment(p.attribute.attribute,p.attribute.value);const s=[...(0,O.eAR)(this.character.gear),...r.legendaryEffect?[r.legendaryEffect]:[]],Z=this.slormancerItemService.getDefensiveStatMultiplier(s);this.slormancerItemService.updateEquipableItemModel(r,Z);const N=this.buildStorageService.getBuild();this.slormancerCharacterUpdaterService.updateCharacter(this.character,null!==N?N.configuration:O.g5j,!1,r),this.slormancerItemService.updateEquipableItemView(r,Z)}}sortAffixes(){this.form.controls.affixes.controls.sort((r,p)=>(0,O.rR7)(this.slormancerTranslationService.translate(r.controls.stat.value),this.slormancerTranslationService.translate(p.controls.stat.value)))}getAffixForm(){return new i.cw({pure:new i.NI(!1,{nonNullable:!0,validators:i.kI.required}),purity:new i.NI(0,{nonNullable:!0,validators:i.kI.required}),rarity:new i.NI(O.uqS.Normal,{nonNullable:!0,validators:i.kI.required}),stat:new i.NI("",{nonNullable:!0,validators:i.kI.required}),value:new i.NI(0,{nonNullable:!0,validators:i.kI.required})})}affixToForm(r){const p=this.getAffixForm();return p.reset({pure:r.isPure,purity:r.pure,rarity:r.rarity,stat:r.craftedEffect.effect.stat,value:r.craftedEffect.craftedValue}),p}hasBasicStats(){return this.form.controls.affixes.controls.filter(r=>this.isBasicStat(r)).length>0}hasMaximumBasicStats(){return this.form.controls.affixes.controls.filter(r=>this.isBasicStat(r)).length>=this.maxBasicStats}hasDefensiveStats(){return this.form.controls.affixes.controls.filter(r=>this.isDefensiveStat(r)).length>0}hasMaximumDefensiveStats(){return this.form.controls.affixes.controls.filter(r=>this.isDefensiveStat(r)).length>=O.nKF}hasMagicStats(){return this.form.controls.affixes.controls.filter(r=>this.isMagicStat(r)).length>0}hasMaximumMagicStats(){return this.form.controls.affixes.controls.filter(r=>this.isMagicStat(r)).length>=O.aHw}isBasicStat(r){return r.controls.rarity.value===O.uqS.Normal}isDefensiveStat(r){return r.controls.rarity.value===O.uqS.Defensive}isMagicStat(r){return r.controls.rarity.value===O.uqS.Magic}isRareStat(r){return r.controls.rarity.value===O.uqS.Rare}isEpicStat(r){return r.controls.rarity.value===O.uqS.Epic}hasRareStats(){return this.form.controls.affixes.controls.filter(r=>this.isRareStat(r)).length>0}hasMaximumRareStats(){return this.form.controls.affixes.controls.filter(r=>this.isRareStat(r)).length>=O.bm}hasEpicStats(){return this.form.controls.affixes.controls.filter(r=>this.isEpicStat(r)).length>0}hasMaximumEpicStats(){return this.form.controls.affixes.controls.filter(r=>this.isEpicStat(r)).length>=O.hcO}getAffix(r){return null===this.item?null:(0,O.lA$)(this.item.affixes[r])}removeAffix(r){this.form.controls.affixes.removeAt(this.form.controls.affixes.controls.indexOf(r)),this.updatePreview()}addAffix(r){const s=this.formOptionsService.getStatsOptions(this.item.base,r).filter(Z=>-1===this.alreadyUsedStats.indexOf(Z.value))[0];if(s){const Z=this.slormancerAffixService.getAffixFromStat(s.value,this.item.level,this.item.reinforcment,r,1e3);null!==Z&&(this.form.controls.affixes.push(this.affixToForm(Z)),this.updatePreview())}}isItemPossible(r){let Z=!0;if(!(r.controls.level.value>O.Sb7)){for(const N of r.controls.affixes.controls)if(!this.formOptionsService.getStatsOptions(this.item.base,N.controls.rarity.value).some(K=>K.value===N.controls.stat.value)){Z=!1;break}if(Z&&null!==r.controls.legendary.value&&null!==r.controls.legendary.value.id){const N=r.controls.legendary.value.id;this.formOptionsService.getLegendaryOptions(this.item.base,this.item.heroClass).some(K=>K.value===N)||(Z=!1)}}return Z}addBasicAffix(){this.addAffix(O.uqS.Normal)}addDefensiveAffix(){this.addAffix(O.uqS.Defensive)}addMagicAffix(){this.addAffix(O.uqS.Magic)}addRareAffix(){this.addAffix(O.uqS.Rare)}addEpicAffix(){this.addAffix(O.uqS.Epic)}}return d.\u0275fac=function(r){return new(r||d)(t.Y36(e.so),t.Y36(O.Pdp),t.Y36(O.SgH),t.Y36(O.lRX),t.Y36(O.ArO),t.Y36(O.n6D),t.Y36(b.K),t.Y36(_.x),t.Y36(e.WI))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-item-edit-modal"]],decls:1,vars:1,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"preview"],[3,"item","details"],[1,"form"],[1,"form-line"],["appearance","outline"],["matInput","","type","number","step","1","formControlName","level"],["matInput","","type","number","step","1","min","0","formControlName","reinforcment"],[1,"form-info"],[1,"label"],["class","add",4,"ngIf"],[4,"ngIf"],["class","form-info",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"base","itemLevel","itemReinforcment","heroClass","form"],[3,"form"],[3,"heroClass","form"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],["mat-flat-button","","type","button","color","primary",3,"click"],["mat-flat-button","","type","submit","color","primary",3,"disabled"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[3,"form","itemBase","itemLevel","itemReinforcment","alreadyUsedStats","removable","remove",4,"ngIf"],[3,"form","itemBase","itemLevel","itemReinforcment","alreadyUsedStats","removable","remove"]],template:function(r,p){1&r&&t.YNc(0,I,42,24,"form",0),2&r&&t.Q6J("ngIf",null!==p.form&&null!==p.item)},styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;gap:16px;flex-grow:1;overflow:auto}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]{flex-direction:column}}mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{max-width:370px}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{display:none;visibility:hidden}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;align-items:stretch;flex-grow:1}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:space-between;gap:16px}@media (max-width: 992px){mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 992px){mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]{align-items:stretch}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0}@media not all and (min-resolution: .001dpcm){@supports (-webkit-appearance: none){mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-line[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex-basis:auto}}}mat-dialog-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;min-height:40px}"]}),d})()},7803:(J,A,c)=>{c.d(A,{F:()=>y});var i=c(2419),e=c(5e3),O=c(9808),_=c(8003);function b(r,p){if(1&r&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&r){const s=e.oxw(2);e.xp6(1),e.Oqu(s.legendaryEffect.reaperName)}}function t(r,p){if(1&r&&(e.TgZ(0,"span",15),e._uU(1),e.qZA()),2&r){const s=e.oxw(2);e.xp6(1),e.hij(" ",s.legendaryEffect.activable.name,"")}}function a(r,p){if(1&r&&(e.TgZ(0,"div",16),e._UZ(1,"img",17),e.qZA()),2&r){const s=e.oxw(2);e.xp6(1),e.Q6J("src",s.legendaryEffect.skillIcon,e.LSH)}}function n(r,p){if(1&r&&e._UZ(0,"app-activable-view",18),2&r){const s=e.oxw(2);e.Q6J("activable",s.legendaryEffect.activable)("reinforcment",s.reinforcment)}}function g(r,p){if(1&r&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),e._UZ(6,"div",7),e.qZA(),e._uU(7),e.TgZ(8,"div",6),e._UZ(9,"div",7),e.qZA()(),e.YNc(10,b,2,1,"div",8),e.TgZ(11,"div",9),e._UZ(12,"span",10),e.YNc(13,t,2,1,"span",11),e.qZA(),e.YNc(14,a,2,1,"div",12),e.qZA()()(),e.YNc(15,n,1,2,"app-activable-view",13),e.qZA()),2&r){const s=e.oxw();e.xp6(7),e.hij(" ",s.legendaryEffect.title," "),e.xp6(3),e.Q6J("ngIf",null!==s.legendaryEffect),e.xp6(2),e.Q6J("innerHTML",s.legendaryEffect.description,e.oJD),e.xp6(1),e.Q6J("ngIf",null!==s.legendaryEffect.activable),e.xp6(1),e.Q6J("ngIf",null!==s.legendaryEffect.skillIcon),e.xp6(1),e.Q6J("ngIf",null!==s.legendaryEffect.activable&&null!==s.reinforcment)}}let u=(()=>{class r{constructor(){this.legendaryEffect=null,this.reinforcment=null}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-legendary-effect-view"]],inputs:{legendaryEffect:"legendaryEffect",reinforcment:"reinforcment"},decls:1,vars:1,consts:[["class","content",4,"ngIf"],[1,"content"],[1,"legendary-effect","outer-border"],[1,"border"],[1,"inner-border","legendary-description"],[1,"title"],[1,"bullet"],[1,"legendary"],["class","reaper-name",4,"ngIf"],[1,"description"],[3,"innerHTML"],["class","value",4,"ngIf"],["class","icon",4,"ngIf"],[3,"activable","reinforcment",4,"ngIf"],[1,"reaper-name"],[1,"value"],[1,"icon"],[3,"src"],[3,"activable","reinforcment"]],template:function(s,Z){1&s&&e.YNc(0,g,16,6,"div",0),2&s&&e.Q6J("ngIf",null!==Z.legendaryEffect)},dependencies:[O.O5,_.K],styles:[".legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#ce4607}.legendary-effect.outer-border[_ngcontent-%COMP%]{border:3px solid black}.legendary-effect.outer-border[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{border:2px solid rgb(46,44,37)}.legendary-effect.outer-border[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]{border:3px solid black}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;gap:15px}.legendary-description[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px 30px;gap:5px}.legendary-description[_ngcontent-%COMP%]  .legendary-effect .value, .legendary-description[_ngcontent-%COMP%]  .buff .value{color:#fff}.legendary-description[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:5px;color:#686868}.legendary-description[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:center}.legendary-description[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-top:5px;min-width:36px;min-height:36px;width:36px;height:36px;border:3px solid black;padding:2px;background-color:#2e2c25}.legendary-description[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}"]}),r})();const h=["main"];function o(r,p){1&r&&(e.TgZ(0,"div",21),e._uU(1,"Equipped"),e.qZA())}function f(r,p){if(1&r&&(e.TgZ(0,"div",22),e._uU(1),e.qZA()),2&r){const s=e.oxw(2);e.xp6(1),e.Oqu(s.item.graftLabel)}}function T(r,p){if(1&r&&(e.TgZ(0,"li")(1,"div",26),e._UZ(2,"div"),e.qZA(),e._UZ(3,"div",27)(4,"div",28),e.qZA()),2&r){const s=p.$implicit;e.Gre("marks-",s.pureMarks,""),e.ekj("pure",s.isPure),e.xp6(2),e.Tol(s.rarity),e.xp6(1),e.Q6J("innerHTML",s.valueLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",s.statLabel,e.oJD)}}function m(r,p){if(1&r&&(e.TgZ(0,"div",23)(1,"div",24),e._uU(2,"Base Stats:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,T,5,10,"li",25),e.qZA()()),2&r){const s=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",s.getNormalAffixes())}}function E(r,p){if(1&r&&(e.TgZ(0,"li")(1,"div",26),e._UZ(2,"div"),e.qZA(),e._UZ(3,"div",27)(4,"div",28),e.qZA()),2&r){const s=p.$implicit;e.Gre("marks-",s.pureMarks,""),e.ekj("pure",s.isPure),e.xp6(2),e.Tol(s.rarity),e.xp6(1),e.Q6J("innerHTML",s.valueLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",s.statLabel,e.oJD)}}function C(r,p){if(1&r&&(e.TgZ(0,"div",23)(1,"div",24),e._uU(2,"Defensive Stats:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,E,5,10,"li",25),e.qZA()()),2&r){const s=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",s.getDefensiveAffixes())}}function L(r,p){if(1&r&&(e.TgZ(0,"li")(1,"div",26),e._UZ(2,"div"),e.qZA(),e._UZ(3,"div",27)(4,"div",28),e.qZA()),2&r){const s=p.$implicit;e.Gre("marks-",s.pureMarks,""),e.ekj("pure",s.isPure),e.xp6(2),e.Tol(s.rarity),e.xp6(1),e.Q6J("innerHTML",s.valueLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",s.statLabel,e.oJD)}}function P(r,p){if(1&r&&(e.TgZ(0,"div",23)(1,"div",24),e._uU(2,"Magic Stats:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,L,5,10,"li",25),e.qZA()()),2&r){const s=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",s.getMagicAffixes())}}function w(r,p){if(1&r&&(e.TgZ(0,"li")(1,"div",26),e._UZ(2,"div"),e.qZA(),e._UZ(3,"div",27)(4,"div",28),e.qZA()),2&r){const s=p.$implicit;e.Gre("marks-",s.pureMarks,""),e.ekj("pure",s.isPure),e.xp6(2),e.Tol(s.rarity),e.xp6(1),e.Q6J("innerHTML",s.valueLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",s.statLabel,e.oJD)}}function U(r,p){if(1&r&&(e.TgZ(0,"div",23)(1,"div",24),e._uU(2,"Rare Stats:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,w,5,10,"li",25),e.qZA()()),2&r){const s=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",s.getRareAffixes())}}function D(r,p){if(1&r&&(e.TgZ(0,"li")(1,"div",26),e._UZ(2,"div"),e.qZA(),e._UZ(3,"div",27)(4,"div",28),e.qZA()),2&r){const s=p.$implicit;e.Gre("marks-",s.pureMarks,""),e.ekj("pure",s.isPure),e.xp6(2),e.Tol(s.rarity),e.xp6(1),e.Q6J("innerHTML",s.valueLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",s.statLabel,e.oJD)}}function V(r,p){if(1&r&&(e.TgZ(0,"div",23)(1,"div",24),e._uU(2,"Epic Stats:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,D,5,10,"li",25),e.qZA()()),2&r){const s=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",s.getEpicAffixes())}}function F(r,p){if(1&r&&e._UZ(0,"app-legendary-effect-view",29),2&r){const s=e.oxw(2);e.Q6J("legendaryEffect",s.item.legendaryEffect)("reinforcment",s.item.reinforcment)}}function Y(r,p){if(1&r&&e._UZ(0,"app-legendary-effect-view",29),2&r){const s=e.oxw(2);e.Q6J("legendaryEffect",s.item.legendaryEffect)("reinforcment",s.item.reinforcment)}}function q(r,p){if(1&r&&(e.TgZ(0,"div",30),e._UZ(1,"img",9)(2,"div",31),e.qZA()),2&r){const s=e.oxw(2);e.xp6(1),e.Q6J("src",s.item.reaperEnchantment.icon,e.LSH),e.xp6(1),e.Q6J("innerHTML",s.item.reaperEnchantment.label,e.oJD)}}function I(r,p){if(1&r&&(e.TgZ(0,"div",32),e._UZ(1,"img",9)(2,"div",31),e.qZA()),2&r){const s=e.oxw(2);e.xp6(1),e.Q6J("src",s.item.skillEnchantment.icon,e.LSH),e.xp6(1),e.Q6J("innerHTML",s.item.skillEnchantment.label,e.oJD)}}function R(r,p){if(1&r&&(e.TgZ(0,"div"),e._UZ(1,"img",9)(2,"div",31),e.qZA()),2&r){const s=e.oxw(2);e.Gre("buff attribute atr-",s.item.attributeEnchantment.craftedAttribute,""),e.xp6(1),e.Q6J("src",s.item.attributeEnchantment.icon,e.LSH),e.xp6(1),e.Q6J("innerHTML",s.item.attributeEnchantment.label,e.oJD)}}function d(r,p){if(1&r&&(e.TgZ(0,"div",null,1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.YNc(4,o,2,0,"div",4),e.TgZ(5,"div",5)(6,"div",6)(7,"div",7),e._UZ(8,"img",8)(9,"img",9),e.qZA(),e.TgZ(10,"div",10),e._uU(11),e.qZA(),e.TgZ(12,"div",11),e._uU(13,"-"),e.qZA(),e.TgZ(14,"div",12),e._uU(15),e.qZA(),e.TgZ(16,"div"),e._uU(17),e.qZA(),e.YNc(18,f,2,1,"div",13),e.qZA(),e._UZ(19,"div",14),e.TgZ(20,"div",15),e.YNc(21,m,5,1,"div",16),e.YNc(22,C,5,1,"div",16),e.YNc(23,P,5,1,"div",16),e.YNc(24,U,5,1,"div",16),e.YNc(25,V,5,1,"div",16),e.YNc(26,F,1,2,"app-legendary-effect-view",17),e.qZA()(),e.YNc(27,Y,1,2,"app-legendary-effect-view",17),e.YNc(28,q,3,2,"div",18),e.YNc(29,I,3,2,"div",19),e.YNc(30,R,3,5,"div",20),e.qZA()()),2&r){const s=e.oxw();e.Gre("item ",s.item.rarity,""),e.ekj("nodetails",!s.details),e.xp6(2),e.Q6J("innerHTML",s.item.name,e.oJD),e.xp6(2),e.Q6J("ngIf",s.equipped),e.xp6(4),e.Q6J("src",s.item.itemIconBackground,e.LSH),e.xp6(1),e.Q6J("src",s.item.icon,e.LSH),e.xp6(2),e.Oqu(s.item.rarityLabel),e.xp6(4),e.Oqu(s.item.baseLabel),e.xp6(2),e.Oqu(s.item.levelLabel),e.xp6(1),e.Q6J("ngIf",s.item.graftLabel),e.xp6(3),e.Q6J("ngIf",s.getNormalAffixes().length>0),e.xp6(1),e.Q6J("ngIf",s.getDefensiveAffixes().length>0),e.xp6(1),e.Q6J("ngIf",s.getMagicAffixes().length>0),e.xp6(1),e.Q6J("ngIf",s.getRareAffixes().length>0),e.xp6(1),e.Q6J("ngIf",s.getEpicAffixes().length>0),e.xp6(1),e.Q6J("ngIf",!s.hasAffixes()),e.xp6(1),e.Q6J("ngIf",s.hasAffixes()),e.xp6(1),e.Q6J("ngIf",null!==s.item.reaperEnchantment),e.xp6(1),e.Q6J("ngIf",null!==s.item.skillEnchantment),e.xp6(1),e.Q6J("ngIf",null!==s.item.attributeEnchantment)}}let y=(()=>{class r{constructor(){this.item=null,this.equipped=!1,this.details=!0,this.tooltip=!1,this.main=null}ngAfterViewChecked(){this.main&&this.tooltip&&(0,i.fpi)(this.main.nativeElement)}ngOnDestroy(){(0,i.VEx)()}getNormalAffixes(){return null===this.item?[]:this.item.affixes.filter(s=>s.rarity===i.uqS.Normal)}getDefensiveAffixes(){return null===this.item?[]:this.item.affixes.filter(s=>s.rarity===i.uqS.Defensive)}getMagicAffixes(){return null===this.item?[]:this.item.affixes.filter(s=>s.rarity===i.uqS.Magic)}getRareAffixes(){return null===this.item?[]:this.item.affixes.filter(s=>s.rarity===i.uqS.Rare)}getEpicAffixes(){return null===this.item?[]:this.item.affixes.filter(s=>s.rarity===i.uqS.Epic)}hasAffixes(){return null!==this.item&&this.item.affixes.length>0}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-item-view"]],viewQuery:function(s,Z){if(1&s&&e.Gf(h,5),2&s){let N;e.iGM(N=e.CRH())&&(Z.main=N.first)}},inputs:{item:"item",equipped:"equipped",details:"details",tooltip:"tooltip"},decls:1,vars:1,consts:[[3,"class","nodetails",4,"ngIf"],["main",""],[1,"head",3,"innerHTML"],[1,"content"],["class","equipped",4,"ngIf"],[1,"main"],[1,"info"],[1,"icon"],[1,"background",3,"src"],[3,"src"],[1,"rarity"],[1,"split"],[1,"base"],["class","graft",4,"ngIf"],[1,"separator"],[1,"stats"],["class","affixes",4,"ngIf"],[3,"legendaryEffect","reinforcment",4,"ngIf"],["class","buff reaper",4,"ngIf"],["class","buff skill",4,"ngIf"],[3,"class",4,"ngIf"],[1,"equipped"],[1,"graft"],[1,"affixes"],[1,"title"],[3,"pure","class",4,"ngFor","ngForOf"],[1,"bullet"],[1,"value",3,"innerHTML"],[1,"name",3,"innerHTML"],[3,"legendaryEffect","reinforcment"],[1,"buff","reaper"],[1,"info",3,"innerHTML"],[1,"buff","skill"]],template:function(s,Z){1&s&&e.YNc(0,d,31,23,"div",0),2&s&&e.Q6J("ngIf",null!==Z.item)},dependencies:[O.sg,O.O5,u],styles:['.item.normal[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .graft[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#898989}.item.magic[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .graft[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#2e8726}.item.rare[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .graft[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#176ab1}.item.epic[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .graft[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#c68d20}.item.legendary[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .graft[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#ce4607}.item.neither[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%], .item.neither[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item.neither[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%], .item.neither[_ngcontent-%COMP%]   .graft[_ngcontent-%COMP%], .item.neither[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item.neither[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.neither[_ngcontent-%COMP%]   .legendary-effect[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#772caa}.item.normal[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.normal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#59513c}.item.magic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.magic[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#61462d}.item.rare[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.rare[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#7791a1}.item.epic[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.epic[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#efc65c}.item.legendary[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.legendary[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#f5b250}.item.neither[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .item.neither[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-color:#772caa}.bullet[_ngcontent-%COMP%]{min-width:8px}.bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}.bullet[_ngcontent-%COMP%]   div.normal[_ngcontent-%COMP%], .bullet[_ngcontent-%COMP%]   div.defensive[_ngcontent-%COMP%]{background-color:#898989}.bullet[_ngcontent-%COMP%]   div.magic[_ngcontent-%COMP%]{background-color:#2e8726}.bullet[_ngcontent-%COMP%]   div.rare[_ngcontent-%COMP%]{background-color:#176ab1}.bullet[_ngcontent-%COMP%]   div.epic[_ngcontent-%COMP%]{background-color:#c68d20}.bullet[_ngcontent-%COMP%]   div.legendary[_ngcontent-%COMP%]{background-color:#ce4607}.item[_ngcontent-%COMP%]{background-color:#151412;color:#fff;border:2px solid black;min-width:350px}.item[_ngcontent-%COMP%]  .legendary-effect .value, .item[_ngcontent-%COMP%]  .buff .value{color:#fff}.item[_ngcontent-%COMP%]  .range, .item[_ngcontent-%COMP%]  .range .value, .item[_ngcontent-%COMP%]  .details, .item[_ngcontent-%COMP%]  .details .value, .item[_ngcontent-%COMP%]  .formula, .item[_ngcontent-%COMP%]  .formula .value, .item[_ngcontent-%COMP%]  .pure-info, .item[_ngcontent-%COMP%]  .pure-info .value{color:#686868}.item[_ngcontent-%COMP%]  .affixes .range, .item[_ngcontent-%COMP%]  .affixes .value, .item[_ngcontent-%COMP%]  .pure-info{word-break:keep-all;white-space:nowrap}.item.nodetails[_ngcontent-%COMP%]     .details, .item.nodetails[_ngcontent-%COMP%]     .formula{display:none}.item[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%], .item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{border:2px solid}.item[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%]{margin-bottom:2px;text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;padding:15px 10px;gap:15px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .equipped[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;text-transform:capitalize}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{min-width:80px;width:80px;display:flex;flex-direction:column;align-items:center}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{text-transform:capitalize;text-align:center}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{min-width:56px;min-height:56px;width:56px;height:56px;border:4px solid black;margin-bottom:10px;position:relative}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{background-color:#686868;min-width:2px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;gap:10px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#686868}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;list-style:disc inside;padding-left:0}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:flex;flex-direction:row;padding-left:5px;gap:5px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pure[_ngcontent-%COMP%]{color:#46e7b0;background:linear-gradient(90deg,rgba(70,231,176,.3) 0%,rgba(70,231,176,0) 100%)}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pure.marks-1[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:after{content:" !"}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pure.marks-2[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:after{content:" !!"}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pure.marks-3[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:after{content:" !!!"}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .affixes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex-grow:1}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-effect.outer-border[_ngcontent-%COMP%]{border:3px solid black}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-effect.outer-border[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{border:2px solid rgb(46,44,37)}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-effect.outer-border[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]{border:3px solid black}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px 30px;gap:5px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:5px;color:#686868}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:center}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-top:5px;min-width:36px;min-height:36px;width:36px;height:36px;border:3px solid black;padding:2px;background-color:#2e2c25}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .legendary-description[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff[_ngcontent-%COMP%]{border:3px solid rgb(59,56,49);padding:5px 36px;text-align:center;position:relative}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:-6px;top:50%;margin-top:-22px}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.reaper[_ngcontent-%COMP%]{color:#148e89}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.skill[_ngcontent-%COMP%]{color:#ce4607}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-0[_ngcontent-%COMP%]{color:#2f5996}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-1[_ngcontent-%COMP%]{color:#a83007}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-2[_ngcontent-%COMP%]{color:#79b549}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-3[_ngcontent-%COMP%]{color:#d0b545}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-4[_ngcontent-%COMP%]{color:#4bc1b2}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-5[_ngcontent-%COMP%]{color:#753098}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-6[_ngcontent-%COMP%]{color:#cd7028}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .buff.attribute.atr-7[_ngcontent-%COMP%]{color:#bf3c59}']}),r})()},9762:(J,A,c)=>{c.d(A,{b:()=>T});var i=c(2419),e=c(5e3),O=c(9808),_=c(8003);const b=["content"],t=["main"];function a(m,E){if(1&m&&e._UZ(0,"div",32),2&m){const C=e.oxw(2);e.Q6J("innerHTML",C.reaper.affinityLabel,e.oJD)}}function n(m,E){if(1&m&&e._UZ(0,"div",33),2&m){const C=e.oxw(2);e.Q6J("innerHTML",C.reaper.masteryLabel,e.oJD)}}function g(m,E){if(1&m&&(e.TgZ(0,"div",34)(1,"div",35)(2,"div",36),e._UZ(3,"div"),e.qZA(),e._uU(4),e.TgZ(5,"div",36),e._UZ(6,"div"),e.qZA()(),e._UZ(7,"div",26),e.qZA()),2&m){const C=e.oxw(2);e.xp6(4),e.Oqu(C.reaper.benedictionTitleLabel),e.xp6(3),e.Q6J("innerHTML",C.reaper.benediction,e.oJD)}}function u(m,E){if(1&m&&(e.TgZ(0,"div",37)(1,"div",35)(2,"div",36),e._UZ(3,"div"),e.qZA(),e._uU(4),e.TgZ(5,"div",36),e._UZ(6,"div"),e.qZA()(),e._UZ(7,"div",26),e.qZA()),2&m){const C=e.oxw(2);e.xp6(4),e.Oqu(C.reaper.maledictionTitleLabel),e.xp6(3),e.Q6J("innerHTML",C.reaper.malediction,e.oJD)}}function h(m,E){1&m&&e._UZ(0,"app-activable-view",40),2&m&&e.Q6J("activable",E.$implicit)}function o(m,E){if(1&m&&(e.TgZ(0,"div",38)(1,"div",35)(2,"div",36),e._UZ(3,"div"),e.qZA(),e._uU(4),e.TgZ(5,"div",36),e._UZ(6,"div"),e.qZA()(),e.YNc(7,h,1,1,"app-activable-view",39),e.qZA()),2&m){const C=e.oxw(2);e.xp6(4),e.Oqu(C.reaper.activablesTitleLabel),e.xp6(3),e.Q6J("ngForOf",C.reaper.activables)}}function f(m,E){if(1&m&&(e.TgZ(0,"div",1,2)(2,"div",3),e._uU(3),e.qZA(),e.TgZ(4,"div",4,5)(6,"div",6)(7,"div",7),e._UZ(8,"img",8),e.TgZ(9,"div",9),e._UZ(10,"div",10),e.qZA()(),e.TgZ(11,"div",11),e.YNc(12,a,1,1,"div",12),e.TgZ(13,"div",13)(14,"div",14),e._uU(15),e.qZA(),e._UZ(16,"div",15),e.qZA(),e.TgZ(17,"div",16)(18,"div",17),e._uU(19),e.qZA(),e._UZ(20,"div",18),e.YNc(21,n,1,1,"div",19),e.TgZ(22,"div",20),e._uU(23),e.qZA()(),e.TgZ(24,"div",21),e._UZ(25,"div",22),e.TgZ(26,"div",23),e._UZ(27,"span",24)(28,"span",25),e.qZA()()()(),e._UZ(29,"div",26),e.YNc(30,g,8,2,"div",27),e.YNc(31,u,8,2,"div",28),e.YNc(32,o,8,2,"div",29),e._UZ(33,"div",30)(34,"div",31),e.qZA()()),2&m){const C=e.oxw();e.Udp("max-height",C.maxHeight),e.ekj("mobile-view",C.tooltip),e.xp6(3),e.Oqu(C.reaper.name),e.xp6(5),e.ekj("primordial-effect",C.reaper.primordial),e.Q6J("src",C.reaper.icon,e.LSH),e.xp6(4),e.Q6J("ngIf",null!==C.reaper.affinityLabel),e.xp6(3),e.Oqu(C.reaper.type),e.xp6(1),e.Q6J("innerHTML",C.reaper.smithLabel,e.oJD),e.xp6(1),e.ekj("mastery",null!==C.reaper.masteryLabel),e.xp6(2),e.Oqu(C.reaper.damagesLabel),e.xp6(1),e.Q6J("innerHTML",C.reaper.damageTypeLabel,e.oJD),e.xp6(1),e.Q6J("ngIf",null!==C.reaper.masteryLabel),e.xp6(2),e.Oqu(C.reaper.maxDamagesLabel),e.xp6(2),e.Q6J("innerHTML",C.reaper.victimsLabel,e.oJD),e.xp6(2),e.Q6J("innerHTML",C.reaper.levelLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",C.reaper.bonusLevelLabel,e.oJD),e.xp6(1),e.Q6J("innerHTML",C.reaper.description,e.oJD),e.xp6(1),e.Q6J("ngIf",null!==C.reaper.benediction),e.xp6(1),e.Q6J("ngIf",null!==C.reaper.malediction),e.xp6(1),e.Q6J("ngIf",C.reaper.activables.length>0),e.xp6(2),e.Q6J("innerHTML",C.reaper.lore,e.oJD)}}let T=(()=>{class m{constructor(){this.reaper=null,this.maxHeight=null,this.tooltip=!1,this.content=null,this.main=null}ngAfterViewChecked(){this.main&&this.tooltip&&(0,i.fpi)(this.main.nativeElement)}ngOnDestroy(){(0,i.VEx)()}scroll(C){this.content&&(this.content.nativeElement.scrollTop+=C.deltaY)}}return m.\u0275fac=function(C){return new(C||m)},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-reaper-view"]],viewQuery:function(C,L){if(1&C&&(e.Gf(b,5),e.Gf(t,5)),2&C){let P;e.iGM(P=e.CRH())&&(L.content=P.first),e.iGM(P=e.CRH())&&(L.main=P.first)}},inputs:{reaper:"reaper",maxHeight:"maxHeight",tooltip:"tooltip"},decls:1,vars:1,consts:[["class","reaper",3,"maxHeight","mobile-view",4,"ngIf"],[1,"reaper"],["main",""],[1,"head"],[1,"content"],["content",""],[1,"info"],[1,"icon"],["loading","lazy",3,"src"],[1,"background-outer"],[1,"background"],[1,"summary"],["class","affinity",3,"innerHTML",4,"ngIf"],[1,"base"],[1,"type"],[1,"builder",3,"innerHTML"],[1,"damages"],[1,"current-damage"],[1,"type",3,"innerHTML"],["class","mastery-level",3,"innerHTML",4,"ngIf"],[1,"max-damage"],[1,"stats"],[1,"victim",3,"innerHTML"],[1,"level"],[1,"base",3,"innerHTML"],[1,"bonus",3,"innerHTML"],[1,"description",3,"innerHTML"],["class","benediction",4,"ngIf"],["class","malediction",4,"ngIf"],["class","activables",4,"ngIf"],[1,"separator"],[1,"lore",3,"innerHTML"],[1,"affinity",3,"innerHTML"],[1,"mastery-level",3,"innerHTML"],[1,"benediction"],[1,"title"],[1,"bullet"],[1,"malediction"],[1,"activables"],[3,"activable",4,"ngFor","ngForOf"],[3,"activable"]],template:function(C,L){1&C&&e.YNc(0,f,35,25,"div",0),2&C&&e.Q6J("ngIf",null!==L.reaper)},dependencies:[O.sg,O.O5,_.K],styles:['.reaper[_ngcontent-%COMP%]{background-color:#090909;color:#fff;border:2px solid black;width:350px;display:flex;flex-direction:column}@media (max-width: 768px){.reaper.mobile-view[_ngcontent-%COMP%]{position:fixed;top:5%;left:5%}}.reaper[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%], .reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{border:2px solid rgb(121,183,164)}.reaper[_ngcontent-%COMP%] > .head[_ngcontent-%COMP%]{margin-bottom:2px;text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{overflow-y:auto}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;padding:15px 10px;gap:15px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:130px;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:stretch}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .background-outer[_ngcontent-%COMP%]{border:3px solid rgb(59,56,49);flex-grow:1;display:flex;flex-direction:column}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .background-outer[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{border:3px solid rgb(18,16,14);background-color:#22201c;flex-grow:1;height:150px;width:85px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;margin-top:-12.5%;margin-left:-12.5%;image-rendering:pixelated;transform:scale(4)}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;flex-grow:1;text-align:left;gap:10px;font-size:16px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .affinity[_ngcontent-%COMP%]{width:32px;height:32px;position:absolute;top:0;right:4px;text-align:center;display:flex;flex-direction:row;align-items:center;justify-content:center}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .affinity[_ngcontent-%COMP%]:before{content:"";border:3px solid rgb(59,56,49);width:100%;height:100%;position:absolute;left:-3px;top:-3px;transform:rotate(45deg)}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{text-transform:uppercase}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .damages.mastery[_ngcontent-%COMP%]{color:#ce4607}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .damages[_ngcontent-%COMP%]   .current-damage[_ngcontent-%COMP%]{font-size:30px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .damages[_ngcontent-%COMP%]   .max-damage[_ngcontent-%COMP%]{color:#686868}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{font-size:20px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]{color:#148f8a}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{min-width:8px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:center}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]     .value{color:#148f8a}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]     .details{color:#686868}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#fff}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]{color:#148f8a}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#61f7b7}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]{color:#ff4722}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#d13001}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .malediction[_ngcontent-%COMP%]     .value, .reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .benediction[_ngcontent-%COMP%]     .value{color:#fff}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:5px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{background-color:#3b3831;margin:0 30px;height:4px}.reaper[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .lore[_ngcontent-%COMP%]{color:#b8b8b8;text-align:center}']}),m})()},4890:(J,A,c)=>{c.d(A,{G:()=>T});var i=c(2424),e=c(2419),O=c(2722),_=c(6446),b=c(4006),t=c(5e3),a=c(2349),n=c(9808),g=c(1314),u=c(7295);function h(m,E){if(1&m&&t._UZ(0,"img",8),2&m){const C=t.oxw(2);t.Q6J("src",C.rune.levelBorder,t.LSH)}}function o(m,E){if(1&m&&t._UZ(0,"app-rune-view",9),2&m){const C=t.oxw(2);t.Q6J("rune",C.rune)}}function f(m,E){if(1&m&&(t.ynx(0),t._UZ(1,"img",5),t.YNc(2,h,1,1,"img",6),t.YNc(3,o,1,1,"ng-template",7),t.BQk()),2&m){const C=t.oxw(),L=t.MAs(2);t.xp6(1),t.Gre("smith-",C.rune.reapersmith,""),t.ekj("aura",C.hasAura(C.rune)),t.Q6J("src",C.rune.runeIcon,t.LSH),t.xp6(1),t.Q6J("ngIf",C.showLevel),t.xp6(1),t.Q6J("cdkConnectedOverlayOpen",C.showOverlay)("cdkConnectedOverlayOrigin",L)}}let T=(()=>{class m extends _.B{constructor(C,L){super(),this.searchService=C,this.dialog=L,this.rune=null,this.showLevel=!0,this.selected=!1,this.showOverlay=!1,this.hiddenBySearch=!1,this.searchService.searchChanged.pipe((0,O.R)(this.unsubscribe)).subscribe(()=>this.updateSearch())}onOver(){this.showOverlay=!0}onLeave(){this.showOverlay=!1}ngOnChanges(){this.updateSearch()}updateSearch(){this.hiddenBySearch=null!==this.rune&&this.searchService.hasSearch()&&!this.searchService.runeMatchSearch(this.rune)}hasAura(C){return C.type===e.evb.Effect}showModalTooltip(C,L){let P=!1;return C.ctrlKey&&null!==L&&(P=!0,C.stopPropagation(),C.stopImmediatePropagation(),this.dialog.open(b.q,{data:{entity:{rune:L}}})),P}}return m.\u0275fac=function(C){return new(C||m)(t.Y36(i.o),t.Y36(a.uw))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-rune-slot"]],hostBindings:function(C,L){1&C&&t.NdJ("mouseenter",function(){return L.onOver()})("mouseleave",function(){return L.onLeave()})},inputs:{rune:"rune",showLevel:"showLevel",selected:"selected"},features:[t.qOj,t.TTD],decls:5,vars:5,consts:[[1,"rune",3,"click"],["cdkOverlayOrigin","",1,"overlay-position"],["trigger","cdkOverlayOrigin"],[1,"inner-slot"],[4,"ngIf"],[1,"rune-icon",3,"src"],["class","rune-level",3,"src",4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[1,"rune-level",3,"src"],[3,"rune"]],template:function(C,L){1&C&&(t.TgZ(0,"div",0),t.NdJ("click",function(w){return L.showModalTooltip(w,L.rune)}),t._UZ(1,"div",1,2)(3,"div",3),t.YNc(4,f,4,9,"ng-container",4),t.qZA()),2&C&&(t.ekj("selected",L.selected)("hidden-search",L.hiddenBySearch),t.xp6(4),t.Q6J("ngIf",null!==L.rune))},dependencies:[n.O5,g.pI,g.xu,u.g],styles:['.rune[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;width:48px;height:48px}.rune[_ngcontent-%COMP%]   .overlay-position[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0}.rune.hidden-search[_ngcontent-%COMP%]{opacity:.2}.rune[_ngcontent-%COMP%]:before{content:"";border:3px solid rgb(59,56,49);width:28px;height:28px;position:absolute;left:8px;top:8px;transform:rotate(45deg)}.rune.selected[_ngcontent-%COMP%]:before{border:3px solid rgb(206,70,7)}.rune[_ngcontent-%COMP%]   img.rune-icon[_ngcontent-%COMP%], .rune[_ngcontent-%COMP%]   img.rune-level[_ngcontent-%COMP%]{image-rendering:pixelated;position:absolute;pointer-events:none;transform:scale(4)}.rune[_ngcontent-%COMP%]   img.rune-icon.aura.smith-0[_ngcontent-%COMP%], .rune[_ngcontent-%COMP%]   img.rune-level.aura.smith-0[_ngcontent-%COMP%]{filter:drop-shadow(0 0 2px rgba(227,97,16,.5))}.rune[_ngcontent-%COMP%]   img.rune-icon.aura.smith-1[_ngcontent-%COMP%], .rune[_ngcontent-%COMP%]   img.rune-level.aura.smith-1[_ngcontent-%COMP%]{filter:drop-shadow(0 0 2px rgba(175,245,60,.5))}.rune[_ngcontent-%COMP%]   img.rune-icon.aura.smith-2[_ngcontent-%COMP%], .rune[_ngcontent-%COMP%]   img.rune-level.aura.smith-2[_ngcontent-%COMP%]{filter:drop-shadow(0 0 2px rgba(191,159,16,.5))}.rune[_ngcontent-%COMP%]   img.rune-icon.aura.smith-3[_ngcontent-%COMP%], .rune[_ngcontent-%COMP%]   img.rune-level.aura.smith-3[_ngcontent-%COMP%]{filter:drop-shadow(0 0 2px rgba(207,19,44,.5))}.rune[_ngcontent-%COMP%]   img.rune-icon.aura.smith-4[_ngcontent-%COMP%], .rune[_ngcontent-%COMP%]   img.rune-level.aura.smith-4[_ngcontent-%COMP%]{filter:drop-shadow(0 0 2px rgba(170,54,191,.5))}.rune[_ngcontent-%COMP%]   img.rune-icon.aura.smith-5[_ngcontent-%COMP%], .rune[_ngcontent-%COMP%]   img.rune-level.aura.smith-5[_ngcontent-%COMP%]{filter:drop-shadow(0 0 2px rgba(35,174,247,.5))}.rune[_ngcontent-%COMP%]   img.rune-icon.aura.smith-6[_ngcontent-%COMP%], .rune[_ngcontent-%COMP%]   img.rune-level.aura.smith-6[_ngcontent-%COMP%]{filter:drop-shadow(0 0 2px rgba(84,246,178,.4))}.rune[_ngcontent-%COMP%]   img.rune-icon[_ngcontent-%COMP%]{bottom:60%}.rune[_ngcontent-%COMP%]   img.rune-level[_ngcontent-%COMP%]{bottom:40%}app-rune-view[_ngcontent-%COMP%]{width:350px}']}),m})()},7295:(J,A,c)=>{c.d(A,{g:()=>b});var i=c(5e3);function e(t,a){if(1&t&&i._UZ(0,"div",18),2&t){const n=i.oxw(2);i.Q6J("innerHTML",n.rune.constraintLabel,i.oJD)}}function O(t,a){if(1&t&&i._UZ(0,"app-activable-view",19),2&t){const n=i.oxw(2);i.Q6J("activable",n.rune.activable)("reinforcment",n.rune.level)}}function _(t,a){if(1&t&&(i.TgZ(0,"div",1),i._UZ(1,"div",2),i.TgZ(2,"div",3)(3,"div",4)(4,"div",5),i._UZ(5,"app-rune-slot",6),i.qZA(),i.TgZ(6,"div",7),i._UZ(7,"div",8)(8,"div",9),i.YNc(9,e,1,1,"div",10),i.qZA(),i.TgZ(10,"div",11),i._UZ(11,"app-rune-slot",6),i.qZA()(),i._UZ(12,"div",12)(13,"div",13),i.YNc(14,O,1,2,"app-activable-view",14),i._UZ(15,"div",12)(16,"div",15),i.TgZ(17,"div",16),i._UZ(18,"img",17),i.qZA()()()),2&t){const n=i.oxw();i.xp6(1),i.Q6J("innerHTML",n.rune.name,i.oJD),i.xp6(4),i.Q6J("rune",n.rune),i.xp6(2),i.Q6J("innerHTML",n.rune.typeLabel,i.oJD),i.xp6(1),i.Q6J("innerHTML",n.rune.smithLabel,i.oJD),i.xp6(1),i.Q6J("ngIf",null!==n.rune.constraintLabel),i.xp6(2),i.Q6J("rune",n.rune),i.xp6(2),i.Q6J("innerHTML",n.rune.description,i.oJD),i.xp6(1),i.Q6J("ngIf",null!==n.rune.activable),i.xp6(2),i.Q6J("innerHTML",n.rune.flavor,i.oJD),i.xp6(2),i.Q6J("src",n.rune.levelIcon,i.LSH)}}let b=(()=>{class t{constructor(){this.rune=null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-rune-view"]],inputs:{rune:"rune"},decls:1,vars:1,consts:[["class","rune slormancer-tooltip",4,"ngIf"],[1,"rune","slormancer-tooltip"],[1,"head","inner-box",3,"innerHTML"],[1,"content","inner-box"],[1,"info"],[1,"icon","left"],[3,"rune"],[1,"main"],[1,"type",3,"innerHTML"],[1,"smith",3,"innerHTML"],["class","constraint",3,"innerHTML",4,"ngIf"],[1,"icon","right"],[1,"separator"],[1,"description",3,"innerHTML"],[3,"activable","reinforcment",4,"ngIf"],[1,"flavor",3,"innerHTML"],[1,"bottom-level"],[3,"src"],[1,"constraint",3,"innerHTML"],[3,"activable","reinforcment"]],template:function(n,g){1&n&&i.YNc(0,_,19,10,"div",0),2&n&&i.Q6J("ngIf",null!==g.rune)},styles:[".rune[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff}.rune[_ngcontent-%COMP%]   .inner-box[_ngcontent-%COMP%], .rune[_ngcontent-%COMP%]:before{border-color:primary-color(400)}.rune[_ngcontent-%COMP%]     .description .value{color:#ce4607}.rune[_ngcontent-%COMP%]     .description .range, .rune[_ngcontent-%COMP%]     .description .range .value, .rune[_ngcontent-%COMP%]     .description .details, .rune[_ngcontent-%COMP%]     .description .details .value, .rune[_ngcontent-%COMP%]     .description .formula, .rune[_ngcontent-%COMP%]     .description .formula .value, .rune[_ngcontent-%COMP%]     .description .pure-info, .rune[_ngcontent-%COMP%]     .description .pure-info .value{color:#686868}.rune[_ngcontent-%COMP%]     .description .affixes .range, .rune[_ngcontent-%COMP%]     .description .affixes .value, .rune[_ngcontent-%COMP%]     .description .pure-info{word-break:keep-all;white-space:nowrap}.rune[_ngcontent-%COMP%]     .power.value{color:#ce4607}.rune[_ngcontent-%COMP%]     .flavor .disabled{color:#ce4607}.rune[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{margin-bottom:2px;text-align:center;padding:10px 30px;text-transform:uppercase;font-size:17px}.rune[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}.rune[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between}.rune[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.rune[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{text-transform:uppercase}.rune[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .constraint[_ngcontent-%COMP%]{margin-top:4px}.rune[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .rune[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .flavor[_ngcontent-%COMP%]{text-align:center}.rune[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .flavor[_ngcontent-%COMP%]{color:#686868}"]}),t})()},461:(J,A,c)=>{c.d(A,{a:()=>E});var i=c(3075),e=c(2722),O=c(6446),_=c(5e3),b=c(9808),t=c(7322),a=c(7531),n=c(4102),g=c(508);function u(C,L){if(1&C&&(_.TgZ(0,"mat-label"),_._uU(1),_.qZA()),2&C){const P=_.oxw(2);_.xp6(1),_.Oqu(P.label)}}function h(C,L){if(1&C&&(_.TgZ(0,"mat-select-trigger"),_._uU(1),_.qZA()),2&C){const P=_.oxw(2);_.xp6(1),_.Oqu(P.trigger)}}function o(C,L){1&C&&(_.TgZ(0,"mat-option",9),_._uU(1," No results "),_.qZA())}function f(C,L){if(1&C&&(_.TgZ(0,"mat-option",10),_._UZ(1,"span",11),_.qZA()),2&C){const P=L.$implicit;_.ekj("filtered",P.filtered),_.Q6J("value",P.option.value)("disabled",P.filtered||P.disabled),_.xp6(1),_.Q6J("innerHTML",P.option.label,_.oJD)}}function T(C,L){if(1&C&&(_.TgZ(0,"mat-hint"),_._uU(1),_.qZA()),2&C){const P=_.oxw(2);_.xp6(1),_.Oqu(P.notFoundMessage)}}function m(C,L){if(1&C){const P=_.EpF();_.TgZ(0,"mat-form-field",1),_.YNc(1,u,2,1,"mat-label",2),_.TgZ(2,"mat-select",3),_.NdJ("openedChange",function(U){_.CHM(P);const D=_.MAs(6),V=_.oxw();return _.KtG(V.opened(U,D))}),_.YNc(3,h,2,1,"mat-select-trigger",2),_.TgZ(4,"mat-option",4)(5,"input",5,6),_.NdJ("keydown.space",function(U){_.CHM(P);const D=_.oxw();return _.KtG(D.handleSearchSpace(U))}),_.qZA()(),_.YNc(7,o,2,0,"mat-option",7),_.YNc(8,f,2,5,"mat-option",8),_.qZA(),_.YNc(9,T,2,1,"mat-hint",2),_.qZA()}if(2&C){const P=_.oxw();let w;_.ekj("no-error-padding",P.noErrorPadding),_.xp6(1),_.Q6J("ngIf",null!==P.label),_.xp6(1),_.Q6J("formControl",P.control)("placeholder",null!==(w=P.placeholder)&&void 0!==w?w:""),_.xp6(1),_.Q6J("ngIf",null!==P.trigger),_.xp6(2),_.Q6J("formControl",P.search),_.xp6(2),_.Q6J("ngIf",P.noResult),_.xp6(1),_.Q6J("ngForOf",P.filteredOptions)("ngForTrackBy",P.trackBy),_.xp6(1),_.Q6J("ngIf",null!==P.control.value&&!P.isStatInOptions(P.control.value)&&null!==P.notFoundMessage)}}let E=(()=>{class C extends O.B{constructor(){super(),this.label=null,this.placeholder=null,this.control=null,this.options=[],this.noErrorPadding=!1,this.disabledOptions=[],this.notFoundMessage=null,this.trigger=null,this.filteredOptions=[],this.search=new i.NI(""),this.noResult=!1,this.search.valueChanges.subscribe(()=>this.filter())}ngOnChanges(P){null!==this.control&&P.control&&this.control.valueChanges.pipe((0,e.R)(this.unsubscribe)).subscribe(()=>this.resetFilter()),this.filter()}opened(P,w){!1===P?this.resetFilter():w.focus()}resetFilter(){this.search.setValue("")}filter(){const P=this.search.value.toLowerCase().trim();this.filteredOptions=this.options.map(w=>({option:w,filtered:-1===w.label.toLowerCase().indexOf(P),disabled:this.disabledOptions.includes(w.value)})),this.noResult=!this.filteredOptions.some(w=>!w.filtered)}trackBy(P,w){return w.option.value}handleSearchSpace(P){P.stopPropagation()}isStatInOptions(P){return this.options.some(w=>w.value===P)}}return C.\u0275fac=function(P){return new(P||C)},C.\u0275cmp=_.Xpm({type:C,selectors:[["app-search-select"]],inputs:{label:"label",placeholder:"placeholder",control:"control",options:"options",noErrorPadding:"noErrorPadding",disabledOptions:"disabledOptions",notFoundMessage:"notFoundMessage",trigger:"trigger"},features:[_.qOj,_.TTD],decls:1,vars:1,consts:[["appearance","outline","color","primary",3,"no-error-padding",4,"ngIf"],["appearance","outline","color","primary"],[4,"ngIf"],["color","primary",3,"formControl","placeholder","openedChange"],["disabled","","role","search"],["matInput","","type","text","placeholder","Rechercher...",3,"formControl","keydown.space"],["searchInput",""],["role","no-result","disabled","",4,"ngIf"],[3,"value","disabled","filtered",4,"ngFor","ngForOf","ngForTrackBy"],["role","no-result","disabled",""],[3,"value","disabled"],[3,"innerHTML"]],template:function(P,w){1&P&&_.YNc(0,m,10,11,"mat-form-field",0),2&P&&_.Q6J("ngIf",null!==w.control&&w.options.length>0)},dependencies:[b.sg,b.O5,t.KE,t.bx,t.hX,a.Nt,n.gD,n.$L,g.ey,i.Fj,i.JJ,i.oH],styles:["[_nghost-%COMP%]{display:block}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]     .mat-select-placeholder{color:#d0d0d0}mat-form-field[_ngcontent-%COMP%]   mat-hint[_ngcontent-%COMP%]{color:#f44336}"]}),C})()},8849:(J,A,c)=>{c.d(A,{B:()=>t});var i=c(2419),e=c(5e3);function O(a,n){if(1&a&&e._UZ(0,"div",18),2&a){const g=e.oxw(2);e.Q6J("innerHTML",g.upgrade.genresLabel,e.oJD)}}function _(a,n){if(1&a&&e._UZ(0,"div",19),2&a){const g=e.oxw(2);e.Q6J("innerHTML",g.upgrade.costLabel,e.oJD)}}function b(a,n){if(1&a&&(e.TgZ(0,"div")(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),e._UZ(7,"div",6)(8,"img",7),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9),e._uU(11),e.qZA(),e.TgZ(12,"div",10),e._uU(13),e.qZA(),e.YNc(14,O,1,1,"div",11),e.TgZ(15,"div",12),e._uU(16),e.TgZ(17,"span",13),e._uU(18),e.qZA(),e._uU(19),e.qZA(),e.YNc(20,_,1,1,"div",14),e.qZA()(),e._UZ(21,"div",15)(22,"div",16)(23,"app-mechanics-view",17),e.qZA()()),2&a){const g=e.oxw();e.Gre("skill slormancer-tooltip ",g.upgrade.damageTypes.length>0?g.upgrade.damageTypes[0]:"",""),e.xp6(2),e.AsE("",g.getTypeLabel(g.upgrade.type),": ",g.upgrade.name,""),e.xp6(6),e.Q6J("src",g.upgrade.icon,e.LSH),e.xp6(3),e.AsE("",g.MASTERY_LABEL," ",g.upgrade.masteryRequired,""),e.xp6(2),e.Oqu(g.getTypeLabel(g.upgrade.type)),e.xp6(1),e.Q6J("ngIf",null!==g.upgrade.genresLabel),e.xp6(2),e.hij("",g.RANK_LABEL,": "),e.xp6(2),e.Oqu(g.upgrade.rank),e.xp6(1),e.hij("/",g.upgrade.maxRank,""),e.xp6(1),e.Q6J("ngIf",null!==g.upgrade.costLabel),e.xp6(2),e.Q6J("innerHTML",g.upgrade.description,e.oJD),e.xp6(1),e.Q6J("classMechanics",g.upgrade.relatedClassMechanics)("mechanics",g.upgrade.relatedMechanics)("buffs",g.upgrade.relatedBuffs)}}let t=(()=>{class a{constructor(g){this.slormancerTranslateService=g,this.upgrade=null,this.mouseOverElement=null,this.RANK_LABEL=this.slormancerTranslateService.translate("tt_rank"),this.MASTERY_LABEL=this.slormancerTranslateService.translate("tt_mastery")}getTypeLabel(g){return this.slormancerTranslateService.translate("tt_"+g)}showMechanicOverlay(g){this.mouseOverElement=g}hideMechanicOverlay(){this.mouseOverElement=null}}return a.\u0275fac=function(g){return new(g||a)(e.Y36(i.n6D))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-skill-upgrade-view"]],inputs:{upgrade:"upgrade"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head","inner-box"],[1,"content","inner-box"],[1,"info"],[1,"visual"],[1,"icon"],[1,"icon-border"],[3,"src"],[1,"data"],[1,"mastery"],[1,"type"],["class","genre",3,"innerHTML",4,"ngIf"],[1,"rank"],[1,"current"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"separator"],[1,"description",3,"innerHTML"],[3,"classMechanics","mechanics","buffs"],[1,"genre",3,"innerHTML"],[1,"cost",3,"innerHTML"]],template:function(g,u){1&g&&e.YNc(0,b,24,18,"div",0),2&g&&e.Q6J("ngIf",null!==u.upgrade)},styles:[".skill[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;max-width:400px}.skill[_ngcontent-%COMP%]   .inner-box[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]:before{border-color:primary-color(400)}.skill[_ngcontent-%COMP%]  .value, .skill[_ngcontent-%COMP%]  .rank .current, .skill[_ngcontent-%COMP%]  .head{color:#ce4607}.skill[_ngcontent-%COMP%]  .mag .value{color:#bb1fe2}.skill[_ngcontent-%COMP%]  .range, .skill[_ngcontent-%COMP%]  .range .value, .skill[_ngcontent-%COMP%]  .details, .skill[_ngcontent-%COMP%]  .details .value, .skill[_ngcontent-%COMP%]  .formula, .skill[_ngcontent-%COMP%]  .formula .value{color:#686868}.skill[_ngcontent-%COMP%]  .affixes .range, .skill[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.skill[_ngcontent-%COMP%]  .life{color:#257539}.skill[_ngcontent-%COMP%]  .value.mana{color:#3397dd}.skill.mag[_ngcontent-%COMP%]  .value, .skill.mag[_ngcontent-%COMP%]  .rank .current, .skill.mag[_ngcontent-%COMP%]  .head{color:#bb1fe2}.skill.mag[_ngcontent-%COMP%]  .value.mana, .skill.mag[_ngcontent-%COMP%]  .rank .current.mana, .skill.mag[_ngcontent-%COMP%]  .head.mana{color:#3397dd}.skill.mag[_ngcontent-%COMP%]  .value.life, .skill.mag[_ngcontent-%COMP%]  .rank .current.life, .skill.mag[_ngcontent-%COMP%]  .head.life{color:#257539}.skill[_ngcontent-%COMP%]   .head.head[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.head[_ngcontent-%COMP%]{text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;gap:20px;padding:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;gap:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{display:flex;align-items:center}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border:3px solid rgb(190,135,31);min-width:60px;min-height:60px;width:60px;height:60px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black;image-rendering:pixelated;width:54px;height:54px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-transform:uppercase;height:100%;flex-grow:1;padding:5px 0;gap:5px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#3155bc}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]{display:flex;flex-direction:row}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{min-width:8px;padding-right:8px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .next-rank[_ngcontent-%COMP%]   .rank-value[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;background-color:#ce4607;height:6px;width:6px;border:1px solid black;border-radius:6px;margin:auto}"]}),a})()},411:(J,A,c)=>{c.d(A,{O:()=>o});var i=c(5e3),e=c(9808),O=c(5245),_=c(7238);function b(f,T){if(1&f&&i._UZ(0,"div",16),2&f){const m=i.oxw(2);i.Q6J("innerHTML",m.skill.genresLabel,i.oJD)}}function t(f,T){if(1&f&&(i.TgZ(0,"mat-icon",20),i._uU(1,"info_outline"),i.qZA()),2&f){const m=i.oxw(3);i.Q6J("matTooltip",m.skill.cooldownDetailsLabel)}}function a(f,T){if(1&f&&(i.TgZ(0,"div",17),i._UZ(1,"span",18),i.YNc(2,t,2,1,"mat-icon",19),i.qZA()),2&f){const m=i.oxw(2);i.xp6(1),i.Q6J("innerHTML",m.skill.cooldownLabel,i.oJD),i.xp6(1),i.Q6J("ngIf",null!==m.skill.cooldownDetailsLabel)}}function n(f,T){if(1&f&&i._UZ(0,"div",21),2&f){const m=i.oxw(2);i.Q6J("innerHTML",m.skill.fastLabel,i.oJD)}}function g(f,T){if(1&f&&i._UZ(0,"div",22),2&f){const m=i.oxw(2);i.Q6J("innerHTML",m.skill.costLabel,i.oJD)}}function u(f,T){if(1&f&&(i.TgZ(0,"span",23),i._uU(1),i.qZA()),2&f){const m=i.oxw(2);i.xp6(1),i.hij(" + ",m.skill.bonusLevel,"")}}function h(f,T){if(1&f&&(i.TgZ(0,"div"),i._UZ(1,"div",1),i.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),i._UZ(6,"img",6),i.qZA()(),i.TgZ(7,"div",7),i.YNc(8,b,1,1,"div",8),i.YNc(9,a,3,2,"div",9),i.YNc(10,n,1,1,"div",10),i.YNc(11,g,1,1,"div",11),i.qZA()(),i._UZ(12,"div",12)(13,"div",13),i.TgZ(14,"div",14),i._UZ(15,"img",6),i.YNc(16,u,2,1,"span",15),i.qZA()()()),2&f){const m=i.oxw();i.Gre("skill slormancer-tooltip ",m.skill.damageTypes.length>0?m.skill.damageTypes[0]:"",""),i.xp6(1),i.Q6J("innerHTML",m.skill.nameLabel,i.oJD),i.xp6(5),i.Q6J("src","assets/img/icon/"+m.skill.icon+".png",i.LSH),i.xp6(2),i.Q6J("ngIf",null!==m.skill.genresLabel),i.xp6(1),i.Q6J("ngIf",null!==m.skill.cooldownLabel),i.xp6(1),i.Q6J("ngIf",null!==m.skill.fastLabel),i.xp6(1),i.Q6J("ngIf",null!==m.skill.costLabel),i.xp6(2),i.Q6J("innerHTML",m.skill.description,i.oJD),i.xp6(2),i.MGl("src","assets/img/icon/",m.skill.levelIcon,".png",i.LSH),i.xp6(1),i.Q6J("ngIf",m.skill.bonusLevel>0)}}let o=(()=>{class f{constructor(){this.skill=null}}return f.\u0275fac=function(m){return new(m||f)},f.\u0275cmp=i.Xpm({type:f,selectors:[["app-skill-view"]],inputs:{skill:"skill"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head","inner-box",3,"innerHTML"],[1,"content","inner-box"],[1,"info"],[1,"visual"],[1,"icon"],[3,"src"],[1,"data"],["class","genre",3,"innerHTML",4,"ngIf"],["class","cooldown",4,"ngIf"],["class","fast",3,"innerHTML",4,"ngIf"],["class","cost",3,"innerHTML",4,"ngIf"],[1,"separator"],[1,"description",3,"innerHTML"],[1,"bottom-level"],["class","bonus",4,"ngIf"],[1,"genre",3,"innerHTML"],[1,"cooldown"],[3,"innerHTML"],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],[1,"fast",3,"innerHTML"],[1,"cost",3,"innerHTML"],[1,"bonus"]],template:function(m,E){1&m&&i.YNc(0,h,17,12,"div",0),2&m&&i.Q6J("ngIf",null!==E.skill)},dependencies:[e.O5,O.Hw,_.gM],styles:[".skill[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;max-width:400px}.skill[_ngcontent-%COMP%]   .inner-box[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]:before{border-color:primary-color(400)}.skill[_ngcontent-%COMP%]  .value, .skill[_ngcontent-%COMP%]  .rank .current{color:#ce4607}.skill[_ngcontent-%COMP%]  .range, .skill[_ngcontent-%COMP%]  .range .value, .skill[_ngcontent-%COMP%]  .details, .skill[_ngcontent-%COMP%]  .details .value, .skill[_ngcontent-%COMP%]  .formula, .skill[_ngcontent-%COMP%]  .formula .value{color:#686868}.skill[_ngcontent-%COMP%]  .affixes .range, .skill[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.skill[_ngcontent-%COMP%]  .life{color:#257539}.skill[_ngcontent-%COMP%]  .mana{color:#3397dd}.skill.mag[_ngcontent-%COMP%]  .value, .skill.mag[_ngcontent-%COMP%]  .rank .current{color:#bb1fe2}.skill.mag[_ngcontent-%COMP%]  .value.mana, .skill.mag[_ngcontent-%COMP%]  .rank .current.mana{color:#3397dd}.skill.mag[_ngcontent-%COMP%]  .value.life, .skill.mag[_ngcontent-%COMP%]  .rank .current.life{color:#257539}.skill[_ngcontent-%COMP%]   .head.head[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.head[_ngcontent-%COMP%]{text-align:center;padding:10px 50px;text-transform:uppercase;font-size:17px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;gap:20px;padding:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;gap:10px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{display:flex;align-items:center}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border:3px solid rgb(190,135,31);min-width:60px;min-height:60px;width:60px;height:60px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid black;image-rendering:pixelated;width:54px;height:54px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;text-transform:uppercase;height:100%;padding:5px 0;gap:5px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:4px}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{color:#3155bc}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .cooldown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .cooldown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:14px;width:14px;font-size:14px;line-height:14px;display:inline}.skill[_ngcontent-%COMP%]   .head.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   .content.content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}"]}),f})()},3201:(J,A,c)=>{c.d(A,{M:()=>a});var i=c(5e3),e=c(9808);function O(n,g){if(1&n&&i._UZ(0,"div",9),2&n){const u=i.oxw(2);i.Q6J("innerHTML",u.trait.cumulativeStats,i.oJD)}}function _(n,g){if(1&n&&i._UZ(0,"div",9),2&n){const u=i.oxw(2);i.Q6J("innerHTML",u.trait.description,i.oJD)}}function b(n,g){if(1&n&&(i.ynx(0),i._UZ(1,"div",10)(2,"div",11),i.BQk()),2&n){const u=i.oxw(2);i.xp6(2),i.Q6J("innerHTML",u.trait.unlockLabel,i.oJD)}}function t(n,g){if(1&n&&(i.TgZ(0,"div")(1,"div",1)(2,"div",2),i._uU(3),i.qZA(),i.TgZ(4,"div",3)(5,"span",4),i._uU(6),i.qZA(),i._uU(7," - "),i.TgZ(8,"span",5),i._uU(9),i.qZA()()(),i.TgZ(10,"div",6),i.YNc(11,O,1,1,"div",7),i.YNc(12,_,1,1,"div",7),i.YNc(13,b,3,1,"ng-container",8),i.qZA()()),2&n){const u=i.oxw();i.Gre("trait attribute-",u.trait.attribute,""),i.xp6(3),i.Oqu(u.trait.attributeName),i.xp6(3),i.Oqu(u.trait.rankLabel),i.xp6(3),i.Oqu(u.trait.traitLevelLabel),i.xp6(2),i.Q6J("ngIf",null!==u.trait.cumulativeStats),i.xp6(1),i.Q6J("ngIf",null!==u.trait.description),i.xp6(1),i.Q6J("ngIf",null!==u.trait.unlockLabel)}}let a=(()=>{class n{constructor(){this.trait=null}}return n.\u0275fac=function(u){return new(u||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-trait-view"]],inputs:{trait:"trait"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"head"],[1,"attribute"],[1,"subtitle"],[1,"rank"],[1,"level"],[1,"content"],["class","description",3,"innerHTML",4,"ngIf"],[4,"ngIf"],[1,"description",3,"innerHTML"],[1,"separator"],[1,"unlock",3,"innerHTML"]],template:function(u,h){1&u&&i.YNc(0,t,14,9,"div",0),2&u&&i.Q6J("ngIf",null!==h.trait)},dependencies:[e.O5],styles:[".trait[_ngcontent-%COMP%]{background-color:#151412;border:3px solid black;color:#fff;display:flex;flex-direction:column;gap:5px;min-width:250px}.trait.attribute-0[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-0[_ngcontent-%COMP%]     .value{color:#2f5996}.trait.attribute-1[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-1[_ngcontent-%COMP%]     .value{color:#a83007}.trait.attribute-2[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-2[_ngcontent-%COMP%]     .value{color:#79b549}.trait.attribute-3[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-3[_ngcontent-%COMP%]     .value{color:#d0b545}.trait.attribute-4[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-4[_ngcontent-%COMP%]     .value{color:#4bc1b2}.trait.attribute-5[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-5[_ngcontent-%COMP%]     .value{color:#753098}.trait.attribute-6[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-6[_ngcontent-%COMP%]     .value{color:#cd7028}.trait.attribute-7[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]   .unlock[_ngcontent-%COMP%], .trait.attribute-7[_ngcontent-%COMP%]     .value{color:#bf3c59}.trait[_ngcontent-%COMP%]  .range, .trait[_ngcontent-%COMP%]  .range .value, .trait[_ngcontent-%COMP%]  .details, .trait[_ngcontent-%COMP%]  .details .value, .trait[_ngcontent-%COMP%]  .formula, .trait[_ngcontent-%COMP%]  .formula .value{color:#686868}.trait[_ngcontent-%COMP%]  .affixes .range, .trait[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:3px solid rgb(60,57,49)}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-transform:uppercase;padding:10px;gap:2px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .attribute[_ngcontent-%COMP%]{font-size:19px}.trait[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px 10px;gap:20px;text-align:center}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:5px;background-color:#3c3931;margin:0 45px}.trait[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:1}"]}),n})()},2380:(J,A,c)=>{c.d(A,{q:()=>_});var i=c(5e3),e=c(9808);function O(b,t){if(1&b&&(i.TgZ(0,"div",1)(1,"div",2),i._UZ(2,"div",3)(3,"div",4),i.qZA(),i.TgZ(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"div",9)(9,"div",10),i._UZ(10,"img",11),i.qZA()()()(),i.TgZ(11,"div",12)(12,"div",13)(13,"div",14),i._uU(14),i.qZA(),i._UZ(15,"div",15),i.qZA(),i.TgZ(16,"div",16)(17,"div",14),i._uU(18),i.qZA(),i._UZ(19,"div",15),i.qZA()()(),i.TgZ(20,"div",17),i._UZ(21,"img",11),i.qZA()()()),2&b){const a=i.oxw();i.xp6(2),i.Q6J("innerHTML",a.ultimatum.title,i.oJD),i.xp6(1),i.Q6J("innerHTML",a.ultimatum.levelLabel,i.oJD),i.xp6(7),i.MGl("src","assets/img/icon/",a.ultimatum.icon,".png",i.LSH),i.xp6(4),i.Oqu(a.ultimatum.bonusTitle),i.xp6(1),i.Q6J("innerHTML",a.ultimatum.bonusLabel,i.oJD),i.xp6(3),i.Oqu(a.ultimatum.malusTitle),i.xp6(1),i.Q6J("innerHTML",a.ultimatum.malusLabel,i.oJD),i.xp6(2),i.MGl("src","assets/img/icon/",a.ultimatum.levelIcon,".png",i.LSH)}}let _=(()=>{class b{constructor(){this.ultimatum=null}}return b.\u0275fac=function(a){return new(a||b)},b.\u0275cmp=i.Xpm({type:b,selectors:[["app-ultimatum-view"]],inputs:{ultimatum:"ultimatum"},decls:1,vars:1,consts:[["class","ultimatum slormancer-tooltip",4,"ngIf"],[1,"ultimatum","slormancer-tooltip"],[1,"head","inner-box"],[1,"title",3,"innerHTML"],[1,"level",3,"innerHTML"],[1,"content","inner-box"],[1,"data"],[1,"visual"],[1,"background"],[1,"inner-background"],[1,"ultimatum"],[3,"src"],[1,"info"],[1,"bonus"],[1,"title"],[3,"innerHTML"],[1,"malus"],[1,"bottom-level"]],template:function(a,n){1&a&&i.YNc(0,O,22,8,"div",0),2&a&&i.Q6J("ngIf",null!==n.ultimatum)},dependencies:[e.O5],styles:[".ultimatum[_ngcontent-%COMP%]{width:350px}.ultimatum[_ngcontent-%COMP%]  .value, .ultimatum[_ngcontent-%COMP%]  .rank .current{color:#ce4607}.ultimatum[_ngcontent-%COMP%]  .range, .ultimatum[_ngcontent-%COMP%]  .range .value, .ultimatum[_ngcontent-%COMP%]  .details, .ultimatum[_ngcontent-%COMP%]  .details .value, .ultimatum[_ngcontent-%COMP%]  .formula, .ultimatum[_ngcontent-%COMP%]  .formula .value{color:#686868}.ultimatum[_ngcontent-%COMP%]  .affixes .range, .ultimatum[_ngcontent-%COMP%]  .affixes .value{word-break:keep-all;white-space:nowrap}.ultimatum[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase}.ultimatum[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{font-size:80%}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{border:3px solid black;background-color:#3c3c3c;border-radius:10%;padding:3px;width:60px;height:70px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;border:3px solid black;background-color:#471712;border-radius:10%;width:100%;height:100%}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]{width:0;height:0}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .inner-background[_ngcontent-%COMP%]   .ultimatum[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:translate(-50%,-50%);width:72px;height:72px;image-rendering:pixelated}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.ultimatum[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:105%}"]}),b})()},4006:(J,A,c)=>{c.d(A,{q:()=>q});var i=c(2349),e=c(5e3),O=c(9808),_=c(7423),b=c(7803),t=c(9762),a=c(8003),n=c(411),g=c(8849),u=c(9065),h=c(3201),o=c(9246),f=c(2380),T=c(7295);function m(I,R){if(1&I&&e._UZ(0,"app-reaper-view",12),2&I){const d=e.oxw();e.Q6J("reaper",d.entity.reaper)("tooltip",d.tooltip)}}function E(I,R){if(1&I&&e._UZ(0,"app-attribute-summary-view",13),2&I){const d=e.oxw();e.Q6J("attributeTraits",d.entity.attribute)}}function C(I,R){if(1&I&&e._UZ(0,"app-item-view",14),2&I){const d=e.oxw();e.Q6J("item",d.entity.item)("details",d.details)}}function L(I,R){if(1&I&&e._UZ(0,"app-ancestral-legacy-view",15),2&I){const d=e.oxw();e.Q6J("ancestralLegacy",d.entity.ancestralLegacy)("hideNextRank",d.hideNextRank)}}function P(I,R){if(1&I&&e._UZ(0,"app-activable-view",16),2&I){const d=e.oxw();e.Q6J("activable",d.entity.activable)}}function w(I,R){if(1&I&&(e.TgZ(0,"div",17)(1,"div",18),e._UZ(2,"h3",19)(3,"p",19),e.qZA()()),2&I){const d=e.oxw();e.xp6(2),e.Q6J("innerHTML",d.entity.mechanic.name,e.oJD),e.xp6(1),e.Q6J("innerHTML",d.entity.mechanic.description,e.oJD)}}function U(I,R){if(1&I&&e._UZ(0,"app-rune-view",20),2&I){const d=e.oxw();e.Q6J("rune",d.entity.rune)}}function D(I,R){if(1&I&&e._UZ(0,"app-skill-view",21),2&I){const d=e.oxw();e.Q6J("skill",d.entity.skill)}}function V(I,R){if(1&I&&e._UZ(0,"app-trait-view",22),2&I){const d=e.oxw();e.Q6J("trait",d.entity.trait)}}function F(I,R){if(1&I&&e._UZ(0,"app-ultimatum-view",23),2&I){const d=e.oxw();e.Q6J("ultimatum",d.entity.ultimatum)}}function Y(I,R){if(1&I&&e._UZ(0,"app-skill-upgrade-view",24),2&I){const d=e.oxw();e.Q6J("upgrade",d.entity.upgrade)}}let q=(()=>{class I{constructor(d){var y,r,p;this.tooltip=!1,this.details=!1,this.hideNextRank=!1,this.entity=d.entity,this.tooltip=null!==(y=this.tooltip)&&void 0!==y&&y,this.details=null!==(r=this.details)&&void 0!==r&&r,this.hideNextRank=null!==(p=this.hideNextRank)&&void 0!==p&&p}isReaper(d){return"reaper"in d}isAttribute(d){return"attribute"in d}isItem(d){return"item"in d}isAncestralLegacy(d){return"ancestralLegacy"in d}isActivable(d){return"activable"in d}isMechanic(d){return"mechanic"in d}isRune(d){return"rune"in d}isSkill(d){return"skill"in d}isTrait(d){return"trait"in d}isUltimatum(d){return"ultimatum"in d}isUpgrade(d){return"upgrade"in d}}return I.\u0275fac=function(d){return new(d||I)(e.Y36(i.WI))},I.\u0275cmp=e.Xpm({type:I,selectors:[["app-view-modal"]],decls:15,vars:12,consts:[[3,"reaper","tooltip",4,"ngIf"],[3,"attributeTraits",4,"ngIf"],[3,"item","details",4,"ngIf"],[3,"ancestralLegacy","hideNextRank",4,"ngIf"],[3,"activable",4,"ngIf"],["class","slormancer-tooltip",4,"ngIf"],[3,"rune",4,"ngIf"],[3,"skill",4,"ngIf"],[3,"trait",4,"ngIf"],[3,"ultimatum",4,"ngIf"],[3,"upgrade",4,"ngIf"],["mat-flat-button","","type","button","color","primary",3,"mat-dialog-close"],[3,"reaper","tooltip"],[3,"attributeTraits"],[3,"item","details"],[3,"ancestralLegacy","hideNextRank"],[3,"activable"],[1,"slormancer-tooltip"],[1,"inner-box"],[3,"innerHTML"],[3,"rune"],[3,"skill"],[3,"trait"],[3,"ultimatum"],[3,"upgrade"]],template:function(d,y){1&d&&(e.TgZ(0,"mat-dialog-content"),e.YNc(1,m,1,2,"app-reaper-view",0),e.YNc(2,E,1,1,"app-attribute-summary-view",1),e.YNc(3,C,1,2,"app-item-view",2),e.YNc(4,L,1,2,"app-ancestral-legacy-view",3),e.YNc(5,P,1,1,"app-activable-view",4),e.YNc(6,w,4,2,"div",5),e.YNc(7,U,1,1,"app-rune-view",6),e.YNc(8,D,1,1,"app-skill-view",7),e.YNc(9,V,1,1,"app-trait-view",8),e.YNc(10,F,1,1,"app-ultimatum-view",9),e.YNc(11,Y,1,1,"app-skill-upgrade-view",10),e.qZA(),e.TgZ(12,"mat-dialog-actions")(13,"button",11),e._uU(14,"Close"),e.qZA()()),2&d&&(e.xp6(1),e.Q6J("ngIf",y.isReaper(y.entity)),e.xp6(1),e.Q6J("ngIf",y.isAttribute(y.entity)),e.xp6(1),e.Q6J("ngIf",y.isItem(y.entity)),e.xp6(1),e.Q6J("ngIf",y.isAncestralLegacy(y.entity)),e.xp6(1),e.Q6J("ngIf",y.isActivable(y.entity)),e.xp6(1),e.Q6J("ngIf",y.isMechanic(y.entity)),e.xp6(1),e.Q6J("ngIf",y.isRune(y.entity)),e.xp6(1),e.Q6J("ngIf",y.isSkill(y.entity)),e.xp6(1),e.Q6J("ngIf",y.isTrait(y.entity)),e.xp6(1),e.Q6J("ngIf",y.isUltimatum(y.entity)),e.xp6(1),e.Q6J("ngIf",y.isUpgrade(y.entity)),e.xp6(2),e.Q6J("mat-dialog-close",null))},dependencies:[O.O5,_.lW,i.ZT,i.xY,i.H8,b.F,t.b,a.K,n.O,g.B,u.q,h.M,o.P,f.q,T.g],styles:[".slormancer-tooltip[_ngcontent-%COMP%]{max-width:350px}.slormancer-tooltip[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:8px 0;font-weight:400;color:#ce4607}.slormancer-tooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0}.slormancer-tooltip[_ngcontent-%COMP%]     .value{color:#ce4607}app-item-view[_ngcontent-%COMP%]{display:block;width:350px}"]}),I})()},4296:(J,A,c)=>{c.d(A,{F1:()=>e,yF:()=>i});const i="https://github.com/cayrac/slorm-planner",e="http://www.slormitestudios.com"},311:(J,A,c)=>{c.d(A,{x:()=>g});var i=c(2419),e=c(1135),O=c(7579),_=c(8372),b=c(2340),t=c(5e3);let a=(()=>{class u{constructor(){this.CHANGES=[{version:"0.0.2",update:o=>{o.configuration.frostbolt_shot_recently=0,o.configuration.has_elemental_prowess_buff=!1,o.configuration.has_splash_splash_buff=!1,o.configuration.has_booster_max_buff=!1,o.version="0.0.2"}},{version:"0.0.4",update:o=>{o.configuration.use_enemy_state=!1,o.version="0.0.4"}},{version:"0.0.8",update:o=>{o.version="0.0.8";for(const f of o.layers)f.character.originalVersion=f.character.version,f.character.version=i.veS;o.configuration.has_electrify_buff=!1,o.configuration.elemental_spirit_stacks=0,o.configuration.is_channeling_focus=!1}},{version:"0.0.9",update:o=>{o.version="0.0.9";for(const f of o.layers)f.character.version=i.veS}},{version:"0.0.10",update:o=>{o.version="0.0.10"}},{version:"0.0.11",update:o=>{o.version="0.0.11",o.name="New build"}},{version:"0.0.12",update:o=>{o.version="0.0.12";for(const f of o.layers)f.character.importVersion=null}},{version:"0.1.0",update:o=>{o.version="0.1.0",void 0===o.configuration.concentration_buff&&(o.configuration.concentration_buff=!1),void 0===o.configuration.summoned_skeleton_squires&&(o.configuration.summoned_skeleton_squires=0),void 0===o.configuration.always_summon_maximum_skeleton_squires&&(o.configuration.always_summon_maximum_skeleton_squires=!1),void 0===o.configuration.minimum_unreserved_mana&&(o.configuration.minimum_unreserved_mana=0),void 0===o.configuration.fulgurorn_dedication_stacks&&(o.configuration.fulgurorn_dedication_stacks=0),void 0===o.configuration.enemy_inner_weakness_stacks&&(o.configuration.enemy_inner_weakness_stacks=0),void 0===o.configuration.add_totem_tag_to_prime_totem_skills&&(o.configuration.add_totem_tag_to_prime_totem_skills=!1),void 0===o.configuration.highest_slorm_temple_floor&&(o.configuration.highest_slorm_temple_floor=0),void 0===o.configuration.show_temple_keeper_as_totem&&(o.configuration.show_temple_keeper_as_totem=!1),void 0===o.configuration.ultima_momentum_buff&&(o.configuration.ultima_momentum_buff=!1),void 0===o.configuration.elder_slorms&&(o.configuration.elder_slorms=0),void 0===o.configuration.show_elder_inner_fire_damage&&(o.configuration.show_elder_inner_fire_damage=!1),void 0===o.configuration.exposed_armor_buff&&(o.configuration.exposed_armor_buff=!1),void 0===o.configuration.apex_predator_stacks&&(o.configuration.apex_predator_stacks=0),void 0===o.configuration.enemy_enfeeble_stacks&&(o.configuration.enemy_enfeeble_stacks=0),void 0===o.configuration.enfeeble_stacks_in_radius&&(o.configuration.enfeeble_stacks_in_radius=0),"all_characters_level"in o.configuration&&(o.configuration.all_characters_level=void 0,o.configuration.all_other_characters_level=100)}},{version:"0.1.1",update:o=>{o.version="0.1.1"}},{version:"0.1.2",update:o=>{o.version="0.1.2",void 0===o.configuration.chilled_enemy_nearby&&(o.configuration.chilled_enemy_nearby=i.g5j.chilled_enemy_nearby),void 0===o.configuration.in_combat&&(o.configuration.in_combat=i.g5j.in_combat)}},{version:"0.1.3",update:o=>{o.version="0.1.3"}},{version:"0.1.4",update:o=>{o.version="0.1.4"}},{version:"0.1.5",update:o=>{o.version="0.1.5"}},{version:"0.2.0",update:o=>{o.version="0.2.0";for(const f of o.layers)f.character.reaper.baseAffinity=i.DxO,f.character.reaper.bonusAffinity=0,f.character.runes={effect:null,enhancement:null,activation:null};void 0===o.configuration.is_rune_active&&(o.configuration.is_rune_active=!1),void 0===o.configuration.effect_rune_affinity&&(o.configuration.effect_rune_affinity=100),void 0===o.configuration.effective_rune_stacks&&(o.configuration.effective_rune_stacks=225)}},{version:"0.2.1",update:o=>{o.version="0.2.1"}},{version:"0.2.2",update:o=>{o.version="0.2.2"}},{version:"0.2.3",update:o=>{o.version="0.2.3"}},{version:"0.2.5",update:o=>{o.version="0.2.5"}},{version:"0.2.5.1",update:o=>{o.version="0.2.5.1"}},{version:"0.2.5.2",update:o=>{o.version="0.2.5.2"}},{version:"0.3.0",update:o=>{o.version="0.3.0",o.configuration.has_living_inferno_buff=!1,o.configuration.has_shadow_shield_buff=!1,o.configuration.has_shadow_bargain_buff=!1,o.configuration.has_flawless_defense_buff=!1,o.configuration.aurelon_bargain_stacks=0,o.configuration.cleansing_surge_stacks=0,o.configuration.overcharged_stacks=0,o.configuration.has_frostfire_buff=!1,o.configuration.target_is_burning=!1,100===o.configuration.all_other_characters_level&&(o.configuration.all_other_characters_level=140)}},{version:"0.3.1",update:o=>{o.version="0.3.1"}},{version:"0.4.0",update:o=>{o.version="0.4.0",o.configuration.has_ancestral_instability_buff=!1,o.configuration.ancestral_instability_buff_duration=0,o.configuration.target_negative_effects=0,o.configuration.efficiency_buff=!1,o.configuration.has_avatar_of_shadow_buff=!1,o.configuration.highest_same_type_reaper_level=100}},{version:"0.4.1",update:o=>{o.version="0.4.1"}},{version:"0.4.2",update:o=>{o.version="0.4.2"}},{version:"0.5.0",update:o=>{o.version="0.5.0",o.configuration.is_triggered_by_book_smash=!1;for(const f of o.layers)f.character.ancestralLegacies.activeFirstNode=null}},{version:"0.5.1",update:o=>{o.version="0.5.1"}},{version:"0.6.0",update:o=>{o.version="0.6.0",o.configuration.indirect_defense_stacks=0,o.configuration.other_characters_mastery_total=30,o.configuration.support_streak_stacks=0,o.configuration.victims_combo=0,o.configuration.enemy_horrified_stacks=0,o.configuration.bloodthirst_stacks=0,o.configuration.has_blood_frenzy_buff=!1,o.configuration.elemental_fury_stacks=0,o.configuration.fighter_bane_stacks=0,o.configuration.mage_bane_stacks=0,o.configuration.moonlight_stacks=0,o.configuration.sunlight_stacks=0,o.configuration.moonlight_side=!0,o.configuration.life_orbs_count=0,o.configuration.ancestral_wrath_stacks=0,o.configuration.is_curving_time_or_time_shifting=!1,o.configuration.ancestral_preparation_stacks=0,o.configuration.unity_level_0_47=0,o.configuration.unity_level_0_48=0,o.configuration.unity_level_0_49=0,o.configuration.unity_level_0_50=0,o.configuration.unity_level_0_51=0,o.configuration.unity_level_0_52=0,o.configuration.unity_level_1_47=0,o.configuration.unity_level_1_48=0,o.configuration.unity_level_1_49=0,o.configuration.unity_level_1_50=0,o.configuration.unity_level_1_51=0,o.configuration.unity_level_1_52=0,o.configuration.unity_level_2_47=0,o.configuration.unity_level_2_48=0,o.configuration.unity_level_2_49=0,o.configuration.unity_level_2_50=0,o.configuration.unity_level_2_51=0,o.configuration.unity_level_2_52=0,o.configuration.unity_level_0_47_p=0,o.configuration.unity_level_0_48_p=0,o.configuration.unity_level_0_49_p=0,o.configuration.unity_level_0_50_p=0,o.configuration.unity_level_0_51_p=0,o.configuration.unity_level_0_52_p=0,o.configuration.unity_level_1_47_p=0,o.configuration.unity_level_1_48_p=0,o.configuration.unity_level_1_49_p=0,o.configuration.unity_level_1_50_p=0,o.configuration.unity_level_1_51_p=0,o.configuration.unity_level_1_52_p=0,o.configuration.unity_level_2_47_p=0,o.configuration.unity_level_2_48_p=0,o.configuration.unity_level_2_49_p=0,o.configuration.unity_level_2_50_p=0,o.configuration.unity_level_2_51_p=0,o.configuration.unity_level_2_52_p=0,o.configuration.has_life_bargain_buff=!1,o.configuration.enemy_is_chill_or_frozen=!1,o.configuration.absorbed_damage_wrath=0,o.configuration.add_skeletons_to_controlled_minions=!1;for(const f of o.layers){const T=f.character.reaper.affinity;f.character.reaper.baseReaperAffinity=T,f.character.reaper.baseEffectAffinity=T}}},{version:"0.6.1",update:o=>{o.version="0.6.1"}},{version:"0.6.2",update:o=>{o.version="0.6.2"}},{version:"0.6.3",update:o=>{o.version="0.6.3";for(const f of o.layers)f.character.reaper.baseReaperAffinity=Number.isInteger(f.character.reaper.baseReaperAffinity)?f.character.reaper.baseReaperAffinity:100,f.character.reaper.baseEffectAffinity=Number.isInteger(f.character.reaper.baseEffectAffinity)?f.character.reaper.baseEffectAffinity:100}},{version:"0.6.4",update:o=>{o.version="0.6.4"}},{version:"0.7.0",update:o=>{o.version="0.7.0",o.configuration.ray_of_obliteration_power=o.configuration.ray_of_obliteration_grow_stacks,o.configuration.recent_delighted_arrow_shot=!1,o.configuration.unrelenting_stacks=0,delete o.configuration.unity_level_0_47_p,delete o.configuration.unity_level_0_48_p,delete o.configuration.unity_level_0_49_p,delete o.configuration.unity_level_0_50_p,delete o.configuration.unity_level_0_51_p,delete o.configuration.unity_level_0_52_p,delete o.configuration.unity_level_1_47_p,delete o.configuration.unity_level_1_48_p,delete o.configuration.unity_level_1_49_p,delete o.configuration.unity_level_1_50_p,delete o.configuration.unity_level_1_51_p,delete o.configuration.unity_level_1_52_p,delete o.configuration.unity_level_2_47_p,delete o.configuration.unity_level_2_48_p,delete o.configuration.unity_level_2_49_p,delete o.configuration.unity_level_2_50_p,delete o.configuration.unity_level_2_51_p,delete o.configuration.unity_level_2_52_p;for(const f of o.layers)for(;f.character.sharedInventory.length<i.Sgi;)f.character.sharedInventory.push((0,i.pb)(i.Mq7).map(()=>null))}},{version:"0.8.0",update:o=>{o.version="0.8.0",o.configuration.has_extreme_confidence_buff=!1,o.configuration.life_mana_stored=0,o.configuration.apply_indirect_increased_damage=!1,o.configuration.skill_retention_stacks=0,o.configuration.elemental_retention_stacks=0,o.configuration.transference_stacks=0,o.configuration.reaper_owned=0,o.configuration.victims_114_others=0}},{version:"0.8.1",update:o=>{o.version="0.8.1"}},{version:"0.8.2",update:o=>{o.version="0.8.2"}}]}updateToLatestVersion(o){void 0===o.version&&(o.version="0.0.1",o.configuration=i.g5j);for(let f of this.CHANGES)(0,i.n4)(f.version,o.version)>0&&f.update(o)}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();var n=c(3390);let g=(()=>{class u{constructor(o,f,T){this.jsonConverterService=o,this.buildRetrocompatibilityService=f,this.slormancerCharacterUpdaterService=T,this.MAX_LAYERS=10,this.BUILDS_STORAGE_KEY="builds",this.CURRENT_BUILD_STORAGE_KEY="current-build",this.CURRENT_LAYER_STORAGE_KEY="current-layer",this.builds=[],this.build=null,this.layer=null,this.buildChanged=new e.X(null),this.layerChanged=new e.X(null),this.saveTrigger=new O.x,this.reload(),this.oldFormatTransition(),this.saveTrigger.pipe((0,_.b)(500)).subscribe(()=>this.saveToStorage())}getCurrentLayerIndex(){const o=localStorage.getItem(this.CURRENT_LAYER_STORAGE_KEY),f=null===o?0:parseInt(o,10);return Number.isNaN(f)?0:f}oldFormatTransition(){const o="slorm-planner-build",f=localStorage.getItem(o);if(null!==f&&0===this.builds.length){const T=this.jsonConverterService.jsonToBuild(JSON.parse(f));this.addBuild(T),localStorage.removeItem(o),this.saveToStorage()}}reload(){this.builds=[],this.build=null,this.layer=null;try{const o=localStorage.getItem(this.BUILDS_STORAGE_KEY),f=localStorage.getItem(this.CURRENT_BUILD_STORAGE_KEY),T=this.getCurrentLayerIndex();if(null!==o&&(this.builds=JSON.parse(o)),null!==f){const m=localStorage.getItem(f);null!==m&&(this.build=this.jsonConverterService.jsonToBuild(JSON.parse(m)),this.buildRetrocompatibilityService.updateToLatestVersion(this.build))}if(null!==this.build){let m=(0,i.BeF)(this.build.layers[T],this.build.layers[0]);void 0!==m&&(this.layer=m);for(const E of this.build.layers)this.slormancerCharacterUpdaterService.updateCharacter(E.character,this.build.configuration)}}catch(o){console.error("Failed to reload build : ",o)}this.buildChanged.next(this.build),this.layerChanged.next(this.layer)}saveToStorage(){localStorage.setItem(this.BUILDS_STORAGE_KEY,JSON.stringify(this.builds));const o=localStorage.getItem(this.CURRENT_BUILD_STORAGE_KEY);if(null!==o&&null!==this.build){localStorage.setItem(o,JSON.stringify(this.jsonConverterService.buildToJson(this.build)));let f=0;null!==this.layer&&(f=this.build.layers.indexOf(this.layer)),localStorage.setItem(this.CURRENT_LAYER_STORAGE_KEY,f<0?"0":f.toString())}}saveBuild(o=!1){if(null!==this.build){for(const T of this.build.layers)this.slormancerCharacterUpdaterService.updateCharacter(T.character,this.build.configuration);const f=this.getBuildPreview();if(null!==f&&(f.name=this.build.name),null!==this.build){let T=this.getCurrentLayerIndex();const m=null===this.layer?-1:this.build.layers.indexOf(this.layer);T=-1!==m?m:Math.min(T,this.build.layers.length-1),this.layer=(0,i.lA$)(this.build.layers[T])}o?this.saveToStorage():this.saveTrigger.next(),this.buildChanged.next(this.build),this.layerChanged.next(this.layer)}}saveLayer(){null!==this.build&&null!==this.layer&&(this.slormancerCharacterUpdaterService.updateCharacter(this.layer.character,this.build.configuration),this.saveTrigger.next())}loadBuild(o){localStorage.setItem(this.CURRENT_BUILD_STORAGE_KEY,o.storageKey),localStorage.setItem(this.CURRENT_LAYER_STORAGE_KEY,"0"),this.reload()}deleteBuild(){const o=localStorage.getItem(this.CURRENT_BUILD_STORAGE_KEY);if(null!==o){const f=this.builds.findIndex(T=>T.storageKey===o);if(-1!==f){this.builds.splice(f,1),localStorage.removeItem(o),localStorage.removeItem(this.CURRENT_BUILD_STORAGE_KEY),this.saveToStorage();const T=Math.min(f,this.builds.length-1),m=this.builds[T];m?this.loadBuild(m):this.reload()}}}loadLayer(o){null!==this.build&&-1!==this.build.layers.indexOf(o)&&(this.layer=o,this.saveBuild())}addBuild(o){null!==o&&this.buildRetrocompatibilityService.updateToLatestVersion(o);const f={heroClass:o.heroClass,name:o.name,storageKey:"build-"+(new Date).getTime(),version:b.N.version};this.builds.push(f),this.build=o,this.layer=(0,i.BeF)(o.layers[0],null),localStorage.setItem(this.CURRENT_BUILD_STORAGE_KEY,f.storageKey),this.saveBuild(!0)}getBuilds(){return this.builds}getBuild(){return this.build}getBuildPreview(){const o=localStorage.getItem(this.CURRENT_BUILD_STORAGE_KEY);return(0,i.lA$)(this.builds.find(f=>f.storageKey===o))}getLayer(){return this.layer}hasRoomForAnotherLayer(o=null){return null===this.build||this.build.layers.length<this.MAX_LAYERS&&(null===o||this.build.heroClass===o.heroClass)}}return u.\u0275fac=function(o){return new(o||u)(t.LFG(n.D),t.LFG(a),t.LFG(i.Pdp))},u.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},2763:(J,A,c)=>{c.d(A,{Y:()=>O});var i=c(655),e=c(5e3);let O=(()=>{class _{constructor(){}copyToClipboard(t){let a=null;try{return a=document.createElement("textarea"),a.style.position="fixed",a.style.left="0",a.style.top="0",a.style.opacity="0",a.value=t,document.body.appendChild(a),a.focus(),a.select(),document.execCommand("copy"),document.body.removeChild(a),!0}catch(n){null!==a&&document.body.contains(a)&&document.body.removeChild(a)}return!1}copyImageToClipboard(t){try{return navigator.clipboard.write([new ClipboardItem({"image/png":t})]),!0}catch(a){}return!1}getClipboardText(){return(0,i.mG)(this,void 0,void 0,function*(){let t=null;if(navigator.clipboard)try{t=yield navigator.clipboard.readText()}catch(a){}return t})}canCopyImage(){return"undefined"!=typeof ClipboardItem}}return _.\u0275fac=function(t){return new(t||_)},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},1671:(J,A,c)=>{c.d(A,{K:()=>O});var i=c(2419),e=c(5e3);let O=(()=>{class _{constructor(t,a,n){this.slormancerDataService=t,this.slormancerTranslateService=a,this.slormancerReaperService=n,this.DEFENSIVE_STATS=["reduced_damage_from_all_percent","reduced_damage_from_area_percent","reduced_damage_from_melee_percent","reduced_damage_from_projectile_percent","reduced_damage_on_elite_percent","res_phy_add","res_phy_percent","res_mag_add","res_mag_percent","dodge_add","dodge_percent","the_max_health_add","the_max_health_percent","tenacity_percent"],this.STATS_LABELS={},this.STATS_OPTIONS_CACHE={},this.LEGENDARY_OPTIONS_CACHE={},this.ALL_LEGENDARY_OPTIONS_CACHE={0:[],1:[],2:[]},this.ALL_STATS_OPTIONS_CACHE=[],this.ALL_RARITIES_OPTIONS_CACHE=[],this.ALL_REAPER_BUFF_OPTIONS_CACHE=[],this.ALL_SKILL_BUFF_OPTIONS_CACHE={0:[],1:[],2:[]},this.ALL_ATTRIBUTE_BUFF_OPTIONS_CACHE=[],this.ALL_REAPER_OPTIONS_CACHE={p:{0:[],1:[],2:[]},b:{0:[],1:[],2:[]}},this.ULTIMATUM_OPTIONS_CACHE=[],this.initRarityOptionsCache(),this.initStatOptionsCache(),this.initLegendaryOptionsCache(),this.initReaperBuffOptions(),this.initSkillBuffOptions(),this.initAttributeBuffOptions(),this.initReaperOptions(),this.initUltimatumOptions()}getReaperOptions(t,a){return this.ALL_REAPER_OPTIONS_CACHE[a?"p":"b"][t]}getAllStatsOptions(){return this.ALL_STATS_OPTIONS_CACHE}getAllRaritiesOptions(){return this.ALL_RARITIES_OPTIONS_CACHE}getStatsOptions(t,a){let n=this.ALL_STATS_OPTIONS_CACHE;const g=this.getBaseKey(t),u=this.STATS_OPTIONS_CACHE[g];return u&&(a===i.uqS.Normal?n=(0,i.BeF)(u.P,[]):a===i.uqS.Magic||a===i.uqS.Rare?n=(0,i.BeF)(u.S,[]):a===i.uqS.Epic?n=(0,i.BeF)(u.E,[]):a===i.uqS.Defensive&&(n=(0,i.BeF)(u.D,[]))),n}getLegendaryOptions(t,a){let n=[];const g=this.LEGENDARY_OPTIONS_CACHE[t];return g&&(n=g[a]),n}getAllLegendaryOptions(t){return this.ALL_LEGENDARY_OPTIONS_CACHE[t]}getReaperBuffOptions(){return this.ALL_REAPER_BUFF_OPTIONS_CACHE}getSkillBuffOptions(t){return this.ALL_SKILL_BUFF_OPTIONS_CACHE[t]}getAttributeBuffOptions(){return this.ALL_ATTRIBUTE_BUFF_OPTIONS_CACHE}getUltimatumOptions(){return this.ULTIMATUM_OPTIONS_CACHE}getStatsLabels(){return this.STATS_LABELS}getBaseKey(t){return t===i.JNB.Body?"ARMOR":t.toUpperCase()}initRarityOptionsCache(){this.ALL_RARITIES_OPTIONS_CACHE=i.nte.map(t=>({label:this.slormancerTranslateService.translate("RAR_loot_"+t),value:t}))}initStatOptionsCache(){const t=this.slormancerDataService.getGameDataStats().filter(a=>"X"!==a.PERCENT);this.STATS_OPTIONS_CACHE={},this.ALL_STATS_OPTIONS_CACHE=[];for(const a of t){const n=this.slormancerTranslateService.translate(a.REF)+("%"===a.PERCENT?" (%)":""),g={label:n,value:a.REF};this.STATS_LABELS[a.REF]=n,this.ALL_STATS_OPTIONS_CACHE.push(g);for(const u of i.liR){const h=this.getBaseKey(u),o=a[h];if(""!==o){let f=this.STATS_OPTIONS_CACHE[h];void 0===f&&(f={P:[],S:[],E:[],D:[]},this.STATS_OPTIONS_CACHE[h]=f),"P"===o&&(f.P.push(g),f.S.push(g),this.DEFENSIVE_STATS.includes(a.REF)&&f.D.push(g)),"S"===o&&(f.S.push(g),f.E.push(g),this.DEFENSIVE_STATS.includes(a.REF)&&f.D.push(g)),"E"===o&&f.E.push(g)}}}for(const a of i.liR){const n=this.getBaseKey(a),g=this.STATS_OPTIONS_CACHE[n];g&&(g.P.sort((u,h)=>(0,i.rR7)(u.label,h.label)),g.S.sort((u,h)=>(0,i.rR7)(u.label,h.label)),g.E.sort((u,h)=>(0,i.rR7)(u.label,h.label)))}this.ALL_STATS_OPTIONS_CACHE.sort((a,n)=>(0,i.rR7)(a.label,n.label))}initLegendaryOptionsCache(){const t=this.slormancerDataService.getGameDataLegendaries().filter(a=>a.LOOTABLE);this.LEGENDARY_OPTIONS_CACHE={};for(const a of t){const n={value:a.REF,label:a.EN_NAME};let g=this.LEGENDARY_OPTIONS_CACHE[a.ITEM];void 0===g&&(g={0:[],1:[],2:[]},this.LEGENDARY_OPTIONS_CACHE[a.ITEM]=g),-1===a.HERO||99===a.HERO||999===a.HERO?(g[0].push(n),this.ALL_LEGENDARY_OPTIONS_CACHE[0].push(n),g[1].push(n),this.ALL_LEGENDARY_OPTIONS_CACHE[1].push(n),g[2].push(n),this.ALL_LEGENDARY_OPTIONS_CACHE[2].push(n)):(g[a.HERO].push(n),this.ALL_LEGENDARY_OPTIONS_CACHE[a.HERO].push(n))}}initReaperBuffOptions(){this.ALL_REAPER_BUFF_OPTIONS_CACHE=i.cIS.filter(t=>t!==i.Q1_.OhmAgad&&t!==i.Q1_.ReapersmithBrotherhood).map(t=>({value:t,label:this.slormancerTranslateService.translate("weapon_reapersmith_"+t)}))}initSkillBuffOptions(){this.ALL_SKILL_BUFF_OPTIONS_CACHE={[i.iHO.Warrior]:this.slormancerDataService.getGameDataActiveSkills(i.iHO.Warrior).map(t=>({value:t.REF,label:t.EN_NAME})),[i.iHO.Huntress]:this.slormancerDataService.getGameDataActiveSkills(i.iHO.Huntress).map(t=>({value:t.REF,label:t.EN_NAME})),[i.iHO.Mage]:this.slormancerDataService.getGameDataActiveSkills(i.iHO.Mage).map(t=>({value:t.REF,label:t.EN_NAME}))}}initAttributeBuffOptions(){this.ALL_ATTRIBUTE_BUFF_OPTIONS_CACHE=i.AFD.map(t=>({value:t,label:this.slormancerTranslateService.translate("character_trait_"+t)}))}initReaperOptions(){this.ALL_REAPER_OPTIONS_CACHE={p:{0:[],1:[],2:[]},b:{0:[],1:[],2:[]}};const t=this.slormancerDataService.getGameDataAvailableReaper();for(const a of t)this.ALL_REAPER_OPTIONS_CACHE.p[i.iHO.Warrior].push({value:a.REF,label:this.slormancerReaperService.getReaperName(a.EN_NAME,!0,i.iHO.Warrior)}),this.ALL_REAPER_OPTIONS_CACHE.p[i.iHO.Huntress].push({value:a.REF,label:this.slormancerReaperService.getReaperName(a.EN_NAME,!0,i.iHO.Huntress)}),this.ALL_REAPER_OPTIONS_CACHE.p[i.iHO.Mage].push({value:a.REF,label:this.slormancerReaperService.getReaperName(a.EN_NAME,!0,i.iHO.Mage)}),this.ALL_REAPER_OPTIONS_CACHE.b[i.iHO.Warrior].push({value:a.REF,label:this.slormancerReaperService.getReaperName(a.EN_NAME,!1,i.iHO.Warrior)}),this.ALL_REAPER_OPTIONS_CACHE.b[i.iHO.Huntress].push({value:a.REF,label:this.slormancerReaperService.getReaperName(a.EN_NAME,!1,i.iHO.Huntress)}),this.ALL_REAPER_OPTIONS_CACHE.b[i.iHO.Mage].push({value:a.REF,label:this.slormancerReaperService.getReaperName(a.EN_NAME,!1,i.iHO.Mage)})}initUltimatumOptions(){this.ULTIMATUM_OPTIONS_CACHE=i.N_V.map(t=>({value:t,label:this.slormancerTranslateService.translate("ultimatum_"+t)}))}}return _.\u0275fac=function(t){return new(t||_)(e.LFG(i.ogB),e.LFG(i.n6D),e.LFG(i.IxD))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},3390:(J,A,c)=>{c.d(A,{D:()=>O});var i=c(2419),e=c(5e3);let O=(()=>{class _{constructor(t,a,n,g,u,h,o,f){this.slormancerDataService=t,this.slormancerCharacterBuilderService=a,this.slormancerItemService=n,this.slormancerLegendaryService=g,this.slormancerAffixService=u,this.slormancerReaperService=h,this.slormancerRunesService=o,this.slormancerUltimatumService=f,this.RARITY_MAPPING=[{rarity:i.uqS.Normal,mapping:0},{rarity:i.uqS.Magic,mapping:1},{rarity:i.uqS.Rare,mapping:2},{rarity:i.uqS.Epic,mapping:3},{rarity:i.uqS.Legendary,mapping:4},{rarity:i.uqS.Defensive,mapping:5}],this.STAT_MAPPING={},this.REVERSE_STAT_MAPPING={};for(const T of t.getGameDataStats())this.STAT_MAPPING[T.REF_NB]=T.REF,this.REVERSE_STAT_MAPPING[T.REF]=T.REF_NB}rarityToNumber(t){const a=this.RARITY_MAPPING.find(n=>n.rarity===t);return a?a.mapping:0}numberToRarity(t){const a=this.RARITY_MAPPING.find(n=>n.mapping===t);return a?a.rarity:i.uqS.Normal}itemToJson(t,a){return null===t?null:{base:a?t.base:null,level:t.level,reinforcment:t.reinforcment,grafts:t.grafts,affixes:t.affixes.map(n=>({rarity:this.rarityToNumber(n.rarity),pure:100===n.pure?0:n.pure,stat:(0,i.BeF)(this.REVERSE_STAT_MAPPING[n.craftedEffect.effect.stat],0),craftedValue:n.craftedEffect.craftedValue})),legendaryEffect:null===t.legendaryEffect?null:{craftedValue:t.legendaryEffect.value,id:t.legendaryEffect.id},reaperEnchantment:null===t.reaperEnchantment?null:{craftedValue:t.reaperEnchantment.craftedValue,reaperSmith:t.reaperEnchantment.craftedReaperSmith},skillEnchantment:null===t.skillEnchantment?null:{craftedValue:t.skillEnchantment.craftedValue,skill:t.skillEnchantment.craftedSkill},attributeEnchantment:null===t.attributeEnchantment?null:{craftedValue:t.attributeEnchantment.craftedValue,attribute:t.attributeEnchantment.craftedAttribute}}}ancestralLegacyToJson(t){return{id:t.id,rank:t.baseRank}}reaperToJson(t){return{id:t.id,level:t.baseLevel,affinity:t.baseReaperAffinity,effectAffinity:t.baseEffectAffinity,kills:t.baseKills,primordialKills:t.primordialKills,primordial:t.primordial?1:0,mastery:t.masteryLevel}}runesToJson(t){return{activationId:null===t.activation?null:t.activation.id,activationLevel:null===t.activation?0:t.activation.level,effectId:null===t.effect?null:t.effect.id,effectLevel:null===t.effect?0:t.effect.level,enhancementId:null===t.enhancement?null:t.enhancement.id,enhancementLevel:null===t.enhancement?0:t.enhancement.level}}jsonToRunes(t,a,n){let g={activation:null,effect:null,enhancement:null};return void 0!==t&&(null!==t.activationId&&(g.activation=this.slormancerRunesService.getRuneById(t.activationId,a,t.activationLevel,n)),null!==t.effectId&&(g.effect=this.slormancerRunesService.getRuneById(t.effectId,a,t.effectLevel,n)),null!==t.enhancementId&&(g.enhancement=this.slormancerRunesService.getRuneById(t.enhancementId,a,t.enhancementLevel,n))),g}ultimatumToJson(t){let a=null;return null!==t&&(a={level:t.baseLevel,type:t.type}),a}skillToJson(t,a=!1){return{id:t.skill.id,rank:t.skill.baseLevel,upgrades:t.upgrades.map(n=>({id:n.id,rank:n.baseRank,selected:-1!==t.selectedUpgrades.indexOf(n.id)?1:0})).filter(n=>!a||n.selected)}}getActivableId(t){let a=null;return null!==t&&(a="isActivable"in t?t.id:200+t.id),a}characterToJson(t){return{type:"c",level:t.level,version:t.version,originalVersion:t.originalVersion,heroClass:t.heroClass,gear:{helm:this.itemToJson(t.gear.helm,!1),body:this.itemToJson(t.gear.body,!1),shoulder:this.itemToJson(t.gear.shoulder,!1),bracer:this.itemToJson(t.gear.bracer,!1),glove:this.itemToJson(t.gear.glove,!1),boot:this.itemToJson(t.gear.boot,!1),ring_l:this.itemToJson(t.gear.ring_l,!1),ring_r:this.itemToJson(t.gear.ring_r,!1),amulet:this.itemToJson(t.gear.amulet,!1),belt:this.itemToJson(t.gear.belt,!1),cape:this.itemToJson(t.gear.cape,!1)},inventory:t.inventory.map(a=>this.itemToJson(a,!0)),sharedInventory:t.sharedInventory.map(a=>a.map(n=>this.itemToJson(n,!0))),ultimatum:this.ultimatumToJson(t.ultimatum),ancestralLegacies:{ancestralLegacies:t.ancestralLegacies.ancestralLegacies.map(a=>this.ancestralLegacyToJson(a)),nodes:t.ancestralLegacies.activeNodes,firstNode:t.ancestralLegacies.activeFirstNode},reaper:this.reaperToJson(t.reaper),runes:this.runesToJson(t.runes),skills:t.skills.map(a=>this.skillToJson(a)),attributes:{[i.ahi.Toughness]:t.attributes.allocated[i.ahi.Toughness].baseRank,[i.ahi.Savagery]:t.attributes.allocated[i.ahi.Savagery].baseRank,[i.ahi.Fury]:t.attributes.allocated[i.ahi.Fury].baseRank,[i.ahi.Determination]:t.attributes.allocated[i.ahi.Determination].baseRank,[i.ahi.Zeal]:t.attributes.allocated[i.ahi.Zeal].baseRank,[i.ahi.Willpower]:t.attributes.allocated[i.ahi.Willpower].baseRank,[i.ahi.Dexterity]:t.attributes.allocated[i.ahi.Dexterity].baseRank,[i.ahi.Bravery]:t.attributes.allocated[i.ahi.Bravery].baseRank},support:null===t.supportSkill?null:t.supportSkill.id,primary:null===t.primarySkill?null:t.primarySkill.id,secondary:null===t.secondarySkill?null:t.secondarySkill.id,activable1:this.getActivableId(t.activable1),activable2:this.getActivableId(t.activable2),activable3:this.getActivableId(t.activable3),activable4:this.getActivableId(t.activable4)}}characterToMinimalJson(t){return{type:"c",level:t.level,version:t.version,originalVersion:t.originalVersion,heroClass:t.heroClass,gear:{helm:this.itemToJson(t.gear.helm,!1),body:this.itemToJson(t.gear.body,!1),shoulder:this.itemToJson(t.gear.shoulder,!1),bracer:this.itemToJson(t.gear.bracer,!1),glove:this.itemToJson(t.gear.glove,!1),boot:this.itemToJson(t.gear.boot,!1),ring_l:this.itemToJson(t.gear.ring_l,!1),ring_r:this.itemToJson(t.gear.ring_r,!1),amulet:this.itemToJson(t.gear.amulet,!1),belt:this.itemToJson(t.gear.belt,!1),cape:this.itemToJson(t.gear.cape,!1)},inventory:null,sharedInventory:null,ultimatum:this.ultimatumToJson(t.ultimatum),ancestralLegacies:{ancestralLegacies:t.ancestralLegacies.ancestralLegacies.filter(a=>-1!==t.ancestralLegacies.activeAncestralLegacies.indexOf(a.id)).map(a=>this.ancestralLegacyToJson(a)),nodes:t.ancestralLegacies.activeNodes,firstNode:t.ancestralLegacies.activeFirstNode},reaper:this.reaperToJson(t.reaper),runes:this.runesToJson(t.runes),skills:t.skills.filter(a=>a.skill===t.supportSkill||a.skill===t.primarySkill||a.skill===t.secondarySkill).map(a=>this.skillToJson(a,!0)),attributes:{[i.ahi.Toughness]:t.attributes.allocated[i.ahi.Toughness].baseRank,[i.ahi.Savagery]:t.attributes.allocated[i.ahi.Savagery].baseRank,[i.ahi.Fury]:t.attributes.allocated[i.ahi.Fury].baseRank,[i.ahi.Determination]:t.attributes.allocated[i.ahi.Determination].baseRank,[i.ahi.Zeal]:t.attributes.allocated[i.ahi.Zeal].baseRank,[i.ahi.Willpower]:t.attributes.allocated[i.ahi.Willpower].baseRank,[i.ahi.Dexterity]:t.attributes.allocated[i.ahi.Dexterity].baseRank,[i.ahi.Bravery]:t.attributes.allocated[i.ahi.Bravery].baseRank},support:null===t.supportSkill?null:t.supportSkill.id,primary:null===t.primarySkill?null:t.primarySkill.id,secondary:null===t.secondarySkill?null:t.secondarySkill.id,activable1:this.getActivableId(t.activable1),activable2:this.getActivableId(t.activable2),activable3:this.getActivableId(t.activable3),activable4:this.getActivableId(t.activable4)}}layerToJson(t){return{type:"l",character:this.characterToJson(t.character),name:t.name}}buildToJson(t){return{type:"p",version:t.version,heroClass:t.heroClass,name:t.name,layers:t.layers.map(a=>this.layerToJson(a)),configuration:Object.assign({},t.configuration)}}jsonToItem(t,a,n=null){let g=null;if(null!==t){const u=t.affixes.map(E=>this.slormancerAffixService.getAffixFromStat(this.STAT_MAPPING[E.stat],t.level,t.reinforcment,this.numberToRarity(E.rarity),E.craftedValue,E.pure)).filter(i.BXh);let h=n;null===h&&(h=null===t.base?i.JNB.Amulet:t.base);let o=null===t.legendaryEffect?null:this.slormancerLegendaryService.getLegendaryEffectById(t.legendaryEffect.id,t.legendaryEffect.craftedValue,t.reinforcment,a),f=null===t.reaperEnchantment?null:this.slormancerItemService.getReaperEnchantment(t.reaperEnchantment.reaperSmith,t.reaperEnchantment.craftedValue),T=null===t.skillEnchantment?null:this.slormancerItemService.getSkillEnchantment(t.skillEnchantment.skill,t.skillEnchantment.craftedValue),m=null===t.attributeEnchantment?null:this.slormancerItemService.getAttributeEnchantment(t.attributeEnchantment.attribute,t.attributeEnchantment.craftedValue);g=this.slormancerItemService.getEquipableItem(h,a,t.level,u,t.reinforcment,t.grafts,o,f,T,m,0)}return g}normalizeJsonCharacter(t){if("0.2.152"===t.version&&(t.originalVersion=t.version,t.ultimatum=null),(0,i.n4)(t.version,"0.2.0")<0&&(t.reaper.affinity=i.DxO),(0,i.n4)(t.version,"0.5.0")<0&&(t.ancestralLegacies.firstNode=null),(0,i.n4)(t.version,"0.7.0")<0&&(t.reaper.mastery=0),(0,i.n4)(t.version,"0.7.0")<=0){const a=[t.gear.amulet,t.gear.belt,t.gear.body,t.gear.boot,t.gear.bracer,t.gear.cape,t.gear.glove,t.gear.helm,t.gear.ring_l,t.gear.ring_r,t.gear.shoulder,...null===t.inventory?[]:t.inventory,...null===t.sharedInventory?[]:t.sharedInventory.flat()].filter(i.BXh);for(const n of a)n.grafts=0}}jsonToCharacter(t){this.normalizeJsonCharacter(t);const a=this.slormancerReaperService.getReaperById(t.reaper.id,t.heroClass,1===t.reaper.primordial,t.reaper.level,0,t.reaper.kills,t.reaper.primordialKills,t.reaper.affinity,t.reaper.effectAffinity,0,t.reaper.mastery),n={helm:this.jsonToItem(t.gear.helm,t.heroClass,i.JNB.Helm),body:this.jsonToItem(t.gear.body,t.heroClass,i.JNB.Body),shoulder:this.jsonToItem(t.gear.shoulder,t.heroClass,i.JNB.Shoulder),bracer:this.jsonToItem(t.gear.bracer,t.heroClass,i.JNB.Bracer),glove:this.jsonToItem(t.gear.glove,t.heroClass,i.JNB.Glove),boot:this.jsonToItem(t.gear.boot,t.heroClass,i.JNB.Boot),ring_l:this.jsonToItem(t.gear.ring_l,t.heroClass,i.JNB.Ring),ring_r:this.jsonToItem(t.gear.ring_r,t.heroClass,i.JNB.Ring),amulet:this.jsonToItem(t.gear.amulet,t.heroClass,i.JNB.Amulet),belt:this.jsonToItem(t.gear.belt,t.heroClass,i.JNB.Belt),cape:this.jsonToItem(t.gear.cape,t.heroClass,i.JNB.Cape)},g=(0,i.jdz)(n),u=null===t.ultimatum?null:this.slormancerUltimatumService.getUltimatum(t.ultimatum.type,t.ultimatum.level,g),h=this.slormancerDataService.getGameDataAncestralLegacyIds().map((m,E)=>t.ancestralLegacies.ancestralLegacies.find(C=>C.id===E)).map(m=>m?m.rank:0),o=this.slormancerDataService.getGameDataSkills(t.heroClass).map((m,E)=>{let C=0;const L=t.skills.find(P=>P.id===E);if(L)C=(0,i.NMM)(L.rank);else{const P=t.skills.map(w=>w.upgrades).flat().find(w=>w.id===E);P&&(C=P.rank)}return C}),f=this.slormancerDataService.getGameDataSkills(t.heroClass).map((m,E)=>{const C=t.skills.map(L=>L.upgrades).flat().find(L=>L.id===E);return C?C.selected:0});return this.slormancerCharacterBuilderService.getCharacter(t.heroClass,t.level,t.version,t.originalVersion,null,a,this.jsonToRunes(t.runes,t.heroClass,null===a?null:a.id),u,t.ancestralLegacies.nodes,t.ancestralLegacies.firstNode,h,f,o,n.helm,n.body,n.shoulder,n.bracer,n.glove,n.boot,n.ring_l,n.ring_r,n.amulet,n.belt,n.cape,null===t.inventory?null:t.inventory.map(m=>this.jsonToItem(m,t.heroClass,null)),null===t.sharedInventory?null:t.sharedInventory.map(m=>m.map(E=>this.jsonToItem(E,t.heroClass,null))),t.attributes[i.ahi.Toughness],t.attributes[i.ahi.Savagery],t.attributes[i.ahi.Fury],t.attributes[i.ahi.Determination],t.attributes[i.ahi.Zeal],t.attributes[i.ahi.Willpower],t.attributes[i.ahi.Dexterity],t.attributes[i.ahi.Bravery],t.primary,t.secondary,t.support,t.activable1,t.activable2,t.activable3,t.activable4)}jsonToLayer(t){return{name:t.name,character:this.jsonToCharacter(t.character)}}jsonToBuild(t){return{version:t.version,heroClass:t.heroClass,name:t.name?t.name:"Default name",layers:t.layers.map(a=>this.jsonToLayer(a)),configuration:Object.assign({},t.configuration)}}jsonToSharedData(t){return{character:"c"===t.type?this.jsonToCharacter(t):null,configuration:null,layer:"l"===t.type?this.jsonToLayer(t):null,planner:"p"===t.type?this.jsonToBuild(t):null}}}return _.\u0275fac=function(t){return new(t||_)(e.LFG(i.ogB),e.LFG(i.oYj),e.LFG(i.SgH),e.LFG(i.ArO),e.LFG(i.lRX),e.LFG(i.IxD),e.LFG(i._VP),e.LFG(i.hrN))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},8223:(J,A,c)=>{c.d(A,{e:()=>n});var i=c(7261),e=c(5e3),O=c(9808),_=c(7423),b=c(5245);function t(g,u){if(1&g){const h=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){e.CHM(h);const f=e.oxw();return e.KtG(f.actionClick())}),e._uU(1),e.qZA()}if(2&g){const h=e.oxw();e.xp6(1),e.Oqu(h.action)}}let a=(()=>{class g{constructor(h,o){this.data=h,this.snackBarRef=o,this.message=h.message,this.action=h.action,this.actionCallback=h.actionCallback}close(){this.snackBarRef.dismiss()}actionClick(){null!==this.actionCallback&&this.actionCallback(),this.close()}}return g.\u0275fac=function(h){return new(h||g)(e.Y36(i.qD),e.Y36(i.OX))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-snackbar"]],decls:6,vars:2,consts:[[1,"content"],["src","assets/img/icon/message/success.png",1,"mc-ripped"],[1,"message",3,"innerHTML"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],[3,"click"],["mat-flat-button","","color","primary",3,"click"]],template:function(h,o){1&h&&(e.TgZ(0,"div",0),e._UZ(1,"img",1)(2,"div",2),e.YNc(3,t,2,1,"button",3),e.TgZ(4,"mat-icon",4),e.NdJ("click",function(){return o.close()}),e._uU(5,"close"),e.qZA()()),2&h&&(e.xp6(2),e.Q6J("innerHTML",o.message,e.oJD),e.xp6(1),e.Q6J("ngIf",null!==o.action&&null!==o.actionCallback))},dependencies:[O.O5,_.lW,b.Hw],styles:[".content[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:row;align-items:center;gap:16px}.content[_ngcontent-%COMP%]   .mc-ripped[_ngcontent-%COMP%]{height:30px;image-rendering:pixelated;animation:float 2s ease-in-out infinite}.content[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;flex-grow:1}.content[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]     img{height:32px;image-rendering:pixelated;margin:0 4px}.content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer}@keyframes float{0%{transform:translatey(2px)}50%{transform:translatey(-2px)}to{transform:translatey(2px)}}"]}),g})(),n=(()=>{class g{constructor(h){this.snackBar=h,this.DEFAULT_DURATION=5e3,this.ACTION_DURATION=2e4,this.currentSnackBar=null}getConfig(h,o=null,f=null){return{duration:null!==o&&null!==f?this.ACTION_DURATION:this.DEFAULT_DURATION,data:{message:h,action:o,actionCallback:f}}}message(h,o=null,f=null){this.currentSnackBar=this.snackBar.openFromComponent(a,this.getConfig(h,o,f))}error(h,o=null,f=null){null!==this.currentSnackBar&&this.currentSnackBar.dismiss(),this.currentSnackBar=this.snackBar.openFromComponent(a,this.getConfig(h,o,f))}}return g.\u0275fac=function(h){return new(h||g)(e.LFG(i.ux))},g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},2424:(J,A,c)=>{c.d(A,{o:()=>_});var i=c(2419),e=c(1135),O=c(5e3);let _=(()=>{class b{constructor(){this.search=null,this.dom=document.createElement("div"),this.searchChanged=new e.X(null)}hasSearch(){return null!==this.search}setSearch(a){this.search=null!==a&&a.length>0?a:null,this.searchChanged.next(this.search)}getCleanSearchValue(){return null===this.search?null:this.search.toLowerCase().trim()}removeHtmlTags(a,n=[]){let g=a;if(null!==g){if(this.dom.innerHTML=g.toLowerCase(),n.length>0)for(const u of n){const h=this.dom.getElementsByClassName(u);for(let o=0,f=h.length;o<f;o++){const T=h.item(o);T&&T.remove()}}g=this.dom.textContent}return g}stringsMatchSearch(a){let n=!0;const g=this.getCleanSearchValue();return null!==g&&(n=null===this.search||void 0!==a.find(u=>(0,i.BXh)(u)&&-1!==u.toLowerCase().indexOf(g))),n}itemMatchSearch(a){return this.stringsMatchSearch([a.level.toString(),a.name,a.base,a.rarity,...a.affixes.map(n=>[n.isPure?"pure":null,this.removeHtmlTags(n.valueLabel+" "+n.statLabel,["details"])]).flat(),null===a.legendaryEffect?null:this.removeHtmlTags(a.legendaryEffect.description,["details"]),null===a.legendaryEffect||null===a.legendaryEffect.reaperName?null:a.legendaryEffect.reaperName,null!==a.reaperEnchantment?this.removeHtmlTags(a.reaperEnchantment.label,["details"]):null,null!==a.skillEnchantment?this.removeHtmlTags(a.skillEnchantment.label,["details"]):null,null!==a.attributeEnchantment?this.removeHtmlTags(a.attributeEnchantment.label,["details"]):null])||null!==a.legendaryEffect&&null!==a.legendaryEffect.activable&&this.activableMatchSearch(a.legendaryEffect.activable)}runeMatchSearch(a){return this.stringsMatchSearch([a.level.toString(),a.name,this.removeHtmlTags(a.constraintLabel),this.removeHtmlTags(a.description),a.flavor,a.smithLabel,a.typeLabel])}ultimatumMatchSearch(a){return this.stringsMatchSearch([a.title,a.levelLabel,a.bonusTitle,this.removeHtmlTags(a.bonusLabel),a.malusTitle,a.malusLabel])}upgradeMatchSearch(a){return this.stringsMatchSearch([a.name,a.type,this.removeHtmlTags(a.description),...a.genres,a.genresLabel,this.removeHtmlTags(a.costLabel),this.removeHtmlTags(a.costType),...a.relatedBuffs.map(n=>n.name),...a.relatedClassMechanics.map(n=>n.name),...a.relatedMechanics.map(n=>n.name)])}ancestralLegacyMatchSearch(a){return this.stringsMatchSearch([a.name,a.costType,...a.genres,a.isActivable?"activable":null,this.removeHtmlTags(a.description),...a.relatedBuffs.map(n=>n.name),...a.relatedMechanics.map(n=>n.name),...a.types,a.typeLabel,a.genresLabel,a.costLabel])}reaperMatchSearch(a){return this.stringsMatchSearch([a.name,a.description,a.benediction,a.malediction,a.smith.name,a.smithLabel,a.victimsLabel,a.levelLabel,a.damageTypeLabel,null!==a.benediction?a.benedictionTitleLabel:"",null!==a.malediction?a.maledictionTitleLabel:"",0!==a.activables.length?a.activablesTitleLabel:"",a.damagesLabel,a.maxDamagesLabel,a.affinityLabel,a.lore])||a.activables.some(n=>this.activableMatchSearch(n))}activableMatchSearch(a){return this.stringsMatchSearch([a.name,a.genresLabel,a.cooldownLabel,a.costLabel,a.description])}traitMatchSearch(a){return this.stringsMatchSearch([a.rankLabel,this.removeHtmlTags(a.cumulativeStats),this.removeHtmlTags(a.description),a.traitLevelLabel])}}return b.\u0275fac=function(a){return new(a||b)},b.\u0275prov=O.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},5330:(J,A,c)=>{c.d(A,{m:()=>gt});var i=c(9808),e=c(8003),O=c(9065),_=c(2419),b=c(2722),t=c(1671),a=c(6446),n=c(5e3),g=c(7423),u=c(5245),h=c(7322),o=c(4102),f=c(508),T=c(8029),m=c(3075);function E(M,S){if(1&M){const l=n.EpF();n.TgZ(0,"div",4)(1,"button",5),n.NdJ("click",function(){n.CHM(l);const x=n.oxw();return n.KtG(x.addAttributeEnchantment())}),n.TgZ(2,"mat-icon"),n._uU(3,"add"),n.qZA()()()}}function C(M,S){if(1&M&&(n.TgZ(0,"mat-option",16),n._UZ(1,"span",17),n.qZA()),2&M){const l=S.$implicit;n.Q6J("value",l.value),n.xp6(1),n.Q6J("innerHTML",l.label,n.oJD)}}function L(M,S){if(1&M){const l=n.EpF();n.TgZ(0,"div",6)(1,"div",7)(2,"mat-form-field",8)(3,"mat-label"),n._uU(4,"Attribute Enchantment"),n.qZA(),n.TgZ(5,"mat-select",9),n.YNc(6,C,2,2,"mat-option",10),n.qZA()()(),n.TgZ(7,"div",11)(8,"mat-slider",12),n.NdJ("input",function(x){n.CHM(l);const k=n.oxw();return n.KtG(k.updateSliderValue(x))}),n.qZA()(),n.TgZ(9,"div",13)(10,"div",14),n._uU(11),n.qZA(),n.TgZ(12,"button",15),n.NdJ("click",function(){n.CHM(l);const x=n.oxw();return n.KtG(x.removeAttributeEnchantment())}),n.TgZ(13,"mat-icon"),n._uU(14,"delete"),n.qZA()()()()}if(2&M){const l=n.oxw();n.Q6J("formGroup",l.form),n.xp6(6),n.Q6J("ngForOf",l.options),n.xp6(2),n.Q6J("min",1)("max",3)("step",1),n.xp6(3),n.hij(" ",l.displayedValue," ")}}let P=(()=>{class M extends a.B{constructor(l,v){super(),this.itemFormService=l,this.slormancerItemService=v,this.form=null,this.options=[],this.displayedValue="",this.attributeEnchantment=null}ngOnChanges(l){this.options=this.itemFormService.getAttributeBuffOptions(),null!==this.form&&("form"in l&&this.form.valueChanges.pipe((0,b.R)(this.unsubscribe)).subscribe(v=>{var x,k;this.updateAttributeEnchantment(null!==(x=v.attribute)&&void 0!==x?x:null,null!==(k=v.value)&&void 0!==k?k:0)}),this.updateAttributeEnchantment(this.form.controls.attribute.value,this.form.controls.value.value))}updateAttributeEnchantment(l,v){this.attributeEnchantment=null===l?null:this.slormancerItemService.getAttributeEnchantment(l,v),this.displayedValue="",null!==this.attributeEnchantment&&(this.displayedValue="+"+(0,_.BeF)(this.attributeEnchantment.craftableValues[this.attributeEnchantment.craftedValue],0))}updateSliderValue(l){this.displayedValue="";const v=l.value;null!==this.attributeEnchantment&&null!==v&&this.updateAttributeEnchantment(this.attributeEnchantment.craftedValue,v)}removeAttributeEnchantment(){null!==this.form&&this.form.patchValue({attribute:null})}addAttributeEnchantment(){const l=this.options[0];null!==this.form&&l&&this.form.patchValue({attribute:l.value,value:3})}}return M.\u0275fac=function(l){return new(l||M)(n.Y36(t.K),n.Y36(_.SgH))},M.\u0275cmp=n.Xpm({type:M,selectors:[["app-item-edit-buff-attribute"]],inputs:{form:"form"},features:[n.qOj,n.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","attribute"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"]],template:function(l,v){1&l&&(n.TgZ(0,"div",0)(1,"div",1),n._uU(2,"Attribute Enchantment :"),n.qZA(),n.YNc(3,E,4,0,"div",2),n.qZA(),n.YNc(4,L,15,6,"div",3)),2&l&&(n.xp6(3),n.Q6J("ngIf",null!==v.form&&null===v.attributeEnchantment),n.xp6(1),n.Q6J("ngIf",null!==v.form&&null!==v.attributeEnchantment))},dependencies:[i.sg,i.O5,g.lW,u.Hw,h.KE,h.hX,o.gD,f.ey,T.pH,m.JJ,m.JL,m.sg,m.u],styles:[".stat-line[_ngcontent-%COMP%]   .additional[_ngcontent-%COMP%]{min-width:100px}"]}),M})();function w(M,S){if(1&M){const l=n.EpF();n.TgZ(0,"div",4)(1,"button",5),n.NdJ("click",function(){n.CHM(l);const x=n.oxw();return n.KtG(x.addReaperEnchantment())}),n.TgZ(2,"mat-icon"),n._uU(3,"add"),n.qZA()()()}}function U(M,S){if(1&M&&(n.TgZ(0,"mat-option",16),n._UZ(1,"span",17),n.qZA()),2&M){const l=S.$implicit;n.Q6J("value",l.value),n.xp6(1),n.Q6J("innerHTML",l.label,n.oJD)}}function D(M,S){if(1&M){const l=n.EpF();n.TgZ(0,"div",6)(1,"div",7)(2,"mat-form-field",8)(3,"mat-label"),n._uU(4,"Reaper Enchantment"),n.qZA(),n.TgZ(5,"mat-select",9),n.YNc(6,U,2,2,"mat-option",10),n.qZA()()(),n.TgZ(7,"div",11)(8,"mat-slider",12),n.NdJ("input",function(x){n.CHM(l);const k=n.oxw();return n.KtG(k.updateSliderValue(x))}),n.qZA()(),n.TgZ(9,"div",13)(10,"div",14),n._uU(11),n.qZA(),n.TgZ(12,"button",15),n.NdJ("click",function(){n.CHM(l);const x=n.oxw();return n.KtG(x.removeReaperEnchantment())}),n.TgZ(13,"mat-icon"),n._uU(14,"delete"),n.qZA()()()()}if(2&M){const l=n.oxw();n.Q6J("formGroup",l.form),n.xp6(6),n.Q6J("ngForOf",l.options),n.xp6(2),n.Q6J("min",1)("max",5)("step",1),n.xp6(3),n.hij(" ",l.displayedValue," ")}}let V=(()=>{class M extends a.B{constructor(l,v){super(),this.itemFormService=l,this.slormancerItemService=v,this.form=null,this.options=[],this.displayedValue="",this.reaperEnchantment=null}ngOnChanges(l){null!==this.form&&("form"in l&&this.form.valueChanges.pipe((0,b.R)(this.unsubscribe)).subscribe(v=>{var x,k;this.updateReaperEnchantment(null!==(x=v.smith)&&void 0!==x?x:null,null!==(k=v.value)&&void 0!==k?k:0)}),this.updateReaperEnchantment(this.form.controls.smith.value,this.form.controls.value.value)),this.options=this.itemFormService.getReaperBuffOptions()}updateReaperEnchantment(l,v){this.displayedValue="",this.reaperEnchantment=null===l?null:this.slormancerItemService.getReaperEnchantment(l,v),null!==this.reaperEnchantment&&(this.displayedValue="+"+this.reaperEnchantment.craftedValue)}updateSliderValue(l){this.displayedValue="";const v=l.value;null!==this.reaperEnchantment&&null!==v&&this.updateReaperEnchantment(this.reaperEnchantment.craftedReaperSmith,v)}removeReaperEnchantment(){null!==this.form&&this.form.patchValue({smith:null})}addReaperEnchantment(){const l=this.options[0];null!==this.form&&l&&this.form.patchValue({smith:l.value,value:5})}}return M.\u0275fac=function(l){return new(l||M)(n.Y36(t.K),n.Y36(_.SgH))},M.\u0275cmp=n.Xpm({type:M,selectors:[["app-item-edit-buff-reaper"]],inputs:{form:"form"},features:[n.qOj,n.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","form-add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"form-add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","smith"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"]],template:function(l,v){1&l&&(n.TgZ(0,"div",0)(1,"div",1),n._uU(2,"Reaper Enchantment :"),n.qZA(),n.YNc(3,w,4,0,"div",2),n.qZA(),n.YNc(4,D,15,6,"div",3)),2&l&&(n.xp6(3),n.Q6J("ngIf",null!==v.form&&null===v.reaperEnchantment),n.xp6(1),n.Q6J("ngIf",null!==v.form&&null!==v.reaperEnchantment))},dependencies:[i.sg,i.O5,g.lW,u.Hw,h.KE,h.hX,o.gD,f.ey,T.pH,m.JJ,m.JL,m.sg,m.u],styles:[".stat-line[_ngcontent-%COMP%]   .additional[_ngcontent-%COMP%]{min-width:100px}"]}),M})();function F(M,S){if(1&M){const l=n.EpF();n.TgZ(0,"div",4)(1,"button",5),n.NdJ("click",function(){n.CHM(l);const x=n.oxw();return n.KtG(x.addSkillEnchantment())}),n.TgZ(2,"mat-icon"),n._uU(3,"add"),n.qZA()()()}}function Y(M,S){if(1&M&&(n.TgZ(0,"mat-option",16),n._UZ(1,"span",17),n.qZA()),2&M){const l=S.$implicit;n.Q6J("value",l.value),n.xp6(1),n.Q6J("innerHTML",l.label,n.oJD)}}function q(M,S){if(1&M){const l=n.EpF();n.TgZ(0,"div",6)(1,"div",7)(2,"mat-form-field",8)(3,"mat-label"),n._uU(4,"Skill Enchantment"),n.qZA(),n.TgZ(5,"mat-select",9),n.YNc(6,Y,2,2,"mat-option",10),n.qZA()()(),n.TgZ(7,"div",11)(8,"mat-slider",12),n.NdJ("input",function(x){n.CHM(l);const k=n.oxw();return n.KtG(k.updateSliderValue(x))}),n.qZA()(),n.TgZ(9,"div",13)(10,"div",14),n._uU(11),n.qZA(),n.TgZ(12,"button",15),n.NdJ("click",function(){n.CHM(l);const x=n.oxw();return n.KtG(x.removeSkillEnchantment())}),n.TgZ(13,"mat-icon"),n._uU(14,"delete"),n.qZA()()()()}if(2&M){const l=n.oxw();n.Q6J("formGroup",l.form),n.xp6(6),n.Q6J("ngForOf",l.options),n.xp6(2),n.Q6J("min",1)("max",2)("step",1),n.xp6(3),n.hij(" ",l.displayedValue," ")}}let I=(()=>{class M extends a.B{constructor(l,v){super(),this.itemFormService=l,this.slormancerItemService=v,this.heroClass=_.iHO.Huntress,this.form=null,this.options=[],this.displayedValue="",this.skillEnchantment=null}ngOnChanges(l){this.options=this.itemFormService.getSkillBuffOptions(this.heroClass),null!==this.form&&("form"in l&&this.form.valueChanges.pipe((0,b.R)(this.unsubscribe)).subscribe(v=>{var x,k;this.updateSkillEnchantment(null!==(x=v.skill)&&void 0!==x?x:null,null!==(k=v.value)&&void 0!==k?k:0)}),this.updateSkillEnchantment(this.form.controls.skill.value,this.form.controls.value.value))}updateSkillEnchantment(l,v){this.skillEnchantment=null===l?null:this.slormancerItemService.getSkillEnchantment(l,v),this.displayedValue="",null!==this.skillEnchantment&&null!==v&&(this.displayedValue="+"+(0,_.BeF)(this.skillEnchantment.craftableValues[v],0))}updateSliderValue(l){this.displayedValue="";const v=l.value;null!==this.skillEnchantment&&null!==v&&this.updateSkillEnchantment(this.skillEnchantment.craftedSkill,v)}removeSkillEnchantment(){null!==this.form&&this.form.patchValue({skill:null})}addSkillEnchantment(){const l=this.options[0];null!==this.form&&l&&this.form.patchValue({skill:l.value,value:2})}}return M.\u0275fac=function(l){return new(l||M)(n.Y36(t.K),n.Y36(_.SgH))},M.\u0275cmp=n.Xpm({type:M,selectors:[["app-item-edit-buff-skill"]],inputs:{heroClass:"heroClass",form:"form"},features:[n.qOj,n.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["appearance","outline",1,"no-error-padding"],["formControlName","skill"],[3,"value",4,"ngFor","ngForOf"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],[3,"value"],[3,"innerHTML"]],template:function(l,v){1&l&&(n.TgZ(0,"div",0)(1,"div",1),n._uU(2,"Skill Enchantment :"),n.qZA(),n.YNc(3,F,4,0,"div",2),n.qZA(),n.YNc(4,q,15,6,"div",3)),2&l&&(n.xp6(3),n.Q6J("ngIf",null!==v.form&&null===v.skillEnchantment),n.xp6(1),n.Q6J("ngIf",null!==v.form&&null!==v.skillEnchantment))},dependencies:[i.sg,i.O5,g.lW,u.Hw,h.KE,h.hX,o.gD,f.ey,T.pH,m.JJ,m.JL,m.sg,m.u],styles:[".stat-line[_ngcontent-%COMP%]   .additional[_ngcontent-%COMP%]{min-width:100px}"]}),M})();var R=c(461);function d(M,S){if(1&M){const l=n.EpF();n.TgZ(0,"div",4)(1,"button",5),n.NdJ("click",function(){n.CHM(l);const x=n.oxw();return n.KtG(x.addLegendaryEffect())}),n.TgZ(2,"mat-icon"),n._uU(3,"add"),n.qZA()()()}}function y(M,S){if(1&M){const l=n.EpF();n.TgZ(0,"mat-slider",14),n.NdJ("input",function(x){n.CHM(l);const k=n.oxw(2);return n.KtG(k.updateSliderValue(x))}),n.qZA()}2&M&&n.Q6J("min",75)("max",100)("step",1)}function r(M,S){if(1&M){const l=n.EpF();n.TgZ(0,"div",6)(1,"div",7),n._UZ(2,"app-search-select",8),n.qZA(),n.TgZ(3,"div",9),n.YNc(4,y,1,3,"mat-slider",10),n.qZA(),n.TgZ(5,"div",11)(6,"div",12),n._uU(7),n.qZA(),n.TgZ(8,"button",13),n.NdJ("click",function(){n.CHM(l);const x=n.oxw();return n.KtG(x.removeLegendaryEffect())}),n.TgZ(9,"mat-icon"),n._uU(10,"delete"),n.qZA()()()()}if(2&M){const l=n.oxw();n.Q6J("formGroup",l.form),n.xp6(2),n.Q6J("placeholder",l.legendaryEffect.name)("control",l.form.controls.id)("options",l.options),n.xp6(2),n.Q6J("ngIf",l.hasLegendaryValues()),n.xp6(3),n.hij(" ",l.displayedValue," ")}}let p=(()=>{class M extends a.B{constructor(l,v){super(),this.itemFormService=l,this.slormancerLegendaryEffectService=v,this.base=_.JNB.Amulet,this.heroClass=_.iHO.Huntress,this.itemLevel=0,this.itemReinforcment=0,this.form=null,this.options=[],this.displayedValue="",this.legendaryEffect=null,this.placeholder=null,this.possible=!0}ngOnChanges(l){null!==this.form&&("form"in l&&this.form.valueChanges.pipe((0,b.R)(this.unsubscribe)).subscribe(x=>{var k,B,Q;this.updateLegendaryEffect(null!==(k=x.id)&&void 0!==k?k:null,null!==(B=x.value)&&void 0!==B?B:0),this.possible=this.isLegendaryPossible(null!==(Q=x.id)&&void 0!==Q?Q:null)}),this.updateLegendaryEffect(this.form.controls.id.value,this.form.controls.value.value)),this.options=this.itemLevel>_.Sb7?this.itemFormService.getAllLegendaryOptions(this.heroClass):this.itemFormService.getLegendaryOptions(this.base,this.heroClass),null!==this.form&&(this.possible=this.isLegendaryPossible(this.form.controls.id.value))}updateLegendaryEffect(l,v){this.legendaryEffect=null===this.form||null===l?null:this.slormancerLegendaryEffectService.getLegendaryEffectById(l,this.form.controls.value.value,this.itemReinforcment,this.heroClass),this.placeholder=null===this.legendaryEffect?null:this.legendaryEffect.name,null!==this.legendaryEffect&&this.updateLegendaryValueLabel(this.legendaryEffect.value)}updateLegendaryValueLabel(l){this.displayedValue="",null!==this.legendaryEffect&&null!==l&&(this.displayedValue=this.legendaryEffect.effects.filter(v=>v.possibleCraftedValues.length>1).map(v=>{const x=v.effect.percent?"%":"";return(0,_.AWe)(v,l)+x}).join(" / "))}hasLegendaryValues(){return null!==this.legendaryEffect&&this.legendaryEffect.effects.filter(l=>l.possibleCraftedValues.length>1).length>0}updateSliderValue(l){this.displayedValue="";const v=l.value;null!==this.legendaryEffect&&null!==v&&this.updateLegendaryValueLabel(v)}removeLegendaryEffect(){null!==this.form&&this.form.patchValue({id:null})}addLegendaryEffect(){const l=this.options[0];null!==this.form&&l&&this.form.patchValue({id:l.value,value:100})}isLegendaryPossible(l){return this.options.some(v=>v.value===l)}}return M.\u0275fac=function(l){return new(l||M)(n.Y36(t.K),n.Y36(_.ArO))},M.\u0275cmp=n.Xpm({type:M,selectors:[["app-item-edit-legendary-effect"]],inputs:{base:"base",heroClass:"heroClass",itemLevel:"itemLevel",itemReinforcment:"itemReinforcment",form:"form"},features:[n.qOj,n.TTD],decls:5,vars:2,consts:[[1,"stat-info"],[1,"label"],["class","add",4,"ngIf"],["class","stat-line",3,"formGroup",4,"ngIf"],[1,"add"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"stat-line",3,"formGroup"],[1,"select"],["notFoundMessage","This legendary effect is not possible for this rarity",3,"placeholder","control","options"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input",4,"ngIf"],[1,"additional"],[1,"value"],["mat-icon-button","","color","primary","type","button",3,"click"],["color","primary","formControlName","value",3,"min","max","step","input"]],template:function(l,v){1&l&&(n.TgZ(0,"div",0)(1,"div",1),n._uU(2,"Legendary effect :"),n.qZA(),n.YNc(3,d,4,0,"div",2),n.qZA(),n.YNc(4,r,11,6,"div",3)),2&l&&(n.xp6(3),n.Q6J("ngIf",null!==v.form&&null===v.legendaryEffect),n.xp6(1),n.Q6J("ngIf",null!==v.form&&null!==v.legendaryEffect))},dependencies:[i.O5,g.lW,u.Hw,T.pH,m.JJ,m.JL,m.sg,m.u,R.a],styles:[".stat-line[_ngcontent-%COMP%]   mat-hint[_ngcontent-%COMP%]{color:#f44336}mat-form-field[_ngcontent-%COMP%]     .mat-select-placeholder{color:#d0d0d0}.stat-line[_ngcontent-%COMP%]   .additional[_ngcontent-%COMP%]{min-width:100px}"]}),M})();var s=c(3761),Z=c(7446);function N(M,S){if(1&M){const l=n.EpF();n.TgZ(0,"mat-slider",11),n.NdJ("input",function(x){n.CHM(l);const k=n.oxw(2);return n.KtG(k.updateSliderStat(x))}),n.qZA()}if(2&M){const l=n.oxw(2);n.Q6J("min",l.affix.craftedEffect.minPossibleCraftedValue)("max",l.affix.craftedEffect.maxPossibleCraftedValue)("step",1)}}function H(M,S){if(1&M){const l=n.EpF();n.TgZ(0,"mat-slider",12),n.NdJ("input",function(x){n.CHM(l);const k=n.oxw(2);return n.KtG(k.updateSliderPurity(x))}),n.qZA()}2&M&&n.Q6J("min",101)("max",200)("step",1)}function K(M,S){if(1&M){const l=n.EpF();n.TgZ(0,"div",1)(1,"div",2),n._UZ(2,"app-search-select",3),n.qZA(),n.TgZ(3,"div",4),n.YNc(4,N,1,3,"mat-slider",5),n.YNc(5,H,1,3,"mat-slider",6),n.qZA(),n.TgZ(6,"div",7)(7,"div",8),n._uU(8),n.qZA(),n.TgZ(9,"mat-checkbox",9),n._uU(10,"Pure"),n.qZA(),n.TgZ(11,"button",10),n.NdJ("click",function(){n.CHM(l);const x=n.oxw();return n.KtG(x.removeStat())}),n.TgZ(12,"mat-icon"),n._uU(13,"delete"),n.qZA()()()()}if(2&M){const l=n.oxw();let v;n.Q6J("formGroup",l.form),n.xp6(2),n.Q6J("placeholder",null!==(v=l.STATS_LABELS[l.form.controls.stat.value])&&void 0!==v?v:null)("control",l.form.controls.stat)("options",l.options)("disabledOptions",l.alreadyUsedStats),n.xp6(2),n.Q6J("ngIf",!l.form.controls.pure.value),n.xp6(1),n.Q6J("ngIf",l.form.controls.pure.value),n.xp6(2),n.ekj("pure",l.form.controls.pure.value),n.xp6(1),n.Oqu(l.displayedValue),n.xp6(3),n.Q6J("disabled",!l.removable)}}let j=(()=>{class M extends a.B{constructor(l,v){super(),this.itemFormService=l,this.slormancerAffixService=v,this.itemBase=_.JNB.Amulet,this.itemLevel=0,this.itemReinforcment=0,this.alreadyUsedStats=[],this.form=null,this.removable=!1,this.remove=new n.vpe,this.options=[],this.displayedValue="",this.affix=null,this.STATS_LABELS=this.itemFormService.getStatsLabels()}ngOnChanges(l){null!==this.form&&("form"in l&&(this.form.controls.rarity.valueChanges.pipe((0,b.R)(this.unsubscribe)).subscribe(v=>{this.options=this.getOptions(this.itemLevel,this.itemBase,v)}),this.form.valueChanges.pipe((0,b.R)(this.unsubscribe)).subscribe(()=>this.updateAffix())),("form"in l||"itemBase"in l||"itemLevel"in l)&&(this.options=this.getOptions(this.itemLevel,this.itemBase,this.form.controls.rarity.value)),("form"in l||"itemLevel"in l||"itemReinforcment"in l)&&this.updateAffix())}getOptions(l,v,x){return l>_.Sb7?this.itemFormService.getAllStatsOptions():this.itemFormService.getStatsOptions(this.itemBase,x)}updateAffix(){null!==this.form&&(this.affix=this.slormancerAffixService.getAffixFromStat(this.form.controls.stat.value,this.itemLevel,this.itemReinforcment,this.form.controls.rarity.value,this.form.controls.value.value,this.form.controls.purity.value),null!==this.affix&&this.slormancerAffixService.updateAffix(this.affix),this.updatePurity(this.form.controls.pure.value,this.form.controls.purity.value,this.form.controls.value.value))}updatePurity(l,v,x){l?this.setPuritylabel(v):this.setStatLabel(x)}updateSliderPurity(l){null!==l.value&&this.setPuritylabel(l.value)}updateSliderStat(l){null!==l.value&&this.setStatLabel(l.value)}setPuritylabel(l){this.displayedValue=Math.round(l-100)+"%"}setStatLabel(l){if(this.displayedValue="",null!==this.affix){const v=this.affix.craftedEffect.effect.percent?"%":"";this.displayedValue=null===this.affix?"":"+"+((0,_.AWe)(this.affix.craftedEffect,l)+v)}}removeStat(){this.remove.emit()}}return M.\u0275fac=function(l){return new(l||M)(n.Y36(t.K),n.Y36(_.lRX))},M.\u0275cmp=n.Xpm({type:M,selectors:[["app-item-edit-stat"]],inputs:{itemBase:"itemBase",itemLevel:"itemLevel",itemReinforcment:"itemReinforcment",alreadyUsedStats:"alreadyUsedStats",form:"form",removable:"removable"},outputs:{remove:"remove"},features:[n.qOj,n.TTD],decls:1,vars:1,consts:[["class","stat-line",3,"formGroup",4,"ngIf"],[1,"stat-line",3,"formGroup"],[1,"select"],["notFoundMessage","This stat is not possible for this rarity",3,"placeholder","control","options","disabledOptions"],[1,"slider"],["color","primary","formControlName","value",3,"min","max","step","input",4,"ngIf"],["color","accent","formControlName","purity",3,"min","max","step","input",4,"ngIf"],[1,"additional"],[1,"value"],["color","primary","formControlName","pure"],["mat-icon-button","","color","primary","type","button",3,"disabled","click"],["color","primary","formControlName","value",3,"min","max","step","input"],["color","accent","formControlName","purity",3,"min","max","step","input"]],template:function(l,v){1&l&&n.YNc(0,K,14,11,"div",0),2&l&&n.Q6J("ngIf",null!==v.form&&null!==v.affix)},dependencies:[i.O5,g.lW,u.Hw,T.pH,Z.oG,m.JJ,m.JL,m.sg,m.u,R.a],styles:[".pure[_ngcontent-%COMP%]{color:#20d787}"]}),M})();var G=c(7803),X=c(4006),W=c(2349),$=c(1314);function et(M,S){if(1&M){const l=n.EpF();n.TgZ(0,"div",5,6),n.NdJ("mouseenter",function(){const k=n.CHM(l).$implicit,B=n.MAs(1),Q=n.oxw(2);return n.KtG(Q.showOverlay(B,k))})("mouseleave",function(){n.CHM(l);const x=n.oxw(2);return n.KtG(x.hideOverlay())}),n.TgZ(2,"div",7),n._UZ(3,"img",8),n.qZA(),n.TgZ(4,"div",9),n._uU(5),n.qZA()()}if(2&M){const l=S.$implicit;n.xp6(3),n.MGl("src","assets/img/icon/",l.icon,".png",n.LSH),n.xp6(2),n.Oqu(l.name)}}function nt(M,S){if(1&M){const l=n.EpF();n.TgZ(0,"div",10,6),n.NdJ("click",function(x){const B=n.CHM(l).$implicit,Q=n.oxw(2);return n.KtG(Q.showModalTooltip(x,B))})("mouseenter",function(){const k=n.CHM(l).$implicit,B=n.MAs(1),Q=n.oxw(2);return n.KtG(Q.showOverlay(B,k))})("mouseleave",function(){n.CHM(l);const x=n.oxw(2);return n.KtG(x.hideOverlay())}),n.TgZ(2,"div",7),n._UZ(3,"img",8),n.qZA(),n.TgZ(4,"div",9),n._uU(5),n.qZA()()}if(2&M){const l=S.$implicit;n.xp6(3),n.MGl("src","assets/img/icon/",l.icon,".png",n.LSH),n.xp6(2),n.Oqu(l.name)}}function it(M,S){if(1&M){const l=n.EpF();n.TgZ(0,"div",5,6),n.NdJ("mouseenter",function(){const k=n.CHM(l).$implicit,B=n.MAs(1),Q=n.oxw(2);return n.KtG(Q.showOverlay(B,k))})("mouseleave",function(){n.CHM(l);const x=n.oxw(2);return n.KtG(x.hideOverlay())}),n.TgZ(2,"div",7),n._UZ(3,"img",8),n.qZA(),n.TgZ(4,"div",9),n._uU(5),n.qZA()()}if(2&M){const l=S.$implicit;n.xp6(3),n.MGl("src","assets/img/icon/",l.icon,".png",n.LSH),n.xp6(2),n.Oqu(l.name)}}function ot(M,S){if(1&M&&(n.TgZ(0,"div",12)(1,"div",13),n._UZ(2,"h3",14)(3,"p",14),n.qZA()()),2&M){const l=n.oxw(3);n.xp6(2),n.Q6J("innerHTML",l.overlayMechanic.name,n.oJD),n.xp6(1),n.Q6J("innerHTML",l.overlayMechanic.description,n.oJD)}}function at(M,S){if(1&M&&n.YNc(0,ot,4,2,"ng-template",11),2&M){const l=n.oxw(2);n.Q6J("cdkConnectedOverlayOpen",!0)("cdkConnectedOverlayOrigin",l.overlayTrigger)}}function rt(M,S){if(1&M&&(n.TgZ(0,"div",1),n.YNc(1,et,6,2,"div",2),n.YNc(2,nt,6,2,"div",3),n.YNc(3,it,6,2,"div",2),n.YNc(4,at,1,2,null,4),n.qZA()),2&M){const l=n.oxw();n.xp6(1),n.Q6J("ngForOf",l.classMechanics),n.xp6(1),n.Q6J("ngForOf",l.mechanics),n.xp6(1),n.Q6J("ngForOf",l.buffs),n.xp6(1),n.Q6J("ngIf",null!==l.overlayMechanic&&null!==l.overlayTrigger)}}let z=(()=>{class M{constructor(l){this.dialog=l,this.classMechanics=[],this.mechanics=[],this.buffs=[],this.overlayTrigger=null,this.overlayMechanic=null}showOverlay(l,v){this.overlayMechanic=v,this.overlayTrigger=l}hideOverlay(){this.overlayTrigger=null,this.overlayMechanic=null}showModalTooltip(l,v){let x=!1;return l.ctrlKey&&(x=!0,l.stopPropagation(),l.stopImmediatePropagation(),this.dialog.open(X.q,{data:{entity:{mechanic:v}}})),x}}return M.\u0275fac=function(l){return new(l||M)(n.Y36(W.uw))},M.\u0275cmp=n.Xpm({type:M,selectors:[["app-mechanics-view"]],inputs:{classMechanics:"classMechanics",mechanics:"mechanics",buffs:"buffs"},decls:1,vars:1,consts:[["class","mechanics",4,"ngIf"],[1,"mechanics"],["class","mechanic","cdkOverlayOrigin","",3,"mouseenter","mouseleave",4,"ngFor","ngForOf"],["class","mechanic","cdkOverlayOrigin","",3,"click","mouseenter","mouseleave",4,"ngFor","ngForOf"],[4,"ngIf"],["cdkOverlayOrigin","",1,"mechanic",3,"mouseenter","mouseleave"],["trigger","cdkOverlayOrigin"],[1,"mechanic-icon"],[3,"src"],[1,"mechanic-name"],["cdkOverlayOrigin","",1,"mechanic",3,"click","mouseenter","mouseleave"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],[1,"slormancer-tooltip"],[1,"inner-box"],[3,"innerHTML"]],template:function(l,v){1&l&&n.YNc(0,rt,5,4,"div",0),2&l&&n.Q6J("ngIf",v.classMechanics.length>0||v.mechanics.length>0||v.buffs.length>0)},dependencies:[i.sg,i.O5,$.pI,$.xu],styles:[".mechanics[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;gap:4px}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;background-color:#000;padding:4px;gap:4px}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]   .mechanic-icon[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]   .mechanic-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:36px;min-height:36px;width:36px;height:36px}.mechanics[_ngcontent-%COMP%]   .mechanic[_ngcontent-%COMP%]   .mechanic-name[_ngcontent-%COMP%]{background-color:#141310;padding:8px;display:flex;flex-direction:row;align-items:center;flex-grow:1}.slormancer-tooltip[_ngcontent-%COMP%]{max-width:350px}.slormancer-tooltip[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:8px 0;font-weight:400;color:#ce4607}.slormancer-tooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0}.slormancer-tooltip[_ngcontent-%COMP%]     .value{color:#ce4607}"]}),M})();var lt=c(4890),ct=c(7295),st=c(8849),tt=c(9881),_t=c(7531);let gt=(()=>{class M{}return M.\u0275fac=function(l){return new(l||M)},M.\u0275mod=n.oAB({type:M}),M.\u0275inj=n.cJS({imports:[i.ez,tt.q,tt.q]}),M})();n.B6R(st.B,[i.O5,z],[]),n.B6R(O.q,[i.O5,z],[]),n.B6R(s.F,[i.sg,i.O5,g.lW,u.Hw,W.ZT,W.xY,W.H8,h.TO,h.KE,h.hX,_t.Nt,m._Y,m.Fj,m.wV,m.JJ,m.JL,m.qQ,m.sg,m.u,G.F,j,p,V,I,P],[]),n.B6R(ct.g,[i.O5,e.K,lt.G],[])}}]);