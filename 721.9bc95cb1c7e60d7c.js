"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[721],{9721:(X,O,a)=>{a.r(O),a.d(O,{SlormReaperModule:()=>B});var g=a(9808),x=a(5330),m=a(1083),M=a(6446),t=a(5e3),f=a(3251),u=a(5245),d=a(2638),s=a(3075),y=a(2424),i=a(2419),S=a(923),b=a(9841),R=a(2722),T=a(8223),Z=a(2763),_=a(9224),C=a(7322),L=a(7531),A=a(7446),P=a(7238),N=a(9762);function w(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"div",16),t.NdJ("click",function(){const p=t.CHM(n).$implicit,l=t.oxw();return t.KtG(l.selectClass(p))}),t._UZ(1,"img",17),t.qZA()}if(2&e){const n=r.$implicit,o=t.oxw();t.ekj("selected",o.isSelectedClass(n)),t.xp6(1),t.MGl("src","assets/img/character/icon/",n,"/head.png",t.LSH)}}function F(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"mat-icon",18),t.NdJ("click",function(){t.CHM(n);const c=t.oxw();return t.KtG(c.removeSearch())}),t._uU(1,"close"),t.qZA()}}function U(e,r){1&e&&(t.TgZ(0,"mat-icon",27),t._uU(1,"warning"),t.qZA())}function H(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"mat-icon",28),t.NdJ("click",function(){t.CHM(n),t.oxw();const c=t.MAs(6),p=t.oxw();return t.KtG(p.copy(c))}),t._uU(1,"photo"),t.qZA()}}function J(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"div",19),t.NdJ("click",function(){const p=t.CHM(n).$implicit,l=t.oxw();return t.KtG(l.debug(p))}),t.TgZ(1,"div",20)(2,"div",21),t.YNc(3,U,2,0,"mat-icon",22),t.YNc(4,H,2,0,"mat-icon",23),t.qZA(),t.TgZ(5,"div",24,25),t._UZ(7,"app-reaper-view",26),t.qZA()()()}if(2&e){const n=r.$implicit,o=t.oxw();t.xp6(3),t.Q6J("ngIf",o.isNotAvailable(n)),t.xp6(1),t.Q6J("ngIf",o.isCopyable()),t.xp6(3),t.Q6J("reaper",n)}}let E=(()=>{class e extends M.B{constructor(n,o,c,p,l){super(),this.slormancerDataService=n,this.searchService=o,this.slormancerReaperService=c,this.messageService=p,this.clipboardService=l,this.HERO_CLASSES=[i.iHO.Warrior,i.iHO.Huntress,i.iHO.Mage],this.allReapers=[],this.filteredReapers=[],this.heroClass=i.iHO.Huntress,this.primordial=!1,this.form=new s.cw({search:new s.NI("",{nonNullable:!0}),heroClass:new s.NI(i.iHO.Huntress,{nonNullable:!0}),primordial:new s.NI(!1,{nonNullable:!0}),maxLevelAndAffinity:new s.NI(!1,{nonNullable:!0}),onlyMaxEvolve:new s.NI(!1,{nonNullable:!0})}),this.form.controls.search.valueChanges.subscribe(h=>this.searchService.setSearch(h)),(0,b.a)([this.form.controls.heroClass.valueChanges,this.form.controls.primordial.valueChanges,this.form.controls.maxLevelAndAffinity.valueChanges,this.form.controls.onlyMaxEvolve.valueChanges]).subscribe(([h,K,D,V])=>this.buildReaperList(h,K,D,V))}ngOnInit(){this.form.patchValue({search:"",heroClass:i.iHO.Huntress,primordial:!1,maxLevelAndAffinity:!1,onlyMaxEvolve:!1}),this.searchService.searchChanged.pipe((0,R.R)(this.unsubscribe)).subscribe(()=>this.filterReaperList(this.form.controls.onlyMaxEvolve.value))}buildReaperList(n,o,c,p){this.allReapers=this.slormancerDataService.getGameDataAvailableReaper().map(l=>this.slormancerReaperService.getReaper(l,n,o,c?(0,i.BeF)(l.MAX_LVL,0):1,0,0,0,c?i.DxO:0,c?this.slormancerReaperService.useDifferentAffinityForEffects({id:l.REF,primordial:o})?i.Ud_:i.DxO:0,c?i.mOl:0,c?i.KWn:0)),this.filterReaperList(p)}filterReaperList(n){this.filteredReapers=this.allReapers.filter(o=>this.searchService.reaperMatchSearch(o)).filter(o=>!n||null===o.evolveInto)}hasSearch(){return this.searchService.hasSearch()}removeSearch(){this.form.patchValue({search:""})}selectClass(n){this.form.patchValue({heroClass:n})}isSelectedClass(n){const o=this.form.get("heroClass");return null!==o&&o.value===n}copy(n){(0,S.SE)(n).then(o=>{null!==o&&this.clipboardService.copyImageToClipboard(o)?this.messageService.message("Reaper image copied to clipboard"):this.messageService.error("Failed to copy reaper image to clipboard")},()=>this.messageService.error("Failed to copy reaper image to clipboard"))}isNotAvailable(n){return!1}isCopyable(){return this.clipboardService.canCopyImage()}debug(n){console.log(n)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(i.ogB),t.Y36(y.o),t.Y36(i.IxD),t.Y36(T.e),t.Y36(Z.Y))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-reaper-list"]],features:[t.qOj],decls:23,vars:4,consts:[[1,"content"],[1,"header"],[3,"formGroup"],[1,"options"],[1,"classes"],["class","head",3,"selected","click",4,"ngFor","ngForOf"],[1,"flags"],["color","primary","formControlName","primordial"],["color","primary","formControlName","maxLevelAndAffinity"],["color","primary","formControlName","onlyMaxEvolve"],[1,"search"],["appearance","outline","color","primary",1,"no-error-padding"],["matInput","","type","text","formControlName","search","autocomplete","off"],["matSuffix","",3,"click",4,"ngIf"],[1,"reapers"],["class","reaper",3,"click",4,"ngFor","ngForOf"],[1,"head",3,"click"],[3,"src"],["matSuffix","",3,"click"],[1,"reaper",3,"click"],[1,"reaper-container"],[1,"actions"],["class","warn","matTooltip","This reaper is not available in game yet",4,"ngIf"],["class","button","matTooltip","Copy reaper as image to clipboard",3,"click",4,"ngIf"],[1,"reaper-window"],["reaperDom",""],[3,"reaper"],["matTooltip","This reaper is not available in game yet",1,"warn"],["matTooltip","Copy reaper as image to clipboard",1,"button",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-content")(3,"form",2)(4,"div",3)(5,"div",4),t.YNc(6,w,2,3,"div",5),t.qZA(),t.TgZ(7,"div",6)(8,"mat-checkbox",7),t._uU(9,"Primordial"),t.qZA(),t.TgZ(10,"mat-checkbox",8),t._uU(11,"Max. level, mastery and affinity"),t.qZA(),t.TgZ(12,"mat-checkbox",9),t._uU(13,"Only show Max. evolution"),t.qZA()()(),t.TgZ(14,"div",10)(15,"mat-form-field",11)(16,"mat-label"),t._uU(17,"Search"),t.qZA(),t._UZ(18,"input",12),t.YNc(19,F,2,0,"mat-icon",13),t.qZA()()()()(),t.TgZ(20,"mat-card",14)(21,"mat-card-content"),t.YNc(22,J,8,3,"div",15),t.qZA()()()),2&n&&(t.xp6(3),t.Q6J("formGroup",o.form),t.xp6(3),t.Q6J("ngForOf",o.HERO_CLASSES),t.xp6(13),t.Q6J("ngIf",o.hasSearch()),t.xp6(3),t.Q6J("ngForOf",o.filteredReapers))},dependencies:[g.sg,g.O5,u.Hw,_.a8,_.dn,C.KE,C.hX,C.R9,L.Nt,A.oG,P.gM,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,N.b],styles:["[_nghost-%COMP%]{display:block;height:100%}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:stretch;gap:16px;height:100%}.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-top:4px;padding-bottom:4px}.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:4px}@media (max-width: 374px){.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:space-between;gap:12px}@media (max-width: 768px){.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{flex-direction:column}}.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:flex-start;gap:12px}@media (max-width: 374px){.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{flex-direction:column}}.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .flags[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:12px}.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:250px}.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}@media (max-width: 374px){.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:100%}}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:grid;grid-gap:10px;grid-auto-rows:minmax(auto,auto);grid-template-columns:repeat(auto-fill,minmax(360px,1fr))}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .reaper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .reaper[_ngcontent-%COMP%]   .reaper-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:8px}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .reaper[_ngcontent-%COMP%]   .reaper-container[_ngcontent-%COMP%]:not(:hover)   .actions[_ngcontent-%COMP%]{opacity:0}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .reaper[_ngcontent-%COMP%]   .reaper-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;gap:8px}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .reaper[_ngcontent-%COMP%]   .reaper-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .reaper[_ngcontent-%COMP%]   .reaper-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transition:opacity .2s ease-in-out}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .reaper[_ngcontent-%COMP%]   .reaper-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{opacity:.3}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .reaper[_ngcontent-%COMP%]   .reaper-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{opacity:.8}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .reaper[_ngcontent-%COMP%]   .reaper-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   mat-icon.warn[_ngcontent-%COMP%]{color:#f44336}.content[_ngcontent-%COMP%]   .reapers[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .reaper[_ngcontent-%COMP%]   .reaper-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   mat-icon.button[_ngcontent-%COMP%]{cursor:pointer}.classes[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-around;gap:4px}.classes[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{position:relative;border:4px solid black;width:40px;height:40px;cursor:pointer}.classes[_ngcontent-%COMP%]   .head.selected[_ngcontent-%COMP%]{border-color:#b7b7b7}.classes[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;image-rendering:pixelated;transition:opacity .5s}.classes[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{position:absolute;bottom:-20px;width:16px;height:16px;line-height:14px;text-align:center;border:2px solid black;padding:4px;border-radius:20% 20% 50% 50%;background-color:#353535;transition:opacity .5s;left:50%;transform:translate(-50%)}"]}),e})();var v=a(4296),I=a(2340);function k(e,r){if(1&e&&(t.TgZ(0,"a",6),t._UZ(1,"img",7),t.qZA()),2&e){const n=r.$implicit;t.Q6J("routerLink",n.link),t.xp6(1),t.Q6J("src",n.icon,t.LSH)("matTooltip",n.label)}}let j=(()=>{class e{constructor(){this.SHORTCUTS=[{link:"/slorm-planner",icon:"assets/img/character/icon/1/head.png",label:"Slorm planner"},{link:"/slorm-legendary",icon:"assets/img/icon/item/ring/adventure.png",label:"Slorm legendaries"}],this.VERSION=I.N.version,this.GITHUB_PROJECT_LINK=v.yF,this.GAME_LINK=v.F1}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-reaper-sidenav"]],decls:13,vars:4,consts:[["autocomplete","false","name","hidden","type","text",2,"display","none"],[1,"sidenav"],[1,"shortcuts"],[3,"routerLink",4,"ngFor","ngForOf"],[1,"info"],["target","blank",3,"href"],[3,"routerLink"],[3,"src","matTooltip"]],template:function(n,o){1&n&&(t._UZ(0,"input",0),t.TgZ(1,"div",1)(2,"div",2)(3,"span"),t._uU(4,"Other tools :"),t.qZA(),t.YNc(5,k,2,3,"a",3),t.qZA(),t.TgZ(6,"div",4),t._uU(7),t.TgZ(8,"a",5),t._uU(9,"Github"),t.qZA(),t._uU(10," - "),t.TgZ(11,"a",5),t._uU(12,"The Slormancer"),t.qZA()()()),2&n&&(t.xp6(5),t.Q6J("ngForOf",o.SHORTCUTS),t.xp6(2),t.hij(" Slorm Reaper ",o.VERSION," - "),t.xp6(1),t.Q6J("href",o.GITHUB_PROJECT_LINK,t.LSH),t.xp6(3),t.Q6J("href",o.GAME_LINK,t.LSH))},dependencies:[g.sg,P.gM,m.yS],styles:[".sidenav[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;gap:20px;height:100%}.sidenav[_ngcontent-%COMP%]   .shortcuts[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:16px;padding:4px}.sidenav[_ngcontent-%COMP%]   .shortcuts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{outline:0}.sidenav[_ngcontent-%COMP%]   .shortcuts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px}.sidenav[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{color:#505050;margin-top:auto;text-align:right}"]}),e})();function G(e,r){if(1&e&&(t.TgZ(0,"a",6,7)(2,"span",8),t._uU(3),t.qZA()()),2&e){const n=r.$implicit,o=t.MAs(1);t.Q6J("routerLink",n.route)("active",o.isActive),t.xp6(3),t.Oqu(n.name)}}const Q=[{path:"list",component:(()=>{class e extends M.B{constructor(){super(...arguments),this.ROUTES=[]}}return e.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(e)))(o||e)}}(),e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list"]],features:[t.qOj],decls:12,vars:1,consts:[[1,"header"],[1,"tools"],[3,"click"],["mat-tab-nav-bar","","color","primary"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active",4,"ngFor","ngForOf"],["sidenav",""],["mat-tab-link","","routerLinkActive","",3,"routerLink","active"],["rla","routerLinkActive"],["translate",""]],template:function(n,o){if(1&n){const c=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),t.NdJ("click",function(){t.CHM(c);const l=t.MAs(8);return t.KtG(l.toggle())}),t._uU(3,"menu"),t.qZA()(),t.TgZ(4,"nav",3),t.YNc(5,G,4,3,"a",4),t.qZA()(),t.TgZ(6,"mat-sidenav-container")(7,"mat-sidenav",null,5),t._UZ(9,"app-reaper-sidenav"),t.qZA(),t.TgZ(10,"mat-sidenav-content"),t._UZ(11,"app-reaper-list"),t.qZA()()}2&n&&(t.xp6(5),t.Q6J("ngForOf",o.ROUTES))},dependencies:[g.sg,f.BU,f.Nj,u.Hw,d.JX,d.TM,d.Rh,m.yS,m.Od,E,j],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column;align-items:stretch}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;z-index:2;background-color:#0c0c0c;box-shadow:0 2px 4px -1px #b7b7b733,0 4px 5px #b7b7b724,0 1px 10px #b7b7b71f}.header[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:48px;min-width:48px;cursor:pointer}.header[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:auto}.header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{flex-grow:1}"]}),e})()},{path:"**",pathMatch:"full",redirectTo:"list"}];let Y=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.Bz.forChild(Q),m.Bz]}),e})(),B=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,x.m,Y]}),e})()}}]);